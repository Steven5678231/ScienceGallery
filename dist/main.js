!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=119)}([function(e,t,n){"use strict";(function(e,r,o,i){n.d(t,"a",(function(){return be})),n.d(t,"b",(function(){return Ee})),n.d(t,"c",(function(){return Zs})),n.d(t,"d",(function(){return sl})),n.d(t,"e",(function(){return Us})),n.d(t,"f",(function(){return Hp})),n.d(t,"g",(function(){return ss})),n.d(t,"h",(function(){return Cn})),n.d(t,"i",(function(){return ju})),n.d(t,"j",(function(){return Wu})),n.d(t,"k",(function(){return ru})),n.d(t,"l",(function(){return ps})),n.d(t,"m",(function(){return Gn})),n.d(t,"n",(function(){return yn})),n.d(t,"o",(function(){return Sc})),n.d(t,"p",(function(){return zp})),n.d(t,"q",(function(){return Ju})),n.d(t,"r",(function(){return Cl})),n.d(t,"s",(function(){return al})),n.d(t,"t",(function(){return hu})),n.d(t,"u",(function(){return vs})),n.d(t,"v",(function(){return Xn})),n.d(t,"w",(function(){return Il})),n.d(t,"x",(function(){return ar})),n.d(t,"y",(function(){return pn})),n.d(t,"z",(function(){return Gu})),n.d(t,"A",(function(){return ws})),n.d(t,"B",(function(){return pl})),n.d(t,"C",(function(){return fl})),n.d(t,"D",(function(){return Ir})),n.d(t,"E",(function(){return lr})),n.d(t,"F",(function(){return yu})),n.d(t,"G",(function(){return ln})),n.d(t,"H",(function(){return dn})),n.d(t,"I",(function(){return hn})),n.d(t,"J",(function(){return fn})),n.d(t,"K",(function(){return mn})),n.d(t,"L",(function(){return Bt})),n.d(t,"M",(function(){return cr})),n.d(t,"N",(function(){return Dl})),n.d(t,"O",(function(){return dr})),n.d(t,"P",(function(){return vn}));
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var c=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags||(this.flags[e]=this.evaluateFlag(e)),this.flags[e]},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return p(n,t[0],t[1]),t.join("=")})),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),r=n[0],o=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,o)}))}},e}();function p(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function d(){return h}var h=null,f=new Map,m=new Map;function g(e,t){var n=x(e,t);return f.get(n)}function v(e){for(var t=f.entries(),n=[];;){var r=t.next(),o=r.done,i=r.value;if(o)break;var a=i[0],s=i[1];a.split("_")[0]===e&&n.push(s)}return n}function y(e){var t=e.kernelName,n=e.backendName,r=x(t,n);if(f.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");f.set(r,e)}function b(e){var t=e.kernelName;m.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),m.set(t,e)}function x(e,t){return t+"_"+e}function w(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function C(e,t,n){return Math.max(e,Math.min(t,n))}function _(e){return e%2==0?e:e+1}function P(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function E(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function S(e,t,n){void 0===n&&(n=""),E(O(e,t),(function(){return n+" Shapes "+e+" and "+t+" must match"}))}function k(e){E(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function T(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||W(e)&&!n)for(var r=0;r<e.length;++r)T(e[r],t,n);else t.push(e);return t}function R(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function O(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function I(e){return e%1==0}function V(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function A(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function D(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function N(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise((function(r,o){var i=0,a=function(){if(e())r();else{i++;var s=t(i);null!=n&&i>=n?o():setTimeout(a,s)}};a()}))}function L(e,t){for(var n=1,r=-1,o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(-1===e[o]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+o);r=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found "+e[o]+" at dim "+o);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var i=e.slice();return i[r]=t/n,i}function F(e,t){var n=t.length;return E((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e})),E(e.every((function(e){return I(e)})),(function(){return"All values in axis param must be integers but got axis "+e})),e.map((function(e){return e<0?n+e:e}))}function M(e,t){for(var n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||o?null:F(t,e).sort(),a=0,s=0;s<e.length;++s){if(null!=i){if(i[a]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==i[a]||i[a]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),i[a]<=s&&a++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function q(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function j(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function B(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function z(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function U(e,t){return!("complex64"===t||"float32"===t&&"complex64"!==e||"int32"===t&&"float32"!==e&&"complex64"!==e||"bool"===t&&"bool"===e)}function W(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function H(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function Q(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function G(e){return"string"==typeof e||e instanceof String}function $(e){return"boolean"==typeof e}function K(e){return"number"==typeof e}function J(e){return Array.isArray(e)?J(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":K(e)?"float32":G(e)?"string":$(e)?"bool":"float32"}function X(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Y(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function Z(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function ee(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=T(e)),n&&B(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),o=0;o<r.length;++o)0!==Math.round(e[o])&&(r[o]=1);return r}throw new Error("Unknown data type "+t)}function te(e,t){if(0===e.length)return t[0];var n=e.reduce((function(e,t){return e*t}));if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var o=new Array;if(1===n.length)for(var i=n[0],a=0;a<i;a++)o[a]=r[t+a];else{i=n[0];var s=n.slice(1),u=s.reduce((function(e,t){return e*t}));for(a=0;a<i;a++)o[a]=e(t+a*u,s,r)}return o}(0,e,t)}function ne(e,t){for(var n=re(e,t),r=0;r<n.length;r++)n[r]=1;return n}function re(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function oe(){return d().platform.now()}function ie(e){e.forEach((function(t){E(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."}))}))}function ae(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",d().platform.encode(e,t)}function se(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",d().platform.decode(e,t)}function ue(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],o=0;o<e.length-1;++o)r+=n[o]*e[o];return r}function le(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}Object.freeze({shuffle:w,clamp:C,nearestLargerEven:_,sum:P,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var o=Number(e[r])-Number(t[r]);n+=o*o}return n},assert:E,assertShapesMatch:S,assertNonNull:k,flatten:T,sizeFromShape:R,isScalarShape:function(e){return 0===e.length},arraysEqual:O,isInt:I,tanh:V,sizeToSquarishShape:A,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return w(t),t},rightPad:D,repeatedTry:N,inferFromImplicitShape:L,parseAxisParam:F,squeezeShape:M,getTypedArrayFromDType:q,getArrayFromDType:j,checkConversionForErrors:B,isValidDtype:z,hasEncodingLoss:U,isTypedArray:W,bytesPerElement:H,bytesFromStringArray:Q,isString:G,isBoolean:$,isNumber:K,inferDtype:J,isFunction:X,nearestDivisor:Y,computeStrides:Z,toTypedArray:ee,toNestedArray:te,makeOnesTypedArray:ne,makeZerosTypedArray:re,now:oe,assertNonNegativeIntegerDimensions:ie,fetch:function(e,t){return d().platform.fetch(e,t)},encodeString:ae,decodeString:se,locToIndex:ue,indexToLoc:le});var ce=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new pe)}return e.prototype.profileKernel=function(e,t,n){var r,o=this,i=this.backendTimer.time((function(){r=n()}));return r.forEach((function(n){n.data().then((function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var o=e[r];if(isNaN(o)||!isFinite(o))return console.warn("Found "+o+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),i.then((function(i){var a="";null!=i.getExtraProfileInfo&&(a=i.getExtraProfileInfo()),o.logger.logKernelProfile(e,n,r,i.kernelMs,t,a)}))}))})),r},e}(),pe=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,o,i){var a="number"==typeof r?D(r+"ms",9):r.error,s=D(e,25),u=t.rank,l=t.size,c=D(t.shape.toString(),14),p="";for(var d in o){var h=o[d].shape||t.shape,f=h.length;p+=d+": "+f+"D "+(f>0?h:"")+" "}console.log("%c"+s+"\t%c"+a+"\t%c"+u+"D "+c+"\t%c"+l+"\t%c"+p+"\t%c"+i,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}();function de(e,t,n){return D(Array.isArray(e)?parseFloat(e[0].toFixed(7))+" + "+parseFloat(e[1].toFixed(7))+"j":G(e)?"'"+e+"'":"bool"===n?he(e):parseFloat(e.toFixed(7)).toString(),t)}function he(e){return 0===e?"false":"true"}function fe(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var me=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=R(e),null!=n){var o=n.length;E(o===this.size,(function(){return"Length of values '"+o+"' does not match the size inferred by the shape '"+r.size+"'."}))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||j(t,this.size),this.strides=Z(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),E(n.length===this.rank,(function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"}));var o=this.locToIndex(n);this.values[o]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,o=e;r<o.length;r++){var i=o[r];if(i<0||i>=this.shape[n]){var a="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(a)}n++}for(var s=e[e.length-1],u=0;u<e.length-1;++u)s+=this.strides[u]*e[u];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return ge().makeTensor(this.values,this.shape,this.dtype)},e}(),ge=null,ve=null,ye=null,be=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=R(e),this.strides=Z(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),E(1===this.size,(function(){return"The array must have only 1 element."})),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,o){return this.throwIfDisposed(),this.reshape([e,t,n,r,o])},e.prototype.asType=function(e){return this.throwIfDisposed(),ve.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,ve.buffer(this.shape,this.dtype,e)]}}))}))},e.prototype.bufferSync=function(){return ve.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,te(this.shape,e)]}}))}))},e.prototype.arraySync=function(){return te(this.shape,this.dataSync())},e.prototype.data=function(){return u(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=ge().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map((function(e){return se(e)}))]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}}))}))},e.prototype.dataSync=function(){this.throwIfDisposed();var e=ge().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return se(e)}))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,ge().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}}))}))},e.prototype.dispose=function(){this.isDisposed||(ge().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),ve.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),ve.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),ve.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),ve.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),ve.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),ve.clone(this)},e.prototype.oneHot=function(e,t,n){return this.throwIfDisposed(),ve.oneHot(this,e,t,n)},e.prototype.toString=function(e){return void 0===e&&(e=!1),function(e,t,n,r){var o=Z(t),i=function(e,t,n,r){var o=R(t),i=r[r.length-1],a=new Array(i).fill(0),s=t.length,u="complex64"===n?fe(e):e;if(s>1)for(var l=0;l<o/i;l++)for(var c=l*i,p=0;p<i;p++)a[p]=Math.max(a[p],de(u[c+p],0,n).length);return a}(e,t,n,o),a=t.length,s=function e(t,n,r,o,i,a){void 0===a&&(a=!0);var s="complex64"===r?2:1,u=n[0],l=n.length;if(0===l)return"complex64"===r?[de(fe(t)[0],0,r)]:"bool"===r?[he(t[0])]:[t[0].toString()];if(1===l){if(u>20){var c=3*s,p=Array.from(t.slice(0,c)),d=Array.from(t.slice((u-3)*s,u*s));return"complex64"===r&&(p=fe(p),d=fe(d)),["["+p.map((function(e,t){return de(e,i[t],r)})).join(", ")+", ..., "+d.map((function(e,t){return de(e,i[u-3+t],r)})).join(", ")+"]"]}return["["+("complex64"===r?fe(t):Array.from(t)).map((function(e,t){return de(e,i[t],r)})).join(", ")+"]"]}var h=n.slice(1),f=o.slice(1),m=o[0]*s,g=[];if(u>20){for(var v=0;v<3;v++){var y=(b=v*m)+m;g.push.apply(g,e(t.slice(b,y),h,r,f,i,!1))}for(g.push("..."),v=u-3;v<u;v++)y=(b=v*m)+m,g.push.apply(g,e(t.slice(b,y),h,r,f,i,v===u-1))}else for(v=0;v<u;v++){var b;y=(b=v*m)+m,g.push.apply(g,e(t.slice(b,y),h,r,f,i,v===u-1))}var x=2===l?",":"";for(g[0]="["+g[0]+x,v=1;v<g.length-1;v++)g[v]=" "+g[v]+x;var w=",\n";for(v=2;v<l;v++)w+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(a?"":w),g}(e,t,n,o,i),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+a),u.push("  shape: ["+t+"]"),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}(this.dataSync(),this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),ve.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),ve.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),ve.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),ve.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),ve.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),ve.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),ve.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),ve.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),ve.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),ve.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),ve.unstack(this,e)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),ve.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,o){return void 0===n&&(n=.001),ye("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,o,r,n)},e.prototype.batchNorm=function(e,t,n,r,o){return void 0===o&&(o=.001),this.throwIfDisposed(),ve.batchNorm(this,e,t,n,r,o)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ve.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ve.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ve.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ve.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ve.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ve.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ve.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ve.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),ve.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),ve.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),ve.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),ve.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),ve.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),ve.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),ve.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),ve.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),ve.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),ve.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),ve.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),ve.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),ve.div(this,e)},e.prototype.divNoNan=function(e){return this.throwIfDisposed(),ve.divNoNan(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),ve.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),ve.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),ve.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),ve.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),ve.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),ve.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),ve.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),ve.modStrict(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),ve.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),ve.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),ve.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),ve.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),ve.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),ve.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),ve.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),ve.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),ve.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),ve.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),ve.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),ve.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),ve.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),ve.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),ve.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),ve.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),ve.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),ve.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),ve.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),ve.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),ve.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),ve.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),ve.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),ve.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),ve.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),ve.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),ve.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),ve.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),ve.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),ve.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),ve.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),ve.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),ve.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),ve.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),ve.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),ve.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),ve.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),ve.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),ve.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),ve.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),ve.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),ve.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),ve.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),ve.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),ve.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),ve.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),ve.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),ve.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),ve.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),ve.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),ve.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),ve.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),ve.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),ve.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),ve.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),ve.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),ve.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),ve.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),ve.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),ve.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),ve.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),ve.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),ve.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),ve.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),ve.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),ve.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,o,i){return void 0===r&&(r="NWC"),void 0===o&&(o=1),this.throwIfDisposed(),ve.conv1d(this,e,t,n,r,o,i)},e.prototype.conv2d=function(e,t,n,r,o,i){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),ve.conv2d(this,e,t,n,r,o,i)},e.prototype.conv2dTranspose=function(e,t,n,r,o){return this.throwIfDisposed(),ve.conv2dTranspose(this,e,t,n,r,o)},e.prototype.depthwiseConv2D=function(e,t,n,r,o,i){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),ve.depthwiseConv2d(this,e,t,n,r,o,i)},e.prototype.separableConv2d=function(e,t,n,r,o,i){return void 0===o&&(o=[1,1]),void 0===i&&(i="NHWC"),this.throwIfDisposed(),ve.separableConv2d(this,e,t,n,r,o,i)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),ve.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),ve.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),ve.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,o){return this.throwIfDisposed(),ve.pool(this,e,t,n,r,o)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),ge().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),ve.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),ve.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),ve.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),ve.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,o,i,a,s){return void 0===r&&(r=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),this.throwIfDisposed(),ve.stridedSlice(this,e,t,n,r,o,i,a,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),ve.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),ve.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),ve.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),ve.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),ve.spectral.irfft(this)},e}();Object.defineProperty(be,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var xe,we,Ce,_e,Pe,Ee=function(e){function t(t,n,r,o){var i=e.call(this,t.shape,t.dtype,t.dataId,o)||this;return i.trainable=n,i.name=r,i}return s(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!O(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");ge().disposeTensor(this),this.dataId=e.dataId,ge().incRef(this,null)},t.prototype.dispose=function(){ge().disposeVariable(this),this.isDisposedInternal=!0},t}(be);Object.defineProperty(Ee,Symbol.hasInstance,{value:function(e){return e instanceof be&&null!=e.assign&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(xe||(xe={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(we||(we={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Ce||(Ce={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(_e||(_e={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Pe||(Pe={}));var Se={float32:_e,int32:we,bool:Ce,complex64:Pe};function ke(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return Se[e][t]}function Te(e){return ke(e,"int32")}function Re(e,t){if(e.dtype===t.dtype)return[e,t];var n=ke(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Oe(e,t){E(e.dtype===t.dtype,(function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"}))}function Ie(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof be)n.push(t);else if(o=t,Array.isArray(o)||"object"==typeof o){var o,i=t;for(var a in i){var s=i[a];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}Object.freeze({makeTypesMatch:Re,assertTypesMatch:Oe,isTensorInList:function(e,t){return t.some((function(t){return t.id===e.id}))},getTensorsInContainer:Ie});var Ve,Ae=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),De=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Ae}return e.prototype.ready=function(){return u(this,void 0,void 0,(function(){var e,t,n;return l(this,(function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then((function(){}))];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return u(this,void 0,void 0,(function(){var t,n,r;return l(this,(function(o){switch(o.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=o.sent(),[3,3];case 2:r=n,o.label=3;case 3:if(!r)return[2,!1];o.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new ce(this.backendInstance),[2,!0]}}))}))},e.prototype.setupRegisteredKernels=function(){var e=this;v(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))},e.prototype.disposeRegisteredKernels=function(e){var t=this;v(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var o=++this.pendingBackendInitId,i=r.then((function(n){return!(o<t.pendingBackendInitId||(t.registry[e]=n,t.pendingBackendInit=null,0))})).catch((function(n){return!(o<t.pendingBackendInitId||(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),1))}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),o=r.success,i=r.asyncInit;if(i||o)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,o=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,o,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,o=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}return this.scopedRun((function(){return r.startScope(o)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){return e.toFloat()}}}),[]),t},e.prototype.runKernel=function(e,t,n,r,o){return this.runKernelFunc(null,t,null,e,n,r,o)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),o=0;n.forEach((function(e){o+="complex64"===e.dtype?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-t-o-i;if(a>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+a+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,o,i,a){var s,u=this;void 0===i&&(i=[]),void 0===a&&(a=[]);var l=[],c=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var p,d=function(e){c&&(l=e.map((function(e){return u.keep(u.clone(e))})))},h=this.state.numBytes,f=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var m,v=g(r,this.backendName);return p=null!=v?function(){var e=u.backend.numDataIds();m=v.kernelFunc({inputs:t,attrs:o,backend:u.backend});var n=Array.isArray(m)?m:[m];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,e,n);var s=n.map((function(e){var t=e.dataId,n=e.shape,r=e.dtype;return u.makeTensorFromDataId(t,n,r)})),l=s.filter((function(e,t){return a[t]}));return d((i||[]).slice().concat(l)),s}:function(){var t=u.backend.numDataIds();m=u.tidy((function(){return e(u.backend,d)}));var n=Array.isArray(m)?m:[m];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,t,n),n},this.scopedRun((function(){return u.state.kernelDepth++}),(function(){return u.state.kernelDepth--}),(function(){s=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(r,t,(function(){return p()})):p()})),c&&this.addTapeNode(r,t,s,n,l),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-h,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-f,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map((function(e){return t[e].shape})),outputShapes:s.map((function(e){return e.shape}))}),Array.isArray(m)?s:s[0]},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var o=e;"string"===n&&G(e[0])&&(o=e.map((function(e){return ae(e)})));var i=r.write(o,t,n),a=new be(t,n,i,this.nextTensorId());if(this.incRef(a,r),"string"===n){var s=this.state.tensorInfo.get(i),u=Q(o);this.state.numBytes+=u-s.bytes,s.bytes=u}return a},e.prototype.makeTensorFromDataId=function(e,t,n,r){var o=new be(t,n=n||"float32",e,this.nextTensorId());return this.incRef(o,r),o},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var o=new Ee(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*H(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof Ee||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return u(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]}))}))},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,o){var i=this,a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:o},s=function(e){return m.get(e)}(e);null!=s&&(r=s.gradFunc),null!=r&&(a.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],o=re(r.size,r.dtype);return i.makeTensor(o,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],o)}),this.state.activeTape.push(a)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=Ie(e),r=new Set(n.map((function(e){return e.id}))),o=0;o<this.state.activeScope.track.length;o++){var i=this.state.activeScope.track[o];i.kept||r.has(i.id)||i.dispose()}var a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==a.id||t.track(e)}))},e.prototype.gradients=function(e,t,n,r){var o=this;if(void 0===r&&(r=!1),E(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var i=this.scopedRun((function(){return o.startTape()}),(function(){return o.endTape()}),(function(){return o.tidy("forward",e)}));E(i instanceof be,(function(){return"The result y returned by f() must be a tensor."}));var a=function(e,t,n){for(var r={},o={},i=0;i<t.length;i++)r[t[i].id]=!0;for(i=0;i<e.length;i++){var a=(f=e[i]).inputs;for(var s in a){for(var u=a[s],l=!1,c=0;c<t.length;c++)if(r[u.id]){f.outputs.forEach((function(e){return r[e.id]=!0})),l=!0,o[f.id]=!0;break}if(l)break}}var p={};p[n.id]=!0;var d={};for(i=e.length-1;i>=0;i--)for(a=(f=e[i]).inputs,c=0;c<f.outputs.length;c++)if(p[f.outputs[c].id]){for(var s in a)p[a[s].id]=!0,d[f.id]=!0;break}var h=[];for(i=0;i<e.length;i++){var f;if(o[(f=e[i]).id]&&d[f.id]){var m={};for(var s in f.inputs){var g=f.inputs[s];r[g.id]&&(m[s]=g)}var v=Object.assign({},f);v.inputs=m,v.outputs=f.outputs,h.push(v)}}return h}(this.state.activeTape,t,i);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e,r,s={};s[i.id]=null==n?(r=ne(R(e=i.shape),"float32"),Ne.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var o=t[r],i=[];if(o.outputs.forEach((function(t){var n=e[t.id];null!=n?i.push(n):i.push(null)})),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+o.kernelName+".");var a=o.gradient(i),s=function(t){if(!(t in a))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(a)+".");var r=n((function(){return a[t]()}));if("float32"!==r.dtype)throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var i=o.inputs[t];if(!O(r.shape,i.shape))throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+i.shape+"'");if(null==e[i.id])e[i.id]=r;else{var s=e[i.id];e[i.id]=s.add(r),s.dispose()}};for(var u in o.inputs)s(u)},o=t.length-1;o>=0;o--)r(o)}(s,a,(function(e){return o.tidy(e)}));var u=t.map((function(e){return s[e.id]}));return 0===o.state.gradientDepth&&(o.state.activeTape.forEach((function(e){for(var t=0,n=e.saved;t<n.length;t++)n[t].dispose()})),o.state.activeTape=null),{value:i,grads:u}}))},e.prototype.customGrad=function(e){var t=this;return E(X(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];E(r.every((function(e){return e instanceof be})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var i={};return r.forEach((function(e,t){i[t]=e})),t.runKernelFunc((function(t,o){return E((n=e.apply(void 0,r.concat([o]))).value instanceof be,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),E(X(n.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),n.value}),i,(function(e,t){var o=n.gradFunc(e,t),i=Array.isArray(o)?o:[o];E(i.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),E(i.every((function(e){return e instanceof be})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var a={};return i.forEach((function(e,t){a[t]=function(){return e}})),a}))}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.time=function(e){return u(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return t=oe(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=oe()-t,[2,n]}}))}))},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Ae,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),Ne=function(){var t=function(){if(null==Ve){var t=void 0;if("undefined"!=typeof window)t=window;else if(void 0!==e)t=e;else if(void 0!==r)t=r;else{if("undefined"==typeof self)throw new Error("Could not find a global object");t=self}Ve=t}return Ve}();if(null==t._tfengine){var n=new c(t);t._tfengine=new De(n)}return function(e){h=e}(t._tfengine.ENV),ge=function(){return t._tfengine},t._tfengine}();function Le(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var Fe=d();Fe.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Fe.registerFlag("IS_BROWSER",(function(){return Le()})),Fe.registerFlag("IS_NODE",(function(){return void 0!==r&&void 0!==r.versions&&void 0!==r.versions.node})),Fe.registerFlag("IS_CHROME",(function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),Fe.registerFlag("PROD",(function(){return!1})),Fe.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return Fe.getBool("DEBUG")})),Fe.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),Fe.registerFlag("IS_TEST",(function(){return!1}));var Me,qe,je,Be={},ze={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Ue(e,t){Be[e]=t}function We(e){e in Be||(Be[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete Be[e]}),!1),1===e?t.getContext("webgl",ze)||t.getContext("experimental-webgl",ze):t.getContext("webgl2",ze)}(e));var t=Be[e];return t.isContextLost()?(delete Be[e],We(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),Be[e])}function He(e,t){return[t,e]}function Qe(e){var t=R(e);return A(Math.ceil(t/4))}function Ge(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function $e(e,t){var n,r,o,i,a,s,u,l,c,p=e;return 2===d().getNumber("WEBGL_VERSION")?(n=p.R32F,r=p.R16F,o=p.RGBA16F,i=p.RGBA32F,a=p.RED,s=4,u=1,l=p.HALF_FLOAT,c=p.FLOAT):(n=e.RGBA,r=e.RGBA,o=e.RGBA,i=p.RGBA,a=e.RGBA,s=4,u=4,l=null!=t?t.HALF_FLOAT_OES:null,c=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:i,textureFormatFloat:a,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:l,textureTypeFloat:c}}function Ke(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+Xe(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Me||(Me={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(qe||(qe={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(je||(je={}));function Je(e){return!!(d().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function Xe(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function Ye(e,t,n){return wt(e,t,(function(){return e.getExtension(n)}),'Extension "'+n+'" not supported on this browser.')}function Ze(e,t,n){var r=wt(e,t,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(Ke(e,t,(function(){return e.shaderSource(r,n)})),Ke(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function et(e,t,n){var r=wt(e,t,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(Ke(e,t,(function(){return e.shaderSource(r,n)})),Ke(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=rt.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],o=e.split("\n"),i=o.length.toString().length+2,a=o.map((function(e,t){return D((t+1).toString(),i)+e})),s=0,u=0;u<a.length;u++)s=Math.max(a[u].length,s);var l=a.slice(0,r-1),c=a.slice(r-1,r),p=a.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+D(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(p.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var tt,nt,rt=/ERROR: [0-9]+:([0-9]+):/g;function ot(e,t){return wt(e,t,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function it(e,t,n){if(Ke(e,t,(function(){return e.linkProgram(n)})),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function at(e,t,n){if(Ke(e,t,(function(){return e.validateProgram(n)})),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function st(e,t,n){var r=wt(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Ke(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),Ke(e,t,(function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function ut(e,t,n){var r=wt(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Ke(e,t,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)})),Ke(e,t,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function lt(e,t){return wt(e,t,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function ct(e,t){var n=d().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function pt(e,t){return wt(e,t,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function dt(e,t,n,r,o,i,a,s){var u=e.getAttribLocation(n,r);return-1!==u&&(Ke(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,o)})),Ke(e,t,(function(){return e.vertexAttribPointer(u,i,e.FLOAT,!1,a,s)})),Ke(e,t,(function(){return e.enableVertexAttribArray(u)})),!0)}function ht(e,t,n,r){Ct(e,r),Ke(e,t,(function(){return e.activeTexture(e.TEXTURE0+r)})),Ke(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)}))}function ft(e,t,n,r){return wt(e,t,(function(){return e.getUniformLocation(n,r)}),'uniform "'+r+'" not present in program.')}function mt(e,t,n){return e.getUniformLocation(t,n)}function gt(e,t,n,r,o,i){Ke(e,t,(function(){return ht(e,t,r,i)})),Ke(e,t,(function(){return e.uniform1i(o,i)}))}function vt(e,t,n,r){Ke(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)})),Ke(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}))}function yt(e,t,n){Ke(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),Ke(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function bt(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+xt(e,t))}function xt(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function wt(e,t,n,r){var o=Ke(e,t,(function(){return n()}));if(null==o)throw new Error(r);return o}function Ct(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function _t(e,t){return void 0===t&&(t=2),R(e.slice(0,e.length-t))}function Pt(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Et(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[_t(e)].concat(Pt(e))),t}function St(e,t){var n;void 0===t&&(t=!1);var r=d().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map((function(t,n){return n>=e.length-2?_(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var o=M(e);e=o.newShape}var i=R(e);if(e.length<=1&&i<=r)return[1,i];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var a=_t(e),s=2,u=2;return e.length&&(s=(n=Pt(e))[0],u=n[1]),A(i=a*(s/2)*(u/2)).map((function(e){return 2*e}))}return A(i)}function kt(e){return e%2==0}function Tt(e,t){if(O(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(kt(n)&&kt(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&kt(e[0])&&kt(t[0])}function Rt(e){if(null==tt){var t=We(e);tt=t.getParameter(t.MAX_TEXTURE_SIZE)}return tt}function Ot(e){if(null==nt){var t=We(e);nt=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,nt)}function It(e){if(0===e)return 0;var t=We(e);return Vt(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Vt(t,"EXT_disjoint_timer_query")?1:0}function Vt(e,t){return null!=e.getExtension(t)}function At(e){try{if(null!=We(e))return!0}catch(e){return!1}return!1}function Dt(e){if(0===e)return!1;var t=We(e);if(1===e){if(!Vt(t,"OES_texture_float"))return!1}else if(!Vt(t,"EXT_color_buffer_float"))return!1;return Lt(t)}function Nt(e){if(0===e)return!1;var t=We(e);if(1!==e){if(Vt(t,"EXT_color_buffer_float"))return Lt(t);if(Vt(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=$e(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),i}(t,n)}return!1}return!!Vt(t,"OES_texture_float")&&!!Vt(t,"WEBGL_color_buffer_float")&&Lt(t)}function Lt(e){var t=$e(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function Ft(e){return 2===e&&null!=We(e).fenceSync}var Mt=Object.freeze({callAndCheck:Ke,canBeRepresented:Je,getWebGLErrorMessage:Xe,getExtensionOrThrow:Ye,createVertexShader:Ze,createFragmentShader:et,createProgram:ot,linkProgram:it,validateProgram:at,createStaticVertexBuffer:st,createStaticIndexBuffer:ut,getNumChannels:function(){return 2===d().getNumber("WEBGL_VERSION")?1:4},createTexture:lt,validateTextureSize:ct,createFramebuffer:pt,bindVertexBufferToProgramAttribute:dt,bindTextureUnit:ht,unbindTextureUnit:function(e,t,n){Ct(e,n),Ke(e,t,(function(){return e.activeTexture(e.TEXTURE0+n)})),Ke(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))},getProgramUniformLocationOrThrow:ft,getProgramUniformLocation:mt,bindTextureToProgramUniformSampler:gt,bindCanvasToFramebuffer:function(e,t){Ke(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),Ke(e,t,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),Ke(e,t,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))},bindColorTextureToFramebuffer:vt,unbindColorTextureFromFramebuffer:yt,validateFramebuffer:bt,getFramebufferErrorMessage:xt,getBatchDim:_t,getRowsCols:Pt,getShapeAs3D:Et,getTextureShapeFromLogicalShape:St,isReshapeFree:Tt,getWebGLMaxTextureSize:Rt,resetMaxTextureSize:function(){tt=null},resetMaxTexturesInShader:function(){nt=null},getMaxTexturesInShader:Ot,getWebGLDisjointQueryTimerVersion:It,hasExtension:Vt,isWebGLVersionEnabled:At,isCapableOfRenderingToFloatTexture:Dt,isDownloadFloatTextureEnabled:Nt,isWebGLFenceEnabled:Ft}),qt=d();function jt(e){d().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Bt(e,t){return Ne.tidy(e,t)}function zt(e){Ie(e).forEach((function(e){return e.dispose()}))}function Ut(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d().getBool("IS_TEST")||console.warn.apply(console,e)}function Wt(e,t){var n=e;if(W(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||W(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&d().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||W(t)){E(n.length>0,(function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"})),E(t.length===n[0],(function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"}));for(var o=n.slice(1),i=0;i<t.length;++i)e(t[i],o,r.concat(i))}else E(0===n.length,(function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"}))}(e,r,[]),r}function Ht(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function Qt(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof be)return Ht(r,e.dtype,t,n),e;var o=J(e);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),Ht(r,o,t,n),null==e||!W(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var i=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+i+"'")}var a=Wt(e,o);W(e)||Array.isArray(e)||(e=[e]);var s="string"!==o?ee(e,o,d().getBool("DEBUG")):T(e,[],!0);return Ne.makeTensor(s,a,o)}function Gt(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map((function(e,r){return Qt(e,t+"["+r+"]",n)}),r)}function $t(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function Kt(e,t,n){for(var r=e.length+t.length,o=[],i=0,a=0,s=0;s<r;s++)-1===n.indexOf(s)?o.push(e[i++]):o.push(t[a++]);return o}function Jt(e,t){for(var n=[],r=e.length,o=0;o<r;o++)-1===t.indexOf(o)&&n.push(e[o]);return[n,t.map((function(t){return e[t]}))]}function Xt(e,t){return Kt(e,t.map((function(e){return 1})),t)}function Yt(e,t,n){E($t(t,n),(function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."}))}function Zt(e,t){if($t(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function en(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function tn(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function nn(e,t){var n=e[0].length;e.forEach((function(e,t){E(e.length===n,(function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"}))})),E(t>=0&&t<n,(function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."}));var r=e[0];e.forEach((function(e,o){for(var i=0;i<n;i++)E(i===t||e[i]===r[i],(function(){return"Error in concat"+n+"D: Shape of tensors["+o+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+o+"."}))}))}function rn(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function on(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ne.startScope(n);try{var o=r.apply(void 0,e);return o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Ne.endScope(o),o}catch(e){throw Ne.endScope(null),e}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}qt.registerFlag("HAS_WEBGL",(function(){return qt.getNumber("WEBGL_VERSION")>0})),qt.registerFlag("WEBGL_VERSION",(function(){return At(2)?2:At(1)?1:0})),qt.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===qt.get("WEBGL_VERSION")})),qt.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),qt.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),qt.registerFlag("WEBGL_PACK",(function(){return qt.getBool("HAS_WEBGL")})),qt.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return qt.getBool("WEBGL_PACK")})),qt.registerFlag("WEBGL_PACK_CLIP",(function(){return qt.getBool("WEBGL_PACK")})),qt.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),qt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return qt.getBool("WEBGL_PACK")})),qt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return qt.getBool("WEBGL_PACK")})),qt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return qt.getBool("WEBGL_PACK")})),qt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return qt.getBool("WEBGL_PACK")})),qt.registerFlag("WEBGL_PACK_REDUCE",(function(){return qt.getBool("WEBGL_PACK")})),qt.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return qt.getBool("WEBGL_PACK")})),qt.registerFlag("WEBGL_CONV_IM2COL",(function(){return qt.getBool("WEBGL_PACK")})),qt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return Rt(qt.getNumber("WEBGL_VERSION"))})),qt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return Ot(qt.getNumber("WEBGL_VERSION"))})),qt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=qt.getNumber("WEBGL_VERSION");return 0===e?0:It(e)})),qt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return qt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e})),qt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return Dt(qt.getNumber("WEBGL_VERSION"))})),qt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!qt.getBool("WEBGL_FORCE_F16_TEXTURES")&&qt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),qt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return Nt(qt.getNumber("WEBGL_VERSION"))})),qt.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return Ft(qt.getNumber("WEBGL_VERSION"))})),qt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return qt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),ye=jt;var an=on({complex_:function(e,t){var n=Qt(e,"real","complex"),r=Qt(t,"imag","complex");return S(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),Ne.runKernelFunc((function(e){return e.complex(n,r)}),{$real:n,$imag:r})}}),sn=on({real_:function(e){var t=Qt(e,"input","real");return Ne.runKernelFunc((function(e){return e.real(t)}),{$input:t})}}),un=on({imag_:function(e){var t=Qt(e,"input","imag");return Ne.runKernelFunc((function(e){return e.imag(t)}),{$input:t})}});function ln(e,t,n){return cn(e,t,Wt(e,n),n)}function cn(e,t,n,r){if(null==r&&(r=J(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!W(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){ie(t);var o=R(t),i=R(n);E(o===i,(function(){return"Based on the provided shape, ["+t+"], the tensor should have "+o+" values but has "+i}));for(var a=0;a<n.length;++a){var s=n[a],u=a!==n.length-1||s!==R(t.slice(a));E(n[a]===t[a]||!u,(function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "}))}}return W(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?ee(e,r,d().getBool("DEBUG")):T(e,[],!0),Ne.makeTensor(e,t,r)}function pn(e,t){if((W(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&W(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return cn(e,[],[],t)}function dn(e,t){k(e);var n=Wt(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return cn(e,null,n,t)}function hn(e,t,n){if(k(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=Wt(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return cn(e,t,r,n)}function fn(e,t,n){if(k(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=Wt(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return cn(e,t,r,n)}function mn(e,t,n){if(k(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=Wt(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return cn(e,t,r,n)}function gn(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=gn(e,"float32"),r=vn(e,"float32");return an(n,r)}var o=ne(R(e),t);return Ne.makeTensor(o,e,t)}function vn(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=vn(e,"float32"),r=vn(e,"float32");return an(n,r)}var o=re(R(e),t);return Ne.makeTensor(o,e,t)}function yn(e,t,n){return Ne.runKernelFunc((function(r){return r.fill(e,t,n)}),{})}function bn(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return vn([0],r);var o=re(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+n;return dn(o,r)}var xn=on({onesLike_:function(e){var t=Qt(e,"x","onesLike");if("complex64"===t.dtype){var n=xn(sn(t)),r=wn(un(t));return an(n,r)}return Ne.runKernelFunc((function(e){return e.onesLike(t)}),{$x:t},(function(e,t){return{$x:function(){return wn(e)}}}))}}),wn=on({zerosLike_:function(e){var t=Qt(e,"x","zerosLike");return Ne.runKernelFunc((function(e){return e.zerosLike(t)}),{$x:t},(function(e,t){return{$x:function(){return wn(e)}}}))}}),Cn=on({concat_:function(e,t){void 0===t&&(t=0),E(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=Gt(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")})),t=F(t,n[0].shape)[0];var r=rn(n.map((function(e){return e.shape})),t);if(0===R(r))return ln([],r);if(1===(n=n.filter((function(e){return e.size>0}))).length)return n[0];var o=n.map((function(e){return e.shape}));nn(o,t);var i=n,a={axis:t};return Ne.runKernelFunc((function(e){return e.concat(n,t)}),i,(function(e){var n=o.map((function(e){return e[t]}));return kn(e,n,t).map((function(e){return function(){return e}}))}),"Concat",a)}}),_n=on({concat1d_:function(e){return Cn(e,0)}}),Pn=on({concat2d_:function(e,t){return Cn(e,t)}}),En=on({concat3d_:function(e,t){return Cn(e,t)}}),Sn=on({concat4d_:function(e,t){return Cn(e,t)}}),kn=on({split_:function(e,t,n){void 0===n&&(n=0);var r,o=Qt(e,"x","split");return n=F(n,o.shape)[0],"number"==typeof t?(E(o.shape[n]%t==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(o.shape[n]/t)):(E(o.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t),Ne.runKernelFunc((function(e){return e.split(o,r,n)}),{$x:o},(function(e){return{$x:function(){return Cn(e,n)}}}))}});function Tn(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var Rn=Tn((function(e){!function(e,t,n){function r(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new r(e),i=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.alea=i}(0,e)})),On=Tn((function(e){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xor128=i}(0,e)})),In=Tn((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xorwow=i}(0,e)})),Vn=Tn((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.x&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xorshift7=i}(0,e)})),An=Tn((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),o=0,i=-32;i<u;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.X&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xor4096=i}(0,e)})),Dn=Tn((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.tychei=i}(0,e)})),Nn=Tn((function(e){!function(t,r){var o,i=this,a=256,s="random",u=r.pow(a,6),l=r.pow(2,52),c=2*l,p=255;function d(e,n,p){var d=[],v=m(function e(t,n){var r,o=[],i=typeof t;if(n&&"object"==i)for(r in t)try{o.push(e(t[r],n-1))}catch(e){}return o.length?o:"string"==i?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,g(t)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(a):(e=new Uint8Array(a),(i.crypto||i.msCrypto).getRandomValues(e)),g(e)}catch(e){var n=i.navigator,r=n&&n.plugins;return[+new Date,i,r,i.screen,g(t)]}}():e,3),d),y=new h(d),b=function(){for(var e=y.g(6),t=u,n=0;e<l;)e=(e+n)*a,t*=a,n=y.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|y.g(4)},b.quick=function(){return y.g(4)/4294967296},b.double=b,m(g(y.S),t),(n.pass||p||function(e,t,n,o){return o&&(o.S&&f(o,y),e.state=function(){return f(y,{})}),n?(r[s]=e,t):e})(b,v,"global"in n?n.global:this==r,n.state)}function h(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);o<a;)s[o]=o++;for(o=0;o<a;o++)s[o]=s[i=p&i+e[o%n]+(t=s[o])],s[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,s=r.S;e--;)t=s[o=p&o+1],n=n*a+s[p&(s[o]=s[i=p&i+t])+(s[i]=t)];return r.i=o,r.j=i,n})(a)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){for(var n,r=e+"",o=0;o<r.length;)t[p&o]=p&(n^=19*t[p&o])+r.charCodeAt(o++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(r.seedrandom=d,m(r.random(),t),e.exports){e.exports=d;try{o=n(89)}catch(e){}}}([],Math)}));Nn.alea=Rn,Nn.xor128=On,Nn.xorwow=In,Nn.xorshift7=Vn,Nn.xor4096=An,Nn.tychei=Dn;var Ln=Nn.alea,Fn=function(){function e(e,t,n,r,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=o||Math.random();this.random=Ln(i.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var o=void 0,i=void 0,a=void 0;do{a=(o=2*this.random()-1)*o+(i=2*this.random()-1)*i}while(a>=1||0===a);var s=Math.sqrt(-2*Math.log(a)/a);t=this.mean+this.stdDev*o*s,n=this.mean+this.stdDev*i*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),Mn=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var o=r||Math.random();this.randu=Ln(o.toString()),this.randn=new Fn(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,o,i;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-i+Math.log(i)),(o=this.randu())<t||Math.log(o)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),qn=function(){function e(e,t,n,r){var o=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==o.dtype||"float32"===o.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=Ln(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function jn(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",ie(e),new me(e,t,n)}var Bn=on({batchToSpaceND_:function(e,t,n){var r=Qt(e,"x","batchToSpaceND"),o=t.reduce((function(e,t){return e*t}));return E(r.rank>=1+t.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length})),E(n.length===t.length,(function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length})),E(r.shape[0]%o==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+o})),Ne.runKernelFunc((function(e){return e.batchToSpaceND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}}))}}),zn=on({broadcastTo_:function(e,t){var n=Qt(e,"broadcastTo","x"),r=n.shape;if(t.some((function(e){return!(e>0)||e%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var o=n.shape.slice();o.length<t.length;)o.unshift(1);n=n.reshape(o)}for(var i=Array.from(t),a=t.length-1;a>=0;a--)if(n.shape[a]===t[a])i[a]=1;else if(1!==n.shape[a])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=i.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));return 0===s.length?n.clone():Ne.runKernelFunc((function(e){return e.tile(n,i)}),{input:n},(function(e){return{input:function(){return e.sum(s,!0)}}}))}}),Un=on({cast_:function(e,t){var n=Qt(e,"x","cast");if(!z(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return Ne.runKernelFunc((function(e){return e.cast(n,t)}),{x:n},(function(e){return{x:function(){return e.clone()}}}),"Cast",r)}}),Wn=on({clone_:function(e){var t=Qt(e,"x","clone",null);return Ne.runKernelFunc((function(){return Ne.makeTensorFromDataId(t.dataId,t.shape,t.dtype)}),{$x:t},(function(e){return{$x:function(){return e.toFloat()}}}))}}),Hn=on({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var o=Qt(e,"x","cumsum"),i=Zt([t|=0],o.rank),a=o;null!=i&&(a=o.transpose(i));var s=tn(1,o.rank)[0],u=Ne.runKernelFunc((function(e){return e.cumsum(a,s,n,r)}),{permutedX:a},(function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}}));return null!=i&&(u=u.transpose(i)),u}}),Qn=on({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=Qt(e,"x","depthToSpace"),o="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];return E(o*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+t+"  for depthToSpace with input shape\n      "+r.shape})),E(i*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+t+" for depthToSpace with input shape\n          "+r.shape})),E(a%(t*t)==0,(function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+a+" for depthToSpace with input shape "+r.shape})),Ne.runKernelFunc((function(e){return e.depthToSpace(r,t,n)}),{$x:r})}}),Gn=on({expandDims_:function(e,t){void 0===t&&(t=0);var n=Qt(e,"x","expandDims",null);E(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n.shape.slice();return t<0&&(E(-(n.rank+1)<=t,(function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"})),t=n.rank+t+1),r.splice(t,0,1),ar(n,r)}}),$n=on({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var o=jn([e,t],r),i=e<=t?e:t,a=0;a<i;++a)o.set(1,a,a);var s=o.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return cr(Gn(s,0),[n[0],1,1]);if(2===n.length)return cr(Gn(Gn(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return cr(Gn(Gn(Gn(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),Kn=on({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var o=Qt(e,"logits","multinomial"),i=o.size,a=o.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+a);n=n||Math.random();var s=1===a?o.as2D(1,-1):o,u=Ne.runKernelFunc((function(e){return e.multinomial(s,r,t,n)}),{logits2D:s});return 1===a?u.as1D():u}}),Jn=on({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var o=Qt(e,"indices","oneHot","int32"),i=o.shape.concat([t]);return o=o.flatten(),Ne.runKernelFunc((function(e){return e.oneHot(o,t,n,r)}),{$indices:o},(function(e){return{$indices:function(){return vn(o.shape,"float32")}}})).reshape(i)}}),Xn=on({pad_:function(e,t,n){void 0===n&&(n=0);var r=Qt(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o={paddings:t,constantValue:n};return Ne.runKernelFunc((function(e){return e.pad(r,t,n)}),{x:r},(function(e){var n=t.map((function(e){return e[0]}));return{x:function(){return e.slice(n,r.shape)}}}),"PadV2",o)}}),Yn=on({pad1d_:function(e,t,n){return void 0===n&&(n=0),E(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),Xn(e,[t],n)}}),Zn=on({pad2d_:function(e,t,n){return void 0===n&&(n=0),E(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Xn(e,t,n)}}),er=on({pad3d_:function(e,t,n){return void 0===n&&(n=0),E(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Xn(e,t,n)}}),tr=on({pad4d_:function(e,t,n){return void 0===n&&(n=0),E(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Xn(e,t,n)}}),nr=on({rand_:function(e,t,n){var r=R(e),o=null;if(null==n||"float32"===n)o=new Float32Array(r);else if("int32"===n)o=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);o=new Uint8Array(r)}for(var i=0;i<r;i++)o[i]=t();return Ne.makeTensor(o,e,n)}}),rr=on({randomNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var i=new Fn(t,n,r,!1,o),a=jn(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),or=on({randomGamma_:function(e,t,n,r,o){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var i=new Mn(t,n,r,o),a=jn(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),ir=on({randomUniform_:function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var i=jn(e,r),a=new qn(t,n,null,o),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),ar=on({reshape_:function(e,t){var n=Qt(e,"x","reshape",null);t=L(t,n.size),E(n.size===R(t),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:t};return Ne.runKernelFunc((function(e){return e.reshape(n,t)}),{x:n},(function(e){return{x:function(){return e.reshape(n.shape)}}}),"Reshape",r)}}),sr=on({spaceToBatchND_:function(e,t,n){var r=Qt(e,"x","spaceToBatchND");return E(r.rank>=1+t.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length})),E(n.length===t.length,(function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length})),E(r.shape.reduce((function(e,r,o){return o>0&&o<=t.length?e&&(r+n[o-1][0]+n[o-1][1])%t[o-1]==0:e}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()})),Ne.runKernelFunc((function(e){return e.spaceToBatchND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}}))}}),ur=on({squeeze_:function(e,t){var n=Qt(e,"x","squeeze");return ar(n,M(n.shape,t).newShape)}}),lr=on({stack_:function(e,t){void 0===t&&(t=0);var n=Gt(e,"tensors","stack");if(E(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),1===n.length)return n[0].expandDims(t);var r=n[0].rank,o=n[0].shape,i=n[0].dtype;E(t<=r,(function(){return"Axis must be <= rank of the tensor"})),n.forEach((function(e){S(o,e.shape,"All tensors passed to stack must have matching shapes")})),n.forEach((function(e){E(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var a=n.map((function(e){return e.expandDims(t)}));return Cn(a,t)}}),cr=on({tile_:function(e,t){var n=Qt(e,"x","tile",null);E(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."}));var r=[n],o={reps:t};return Ne.runKernelFunc((function(e,r){var o=e.tile(n,t);return r([n]),o}),{x:n},(function(e,n){var r=n[0];return{x:function(){var n=wn(r);if(1===r.rank)for(var o=0;o<t[0];++o)n=n.add(e.slice([o*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(o=0;o<t[0];++o)for(var i=0;i<t[1];++i)n=n.add(e.slice([o*r.shape[0],i*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(o=0;o<t[0];++o)for(i=0;i<t[1];++i)for(var a=0;a<t[2];++a)n=n.add(e.slice([o*r.shape[0],i*r.shape[1],a*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(o=0;o<t[0];++o)for(i=0;i<t[1];++i)for(a=0;a<t[2];++a)for(var s=0;s<t[3];++s)n=n.add(e.slice([o*r.shape[0],i*r.shape[1],a*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}}),"Tile",o,r)}}),pr=on({truncatedNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var i=new Fn(t,n,r,!0,o),a=jn(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),dr=on({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=Qt(e,"x","unstack");E(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"})),t<0&&(t+=n.shape.length);var r={axis:t};return Ne.runKernelFunc((function(e){return e.unstack(n,t)}),{x:n},(function(e){return{x:function(){return lr(e,t)}}}),"Unpack",r)}});function hr(e,t,n,r){void 0===r&&(r=!0);var o=[];if(r)(o=o.concat(t.slice(0))).push(e[0]/n),o=o.concat(e.slice(1));else{o=o.concat(e[0]);for(var i=t.length,a=0;a<i;++a)o=o.concat([e[a+1]/t[a],t[a]]);o=o.concat(e.slice(i+1))}return o}function fr(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var o=t+1;o<e;++o)o<=2*t?(r.push(o),r.push(o-(t+1))):r.push(o)}else{var i=[],a=[];for(o=1;o<e;++o)o>=2*t+1||o%2==1?a.push(o):i.push(o);r.push.apply(r,i),r.push(0),r.push.apply(r,a)}return r}function mr(e,t,n,r){void 0===r&&(r=!0);var o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?o.push(t[i-1]*e[i]):o.push(e[i]/t[i-1]):o.push(e[i]);return o}function gr(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function vr(e,t,n){for(var r=e.slice(0,1),o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}function yr(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],o=1,i=0;i<n.length-1;++i)o*=n[i];var a=e.shape,s=n.slice();s.pop();var u=1;for(i=r;i<e.rank;++i)u*=a[i],s.push(a[i]);var l=Z(e.shape).map((function(e){return e/u})).concat([1]).slice(0,r);return[s,o,u,l]}Object.freeze({prepareAndValidate:yr});function br(e){return e<=30?e:Y(e,Math.floor(Math.sqrt(e)))}function xr(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+o+".";if(n.rank<o)throw new Error(i+" update.rank < "+o+". ");if(e.length<r+(n.rank-o))throw new Error(i+" Output shape length < "+(r+(n.rank-o)));if(n.rank!==o+e.length-r)throw new Error(i+" update.rank != "+(o+e.length-r));for(var a=0;a<o;++a)if(n.shape[a]!==t.shape[a])throw new Error(i+" updates.shape["+a+"] ("+n.shape[a]+") != indices.shape["+a+"] ("+t.shape[a]+").");for(a=0;a<n.rank-o;++a)if(n.shape[a+o]!==e[a+r])throw new Error(i+" updates.shape["+(a+o)+"] ("+n.shape[a+o]+") != shape["+(a+o)+"] ("+e[a+o]+")")}function wr(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}xr(n,t,e)}function Cr(e,t,n){for(var r=t.shape.length,o=r>1?t.shape[r-1]:1,i=n.length,a=1,s=o;s<i;++s)a*=n[s];var u=o<1?1:o;return{sliceRank:o,numUpdates:R(t.shape)/u,sliceSize:a,strides:Z(n.slice(0,o)).concat([1]),outputSize:R(n)}}Object.freeze({validateUpdateShape:xr,validateInput:wr,calculateShapes:Cr});function _r(e,t,n){E(e.rank===t.length,(function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."})),E(e.rank===n.length,(function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."}));for(var r=function(r){E(t[r]+n[r]<=e.shape[r],(function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"}))},o=0;o<e.rank;++o)r(o)}function Pr(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Er(e,t,n){for(var r=[],o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function Sr(e,t,n,r,o){var i=t[o],a=n[o]||1;(e&1<<o||null==i)&&(i=a>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[o];return i<0&&(i+=s),C(0,i,s-1)}function kr(e,t,n,r,o){var i=t[o],a=n[o]||1;(e&1<<o||null==i)&&(i=a>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[o];return i<0&&(i+=s),a>0?C(0,i,s):C(-1,i,s-1)}function Tr(e,t,n){for(var r=n.length,o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function Rr(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}Object.freeze({assertParamsValid:_r,maskToAxes:Pr,computeOutShape:Er,startForAxis:Sr,stopForAxis:kr,isSliceContinous:Tr,computeFlatOffset:Rr});function Or(e){return Ne.customGrad(e)}var Ir=on({softmax_:function(e,t){void 0===t&&(t=-1);var n=Qt(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return Ne.runKernelFunc((function(e,r){var o=e.softmax(n,t);return r([o]),o}),{logits:n},(function(e,n){var r=n[0],o=e.mul(r);return{logits:function(){return o.sub(o.sum([t],!0).mul(r))}}}),"Softmax",{dim:t},[],[!0])}}),Vr=on({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=Qt(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return Or((function(e,n){var r=e.max(t,!0),o=e.sub(r),i=o.toFloat().sub(o.exp().sum(t,!0).log());return n([i]),{value:i,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}}))(n)}}),Ar=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),Dr=function(){function e(){}return e.prototype.time=function(e){return Nr("time")},e.prototype.read=function(e){return Nr("read")},e.prototype.readSync=function(e){return Nr("readSync")},e.prototype.numDataIds=function(){return Nr("numDataIds")},e.prototype.disposeData=function(e){return Nr("disposeData")},e.prototype.write=function(e,t,n){return Nr("write")},e.prototype.move=function(e,t,n,r){return Nr("move")},e.prototype.memory=function(){return Nr("memory")},e.prototype.floatPrecision=function(){return Nr("floatPrecision")},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return Nr("batchMatMul")},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,Nr("fusedBatchMatMul")},e.prototype.slice=function(e,t,n){return Nr("slice")},e.prototype.stridedSlice=function(e,t,n,r){return Nr("stridedSlice")},e.prototype.unstack=function(e,t){return Nr("unstack")},e.prototype.reverse=function(e,t){return Nr("reverse")},e.prototype.concat=function(e,t){return Nr("concat")},e.prototype.neg=function(e){return Nr("neg")},e.prototype.add=function(e,t){return Nr("add")},e.prototype.addN=function(e){return Nr("addN")},e.prototype.subtract=function(e,t){return Nr("subtract")},e.prototype.multiply=function(e,t){return Nr("multiply")},e.prototype.realDivide=function(e,t){return Nr("realDivide")},e.prototype.floorDiv=function(e,t){return Nr("floorDiv")},e.prototype.sum=function(e,t){return Nr("sum")},e.prototype.prod=function(e,t){return Nr("prod")},e.prototype.unsortedSegmentSum=function(e,t,n){return Nr("unsortedSegmentSum")},e.prototype.argMin=function(e,t){return Nr("argMin")},e.prototype.argMax=function(e,t){return Nr("argMax")},e.prototype.equal=function(e,t){return Nr("equal")},e.prototype.notEqual=function(e,t){return Nr("notEqual")},e.prototype.less=function(e,t){return Nr("less")},e.prototype.lessEqual=function(e,t){return Nr("lessEqual")},e.prototype.greater=function(e,t){return Nr("greater")},e.prototype.greaterEqual=function(e,t){return Nr("greaterEqual")},e.prototype.logicalNot=function(e){return Nr("logicalNot")},e.prototype.logicalAnd=function(e,t){return Nr("logicalAnd")},e.prototype.logicalOr=function(e,t){return Nr("logicalOr")},e.prototype.where=function(e){return Nr("where")},e.prototype.select=function(e,t,n){return Nr("select")},e.prototype.topk=function(e,t,n){return Nr("topk")},e.prototype.min=function(e,t){return Nr("min")},e.prototype.minimum=function(e,t){return Nr("minimum")},e.prototype.mod=function(e,t){return Nr("mod")},e.prototype.max=function(e,t){return Nr("max")},e.prototype.maximum=function(e,t){return Nr("maximum")},e.prototype.all=function(e,t){return Nr("all")},e.prototype.any=function(e,t){return Nr("any")},e.prototype.squaredDifference=function(e,t){return Nr("squaredDifference")},e.prototype.ceil=function(e){return Nr("ceil")},e.prototype.floor=function(e){return Nr("floor")},e.prototype.round=function(e){return Nr("round")},e.prototype.sign=function(e){return Nr("sign")},e.prototype.isNaN=function(e){return Nr("isNaN")},e.prototype.isInf=function(e){return Nr("isInf")},e.prototype.isFinite=function(e){return Nr("isFinite")},e.prototype.pow=function(e,t){return Nr("pow")},e.prototype.exp=function(e){return Nr("exp")},e.prototype.expm1=function(e){return Nr("expm1")},e.prototype.softmax=function(e,t){return Nr("softmax")},e.prototype.log=function(e){return Nr("log")},e.prototype.log1p=function(e){return Nr("log1p")},e.prototype.sqrt=function(e){return Nr("sqrt")},e.prototype.rsqrt=function(e){return Nr("rsqrt")},e.prototype.square=function(e){return Nr("square")},e.prototype.reciprocal=function(e){return Nr("reciprocal")},e.prototype.relu=function(e){return Nr("relu")},e.prototype.relu6=function(e){return Nr("relu6")},e.prototype.prelu=function(e,t){return Nr("prelu")},e.prototype.elu=function(e){return Nr("elu")},e.prototype.eluDer=function(e,t){return Nr("eluDer")},e.prototype.selu=function(e){return Nr("selu")},e.prototype.int=function(e){return Nr("int")},e.prototype.clip=function(e,t,n){return Nr("clip")},e.prototype.abs=function(e){return Nr("abs")},e.prototype.complexAbs=function(e){return Nr("complexAbs")},e.prototype.sigmoid=function(e){return Nr("sigmoid")},e.prototype.softplus=function(e){return Nr("softplus")},e.prototype.sin=function(e){return Nr("sin")},e.prototype.cos=function(e){return Nr("cos")},e.prototype.tan=function(e){return Nr("tan")},e.prototype.asin=function(e){return Nr("asin")},e.prototype.acos=function(e){return Nr("acos")},e.prototype.atan=function(e){return Nr("atan")},e.prototype.atan2=function(e,t){return Nr("atan2")},e.prototype.sinh=function(e){return Nr("sinh")},e.prototype.cosh=function(e){return Nr("cosh")},e.prototype.tanh=function(e){return Nr("tanh")},e.prototype.asinh=function(e){return Nr("asinh")},e.prototype.acosh=function(e){return Nr("acosh")},e.prototype.atanh=function(e){return Nr("atanh")},e.prototype.erf=function(e){return Nr("erf")},e.prototype.step=function(e,t){return Nr("step")},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Nr("fusedConv2d")},e.prototype.conv2d=function(e,t,n){return Nr("conv2d")},e.prototype.conv2dDerInput=function(e,t,n){return Nr("conv2dDerInput")},e.prototype.conv2dDerFilter=function(e,t,n){return Nr("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Nr("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(e,t,n){return Nr("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return Nr("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return Nr("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(e,t,n){return Nr("conv3d")},e.prototype.conv3dDerInput=function(e,t,n){return Nr("conv3dDerInput")},e.prototype.conv3dDerFilter=function(e,t,n){return Nr("conv3dDerFilter")},e.prototype.maxPool=function(e,t){return Nr("maxPool")},e.prototype.maxPoolBackprop=function(e,t,n,r){return Nr("maxPoolBackprop")},e.prototype.avgPool=function(e,t){return Nr("avgPool")},e.prototype.avgPoolBackprop=function(e,t,n){return Nr("avgPoolBackprop")},e.prototype.avgPool3d=function(e,t){return Nr("avgPool3d")},e.prototype.avgPool3dBackprop=function(e,t,n){return Nr("avgPool3dBackprop")},e.prototype.maxPool3d=function(e,t){return Nr("maxPool3d")},e.prototype.maxPool3dBackprop=function(e,t,n,r){return Nr("maxPool3dBackprop")},e.prototype.reshape=function(e,t){return Nr("reshape")},e.prototype.cast=function(e,t){return Nr("cast")},e.prototype.tile=function(e,t){return Nr("tile")},e.prototype.pad=function(e,t,n){return Nr("pad")},e.prototype.transpose=function(e,t){return Nr("transpose")},e.prototype.gather=function(e,t,n){return Nr("gather")},e.prototype.gatherND=function(e,t){return Nr("gatherND")},e.prototype.scatterND=function(e,t,n){return Nr("scatterND")},e.prototype.batchToSpaceND=function(e,t,n){return Nr("batchToSpaceND")},e.prototype.spaceToBatchND=function(e,t,n){return Nr("spaceToBatchND")},e.prototype.resizeBilinear=function(e,t,n,r){return Nr("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(e,t,n){return Nr("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return Nr("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return Nr("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(e,t,n,r,o,i){return Nr("batchNormalization")},e.prototype.localResponseNormalization4D=function(e,t,n,r,o){return Nr("localResponseNormalization4D")},e.prototype.LRNGrad=function(e,t,n,r,o,i,a){return Nr("LRNGrad")},e.prototype.multinomial=function(e,t,n,r){return Nr("multinomial")},e.prototype.oneHot=function(e,t,n,r){return Nr("oneHot")},e.prototype.cumsum=function(e,t,n,r){return Nr("cumsum")},e.prototype.nonMaxSuppression=function(e,t,n,r,o){return Nr("nonMaxSuppression")},e.prototype.fft=function(e){return Nr("fft")},e.prototype.ifft=function(e){return Nr("ifft")},e.prototype.complex=function(e,t){return Nr("complex")},e.prototype.real=function(e){return Nr("real")},e.prototype.imag=function(e){return Nr("imag")},e.prototype.cropAndResize=function(e,t,n,r,o,i){return Nr("cropAndResize")},e.prototype.depthToSpace=function(e,t,n){return Nr("depthToSpace")},e.prototype.split=function(e,t,n){return Nr("split")},e.prototype.sparseToDense=function(e,t,n,r){return Nr("sparseToDense")},e.prototype.diag=function(e){return Nr("diag")},e.prototype.fill=function(e,t,n){return Nr("fill")},e.prototype.onesLike=function(e){return Nr("onesLike")},e.prototype.zerosLike=function(e){return Nr("zerosLike")},e.prototype.linspace=function(e,t,n){return Nr("linspace")},e.prototype.dispose=function(){return Nr("dispose")},e}();function Nr(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function Lr(e,t){for(var n=e.length,r=[],o=0;o<n;o++){var i=n-1-o,a=e[i]||1;(t[t.length-1-o]||1)>1&&1===a&&r.unshift(i)}return r}function Fr(e,t){for(var n=[],r=0;r<t.length;r++){var o=e[e.length-r-1],i=t.length-r-1,a=t[i];(null==o||1===o&&a>1)&&n.unshift(i)}return n}function Mr(e,t){for(var n=[],r=Math.max(e.length,t.length),o=0;o<r;o++){var i=e[e.length-o-1];null==i&&(i=1);var a=t[t.length-o-1];if(null==a&&(a=1),1===i)n.unshift(a);else if(1===a)n.unshift(i);else{if(i!==a)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(i)}}return n}function qr(e,t,n,r,o,i,a){void 0===a&&(a="channelsLast");var s,u=Wr(t),l=u[0],c=u[1];if("channelsLast"===a)s=[l,c,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);s=[l,c,e[1],e[1]]}return Br(e,s,n,r,o,i,!1,a)}function jr(e,t,n,r,o,i,a){void 0===a&&(a="NDHWC");var s,u,l=Hr(t),c=l[0],p=l[1],d=l[2];if("NDHWC"===a)u="channelsLast",s=[c,p,d,e[4],e[4]];else{if("NCDHW"!==a)throw new Error("Unknown dataFormat "+a);u="channelsFirst",s=[c,p,d,e[1],e[1]]}return zr(e,s,n,r,o,!1,u,i)}function Br(e,t,n,r,o,i,a,s){void 0===a&&(a=!1),void 0===s&&(s="channelsLast");var u=[-1,-1,-1,-1],l=u[0],c=u[1],p=u[2],d=u[3];if("channelsLast"===s)l=e[0],c=e[1],p=e[2],d=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);l=e[0],d=e[1],c=e[2],p=e[3]}var h,f=t[0],m=t[1],g=t[3],v=Wr(n),y=v[0],b=v[1],x=Wr(r),w=x[0],C=x[1],_=Qr(f,w),P=Qr(m,C),S=function(e,t,n,r,o,i,a,s){var u,l,c;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var p=function(e,t,n,r,o){null==r&&(r=Ur(e,t,n));var i=e[1],a=Gr((e[0]-t+2*r)/n+1,o);E(I(a),(function(){return"The output # of rows ("+a+") must be an integer. Change the stride and/or zero pad parameters"}));var s=Gr((i-t+2*r)/n+1,o);return E(I(s),(function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"})),[a,s]}([t,n],i,r,e,s);l=p[0],c=p[1]}else if("same"===e){l=Math.ceil(t/r),c=Math.ceil(n/o);var d=Math.max(0,(l-1)*r+i-t),h=Math.max(0,(c-1)*o+a-n),f=Math.floor(d/2),m=d-f,g=Math.floor(h/2);u={top:f,bottom:m,left:g,right:h-g,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);u={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-i+1)/r),c=Math.ceil((n-a+1)/o)}return{padInfo:u,outHeight:l,outWidth:c}}(o,c,p,y,b,_,P,i),k=S.padInfo,T=S.outHeight,R=S.outWidth,O=a?g*d:g;return"channelsFirst"===s?h=[l,O,T,R]:"channelsLast"===s&&(h=[l,T,R,O]),{batchSize:l,dataFormat:s,inHeight:c,inWidth:p,inChannels:d,outHeight:T,outWidth:R,outChannels:O,padInfo:k,strideHeight:y,strideWidth:b,filterHeight:f,filterWidth:m,effectiveFilterHeight:_,effectiveFilterWidth:P,dilationHeight:w,dilationWidth:C,inShape:e,outShape:h,filterShape:t}}function zr(e,t,n,r,o,i,a,s){void 0===i&&(i=!1),void 0===a&&(a="channelsLast");var u=[-1,-1,-1,-1,-1],l=u[0],c=u[1],p=u[2],d=u[3],h=u[4];if("channelsLast"===a)l=e[0],c=e[1],p=e[2],d=e[3],h=e[4];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);l=e[0],h=e[1],c=e[2],p=e[3],d=e[4]}var f,m=t[0],g=t[1],v=t[2],y=t[4],b=Hr(n),x=b[0],w=b[1],C=b[2],_=Hr(r),P=_[0],S=_[1],k=_[2],T=Qr(m,P),R=Qr(g,S),O=Qr(v,k),V=function(e,t,n,r,o,i,a,s,u,l,c){var p,d,h,f;if("number"==typeof e){p={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,o,i){null==o&&(o=Ur(e,t,r));var a=e[1],s=e[2],u=Gr((e[0]-t+2*o)/r+1,i);E(I(u),(function(){return"The output # of depths ("+u+") must be an integer. Change the stride and/or zero pad parameters"}));var l=Gr((a-t+2*o)/r+1,i);E(I(l),(function(){return"The output # of rows ("+l+") must be an integer. Change the stride and/or zero pad parameters"}));var c=Gr((s-t+2*o)/r+1,i);return E(I(c),(function(){return"The output # of columns ("+c+") must be an integer. Change the stride and/or zero pad parameters"})),[u,l,c,1]}([t,n,r,1],s,0,o,e,c);d=m[0],h=m[1],f=m[2]}else if("same"===e){var g=((d=Math.ceil(t/o))-1)*o+s-t,v=((h=Math.ceil(n/i))-1)*i+u-n,y=((f=Math.ceil(r/a))-1)*a+l-r,b=Math.floor(g/2),x=g-b,w=Math.floor(v/2),C=v-w,_=Math.floor(y/2);p={top:w,bottom:C,left:_,right:y-_,front:b,back:x,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);p={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},d=Math.ceil((t-s+1)/o),h=Math.ceil((n-u+1)/i),f=Math.ceil((r-l+1)/a)}return{padInfo:p,outDepth:d,outHeight:h,outWidth:f}}(o,c,p,d,x,w,C,T,R,O,s),A=V.padInfo,D=V.outDepth,N=V.outHeight,L=V.outWidth,F=i?y*h:y;return"channelsFirst"===a?f=[l,F,D,N,L]:"channelsLast"===a&&(f=[l,D,N,L,F]),{batchSize:l,dataFormat:a,inDepth:c,inHeight:p,inWidth:d,inChannels:h,outDepth:D,outHeight:N,outWidth:L,outChannels:F,padInfo:A,strideDepth:x,strideHeight:w,strideWidth:C,filterDepth:m,filterHeight:g,filterWidth:v,effectiveFilterDepth:T,effectiveFilterHeight:R,effectiveFilterWidth:O,dilationDepth:P,dilationHeight:S,dilationWidth:k,inShape:e,outShape:f,filterShape:t}}function Ur(e,t,n,r){void 0===r&&(r=1);var o=Qr(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)}function Wr(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function Hr(e){return"number"==typeof e?[e,e,e]:e}function Qr(e,t){return t<=1?e:e+(e-1)*(t-1)}function Gr(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function $r(e){var t=Wr(e),n=t[0],r=t[1],o=t[2];return 1===n&&1===r&&1===o}function Kr(e,t){return $r(e)||$r(t)}function Jr(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function Xr(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=vn(e.shape),o=e.toFloat(),i=n.complex(o,r);return r.dispose(),o.dispose(),i}if(!U(e.dtype,t))return Ne.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var a=n.real(e);return i=a.cast(t),a.dispose(),i}if("int32"===t)return n.int(e);if("bool"===t){var s=pn(0,e.dtype);return i=n.notEqual(e,s),s.dispose(),i}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function Yr(e,t){return Ne.makeTensorFromDataId(e.dataId,t,e.dtype)}function Zr(e,t,n){var r=(t-e)/(n-1),o=re(n,"float32");o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+r;return dn(o,"float32")}Object.freeze({castTensor:Xr,reshapeTensor:Yr,linspaceImpl:Zr,upcastType:ke,axesAreInnerMostDims:$t,combineLocations:Kt,computeOutAndReduceShapes:Jt,expandShapeToKeepDim:Xt,assertAxesAreInnerMostDims:Yt,getAxesPermutation:Zt,getUndoAxesPermutation:en,getInnerMostAxes:tn,getBroadcastDims:Lr,getReductionAxes:Fr,assertAndGetBroadcastShape:Mr,assertParamsConsistent:nn,computeOutShape:rn,computePool2DInfo:qr,computePool3DInfo:jr,computeConv2DInfo:Br,computeConv3DInfo:zr,computeDefaultPad:Ur,tupleValuesAreOne:$r,eitherStridesOrDilationsAreOne:Kr,convertConv2DDataFormat:Jr,PARALLELIZE_THRESHOLD:30,computeOptimalWindowSize:br});function eo(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function to(e,t){return{real:e[2*t],imag:e[2*t+1]}}function no(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function ro(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function oo(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,o=e.length,i=0,a=!1;r<o;){var s=n(t,e[i=r+(o-r>>>1)]);s>0?r=i+1:(o=i,a=!s)}return a?r:-r-1}(e,t,n||io)}(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function io(e,t){return e>t?1:e<t?-1:0}function ao(e,t,n,r,o){return uo(e,t,n,r,o,0).selectedIndices}function so(e,t,n,r,o,i){var a=uo(e,t,n,r,o,i,!0);return a.numValidOutputs.dispose(),{selectedIndices:a.selectedIndices,selectedScores:a.selectedScores}}function uo(e,t,n,r,o,i,a,s){void 0===a&&(a=!1),void 0===s&&(s=!1);for(var u=Array.from(t).map((function(e,t){return{score:e,boxIndex:t,suppressBeginIndex:0}})).filter((function(e){return e.score>o})).sort(po),l=i>0?-.5/i:0,c=[],p=[];c.length<n&&u.length>0;){var d=u.pop(),h=d.score,f=d.boxIndex,m=d.suppressBeginIndex;if(h<o)break;for(var g=!1,v=c.length-1;v>=m;--v){var y=lo(e,f,c[v]);if(y>=r){g=!0;break}if(d.score=d.score*co(r,l,y),d.score<=o)break}d.suppressBeginIndex=c.length,g||(d.score===h?(c.push(f),p.push(d.score)):d.score>o&&oo(u,d,po))}var b=c.length;return s&&(c.fill(0,b),p.fill(0,b)),{selectedIndices:dn(c,"int32"),selectedScores:dn(p,"float32"),numValidOutputs:pn(b,"int32")}}function lo(e,t,n){var r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(o[0],o[2]),c=Math.min(o[1],o[3]),p=Math.max(o[0],o[2]),d=Math.max(o[1],o[3]),h=(s-i)*(u-a),f=(p-l)*(d-c);if(h<=0||f<=0)return 0;var m=Math.max(i,l),g=Math.max(a,c),v=Math.min(s,p),y=Math.min(u,d),b=Math.max(v-m,0)*Math.max(y-g,0);return b/(h+f-b)}function co(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function po(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function ho(e,t,n){var r=new Array(e.rank).fill(0),o=e.shape.slice();return t.map((function(t){o[n]=t;var i=e.slice(r,o);return r[n]+=t,i}))}function fo(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var o=jn(n,e.dtype);for(r=0;r<o.values.length;++r){for(var i=o.indexToLoc(r),a=new Array(e.rank),s=0;s<a.length;s++)a[s]=i[s]%e.shape[s];var u=e.locToIndex(a);o.values[r]=e.values[u]}return o.toTensor()}function mo(e,t,n,r,o){for(var i=t[t.length-1],a=[e.length/i,i],s=a[0],u=a[1],l=q(n,s*r),c=q("int32",s*r),p=0;p<s;p++){for(var d=p*u,h=e.subarray(d,d+u),f=[],m=0;m<h.length;m++)f.push({value:h[m],index:m});f.sort((function(e,t){return t.value-e.value}));var g=p*r,v=l.subarray(g,g+r),y=c.subarray(g,g+r);for(m=0;m<r;m++)v[m]=f[m].value,y[m]=f[m].index}var b=t.slice();return b[b.length-1]=r,[ln(l,b,n),ln(c,b,"int32")]}function go(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var o=jn(e,"int32"),i=jn([n.length,e.length],"int32");for(r=0;r<n.length;r++){var a=o.indexToLoc(n[r]),s=r*e.length;i.values.set(a,s)}return i.toTensor()}var vo=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},yo=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},bo=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,o=e.batchSize,i=e.inSize,a=Math.ceil(i/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,a];var s="max"===t?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function xo(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return e+"."+t}))}function wo(e,t){return 1===t?[e]:xo(e,t)}function Co(){var e,t,n,r,o,i,a,s,u,l;return 2===d().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",o="texture",i="outputColor",a="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",o="texture2D",i="gl_FragColor",a="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:i,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:u,defineRound:l}}function _o(e,t,n){void 0===n&&(n="index");var r=Z(t);return r.map((function(t,o){return"int "+e[o]+" = "+n+" / "+t+"; "+(o===r.length-1?"int "+e[o+1]+" = "+n+" - "+e[o]+" * "+t:"index -= "+e[o]+" * "+t)+";"})).join("")}function Po(e){var t=Z(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var Eo="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function So(e,t,n,r){var o=[];e.forEach((function(e){var t=R(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?o.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(o.push("uniform sampler2D "+e.name+";"),o.push("uniform int offset"+e.name+";"))}));var i,a,s=o.join("\n"),u=e.map((function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?function e(t){var n,r,o;switch(t.shapeInfo.logicalShape.length){case 0:return n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=Co(),"\n    vec4 "+r+"() {\n      return "+o.texture2D+"("+n+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],i=Co();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+o[0]+", "+o[1]+", index);\n      return "+i.texture2D+"("+t+", uv);\n    }\n  "}(t);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=o[0],a=o[1],s=Co();if(null!=o&&O(t,o))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+a+".0, "+i+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var u=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+u[0]+", "+u[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(t);case 3:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){var s=Do(t,n.slice(1));return"\n        "+e(s)+"\n        vec4 "+o+"(int b, int row, int col) {\n          return "+o+"("+No(["b","row","col"],[1,2])+");\n        }\n      "}var u=a[0],l=a[1],c=Math.ceil(n[2]/2);return"\n    vec4 "+o+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+u+", "+l+", "+c*Math.ceil(n[1]/2)+", "+c+", b, row, col);\n      return "+Co().texture2D+"("+r+", uv);\n    }\n  "}(t);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],s=a[0],u=a[1],l=Math.ceil(t[n-1]/2),c=l*Math.ceil(t[n-2]/2),p="int b, int row, int col",d="b * "+c+" + (row / 2) * "+l+" + (col / 2)",h=2;h<n-1;h++)p="int b"+h+", "+p,d="b"+h+" * "+(c*=t[n-h-1])+" + "+d;return"\n    vec4 "+o+"("+p+") {\n      int index = "+d+";\n      int texR = index / "+u+";\n      int texC = index - texR * "+u+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+u+", "+s+");\n      return "+Co().texture2D+"("+r+", uv);\n    }\n  "}(t)}}(e):function e(t){var n=t.shapeInfo.logicalShape;switch(n.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,o=r[0],i=r[1];if(1===o&&1===i)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var a=e.shapeInfo.texShape;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+a[0]+", "+a[1]+", "+Io(t)+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(t);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+Vo(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,o=r[0],i=r[1];if(1===i&&1===o)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var a=Io(t);return 1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+a+") + 0.5) / "+o+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===o?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+a+") + 0.5) / "+i+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+o+", "+i+", index + "+a+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(t);case 2:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape;if(null!=i&&O(n,i)){var a=i[0];return"\n    float "+o+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+i[1]+".0, "+a+".0);\n      return sampleTexture("+r+", uv);\n    }\n  "}var s=M(n),u=s.newShape,l=s.keptDims,c=u;if(c.length<n.length){var p=Do(t,c);return"\n      "+e(p)+"\n      float "+o+"(int row, int col) {\n        return "+o+"("+No(["row","col"],l)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+n[1]+", 1)));\n        "+Vo(t)+"\n      }\n    ";var d=i[0],h=i[1],f=Io(r);return 1===h?"\n    float "+o+"(int row, int col) {\n      float index = dot(vec3(row, col, "+f+"), vec3("+n[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+d+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":1===d?"\n    float "+o+"(int row, int col) {\n      float index = dot(vec3(row, col, "+f+"), vec3("+n[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+h+".0, 0.5);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n  float "+o+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+n[1]+" + col + "+f+";\n    vec2 uv = uvFromFlat("+d+", "+h+", index);\n    return sampleTexture("+r+", uv);\n  }\n"}(t);case 3:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],a=n[2],s=M(n),u=s.newShape,l=s.keptDims,c=u;if(c.length<n.length){var p=Do(t,c);return"\n        "+e(p)+"\n        float "+o+"(int row, int col, int depth) {\n          return "+o+"("+No(["row","col","depth"],l)+");\n        }\n      "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+i+", "+a+", 1)));\n        "+Vo(t)+"\n      }\n    ";var d=t.shapeInfo.texShape,h=d[0],f=d[1],m=t.shapeInfo.flatOffset;return f===i&&null==m?"\n        float "+o+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+a+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+f+".0, "+h+".0);\n          return sampleTexture("+r+", uv);\n        }\n      ":f===a&&null==m?"\n    float "+o+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+n[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+f+".0, "+h+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n      float "+o+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+i+" + col * "+a+" + depth + "+Io(r)+";\n        vec2 uv = uvFromFlat("+h+", "+f+", index);\n        return sampleTexture("+r+", uv);\n      }\n  "}(t);case 4:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],a=n[2]*i,s=n[1]*a,u=M(n),l=u.newShape,c=u.keptDims;if(l.length<n.length){var p=Do(t,l);return"\n      "+e(p)+"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        return "+o+"("+No(["row","col","depth","depth2"],c)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+s+", "+a+", "+i+", 1)));\n        "+Vo(t)+"\n      }\n    ";var d=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,f=h[0],m=h[1];return m===s&&null==d?"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+a+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+m+".0, "+f+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":m===i&&null==d?"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+n[1]*n[2]+", "+n[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+m+".0, "+f+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+o+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+a+" +\n          depth * "+i+" + depth2;\n      vec2 uv = uvFromFlat("+f+", "+m+", index + "+Io(r)+");\n      return sampleTexture("+r+", uv);\n    }\n  "}(t);case 5:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[4],a=n[3]*i,s=n[2]*a,u=n[1]*s,l=M(n),c=l.newShape,p=l.keptDims;if(c.length<n.length){var d=Do(t,c);return"\n      "+e(d)+"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+o+"("+No(["row","col","depth","depth2","depth3"],p)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+u+", "+s+", "+a+", "+i+")) +\n          depth3;\n        "+Vo(t)+"\n      }\n    ";var h=t.shapeInfo.flatOffset,f=t.shapeInfo.texShape,m=f[0],g=f[1];return g===u&&null==h?"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+s+", "+a+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+g+".0, "+m+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":g===i&&null==h?"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+n[1]*n[2]*n[3]+",\n               "+n[2]*n[3]+", "+n[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+g+".0, "+m+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+u+" + col * "+s+" + depth * "+a+" +\n          depth2 * "+i+" + depth3 + "+Io(r)+";\n      vec2 uv = uvFromFlat("+m+", "+g+", index);\n      return sampleTexture("+r+", uv);\n    }\n  "}(t);case 6:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=M(n),a=i.newShape,s=i.keptDims;if(a.length<n.length){var u=Do(t,a);return"\n      "+e(u)+"\n      float "+o+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+o+"("+No(["row","col","depth","depth2","depth3","depth4"],s)+");\n      }\n    "}var l=n[5],c=n[4]*l,p=n[3]*c,d=n[2]*p,h=n[1]*d;if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+h+", "+d+", "+p+", "+c+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+l+", 1)));\n        "+Vo(t)+"\n      }\n    ";var f=t.shapeInfo.flatOffset,m=t.shapeInfo.texShape,g=m[0],v=m[1];return v===h&&null==f?"\n      float "+o+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+d+", "+p+", "+c+", "+l+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+v+".0, "+g+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":v===l&&null==f?"\n      float "+o+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+n[1]*n[2]*n[3]*n[4]+",\n               "+n[2]*n[3]*n[4]+",\n               "+n[3]*n[4]+",\n               "+n[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+v+".0, "+g+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+o+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+h+" + col * "+d+" + depth * "+p+" +\n          depth2 * "+c+" + depth3 * "+l+" + depth4 + "+Io(r)+";\n      vec2 uv = uvFromFlat("+g+", "+v+", index);\n      return sampleTexture("+r+", uv);\n    }\n  "}(t);default:throw new Error(n.length+"-D input sampling is not yet supported")}}(e);var o=e.shapeInfo.logicalShape,i=t.logicalShape;return o.length<=i.length&&(r+=n?function(e,t){var n,r=e.name,o=r.charAt(0).toUpperCase()+r.slice(1),i="get"+o+"AtOutCoords",a=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,u=Lr(e.shapeInfo.logicalShape,t.logicalShape),l=Ao(s),c=s-a,p=["x","y","z","w","u","v"];n=0===a?"":s<2&&u.length>=1?"coords = 0;":u.map((function(e){return"coords."+p[e+c]+" = 0;"})).join("\n");var d;d=s<2&&a>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+p[t+c]})).join(", ");var h="return outputValue;",f=1===R(e.shapeInfo.logicalShape),m=1===R(t.logicalShape);if(1!==a||f||m){if(f&&!m)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var g=a-2,v=a-1;u.indexOf(g)>-1&&u.indexOf(v)>-1?h="return vec4(outputValue.x);":u.indexOf(g)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(v)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+i+"() {\n      "+l+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+o+"("+d+");\n      "+h+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",i=t.texShape,a=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===u&&null==e.shapeInfo.flatOffset&&O(a,i))return"\n      float "+o+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var l=Ao(u),c=Lr(e.shapeInfo.logicalShape,t.logicalShape),p=u-s,d=["x","y","z","w","u","v"];return"\n    float "+o+"() {\n      "+l+" coords = getOutputCoords();\n      "+(0===s?"":u<2&&c.length>=1?"coords = 0;":c.map((function(e){return"coords."+d[e+p]+" = 0;"})).join("\n"))+"\n      return get"+r+"("+(u<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+d[t+p]})).join(", "))+");\n    }\n  "}(e,t)),r}(e,t,r)})).join("\n"),l=t.texShape,c=Co(),p=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+e.texture2D+"(textureSampler, uv).r;\n    }\n  "}(c),d=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+ko+"\n    "+To+"\n    "+Ro+"\n  "}(c);return t.isPacked?(i=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(O(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=(i=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+o[0]+", "+o[1]+"));\n      int index = resTexRC.x * "+o[1]+" + resTexRC.y;\n\n      int b = index / "+a+";\n      index -= b * "+a+";\n\n      int r = 2 * (index / "+i+");\n      int c = imod(index, "+i+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),o=r*Math.ceil(e[e.length-2]/2),i=o,a="",s="b, r, c",u=2;u<e.length-1;u++)a="\n      int b"+u+" = index / "+(i*=e[e.length-u-1])+";\n      index -= b"+u+" * "+i+";\n    "+a,s="b"+u+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+a+"\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,o,i,a}(t.logicalShape,l),a=function(e){return"\n    void setOutput(vec4 val) {\n      "+e.output+" = val;\n    }\n  "}(c)):(i=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return O(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=_o(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=_o(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=_o(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=_o(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,l),a=function(e){return"\n    void setOutput(float val) {\n      "+e.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(c)),r&&(d+=Oo),[d,p,a,s,i,u,n].join("\n")}var ko="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",To="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Ro="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Oo="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Io(e){return"offset"+e}function Vo(e){var t=e.name,n=R(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function Ao(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function Do(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function No(e,t){return t.map((function(t){return e[t]})).join(", ")}var Lo=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,E(e.length>2,(function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."}));var o=e[e.length-1],i=Math.ceil(o/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");var a,s,u=this.outputShape,l=u.length,c=Ao(l),p=wo("coords",l);if(1===i){var d=Ao(s=l+1);a="\n        "+d+" sourceLocR = "+d+"("+p.join()+", 0);\n        ++"+p[l-1]+";\n        "+d+" sourceLocG = "+d+"("+p.join()+", 0);\n        ++"+p[l-2]+";\n        "+d+" sourceLocA = "+d+"("+p.join()+", 0);\n        --"+p[l-1]+";\n        "+d+" sourceLocB = "+d+"("+p.join()+", 0);\n        --"+p[l-2]+";"}else s=l,a="\n        "+c+" sourceLocR = coords;\n        ++"+p[l-1]+";\n        "+c+" sourceLocG = coords;\n        ++"+p[l-2]+";\n        "+c+" sourceLocA = coords;\n        --"+p[l-1]+";\n        "+c+" sourceLocB = coords;\n        --"+p[l-2]+";";var h=["x","y","z","w","u","v"].slice(0,s),f="."+h[s-1],m=h.map((function(e){return"int "+e})),g=wo("sourceLocR",s-1).concat("inIdx.r"),v=wo("sourceLocG",s-1).concat("inIdx.g"),y=wo("sourceLocB",s-1).concat("inIdx.b"),b=wo("sourceLocA",s-1).concat("inIdx.a"),x="max"===n?"greaterThan":"lessThan",w=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+v.join()+"),\n                             getBestIndicesAChannel("+y.join()+"),\n                             getBestIndicesAChannel("+b.join()+")));",C="vec4(\n            getAChannel("+g.join()+"),\n            hasNextCol ? getAChannel("+v.join()+") : 0.,\n            hasNextRow ? getAChannel("+y.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+b.join()+") : 0.)",_=r?"":"\n      float getBestIndicesAChannel("+m.join()+") {\n        return getChannel(getBestIndicesA("+h.join()+"),\n                                          vec2("+h.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+m.join()+") {\n        return getChannel(getA("+h.join()+"),\n                               vec2("+h.slice(-2).join()+"));\n      }\n      "+_+"\n      void main() {\n        "+c+" coords = getOutputCoords();\n        bool hasNextCol = "+p[l-1]+" < "+(u[l-1]-1)+";\n        bool hasNextRow = "+p[l-2]+" < "+(u[l-2]-1)+";\n        "+a+"\n        ivec4 srcIdx = ivec4(sourceLocR"+f+", sourceLocG"+f+",\n          sourceLocB"+f+", sourceLocA"+f+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+C+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+w+"\n          vec4 candidate = "+C+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+x+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},Fo=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=s-1-e.padInfo.top,c=u-1-e.padInfo.left,p=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+l+", "+c+");\n      const float avgMultiplier = float("+p+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+i+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+u+";\n            wC+= "+a+") {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Mo=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,p=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=c-1-e.padInfo.front,f=p-1-e.padInfo.top,m=d-1-e.padInfo.left,g=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+h+", "+f+", "+m+");\n      const float avgMultiplier = float("+g+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+o+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+p+";\n              wR += "+u+") {\n            float dyR = float(dyRCorner + wR) / "+i+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+d+";\n                wC += "+l+") {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},qo=function(e,t,n,r,o,i){this.outputShape=[],this.variableNames=["x","mean","variance"],Mr(e,t),Mr(e,n);var a="0.0";null!=r&&(Mr(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="1.0";null!=o&&(Mr(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+a+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+i+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},jo=function(e,t,n,r,o,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Mr(e,t),Mr(e,n);var a="vec4(0.0)";null!=r&&(Mr(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=o&&(Mr(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+a+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+i+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},Bo=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Mr(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},zo="return a + b;",Uo="return a - b;",Wo="return a * b;",Ho="return (a < 0.) ? b * a : a;",Qo=function(e,t,n){this.variableNames=["A","B"],this.outputShape=Mr(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},Go="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",$o=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Mr(t,n);var o=this.outputShape.length,i="";if(r)if(0===o||1===R(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(i="\n          "+Ao(o)+" coords = getOutputCoords();\n        ",1===o)i+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var a=wo("coords",o);i+="\n            bool nextRowOutOfBounds =\n              ("+a[o-2]+" + 1) >= "+this.outputShape[o-2]+";\n            bool nextColOutOfBounds =\n              ("+a[o-1]+" + 1) >= "+this.outputShape[o-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+i+"\n\n        setOutput(result);\n      }\n    "},Ko=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),Jo=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),Xo=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},Yo=function(e){this.outputShape=[],this.outputShape=rn(e,1),this.variableNames=e.map((function(e,t){return"T"+t}));var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var o=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+o+"));")}var i=t.length,a=t[t.length-1];r.push("else setOutput(getT"+i+"(yR, yC-"+a+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},Zo=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=rn(e,t);var n=this.outputShape,r=n.length,o=Ao(r),i=wo("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((function(e,t){return"T"+t}));var s=new Array(e.length-1);s[0]=e[0][t];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][t];var l=a[t],c=a.slice(-2),p=a.join(),d="if ("+l+" < "+s[0]+") {\n        return getChannel(\n            getT0("+p+"), vec2("+c.join()+"));\n        }";for(u=1;u<s.length;u++){var h=s[u-1];d+="\n        if ("+l+" < "+s[u]+"  && "+l+" >= "+s[u-1]+") {\n          return getChannel(\n            getT"+u+"("+ei(a,l,h)+"),\n            vec2("+ei(c,l,h)+"));\n        }"}var f=s.length,m=s[s.length-1];d+="\n        return getChannel(\n          getT"+f+"("+ei(a,l,m)+"),\n          vec2("+ei(c,l,m)+"));",this.userCode="\n      float getValue("+a.map((function(e){return"int "+e}))+") {\n        "+d+"\n      }\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+i+"), 0., 0., 0.);\n\n        "+i[r-1]+" = "+i[r-1]+" + 1;\n        if ("+i[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+i+");\n        }\n\n        "+i[r-2]+" = "+i[r-2]+" + 1;\n        if ("+i[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+i+");\n        }\n\n        "+i[r-1]+" = "+i[r-1]+" - 1;\n        if ("+i[r-2]+" < "+n[r-2]+" &&\n            "+i[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+i+");\n        }\n        setOutput(result);\n      }\n    "};function ei(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?e+" - "+n:e})).join()}var ti=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+i+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ni=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i="channelsLast"===e.dataFormat,a=t-1-e.padInfo.top,s=n-1-e.padInfo.left,u=i?1:2,l=i?2:3,c=i?3:1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+c+"];\n\n        ivec2 dyCorner = ivec2(coords["+u+"], coords["+l+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+i+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ri=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,i=e.padInfo.top,a=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+o+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+i+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+a+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},oi=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=t-1-e.padInfo.front,u=n-1-e.padInfo.top,l=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+u+", "+l+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+o+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+i+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ii=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+i+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ai=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=t-1-e.padInfo.top,a=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},si=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.padInfo.top,i=e.padInfo.left,a=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterHeight,p=e.filterWidth,d=4*Math.floor(e.inChannels/4),h=e.inChannels%4,f="channelsLast"===e.dataFormat,m=f?1:2,g=f?2:3,v=f?3:1,y="",b="";n&&(y=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",b="result = activation(result);");var x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+a+", "+s+");\n      const ivec2 pads = ivec2("+o+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+v+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+m+"], coords["+g+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+c+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+p+"; wC++) {\n            int xC = xCCorner + wC * "+l+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+d+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+f+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===h)+") {\n\n              if ("+f+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+d+") *\n                    getW(wR, wC, "+d+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+d+", xR, xC) *\n                    getW(wR, wC, "+d+", d2);\n              }\n\n            } else if ("+(2===h)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2)\n              );\n\n              if ("+f+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===h)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2),\n                getW(wR, wC, "+d+" + 2, d2)\n              );\n\n              if ("+f+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1),\n                  getX(batch, xR, xC, "+d+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC),\n                  getX(batch, "+d+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+x+"\n        "+b+"\n        setOutput(result);\n      }\n    "},ui=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterDepth,p=e.filterHeight,d=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+o+", "+i+", "+a+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+c+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+p+"; wR++) {\n            int xR = xRCorner + wR * "+u+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+d+"; wC++) {\n              int xC = xCCorner + wC * "+l+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+h+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===f)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+h+") *\n                  getW(wF, wR, wC, "+h+", d2);\n              } else if ("+(2===f)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+h+"),\n                  getX(batch, xF, xR, xC, "+h+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+h+", d2),\n                  getW(wF, wR, wC, "+h+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===f)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+h+"),\n                  getX(batch, xF, xR, xC, "+h+" + 1),\n                  getX(batch, xF, xR, xC, "+h+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+h+", d2),\n                  getW(wF, wR, wC, "+h+" + 1, d2),\n                  getW(wF, wR, wC, "+h+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},li=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,p=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,f=e.outChannels/e.inChannels,m="",g="";n&&(m=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",g="result = activation(result);");var v=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+m+"\n\n      const ivec2 strides = ivec2("+u+", "+l+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+f+";\n        int q = d2 - d1 * "+f+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+d+"; wR++) {\n          int xR = xRCorner + wR * "+c+";\n\n          if (xR < 0 || xR >= "+o+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+h+"; wC++) {\n            int xC = xCCorner + wC * "+p+";\n\n            if (xC < 0 || xC >= "+i+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+v+"\n        "+g+"\n        setOutput(result);\n      }\n    "},ci=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,p=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,f=h,m="int xR; int xC; int xCOffset;",g=0;g<d;g++)for(var v=0;v<h;v++)m+="\n          vec4 xTexelR"+g+"C"+2*v+" = vec4(0.);\n          vec4 wR"+g+"C"+v+" = vec4(0.);\n          vec4 xR"+g+"C"+v+" = vec4(0.);";for(g=0;g<d;g++)for(var y=0;y<f;y++){if(m+="\n          xR = xRCorner + "+g*c+";\n          xC = xCCorner + "+(v=2*y)*p+";\n        ",1===l){if(v<h&&(m+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+i+") {\n                    xTexelR"+g+"C"+v+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+i+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+i+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+g+"C"+v+" = vec4(previous.zw, xTexelR"+g+"C"+v+".xy);\n                } else {\n                  xR"+g+"C"+v+" = vec4(0, 0, xTexelR"+g+"C"+v+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+o+" && xC >= 0 && xC < "+i+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                xR"+g+"C"+v+" = xTexelR"+g+"C"+v+";\n              ",v+1<h)){var b=s%2==0?_(p):p;p%2==0&&s%2==1||p%2!=0&&s%2!=1?(m+="\n                  xCOffset = xC + "+s%2+" + "+b+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+i+") {\n                    xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",p>1&&(m+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+o+" &&\n                      xCOffset >= 0 && xCOffset < "+i+") {\n                      xTexelR"+g+"C"+v+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+g+"C"+v+" = vec4(0.);\n                    }\n                  "),m+="\n                  xR"+g+"C"+(v+1)+" = vec4(\n                    xTexelR"+g+"C"+v+".zw, xTexelR"+g+"C"+(v+2)+".xy);\n                "):m+="\n                  xCOffset = xC + "+b+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+i+") {\n                    xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+g+"C"+(v+1)+" = xTexelR"+g+"C"+(v+2)+";\n                "}}else v<h&&(m+="\n              if(xR >= 0 && xR < "+o+") {\n            ",s%2==1?(m+="\n                xCOffset = xC + 1 - "+l+";\n                if(xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+i+") {\n                  xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+g+"C"+(v+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+v+" = vec4(\n                  xTexelR"+g+"C"+v+".zw, xTexelR"+g+"C"+(v+2)+".zw);\n              ",v+1<h&&(m+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+l+";\n                  if(xCOffset >= 0 && xCOffset < "+i+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+g+"C"+(v+1)+" = vec4(xTexelR"+g+"C"+(v+2)+".xy, final.xy);\n                ")):(m+="\n                if(xC >= 0 && xC < "+i+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+l+";\n                if(xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+(v+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+v+" = vec4(\n                  xTexelR"+g+"C"+v+".xy, xTexelR"+g+"C"+(v+2)+".xy);\n              ",v+1<h&&(m+="\n                  xR"+g+"C"+(v+1)+" = vec4(\n                    xTexelR"+g+"C"+v+".zw, xTexelR"+g+"C"+(v+2)+".zw);\n                ")),m+="}");v<h&&(m+="\n            vec4 wTexelR"+g+"C"+v+" = getW("+g+", "+v+", d1, q);\n            wR"+g+"C"+v+" = vec4(wTexelR"+g+"C"+v+".xz, wTexelR"+g+"C"+v+".xz);\n          ",v+1<h&&(m+="\n              vec4 wTexelR"+g+"C"+(v+1)+" = getW("+g+", "+(v+1)+", d1, q);\n              wR"+g+"C"+(v+1)+" =\n                vec4(wTexelR"+g+"C"+(v+1)+".xz, wTexelR"+g+"C"+(v+1)+".xz);"))}for(g=0;g<d;g++)for(v=0;v<h;v++)m+="dotProd += xR"+g+"C"+v+" * wR"+g+"C"+v+";";var x="",w="";n&&(x=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",w="result = activation(result);");var C=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+x+"\n\n      const ivec2 strides = ivec2("+u+", "+l+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+m+"\n\n        vec4 result = dotProd;\n        "+C+"\n        "+w+"\n        setOutput(result);\n      }\n    "},pi=function(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=e[0],a=e[1],s=e[2],u=e[3],l=t[0],c=n[0],p=n[1];this.outputShape=[l,c,p,u];var d="bilinear"===r?1:0,h=[a-1+".0",s-1+".0"],f=h[0],m=h[1],g=c>1?[""+(a-1)/(c-1),"(y2-y1) * height_ratio","y1*"+f+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+f],v=g[0],y=g[1],b=g[2],x=p>1?[""+(s-1)/(p-1),"(x2-x1) * width_ratio","x1*"+m+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+m],w=x[0],C=x[1],_=x[2];this.userCode="\n      const float height_ratio = float("+v+");\n      const float width_ratio = float("+w+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+i+") {\n          return;\n        }\n\n        float height_scale = "+y+";\n        float width_scale = "+C+";\n\n        float in_y = "+b+";\n        if( in_y < 0.0 || in_y > "+f+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n        float in_x = "+_+";\n        if( in_x < 0.0 || in_x > "+m+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+d+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},di=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,o=e[e.length-1],i=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+o+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+Ao(r)+" coords = getOutputCoords();\n        int end = "+hi(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+o+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+i+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+hi(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function hi(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var fi=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Me.DENSE;var t=Qe(e),n=Co();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+_o(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},mi=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Me.DENSE;var t=Qe(e),n=Co();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+_o(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},gi=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),vi=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},yi=function(e){this.variableNames=["A"],this.outTexUsage=qe.DOWNLOAD;var t=Co();this.outputShape=e,this.userCode="\n      "+Eo+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},bi=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=qe.DOWNLOAD;var t=Co();this.outputShape=e,this.userCode="\n      "+Eo+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},xi=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=Co(),o=t[0],i=t[1];this.outputShape=e;var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      "+Po(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+i+";\n        int c = imod(flatIndex, "+i+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+i+".0, "+o+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+a+", 0., 0., 0.);\n      }\n    "},wi=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Co(),o=t[0],i=t[1];this.outputShape=e;var a="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var l=0;l<=1;l++){var c=2*u+l;a+="\n          localCoords = coords;\n          if(localCoords[2] + "+l+" < "+e[2]+") {\n            localCoords[2] += "+l+";\n            if(localCoords[1] + "+u+" < "+e[1]+") {\n              localCoords[1] += "+u+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+i+";\n              c = imod(flatIndex, "+i+");\n              uv = (vec2(c, r) + halfCR) / vec2("+i+".0, "+o+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+c+"] = values[0];\n              } else if(offset == 1) {\n                result["+c+"] = values[1];\n              } else if(offset == 2) {\n                result["+c+"] = values[2];\n              } else {\n                result["+c+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+Po(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+a+"\n\n        "+r.output+" = "+s+";\n      }\n    "},Ci=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var o=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,i=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+o+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+i+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},_i=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),Pi=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var o=Ao(this.rank),i=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],i=0;i<e.length;i++)i===t?o.push("int(getIndices("+r[i]+"))"):o.push(""+r[i]);return o.join()}(e,n);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    "},Ei=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=Ao(t.length),o=Ao(n.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+o+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+i+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function Si(e,t){var n=Co();return Ze(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function ki(e,t){return st(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Ti(e,t){return ut(e,t,new Uint16Array([0,1,2,2,1,3]))}function Ri(e,t,n,r,o,i,a){ct(n,r);var s=lt(e,t),u=e.TEXTURE_2D;return Ke(e,t,(function(){return e.bindTexture(u,s)})),Ke(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),Ke(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),Ke(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)})),Ke(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)})),Ke(e,t,(function(){return e.texImage2D(u,0,o,n,r,0,i,a,null)})),Ke(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),s}function Oi(e,t,n,r,o){var i=He(n,r);return Ri(e,t,i[0],i[1],o.internalFormatFloat,o.textureFormatFloat,e.FLOAT)}function Ii(e,t,n,r,o){var i=He(n,r);return Ri(e,t,i[0],i[1],o.internalFormatHalfFloat,o.textureFormatFloat,o.textureTypeHalfFloat)}function Vi(e,t,n,r,o){var i=He(n,r);return Ri(e,t,i[0],i[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function Ai(e,t,n,r,o){var i=Ge(n,r);return Ri(e,t,i[0],i[1],o.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function Di(e,t,n,r,o){var i=Ge(n,r);return Ri(e,t,i[0],i[1],o.internalFormatPackedHalfFloat,e.RGBA,o.textureTypeHalfFloat)}function Ni(e,t,n,r){return Ke(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),dt(e,t,n,"clipSpacePos",r,3,20,0)&&dt(e,t,n,"uv",r,2,20,12)}function Li(e,t,n,r,o,i,a){var s,u,l;Ke(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),i instanceof Uint8Array?(s=new Uint8Array(r*o*4),u=e.UNSIGNED_BYTE,l=e.RGBA):(s=new Float32Array(r*o*4),u=e.FLOAT,l=a.internalFormatPackedFloat),s.set(i),Ke(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,l,r,o,0,e.RGBA,u,s)})),Ke(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Fi(e,t,n,r){Ke(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),r.data instanceof Uint8Array?Ke(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)})):Ke(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)})),Ke(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Mi(e,t,n,r,o){var i=e.createBuffer();Ke(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)}));var a=16*n*r;return Ke(e,t,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)})),Ke(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)})),Ke(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),i}function qi(e,t,n){var r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function ji(e,t,n,r,o){var i=He(n,r),a=i[0],s=i[1],u=new Uint8Array(n*r*4);return Ke(e,t,(function(){return e.readPixels(0,0,a,s,o.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function Bi(e,t,n,r,o,i,a,s){var u=e,l=new Float32Array(function(e,t){var n=Ge(e,t);return n[0]*n[1]*4}(i,a));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function zi(e,t,n,r){var o=new Float32Array(n*r*4);return Ke(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,o)})),o}var Ui=Object.freeze({createVertexShader:Si,createVertexBuffer:ki,createIndexBuffer:Ti,createFloat32MatrixTexture:Oi,createFloat16MatrixTexture:Ii,createUnsignedBytesMatrixTexture:Vi,createPackedMatrixTexture:Ai,createFloat16PackedMatrixTexture:Di,bindVertexProgramAttributeStreams:Ni,uploadDenseMatrixToTexture:Li,uploadPixelDataToTexture:Fi,createBufferFromOutputTexture:Mi,downloadFloat32MatrixFromBuffer:qi,downloadByteEncodedFloatMatrixFromOutputTexture:ji,downloadPackedMatrixFromBuffer:Bi,downloadMatrixFromPackedOutputTexture:zi}),Wi=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=d().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,Ue(t,e)):this.gl=We(t);var n="WEBGL_color_buffer_float";if(1===d().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=Ye(this.gl,this.debug,"OES_texture_float"),Vt(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=Ye(this.gl,this.debug,"OES_texture_half_float");else if(d().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Vt(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=Ye(this.gl,this.debug,"EXT_color_buffer_half_float");else if(d().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Vt(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Vt(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=ki(this.gl,this.debug),this.indexBuffer=Ti(this.gl,this.debug),this.framebuffer=pt(this.gl,this.debug),this.textureConfig=$e(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return d().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;Ke(t,this.debug,(function(){return t.finish()})),Ke(t,this.debug,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),Ke(t,this.debug,(function(){return t.deleteFramebuffer(e.framebuffer)})),Ke(t,this.debug,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),Ke(t,this.debug,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),Ke(t,this.debug,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),Oi(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),Ii(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),Vi(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),Fi(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),Li(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Di(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Ai(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(yt(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Ke(this.gl,this.debug,(function(){return t.gl.deleteTexture(e)}))},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return ji(r.gl,r.debug,t,n,r.textureConfig)}))},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,o,i){return Bi(this.gl,e,0,0,0,o,i,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return qi(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=Mi(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(d().getBool("WEBGL_FENCE_API_ENABLED")){var o=e,i=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=o.clientWaitSync(i,0,0);return e===o.ALREADY_SIGNALED||e===o.CONDITION_SATISFIED},t=i}else d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return zi(r.gl,r.debug,t,n)}))},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=et(t,this.debug,e),r=Si(t,this.debug),o=ot(t,this.debug);return Ke(t,this.debug,(function(){return t.attachShader(o,r)})),Ke(t,this.debug,(function(){return t.attachShader(o,n)})),it(t,this.debug,o),this.debug&&at(t,this.debug,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=Ni(t,this.debug,this.program,this.vertexBuffer)),o},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&Ke(this.gl,this.debug,(function(){return t.gl.deleteProgram(e)}))},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&at(this.gl,this.debug,this.program),Ke(this.gl,this.debug,(function(){return t.gl.useProgram(e)}))},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?ft(this.gl,this.debug,e,t):mt(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),Ke(this.gl,this.debug,(function(){return n.gl.getAttribLocation(e,t)}))},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),gt(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=Ge(t,n),o=r[0],i=r[1];this.setOutputMatrixTextureDriver(e,o,i)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&at(this.gl,this.debug,this.program),bt(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),Ke(e,this.debug,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),Ke(this.gl,this.debug,(function(){return e.gl.finish()}))},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Ye(this.gl,this.debug,2===d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),o=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,o),o},e.prototype.endQuery=function(){if(2!==d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return u(this,void 0,void 0,(function(){var t=this;return l(this,(function(n){switch(n.label){case 0:return[4,N((function(){return t.disposed||t.isQueryAvailable(e,d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return n.sent(),[2,this.getQueryTime(e,d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}return o=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||N((function(){return n.pollItems(),0===n.itemsToPoll.length}))},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),vt(this.gl,this.debug,e,this.framebuffer),this.debug&&bt(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(vt(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&bt(this.gl)):yt(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;vt(r,this.debug,e,this.framebuffer),this.debug&&bt(r),this.outputTexture=e,Ke(r,this.debug,(function(){return r.viewport(0,0,t,n)})),Ke(r,this.debug,(function(){return r.scissor(0,0,t,n)}))},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var o=this;this.throwIfDisposed(),Ke(this.gl,this.debug,(function(){return o.gl.scissor(e,t,n,r)}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function Hi(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach((function(e,n){var r=e.logicalShape,o=t[n],i=o.shape;if(!O(r,i))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+i+" must match");if(!e.isUniform||!o.isUniform){var a=e.texShape,s=o.isUniform?null:o.texData.texShape;if(!O(a,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+a+" and "+s+" must match")}}))}var Qi=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,o=n.inChannels,i=n.strideWidth,a=n.strideHeight,s=n.padInfo,u=n.outWidth,l=n.dilationWidth,c=n.dilationHeight,p=n.dataFormat,d=s.left,h=s.top,f=o*r,m=Co(),g="channelsLast"===p,v=g?0:1,y=g?1:2,b="",x=0;x<=1;x++)for(var w=0;w<=1;w++)b+="\n          blockIndex = rc.y + "+w+";\n          pos = rc.x + "+x+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+u+")) * "+a+" - "+h+";\n            d0 = offsetY + "+c+" * (pos / "+f+");\n\n            if(d0 < "+t[v]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+u+".) * "+i+". - "+d+".);\n              d1 = offsetX + "+l+" * (int(mod(float(pos), "+f+".) / "+o+".));\n\n              if(d1 < "+t[y]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+o+".));\n\n                if ("+g+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*x+w)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*x+w)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+b+"\n\n        "+m.output+" = result;\n      }\n    "},Gi=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];var i,a=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";i=.5===o?"inversesqrt("+u+")":1===o?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+i+";\n        setOutput(val);\n      }\n    "},$i=function(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+o+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+o+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},Ki=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,a=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";i=.5===o?"inversesqrt("+u+")":1===o?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+a+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+a+"; j <= "+a+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+i+";\n        setOutput(result);\n      }\n    "},Ji=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,i=e.effectiveFilterWidth,a=o-1-e.padInfo.top,s=i-1-e.padInfo.left,u=o*i-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+o+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+i+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+u+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+i+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Xi=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=s-1-e.padInfo.front,p=u-1-e.padInfo.top,d=l-1-e.padInfo.left,h=s*u*l-1;this.userCode="\n      const ivec3 pads = ivec3("+c+", "+p+", "+d+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+o+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+i+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+l+";\n                wC += "+a+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+h+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+u+" * "+l+" +\n                  wR * "+l+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Yi=function(e,t,n,r,o,i,a){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===i&&(i=null),void 0===a&&(a=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],u=Math.ceil(s/2),l=n?"i * 2, rc.y":"rc.y, i * 2",c=r?"rc.z, i * 2":"i * 2, rc.z",p=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],h="",f="";i&&(h=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+i+"\n        }":"vec4 activation(vec4 x) {\n          "+i+"\n        }",f="result = activation(result);");var m=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+h+"\n\n      const float sharedDimension = "+u+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+u+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+l+");\n          vec4 b = getMatrixB(rc.x, "+c+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+p[0]+" * "+d[0]+");\n          result += ("+p[1]+" * "+d[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+m+"\n\n        "+f+"\n\n        setOutput(result);\n      }\n    "},Zi=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),ea=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},ta=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=wo("rc",t),r=Ao(t),o=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",o=e-2;o<e;o++)r+=n[o]+" >= "+t[o],o<e-1&&(r+="||");return r}(t,e,n),i=function(e,t,n,r){if(1===e)return"";var o=r.slice(-2);return"\n    int r = "+o[0]+";\n    int c = "+o[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),a=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var o=0;o<=1;o++){for(var i=(0===r?"r":"rp1")+", "+(0===o?"c":"cp1"),a=2;a<e;a++)i=t[t.length-1-a]+","+i;n.push(i)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+o+") {\n            setOutput(vec4(0));\n          } else {\n            "+i+"\n\n            setOutput(vec4("+a+"));\n          }\n        }\n      "}},na=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));var r=e.length,o=Ao(r),i=t.map((function(e){return e[0]})).join(","),a=t.map((function(t,n){return t[0]+e[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+o+" start = "+o+"("+i+");\n      "+o+" end = "+o+"("+a+");\n\n      void main() {\n        "+o+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+o+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+i+";\n        int end = "+a+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},ra=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));for(var r=e.length,o=Ao(r),i=t.map((function(e){return e[0]})).join(","),a=t.map((function(t,n){return t[0]+e[n]})).join(","),s=wo("rc",r),u=wo("source",r),l=s[r-1]+" < "+this.outputShape[r-1],c=1===r?"source":"vec2("+u.slice(-2).join()+")",p=[o+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+l+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+l+") {"],d=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="",f=0,m=1===r?2:4;f<m;f++)h+="\n        "+p[f]+"\n        if ("+d+") {\n          result["+f+"] = float("+n+");\n        } else {\n          "+o+" source = rc - start;\n          result["+f+"] = getChannel(getX("+u.join()+"), "+c+");\n        }\n      ";h+=1===r?"} ":"}}",this.userCode="\n      const "+o+" start = "+o+"("+i+");\n      const "+o+" end = "+o+"("+a+");\n\n      void main() {\n        "+o+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+h+"\n        setOutput(result);\n      }\n    "},oa=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,s=e.dilationWidth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;var d="avg"===t,h="0.0";if(d||(h="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+o+", "+i+");\n        const ivec2 pads = ivec2("+c+", "+p+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+a+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+l+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+l+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var f=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(f="avgValue / count");var m=4*Math.floor(r/4),g=r%4,v="\n      if ("+d+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+o+", "+i+");\n      const ivec2 pads = ivec2("+c+", "+p+");\n      const float initializationValue = "+h+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+h+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+u+";\n            wR += "+a+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+m+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+v+"\n          }\n\n          int xC = xCCorner + "+m+";\n          if ("+(1===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+v+"\n          } else if ("+(2===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+v+"\n          } else if ("+(3===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+v+"\n          }\n        }\n        setOutput("+f+");\n      }\n    "}},ia=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,p=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.front,f=e.padInfo.top,m=e.padInfo.left;this.outputShape=e.outShape;var g="avg"===t,v="0.0";if(g||(v="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+o+", "+i+", "+a+");\n        const ivec3 pads = ivec3("+h+", "+f+", "+m+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+c+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+p+";\n                wR += "+u+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+d+";\n                  wC += "+l+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+p+" * "+d+" +\n                      wR * "+d+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var y=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(y="avgValue / count");var b=4*Math.floor(r/4),x=r%4,w="\n      if ("+g+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+o+", "+i+", "+a+");\n      const ivec3 pads = ivec3("+h+", "+f+", "+m+");\n      const float initializationValue = "+v+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+v+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+p+";\n            wR += "+u+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+b+"; wC += 4) {\n              int xC = xCCorner + wC * "+l+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+l+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+l+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+l+", ch)\n              );\n\n              "+w+"\n            }\n\n            int xC = xCCorner + "+b+";\n            if ("+(1===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(2===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+l+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(3===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+l+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+l+", ch),\n                initializationValue\n              );\n\n              "+w+"\n            }\n          }\n          setOutput("+y+");\n        }\n      }\n    "}},aa=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=Math.ceil(o/n);this.outputShape=[r,i];var a="0.0",s="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 1e-20",s="min"):"max"===t&&(a="-1.0 / 1e-20",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?u="sumValue":"prod"===t?u="prodValue":"all"===t?u="allValue":"any"===t&&(u="anyValue");var l=4*Math.floor(n/4),c=n%4,p="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",d="vec4";"all"===t?(a="1.0",p="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(a="0.0",p="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");var h="";o%n>0&&(h="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+a+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+h+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+a+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+l+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+p+"\n        }\n\n        int inIdx = inOffset + "+l+";\n        if ("+(1===c)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+p+"\n        } else if ("+(2===c)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+p+"\n        } else if ("+(3===c)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+p+"\n        }\n        setOutput("+u+");\n      }\n    "},sa=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var o="thisRC = rc;";r%2==1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),n+="\n        "+o+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+_o(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+Po(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},ua=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,s=a[1],u=a[2],l=[n&&s>1?o-1:o,n&&u>1?i-1:i],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],p=l[0]/c[0],d=l[1]/c[1],h=1/p,f=1/d,m=2*Math.ceil(h)+2,g=2*Math.ceil(f)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+p+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+f+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(o-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(i-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},la=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?a-1:a],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},ca=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?a-1:a],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+",\n          "+u[1]/l[1]+");\n      const vec3 inputShapeRC = vec3("+i+".0, "+a+".0,\n                                     "+a+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},pa=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,s=a[1],u=a[2],l=[n&&s>1?o-1:o,n&&u>1?i-1:i],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],p=l[0]/c[0],d=l[1]/c[1],h=1/p,f=1/d,m=2*Math.ceil(h)+2,g=2*Math.ceil(f)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+p+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+f+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+l[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+l[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},da=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?a-1:a],l=[r&&t>1?t-1:t,r&&n>1?n-1:n],c=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+c+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},ha=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map((function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)})).join(","),o=Ao(n);this.userCode="\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},fa=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=wo("rc",n),o=r[n-1]+" + 1 < "+this.outputShape[n-1],i=r[n-2]+" + 1 < "+this.outputShape[n-2],a=Ao(n);function s(n){var r=e.map((function(r,o){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(o,n)}));return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+o+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+a+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(e){return s(e)}(r.slice())+";\n          if("+o+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+i+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+o+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},ma=function(e,t,n,r,o,i,a){void 0===a&&(a=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var s=Ao(o.length),u=Ao(i.length),l="";1===n?l="i":2===n&&(l="i, j");var c="getIndices("+l+")",p="";1===r?p="i":2===r&&(p="i, coords[1]");var d="getUpdates("+p+")",h=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+o+");\n\n        void main() {\n          "+u+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+c+");\n              flattenedIndex += index * "+h+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+d+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},ga=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=e.numSegments,a=i*Math.ceil(o/n);this.outputShape=[r,a];var s=4*Math.floor(n/4),u=n%4,l="\n        sumValue += dot(values, segFilter);\n    ",c="";o%n>0&&(c="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      ");var p="";o%n>0&&(p="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+c+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+p+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+i+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+i+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+l+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+l+"\n        } else if ("+(2===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+l+"\n        } else if ("+(3===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+l+"\n        }\n        setOutput(sumValue);\n      }\n    "},va=function(e,t,n){var r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)o="resRC",r="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],s=[],u=0;u<t.length;u++)s.push(""+i[u]),u<e&&a.push(""+i[u]);r=a.join(),o=s.join()}var l=Ao(n);this.userCode="\n      void main() {\n        "+l+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+o+"));\n        } else {\n          setOutput(getB("+o+"));\n        }\n      }\n    "},ya=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=Ao(this.rank),r="uniform int start["+this.rank+"];",o=function(e){if(1===e)return"sourceLoc";if(e<=6)return ba.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map((function(e,t){return"sourceLoc."+ba[t]+" = start["+t+"] + coords."+ba[t]+";"})).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+o+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),ba=["x","y","z","w","u","v"],xa=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=Ao(this.rank),n=wo("coords",this.rank),r=wo("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",i="getChannel(getSource("+r.join()+"), "+o+")",a="\n      result.x = "+i+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+i+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+i+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+i+";\n        }\n      }\n    ",u=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map((function(e,t){return"start["+t+"]"})).join()+");":e.map((function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"})).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+u+"\n        vec4 result = vec4(0.);\n        "+a+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),wa=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,o=Ao(n.length),i=Ao(n.length),a="";if(1===r)a="coords * strides + begin";else{var s=0;a=n.map((function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"})).join(",")}this.userCode="\n      "+o+" begin = "+o+"("+e+");\n      "+o+" strides = "+o+"("+t+");\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "},Ca=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,o=_a(t,n),i=Pa(e,o,n);if(i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]),this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var a=this.freeTextures[i].shift();return this.usedTextures[i].push(a),a}return this.numUsedTextures++,this.log(),o===je.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):o===je.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):o===je.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):o===je.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):o===je.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var o=Pa(t,_a(n,r),r);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(e),this.numFreeTextures++,this.numUsedTextures--;var i=this.usedTextures[o],a=i.indexOf(e);if(a<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(a,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));for(var t in this.usedTextures)this.usedTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function _a(e,t){if(e===qe.UPLOAD)return je.PACKED_2X2_FLOAT32;if(e===qe.RENDER||null==e)return function(e){return d().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?je.PACKED_2X2_FLOAT32:je.UNPACKED_FLOAT32:e?je.PACKED_2X2_FLOAT16:je.UNPACKED_FLOAT16}(t);if(e===qe.DOWNLOAD||e===qe.PIXELS)return je.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function Pa(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var Ea=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var o=Ao(this.rank),i=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],o=0;o<e.length;o++)r.push("imod("+n[o]+", "+e[o]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    "},Sa=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var o=Ao(this.rank),i=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),o=0;o<e.length;o++)r[e[o]]=n[o];return r.join()}(t);this.userCode="\n    void main() {\n      "+o+" resRC = getOutputCoords();\n      setOutput(getA("+i+"));\n    }\n    "},ka=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var o=Ao(this.rank),i=xo("rc",this.rank),a=new Array(this.rank);for(r=0;r<t.length;r++)a[t[r]]=i[r];var s="vec2("+a.slice(-2).join()+")",u="++"+i[this.rank-1]+" < "+n[this.rank-1],l="getChannel(getA("+a.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+o+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+l+";\n      if("+u+") {\n        result[1] = "+l+";\n      }\n      --"+i[this.rank-1]+";\n      if(++"+i[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+l+";\n        if("+u+") {\n          result[3] = "+l+";\n        }\n      }\n      setOutput(result);\n    }\n    "},Ta=1.7580993408473768,Ra=1.0507009873554805,Oa=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Ia="if (isnan(x)) return x;",Va="return abs(x);",Aa=Ia+"\n  return (x < 0.0) ? 0.0 : x;\n",Da=Ia+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Na="return (x >= 0.0) ? x : (exp(x) - 1.0);",La="return -x;",Fa="return ceil(x);",Ma="return floor(x);",qa="return exp(x);",ja="return exp(x) - 1.0;",Ba="return x;",za="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Ua="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Wa="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Ha=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Qa=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=wo("rc",t),r=Ao(t),o=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),i=n.slice(-2),a=t<=1?"rc":"vec2("+i.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+o+");\n\n        setOutput(getChannel(packedInput, "+a+"));\n      }\n    "},Ga={};function $a(e,t){if(void 0===t&&(t=!1),"linear"===e)return"return x;";if("relu"===e)return t?za:Aa;if("elu"===e)return t?Wa:Na;if("relu6"===e)return t?Ua:Da;if("prelu"===e)return t?Go:Ho;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var Ka=function(e){function t(t){var n,r=e.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!d().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var o=We(d().getNumber("WEBGL_VERSION"));r.binaryCache=((n=d().getNumber("WEBGL_VERSION"))in Ga||(Ga[n]={}),Ga[n]),r.gpgpu=new Wi(o),r.canvas=o.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new Ca(r.gpgpu),r.numMBBeforeWarning=null==d().global.screen?1024:d().global.screen.height*d().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new Ar(r,Ne),r}return s(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(e,t,n){if(d().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:qe.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(d().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:qe.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,o=t.complexTensors,i=t.slice,a=t.shape,s=t.isPacked;if(null!=i){var u;u=s?new Ha(a,Ba):new Oa(a,Ba);var l=this.runWebGLProgram(u,[{dataId:e,shape:a,dtype:r}],r),c=this.readSync(l.dataId);return this.disposeData(l.dataId),c}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var p,d,h=null!=this.activeTimers;return h&&(p=oe()),d="complex64"===r?eo(o.real.dataSync(),o.imag.dataSync()):this.getValuesFromTexture(e),h&&(this.downloadWaitMs+=oe()-p),this.convertAndCacheOnCPU(e,d)},t.prototype.read=function(e){return u(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,p,h,f,m,g,v,y,b,x,w,C,_,P;return l(this,(function(l){switch(l.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise((function(e){return t.push(e)}))];if(n=this.texData.get(e),r=n.values,o=n.shape,i=n.slice,a=n.dtype,s=n.complexTensors,u=n.isPacked,null!=i)return void 0,c=u?new Ha(o,Ba):new Oa(o,Ba),p=this.runWebGLProgram(c,[{dataId:e,shape:o,dtype:a}],a),h=this.read(p.dataId),this.disposeData(p.dataId),[2,h];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!d().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===d().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return f=null,"complex64"!==a&&d().get("WEBGL_BUFFER_SUPPORTED")&&(m=this.decode(e),g=this.texData.get(m.dataId),f=(P=this.gpgpu).createBufferFromTexture.apply(P,[g.texture].concat(Qe(o)))),this.pendingRead.set(e,[]),"complex64"===a?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:l.sent(),l.label=2;case 2:return"complex64"!==a?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return y=l.sent(),b=y[0],x=y[1],v=eo(b,x),[3,5];case 4:null==f?v=this.getValuesFromTexture(e):(w=R(o),v=this.gpgpu.downloadFloat32MatrixFromBuffer(f,w)),l.label=5;case 5:return null!=m&&this.disposeData(m.dataId),C=this.convertAndCacheOnCPU(e,v),_=this.pendingRead.get(e),this.pendingRead.delete(e),_.forEach((function(e){return e(C)})),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,C]}}))}))},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!Je(n)){if(d().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,o=n.dtype,i=n.isPacked,a=R(r);if(d().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),u=this.texData.get(s.dataId),l=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[u.texture].concat(Qe(r))).subarray(0,a);return this.disposeData(s.dataId),l}var c=d().getBool("WEBGL_PACK")&&!0===i,p=c?Et(r):r,h=c?new bi(p):new yi(p),f=this.runWebGLProgram(h,[{shape:p,dtype:o,dataId:e}],"float32"),m=this.texData.get(f.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(m.texture,m.texShape[0],m.texShape[1]).subarray(0,a);return this.disposeData(f.dataId),g},t.prototype.time=function(e){return u(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return l(this,(function(u){switch(u.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),o=T(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),i=T(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e})),this.activeTimers=t,r&&(this.programTimersStack=null),a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(o)]:[3,2];case 1:return s=u.sent(),a.kernelMs=P(s),a.getExtraProfileInfo=function(){return s.map((function(e,t){return{name:i[t],ms:e}})).map((function(e){return e.name+": "+e.ms})).join(", ")},[3,3];case 2:a.kernelMs={error:"WebGL query timers are not supported in this environment."},u.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,a]}}))}))},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:oe(),endMs:null}},t.prototype.endTimer=function(e){return d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=oe(),e)},t.prototype.getQueryTime=function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){return d().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]}))}))},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,o=t.texShape,i=t.usage,a=t.isPacked,s=t.slice,u=s&&s.origDataId||e,l=this.dataRefCount.get(u);l>1?this.dataRefCount.set(u,l-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(o,r),this.textureManager.releaseTexture(n,o,i,a)));var c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return d().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Ne.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every((function(e){return null==n.texData.get(e.dataId).texture&&e.size<t}))},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:Ne.keep(e.clone()),imag:Ne.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===R(n))return ln([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,o=Tr(e.shape,t,n);if(r||!o){var i=d().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xa(n):new ya(n),a=i.getCustomSetupFunc(t);return this.compileAndRun(i,[e],null,a)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),o=this.makeOutput(n,e.dtype),i=this.texData.get(o.dataId);Object.assign(i,r),i.shape=n,i.dtype=e.dtype;var a=Rr(t,e.strides);r.slice&&(a+=r.slice.flatOffset),i.slice={flatOffset:a,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(i.slice.origDataId)||1;return this.dataRefCount.set(i.slice.origDataId,s+1),o},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var o=Er(t,n,r);if(o.some((function(e){return 0===e})))return ln([],o);var i=new wa(t,r,o);return this.compileAndRun(i,[e])},t.prototype.reverse=function(e,t){var n=d().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new fa(e.shape,t):new ha(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map((function(e){return sn(e)})),r=e.map((function(e){return un(e)}));return an(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>d().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(e.length/2),i=this.concat(e.slice(0,o),t),a=this.concat(e.slice(o),t);return this.concat([i,a],t)}if(d().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new Zo(e.map((function(e){return e.shape})),t);return this.compileAndRun(s,e)}var u=rn(e.map((function(e){return e.shape})),t),l=e.map((function(e){return e.as2D(-1,R(e.shape.slice(t)))})),c=new Yo(l.map((function(e){return e.shape})));return this.compileAndRun(c,l).reshape(u)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,La,e.dtype);var t=new Oa(e.shape,La);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var o=n?e.shape[2]:e.shape[1],i=r?t.shape[1]:t.shape[2],a=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===o||1===i)&&a>1e3){n&&(e=e.transpose([0,2,1])),r&&(t=t.transpose([0,2,1]));var u=1===i?e:e.as3D(s,a,1),l=1===i?2:1,c=1===i?t.as3D(s,1,a):t;return this.multiply(u,c).sum(l,!0)}var p=ke(e.dtype,t.dtype),d=new Yi(e.shape,[s,o,i],n,r);return this.compileAndRun(d,[e,t],p)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,o=e.transposeB,i=e.bias,a=e.activation,s=e.preluActivationWeights,u=r?t.shape[2]:t.shape[1],l=o?n.shape[1]:n.shape[2],c=t.shape[0],p=ke(t.dtype,n.dtype),d=null!=i,h=null!=s,f=a?$a(a,!0):null,m=new Yi(t.shape,[c,u,l],r,o,d,f,h),g=[t,n];return i&&g.push(i),s&&g.push(s),this.compileAndRun(m,g,p)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),o=new Bo("return areal * breal - aimag * bimag;",e.shape,t.shape),i=new Bo("return areal * bimag + aimag * breal;",e.shape,t.shape),a=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(o,a),u=this.compileAndRun(i,a),l=this.complex(s,u);return s.dispose(),u.dispose(),l}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Wo,e.dtype);var c=new Qo(Wo,e.shape,t.shape);return this.compileAndRun(c,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,o,i){var a=[e,t,n],s=null;null!=i&&(s=i.shape,a.push(i));var u=null;if(null!=o&&(u=o.shape,a.push(o)),d().getBool("WEBGL_PACK_NORMALIZATION")){var l=new jo(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(l,a)}var c=new qo(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(c,a)},t.prototype.localResponseNormalization4D=function(e,t,n,r,o){var i=d().getBool("WEBGL_PACK_NORMALIZATION")?new Ki(e.shape,t,n,r,o):new Gi(e.shape,t,n,r,o);return this.compileAndRun(i,[e])},t.prototype.LRNGrad=function(e,t,n,r,o,i,a){var s=new $i(t.shape,r,o,i,a);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map((function(e){return se(e)}));return fo(jn(e.shape,e.dtype,n),t)}var r=new Ea(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=d().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ra(e.shape,t,n):new na(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.transpose=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,t);var n=d().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ka(e.shape,t):new Sa(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new Pi(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){E(e.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),o=hr(e.shape,t,r),i=fr(o.length,t.length),a=mr(e.shape,t,r),s=gr(n,t.length),u=vr(a,n,t.length);return e.reshape(o).transpose(i).reshape(a).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){E(e.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),o=[[0,0]];o.push.apply(o,n);for(var i=1+t.length;i<e.shape.length;++i)o.push([0,0]);var a=e.pad(o),s=hr(a.shape,t,r,!1),u=fr(s.length,t.length,!1),l=mr(a.shape,t,r,!1);return a.reshape(s).transpose(u).reshape(l)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],o=e.shape[1],i=br(o),a=new aa({windowSize:i,inSize:o,batchSize:r},t),s=this.compileAndRun(a,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],o=e.shape[1];null!=n&&(r=n.shape[0],o=n.shape[1]);var i=br(o),a=new bo({windowSize:i,inSize:o,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var u=this.compileAndRun(a,s,"int32");return 1===u.shape[1]?u:this.argReduce(e,t,u)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,o=br(r[r.length-1]),i=new Lo(r,o,t,null==n),a=null==n?[e]:[e,n],s=this.compileAndRun(i,a,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){Yt("sum",t,e.rank);var n=Jt(e.shape,t),r=n[0],o=R(n[1]),i=e.as2D(-1,o),a=Te(e.dtype);return this.reduce(i,"sum",a).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=Jt(e.shape,t),r=n[0],o=R(n[1]),i=e.as2D(-1,o),a=Te(e.dtype);return this.reduce(i,"prod",a).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,o=Zt([r],e.rank),i=e;null!=o&&(i=e.transpose(o),r=tn(1,e.rank)[0]);var a=function(e,t,n){for(var r=[],o=e.length,i=0;i<o;i++)i!==t?r.push(e[i]):r.push(n);return r}(i.shape,r,n),s=R([i.shape[r]]),u=i.as2D(-1,s),l=Te(e.dtype),c=this.segOpCompute(u,"unsortedSegmentSum",t,l,n).reshape(a);return null!=o&&(c=c.transpose(en(o))),c},t.prototype.segOpCompute=function(e,t,n,r,o){var i=e.shape[0],a=e.shape[1],s=function(e,t){var n,r=!1;for(e<=30?(n=e,r=!0):n=Y(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=Y(e,n+1);return n}(a,o),u=new ga({windowSize:s,inSize:a,batchSize:i,numSegments:o},t),l=this.compileAndRun(u,[e,n],r);return l.shape[1]===o?l:(n=bn(0,o).tile([a/s]),this.segOpCompute(l,t,n,r,o))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(Yt("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!d().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var o=Jt(e.shape,r),i=o[0],a=R(o[1]),s=e.as2D(-1,a);return this.argReduce(s,n).reshape(i)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var o=new di(e.shape,n,r);return this.compileAndRun(o,[e])},t.prototype.equal=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new Qo("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new Qo("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new Qo("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new Qo("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new Qo("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new Qo("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new Oa(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new Qo("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new Qo("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new va(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],ke(t.dtype,n.dtype))},t.prototype.where=function(e){Ut("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return go(e.shape,t)},t.prototype.topk=function(e,t,n){return mo(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){Yt("min",t,e.rank);var n=Jt(e.shape,t),r=n[0],o=R(n[1]),i=e.as2D(-1,o);return this.reduce(i,"min",i.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $o("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Qo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $o("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Qo("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);Yt("max",t,e.rank);var n=Jt(e.shape,t),r=n[0],o=R(n[1]),i=e.as2D(-1,o);return this.reduce(i,"max",i.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $o("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Qo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){Yt("all",t,e.rank);var n=Jt(e.shape,t),r=n[0],o=R(n[1]),i=e.as2D(-1,o);return this.reduce(i,"all",i.dtype).reshape(r)},t.prototype.any=function(e,t){Yt("any",t,e.rank);var n=Jt(e.shape,t),r=n[0],o=R(n[1]),i=e.as2D(-1,o);return this.reduce(i,"any",i.dtype).reshape(r)},t.prototype.realDivide=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var n=new Qo("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return this.compileAndRun(n,[e,t],"float32")},t.prototype.floorDiv=function(e,t){if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new Qo("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,zo);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=ke(e.dtype,t.dtype);if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,zo,n);var r=new Qo(zo,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new Ha(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,o){void 0===o&&(o=!1);var i=new $o(n,e.shape,t.shape,o);return this.compileAndRun(i,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,o=this.texData.get(e.dataId),i=this.texData.get(t.dataId),a=[[o.complexTensors.real,i.complexTensors.real],[o.complexTensors.imag,i.complexTensors.imag]].map((function(o){var i=o[0],a=o[1],s=r.makeComplexComponentTensorInfo(e,i),u=r.makeComplexComponentTensorInfo(t,a),l=new Qo(n,e.shape,t.shape);return r.compileAndRun(l,[s,u],ke(i.dtype,a.dtype))})),s=a[0],u=a[1],l=this.complex(s,u);return s.dispose(),u.dispose(),l},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>d().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var o=e.map((function(e){return e.dtype})).reduce((function(e,t){return ke(e,t)})),i=e.map((function(e){return e.shape})),a=d().getBool("WEBGL_PACK")?new yo(e[0].shape,i):new vo(e[0].shape,i);return this.compileAndRun(a,e,o)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,Uo);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=ke(e.dtype,t.dtype);if(d().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Uo,e.dtype);var r=new Qo(Uo,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $o("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Qo("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=ke(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Fa,e.dtype);var t=new Oa(e.shape,Fa);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Ma,e.dtype);var t=new Oa(e.shape,Ma);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new Oa(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new Oa(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new Oa(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new Oa(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new Oa(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,qa,e.dtype);var t=new Oa(e.shape,qa);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,ja,e.dtype);var t=new Oa(e.shape,ja);return this.compileAndRun(t,[e])},t.prototype.softmax=function(e,t){var n=F([t],e.shape),r=this.max(e,n),o=Xt(r.shape,n),i=this.subtract(e,r.reshape(o)),a=this.exp(i),s=this.sum(a,n).reshape(o);return this.realDivide(a,s)},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new Oa(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new Oa(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new Oa(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new Oa(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new Oa(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=d().getBool("WEBGL_PACK")?new Ha(e.shape,za):new Oa(e.shape,Aa),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=d().getBool("WEBGL_PACK")?new Ha(e.shape,Ua):new Oa(e.shape,Da),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $o(Go,e.shape,t.shape):new Qo(Ho,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Wa,e.dtype);var t=new Oa(e.shape,Na);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $o("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new Qo("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new Oa(e.shape,"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = 1.7580993408473768;\n  float scale = 1.0507009873554805;\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n");return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new Oa(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,o=(r=d().getBool("WEBGL_PACK_CLIP")?new Jo(e.shape):new Ko(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,o)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(d().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Va,e.dtype);var t=new Oa(e.shape,Va);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new Xo(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new Oa(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new Oa(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new Oa(e.shape,"if (isnan(x)) return x;\n  return sin(x);\n");return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new Oa(e.shape,"if (isnan(x)) return x;\n  return cos(x);\n");return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new Oa(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new Oa(e.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n");return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new Oa(e.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n");return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new Oa(e.shape,"if (isnan(x)) return x;\n  return atan(x);\n");return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $o("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Qo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new Oa(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new Oa(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new Oa(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new Oa(e.shape,"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));");return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new Oa(e.shape,"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));");return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new Oa(e.shape,"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;");return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new Oa(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new Oa(e.shape,function(e){return void 0===e&&(e=0),Ia+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,o,i){var a=e.shape,s=this.texData.get(e.dataId),u=n.inChannels,l=a[0]*a[1]*a[2],c=n.outChannels,p="channelsLast"===n.dataFormat,h=(1===l||1===c)&&u>1e3,f=a[2]%2!=0&&!!s.isPacked;if(h||!d().getBool("WEBGL_LAZILY_UNPACK")||!d().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!f){var m=p?a[0]*a[1]*a[2]:a[0]*a[2]*a[3],g=this.reshape(e,[1,m,n.inChannels]),v=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:g,b:v,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:i}),n.outShape)}var y=p?a[0]*a[1]*(a[2]+1):a[0]*a[2]*(a[3]+1),b={dataId:e.dataId,shape:[1,y,n.inChannels],dtype:e.dtype},x=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,E(Tt(s.shape,b.shape),(function(){return"packed reshape "+s.shape+" to "+b.shape+" isn't free"}));var w=this.reshape(t,[1,n.inChannels,n.outChannels]),C=this.fusedBatchMatMul({a:b,b:w,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:i}),_=this.texData.get(C.dataId);return E(_.isPacked,(function(){return"batchMatMul result is expected to be packed"})),s.shape=x,_.shape=n.outShape,Ne.makeTensorFromDataId(C.dataId,n.outShape,C.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,o,i){var a=n.filterWidth,s=n.filterHeight,u=n.inChannels,l=n.outWidth,c=n.outHeight,p="channelsLast"===n.dataFormat,d=a*s*u,h=c*l,f=[d,h],m=e.squeeze([0]),g=t.reshape([1,d,-1]),v=new Qi(f,m.shape,n),y=this.compileAndRun(v,[m]).reshape([1,f[0],f[1]]),b=null!=r,x=null!=i,w=o?$a(o,!0):null,C=new Yi(y.shape,[1,h,n.outChannels],!0,!1,b,w,x),_=[y,g];r&&_.push(r),x&&_.push(i);var P=this.compileAndRun(C,_);return p?P.reshape([1,c,l,n.outChannels]):P.reshape([1,n.outChannels,c,l])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,o,i,a);if(d().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,o,i,a);var s=null!=o,u=null!=a,l=i?$a(i,!1):null,c=new si(r,s,l,u),p=[t,n];return o&&p.push(o),a&&p.push(a),this.compileAndRun(c,p)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(d().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new si(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new ni(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new ti(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,o=e.convInfo,i=e.bias,a=e.activation,s=e.preluActivationWeights,u=d().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1,l=a?$a(a,u):null,c=[n,r],p=null!=i,h=null!=s;return p&&c.push(i),h&&c.push(s),u?(t=new ci(o,p,l,h),this.compileAndRun(t,c)):(t=new li(o,p,l,h),this.compileAndRun(t,c))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return d().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new ci(n),this.compileAndRun(r,[e,t])):(r=new li(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new ai(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new ii(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new ui(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new oi(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new ri(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new oa(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new oa(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var o=new oa(r,"max",!0),i=this.compileAndRun(o,[t]),a=new Ji(r),s=this.compileAndRun(a,[e,i],t.dtype);return i.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new Fo(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return Xr(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),o=0,i=0;i<e.rank;i++)i!==t&&(r[o++]=e.shape[i]);var a=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(i=0;i<u.length;i++)a[t]=i,u[i]=this.slice(e,a,s).reshape(r);return u},t.prototype.avgPool3d=function(e,t){var n=new ia(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new Mo(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new ia(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var o=new ia(r,"max",!0),i=this.compileAndRun(o,[t]),a=new Xi(r),s=this.compileAndRun(a,[e,i],t.dtype);return i.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!Tt(e.shape,t)&&(null===n.texture||!Tt(n.shape,t))){var r=this.packedReshape(e,t);return Ne.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return Yr(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var o=d().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ca(e.shape,t,n,r):new la(e.shape,t,n,r);return this.compileAndRun(o,[e],"float32")},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new ua(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var o=new da(e.shape,t,n,r);return this.compileAndRun(o,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new pa(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var o=t?e:Ir(e),i=o.shape[0],a=o.shape[1],s=new Zi(i,a,n),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[o],"int32",u)},t.prototype.oneHot=function(e,t,n,r){var o=new ea(e.size,t,n,r);return this.compileAndRun(o,[e])},t.prototype.diag=function(e){var t=new vi(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,o){return Ut("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),ao(e.dataSync(),t.dataSync(),n,r,o)},t.prototype.cropAndResize=function(e,t,n,r,o,i){var a=new pi(e.shape,t.shape,r,o,i);return this.compileAndRun(a,[e,t,n],"float32")},t.prototype.depthToSpace=function(e,t,n){E(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));var r=e.shape[0],o="NHWC"===n?e.shape[1]:e.shape[2],i="NHWC"===n?e.shape[2]:e.shape[3],a="NHWC"===n?e.shape[3]:e.shape[1],s=o*t,u=i*t,l=a/(t*t),c=new gi("NHWC"===n?[r,s,u,l]:[r,l,s,u],t,n);return this.compileAndRun(c,[e])},t.prototype.split=function(e,t,n){return ho(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=Cr(0,e,n),o=r.sliceRank,i=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,l=[u/a,a],c=e.reshape([i,o]),p=t.reshape([i,a]);if(0===u)return Yr(ln([]),n);var d=pn(0),h=new ma(i,o,c.rank,p.rank,s,l);return this.compileAndRun(h,[p,c,d]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var o=Cr(0,e,n),i=o.sliceRank,a=o.numUpdates,s=o.strides,u=o.outputSize,l=new ma(a,i,e.rank,t.rank,s,[u,1],!1);return this.compileAndRun(l,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new Ci("return real * expR - imag * expI;",e.shape,t),o=new Ci("return real * expI + imag * expR;",e.shape,t),i=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],a=this.compileAndRun(r,i),s=this.compileAndRun(o,i),u=this.complex(a,s).as2D(e.shape[0],e.shape[1]);return a.dispose(),s.dispose(),u},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=yr(e,t),i=o[0],a=o[1],s=o[2],u=o[3],l=t.reshape([a,r]),c=e.reshape([e.size/s,s]),p=new Ei(r,u,[a,s]);return this.compileAndRun(p,[c,l]).reshape(i)},t.prototype.fill=function(e,t,n){if("string"===(n=n||J(t))){var r=j(n,R(e));return r.fill(t),Ne.makeTensor(r,e,n,this)}var o=new _i(e,t),i=o.getCustomSetupFunc(t);return this.compileAndRun(o,[],n,i)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return Zr(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return Ne.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new Qa(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new ta(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[_t(e.shape)].concat(Pt(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},o=[_t(t)].concat(Pt(t)),i=new sa(o,n),a=this.runWebGLProgram(i,[r],e.dtype,null,!0);return{dataId:a.dataId,shape:t,dtype:a.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,o=n.shape,i=n.dtype,a=Et(o);return t=r?new mi(a):new fi(a),{dtype:i,shape:o,dataId:this.runWebGLProgram(t,[{shape:a,dtype:i,dataId:e}],i,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,o){var i=this;void 0===o&&(o=!1);var a=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(a.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===Me.DENSE){var u=Qe(e.outputShape);s.texShape=u.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===R(a.shape))return s.values=q(a.dtype,0),a;var l=[],c=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=i.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&R(t.shape)<=d().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?i.unpackTensor(t):i.packTensor(t),l.push(t),n=i.texData.get(t.dataId);else if(n.isPacked&&!Tt(n.shape,t.shape)){var r=t,o=t.shape;t.shape=n.shape,t=i.packedReshape(t,o),l.push(t),n=i.texData.get(t.dataId),r.shape=o}return i.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(a.dataId);var p,h={shape:a.shape,texData:s,isUniform:!1},f=function(e,t,n){var r="";t.concat(n).forEach((function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t}));var o=e.userCode;return e.constructor.name+"_"+r+"_"+o}(e,c,h),m=this.getAndSaveBinary(f,(function(){return function(e,t,n,r){var o=t.userCode,i=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),a=i.map((function(e){return e.shapeInfo})),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},u=So(i,s,o,t.packedInputs),l=e.createProgram(u),c=null,p=e.getUniformLocation(l,"NAN",!1);1===d().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(l,"INFINITY",!1));for(var h={},f=0;f<t.variableNames.length;f++){var m=t.variableNames[f];h[m]=e.getUniformLocation(l,m,!1),h["offset"+m]=e.getUniformLocation(l,"offset"+m,!1)}return{program:t,source:u,webGLProgram:l,uniformLocations:h,inShapeInfos:a,outShapeInfo:s,infLoc:c,nanLoc:p}}(i.gpgpu,e,c,h)})),g=null!=this.activeTimers;if(g&&(p=this.startTimer()),function(e,t,n,r,o){Hi(t.inShapeInfos,n),Hi([t.outShapeInfo],[r]);var i=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i,a[0],a[1]):e.setOutputMatrixTexture(i,a[0],a[1]),e.setProgram(t.webGLProgram),1===d().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var o=t.program.variableNames[r],i=t.uniformLocations[o],a=t.uniformLocations["offset"+o];if(null!=i)if(n.isUniform)if(R(n.shape)<2)e.gl.uniform1f(i,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(i,s)}else null!=n.texData.slice&&null!=a&&e.gl.uniform1i(a,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,i,r)})),null!=o&&o(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,m,c,h,r),l.forEach((function(e){return i.disposeData(e.dataId)})),g&&(p=this.endTimer(p),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(p)})),!d().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===o){var v=this.unpackTensor(a);return this.disposeData(a.dataId),v}return a},t.prototype.compileAndRun=function(e,t,n,r,o){void 0===o&&(o=!1),n=n||t[0].dtype;var i=this.runWebGLProgram(e,t,n,r,o);return Ne.makeTensorFromDataId(i.dataId,i.shape,i.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var e=this;this.disposed||(d().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]})),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Bt((function(){if(!d().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=d().getBool("DEBUG");d().set("DEBUG",!1);var n=e.abs(pn(1e-8)).dataSync()[0];if(d().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,o=n.dtype,i=n.values,a=n.texture,s=n.usage,u=n.isPacked;if(null==a){var l,c=null!=this.activeTimers;c&&(l=oe());var p=n.texShape;if(null==p&&(p=St(r,u),n.texShape=p),null!=i){var d=Et(r),h=void 0,f=p[1],m=p[0],g=i instanceof Uint8Array;u?(f=(t=Ge(p[0],p[1]))[0],m=t[1],h=new wi(d,[m,f],g)):h=new xi(d,[m,f],g);var v=this.makeTensorInfo([m,f],o);this.texData.get(v.dataId).usage=g?qe.PIXELS:qe.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(v.dataId),f,m,i);var y=this.runWebGLProgram(h,[v],o,null,!0),b=this.texData.get(y.dataId);n.texture=b.texture,n.texShape=b.texShape,n.isPacked=b.isPacked,n.usage=b.usage,this.disposeData(v.dataId),this.texData.delete(y.dataId),n.values=null,c&&(this.uploadWaitMs+=oe()-l)}else{var x=this.acquireTexture(p,s,o,u);n.texture=x}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+o+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*H(t)},t}(Dr);Le()&&Ne.registerBackend("webgl",(function(){return new Ka}),2);var Ja=on({square_:function(e){var t=Qt(e,"x","square"),n=[t];return Ne.runKernelFunc((function(e,n){return n([t]),e.square(t)}),{x:t},null,"Square",{},n,[])}}),Xa="SquaredDifference",Ya=on({squaredDifference_:function(e,t){var n,r=Qt(e,"a","squaredDifference"),o=Qt(t,"b","squaredDifference");n=Re(r,o),r=n[0],o=n[1],Mr(r.shape,o.shape);var i={a:r,b:o},a=[r,o];return Ne.runKernelFunc((function(e,t){var n=e.squaredDifference(r,o);return t([r,o]),n}),i,(function(e,t){var n=t[0],r=t[1],o=pn(2);return{a:function(){return e.mul(n.sub(r).mul(o))},b:function(){return e.mul(r.sub(n).mul(o))}}}),Xa,{},a,[])}}),Za=on({abs_:function(e){var t=Qt(e,"x","abs");return"complex64"===t.dtype?Ne.runKernelFunc((function(e){return e.complexAbs(t)}),{$x:t}):Ne.runKernelFunc((function(e,n){var r=e.abs(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}}),"Abs")}}),es=on({acos_:function(e){var t=Qt(e,"x","acos");return Ne.runKernelFunc((function(e,n){var r=e.acos(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(pn(1).sub(n.toFloat().square()).sqrt()).neg()}}}))}}),ts=on({acosh_:function(e){var t=Qt(e,"x","acosh");return Ne.runKernelFunc((function(e,n){var r=e.acosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}}))}}),ns=on({asin_:function(e){var t=Qt(e,"x","asin");return Ne.runKernelFunc((function(e,n){var r=e.asin(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(pn(1).sub(n.toFloat().square()).sqrt())}}}))}}),rs=on({asinh_:function(e){var t=Qt(e,"x","asinh");return Ne.runKernelFunc((function(e,n){var r=e.asinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(pn(1).add(n.toFloat().square()).sqrt())}}}))}}),os=on({atan_:function(e){var t=Qt(e,"x","atan");return Ne.runKernelFunc((function(e,n){var r=e.atan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}}))}}),is=on({atanh_:function(e){var t=Qt(e,"x","atanh");return Ne.runKernelFunc((function(e,n){var r=e.atanh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(pn(1).sub(n.toFloat().square()))}}}))}}),as=on({ceil_:function(e){var t=Qt(e,"x","ceil");return Ne.runKernelFunc((function(e){return e.ceil(t)}),{$x:t},(function(e){return{$x:function(){return wn(e)}}}))}}),ss=on({clipByValue_:function(e,t,n){var r=Qt(e,"x","clipByValue");E(t<=n,(function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."}));var o=[r],i={min:t,max:n};return Ne.runKernelFunc((function(e,o){var i=e.clip(r,t,n);return o([r]),i}),{x:r},(function(e,r){var o=r[0];return{x:function(){return e.where(o.greaterEqual(t).logicalAnd(o.lessEqual(n)),wn(e))}}}),"ClipByValue",i,o)}}),us=on({cos_:function(e){var t=Qt(e,"x","cos"),n=[t];return Ne.runKernelFunc((function(e,n){var r=e.cos(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().sin().neg().mul(e)}}}),"Cos",{},n)}}),ls=on({cosh_:function(e){var t=Qt(e,"x","cosh");return Ne.runKernelFunc((function(e,n){var r=e.cosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}}))}}),cs=on({erf_:function(e){var t=Qt(e,"x","erf");return E("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=t.toFloat()),Ne.runKernelFunc((function(e,n){var r=e.erf(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),ps=on({exp_:function(e){var t=Qt(e,"x","exp");return Ne.runKernelFunc((function(e,n){var r=e.exp(t);return n([r]),r}),{x:t},(function(e,t){return{x:function(){return e.mulStrict(t[0])}}}),"Exp",{},[],[!0])}}),ds=on({expm1_:function(e){var t=Qt(e,"x","expm1");return Ne.runKernelFunc((function(e,n){var r=e.expm1(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}}))}}),hs=on({floor_:function(e){var t=Qt(e,"x","floor");return Ne.runKernelFunc((function(e){return e.floor(t)}),{$x:t},(function(e){return{$x:function(){return wn(e)}}}))}}),fs=on({log_:function(e){var t=Qt(e,"x","log"),n=[t];return Ne.runKernelFunc((function(e,n){var r=e.log(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.toFloat())}}}),"Log",{},n)}}),ms=on({log1p_:function(e){var t=Qt(e,"x","log1p");return Ne.runKernelFunc((function(e,n){var r=e.log1p(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}}))}}),gs=on({logSigmoid_:function(e){var t=Qt(e,"x","logSigmoid");return Ne.runKernelFunc((function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}}))}}),vs=on({neg_:function(e){var t=Qt(e,"x","neg"),n=[t];return Ne.runKernelFunc((function(e){return e.neg(t)}),{x:t},(function(e){return{x:function(){return e.neg()}}}),"Neg",{},n)}}),ys=on({reciprocal_:function(e){var t=Qt(e,"x","reciprocal");return Ne.runKernelFunc((function(e,n){var r=e.reciprocal(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}}))}}),bs=on({round_:function(e){var t=Qt(e,"x","round");return Ne.runKernelFunc((function(e){return e.round(t)}),{$x:t},(function(e){return{$x:function(){return wn(e)}}}))}}),xs=on({rsqrt_:function(e){var t=Qt(e,"x","rsqrt"),n=[t];return Ne.runKernelFunc((function(e,n){var r=e.rsqrt(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},n)}}),ws=on({sigmoid_:function(e){var t=Qt(e,"x","sigmoid");return Ne.runKernelFunc((function(e,n){var r=e.sigmoid(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(pn(1).sub(n)))}}}),"Sigmoid")}}),Cs=on({sign_:function(e){var t=Qt(e,"x","sign");return Ne.runKernelFunc((function(e){return e.sign(t)}),{$x:t},(function(e){return{$x:function(){return wn(e)}}}))}}),_s=on({isNaN_:function(e){var t=Qt(e,"x","isNaN");return Ne.runKernelFunc((function(e){return e.isNaN(t)}),{$x:t},(function(e){return{$x:function(){return wn(e)}}}))}}),Ps=on({isInf_:function(e){var t=Qt(e,"x","isInf");return Ne.runKernelFunc((function(e){return e.isInf(t)}),{$x:t},(function(e){return{$x:function(){return wn(e)}}}))}}),Es=on({isFinite_:function(e){var t=Qt(e,"x","isFinite");return Ne.runKernelFunc((function(e){return e.isFinite(t)}),{$x:t},(function(e){return{$x:function(){return wn(e)}}}))}}),Ss=on({sin_:function(e){var t=Qt(e,"x","sin"),n=[t];return Ne.runKernelFunc((function(e,n){var r=e.sin(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().cos().mul(e)}}}),"Sin",{},n)}}),ks=on({sinh_:function(e){var t=Qt(e,"x","sinh");return Ne.runKernelFunc((function(e,n){var r=e.sinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}}))}}),Ts=on({softplus_:function(e){var t=Qt(e,"x","softplus");return Ne.runKernelFunc((function(e,n){var r=e.softplus(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}}))}}),Rs=on({sqrt_:function(e){var t=Qt(e,"x","sqrt");return Ne.runKernelFunc((function(e,n){var r=e.sqrt(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}}))}}),Os=on({step_:function(e,t){void 0===t&&(t=0);var n=Qt(e,"x","step");return Ne.runKernelFunc((function(e){return e.step(n,t)}),{$x:n},(function(e){return{$x:function(){return wn(e)}}}))}}),Is=on({tan_:function(e){var t=Qt(e,"x","tan");return Ne.runKernelFunc((function(e,n){var r=e.tan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}}))}}),Vs=on({tanh_:function(e){var t=Qt(e,"x","tanh");return Ne.runKernelFunc((function(e,n){var r=e.tanh(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return pn(1).sub(n.square()).mulStrict(e)}}}),"Tanh",{},null,[!0])}});function As(e,t,n,r,o,i){var a,s,u=Qt(e,"x","batchNorm"),l=Qt(t,"mean","batchNorm"),c=Qt(n,"variance","batchNorm");return null!=o&&(a=Qt(o,"scale","batchNorm")),null!=r&&(s=Qt(r,"offset","batchNorm")),E(2===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),E(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+l.rank+"."})),E(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."})),null!=a&&E(2===a.rank||1===a.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+a.rank+"."})),null!=s&&E(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."})),Ls(u,l,c,s,a,i)}function Ds(e,t,n,r,o,i){var a,s,u=Qt(e,"x","batchNorm"),l=Qt(t,"mean","batchNorm"),c=Qt(n,"variance","batchNorm");return null!=o&&(a=Qt(o,"scale","batchNorm")),null!=r&&(s=Qt(r,"offset","batchNorm")),E(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),E(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+l.rank+"."})),E(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."})),null!=a&&E(3===a.rank||1===a.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+a.rank+"."})),null!=s&&E(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."})),Ls(u,l,c,s,a,i)}function Ns(e,t,n,r,o,i){var a,s,u=Qt(e,"x","batchNorm"),l=Qt(t,"mean","batchNorm"),c=Qt(n,"variance","batchNorm");return null!=o&&(a=Qt(o,"scale","batchNorm")),null!=r&&(s=Qt(r,"offset","batchNorm")),E(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."})),E(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+l.rank+"."})),E(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."})),null!=a&&E(4===a.rank||1===a.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+a.rank+"."})),null!=s&&E(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."})),Ls(u,l,c,s,a,i)}function Ls(e,t,n,r,o,i){null==i&&(i=.001);var a,s,u,l=Qt(e,"x","batchNorm"),c=Qt(t,"mean","batchNorm"),p=Qt(n,"variance","batchNorm");null!=o&&(a=Qt(o,"scale","batchNorm")),null!=r&&(s=Qt(r,"offset","batchNorm")),E(c.rank===p.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),E(null==s||c.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),E(null==a||c.rank===a.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),u=0===l.rank||1===l.rank?l.as4D(1,1,1,l.size):2===l.rank?l.as4D(1,1,l.shape[0],l.shape[1]):3===l.rank?l.as4D(1,l.shape[0],l.shape[1],l.shape[2]):l;var d=[l,c,p,a];return Ne.runKernelFunc((function(e,t){var n=e.batchNormalization(u,Fs(c),Fs(p),i,Fs(a),Fs(s));return t([l,c,p,a]),n}),{x:l,mean:c,variance:p,scale:a,offset:s},(function(e,t){var n=t,r=n[0],o=n[1],a=n[2],s=n[3],l=null==s?pn(1):s,c=Fr(o.shape,u.shape),p=[];if(1===o.rank){for(var d=0;d<u.shape.length-1;++d)p.push(u.shape[d]);p.push(1)}var h=r.sub(o),f=e.mul(l),m=xs(a.add(pn(i))),g=m.mul(m).mul(m).mul(pn(-.5));return{x:function(){return 1===o.rank?e.mul(cr(m.as4D(1,1,1,o.shape[0]),p)).mul(l).reshape(r.shape):e.mul(m).mul(l).reshape(r.shape)},mean:function(){var e=m.mul(pn(-1)).mul(f);return 1===o.rank&&(e=e.sum(c)),e.reshape(o.shape)},variance:function(){var e=g.mul(h).mul(f);return 1===o.rank&&(e=e.sum(c)),e.reshape(o.shape)},scale:function(){var t=h.mul(m),n=e.mul(t);return 1===o.rank&&(n=n.sum(c)),n.reshape(o.shape)},offset:function(){var t=e;return 1===o.rank&&(t=t.sum(c)),t.reshape(o.shape)}}}),"BatchNormalization",{varianceEpsilon:i},d).reshape(l.shape)}function Fs(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function Ms(){jt("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var qs=on({batchNormalization2d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),Ms(),As(e,t,n,i,o,r)}}),js=on({batchNormalization3d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),Ms(),Ds(e,t,n,i,o,r)}}),Bs=on({batchNormalization4d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),Ms(),Ns(e,t,n,i,o,r)}}),zs=on({batchNormalization_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),Ms(),Ls(e,t,n,i,o,r)}}),Us=on({batchNorm_:Ls}),Ws=on({batchNorm2d_:As}),Hs=on({batchNorm3d_:Ds}),Qs=on({batchNorm4d_:Ns}),Gs=on({logicalAnd_:function(e,t){var n=Qt(e,"a","logicalAnd","bool"),r=Qt(t,"b","logicalAnd","bool");return Mr(n.shape,r.shape),Ne.runKernelFunc((function(e){return e.logicalAnd(n,r)}),{a:n,b:r},null,"LogicalAnd")}}),$s=on({logicalNot_:function(e){var t=Qt(e,"x","logicalNot","bool");return Ne.runKernelFunc((function(e){return e.logicalNot(t)}),{$x:t})}}),Ks=on({logicalOr_:function(e,t){var n=Qt(e,"a","logicalOr","bool"),r=Qt(t,"b","logicalOr","bool");return Mr(n.shape,r.shape),Ne.runKernelFunc((function(e){return e.logicalOr(n,r)}),{$a:n,$b:r})}}),Js=on({logicalXor_:function(e,t){var n=Qt(e,"a","logicalXor","bool"),r=Qt(t,"b","logicalXor","bool");return Mr(n.shape,r.shape),Ks(e,t).logicalAnd(Gs(e,t).logicalNot())}}),Xs=on({where_:function(e,t,n){var r=Qt(t,"a","where"),o=Qt(n,"b","where"),i=Qt(e,"condition","where","bool");return S(r.shape,o.shape,"Error in where: "),1===i.rank?E(i.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):S(i.shape,o.shape,"Error in where: "),Ne.runKernelFunc((function(e,t){var n=e.select(i,r,o);return t([i]),n}),{$condition:i,$a:r,$b:o},(function(e,t){var n=t[0];return{$condition:function(){return wn(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}}))}}),Ys=function(e){return u(this,void 0,void 0,(function(){var t,n,r;return l(this,(function(o){switch(o.label){case 0:return[4,(t=Qt(e,"condition","whereAsync","bool")).data()];case 1:return n=o.sent(),r=go(t.shape,n),e!==t&&t.dispose(),[2,r]}}))}))},Zs=on({add_:function(e,t){var n,r=Qt(e,"a","add"),o=Qt(t,"b","add");n=Re(r,o),r=n[0],o=n[1];var i=Mr(r.shape,o.shape);return Ne.runKernelFunc((function(e){return e.add(r,o)}),{a:r,b:o},(function(e){return{a:function(){var t=e,n=Fr(r.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Fr(o.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(o.shape)}}}),"Add")}}),eu=on({addN_:function(e){E(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),E(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length}));var t=e.map((function(e,t){return Qt(e,"tensors"+t,"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!O(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return Ne.runKernelFunc((function(e){return e.addN(t)}),r,(function(e){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}),"AddN")}}),tu=on({addStrict_:function(e,t){var n=Qt(e,"a","addStrict"),r=Qt(t,"b","addStrict");return S(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),nu=on({atan2_:function(e,t){var n,r=Qt(e,"a","atan2"),o=Qt(t,"b","atan2");n=Re(r,o),r=n[0],o=n[1];var i=Mr(r.shape,o.shape);return Ne.runKernelFunc((function(e,t){var n=e.atan2(r,o);return t([r,o]),n}),{$a:r,$b:o},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=Zs(n.square(),r.square()),o=e.mul(r.div(t)),a=Fr(n.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(n.shape)},$b:function(){var t=Zs(n.square(),r.square()),o=vs(e.mul(n.div(t))),a=Fr(r.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(r.shape)}}}))}}),ru=on({div_:function(e,t){var n,r=Qt(e,"a","div"),o=Qt(t,"b","div");if(n=Re(r,o),r=n[0],o=n[1],"int32"===r.dtype&&"int32"===o.dtype)return au(r,o);var i=Mr(r.shape,o.shape);return Ne.runKernelFunc((function(e,t){var n=e.realDivide(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),o=Fr(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=Fr(r.shape,i);o.length>0&&(t=t.sum(o).reshape(r.shape));var a=r.square();return t.div(a.toFloat()).neg()}}}),"Div")}}),ou=on({divNoNan_:function(e,t){var n,r=Qt(e,"a","div"),o=Qt(t,"b","div");r=(n=Re(r,o))[0],o=n[1];var i=ru(r,o),a=wn(i),s=o.equal(a);return Xs(s,a,i)}}),iu=on({divStrict_:function(e,t){var n=Qt(e,"a","div"),r=Qt(t,"b","div");return S(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),au=on({floorDiv_:function(e,t){var n,r=Qt(e,"a","floorDiv"),o=Qt(t,"b","floorDiv");n=Re(r,o),r=n[0],o=n[1];var i=Mr(r.shape,o.shape);return Ne.runKernelFunc((function(e,t){var n=e.floorDiv(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),o=Fr(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=Fr(r.shape,i);o.length>0&&(t=t.sum(o).reshape(r.shape));var a=r.square();return t.div(a.toFloat()).neg()}}}),"FloorDiv")}}),su=on({maximum_:function(e,t){var n,r=Qt(e,"a","maximum"),o=Qt(t,"b","maximum");return n=Re(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),Mr(r.shape,o.shape),Ne.runKernelFunc((function(e,t){var n=e.maximum(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.greaterEqual(r).toFloat())},b:function(){return e.mul(n.less(r).toFloat())}}}),"Maximum")}}),uu=on({maximumStrict_:function(e,t){var n=Qt(e,"a","maximumStrict"),r=Qt(t,"b","maximumStrict");return S(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),lu=on({minimum_:function(e,t){var n,r=Qt(e,"a","minimum"),o=Qt(t,"b","minimum");return n=Re(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),Mr(r.shape,o.shape),Ne.runKernelFunc((function(e,t){var n=e.minimum(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.lessEqual(r).toFloat())},b:function(){return e.mul(n.greater(r).toFloat())}}}),"Minimum")}}),cu=on({minimumStrict_:function(e,t){var n=Qt(e,"a","minimumStrict"),r=Qt(t,"b","minimumStrict");return S(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),pu=on({mod_:function(e,t){var n,r=Qt(e,"a","mod"),o=Qt(t,"b","mod");n=Re(r,o),r=n[0],o=n[1];var i=Mr(r.shape,o.shape);return Ne.runKernelFunc((function(e,t){var n=e.mod(r,o);return t([r,o]),n}),{$a:r,$b:o},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=Fr(n.shape,i);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),o=Fr(r.shape,i);return o.length>0?t.sum(o).reshape(r.shape):t}}}))}}),du=on({modStrict_:function(e,t){var n=Qt(e,"a","modStrict"),r=Qt(t,"b","modStrict");return S(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),hu=on({mul_:function(e,t){var n,r=Qt(e,"a","mul"),o=Qt(t,"b","mul");n=Re(r,o),r=n[0],o=n[1];var i=Mr(r.shape,o.shape);return Ne.runKernelFunc((function(e,t){var n=e.multiply(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),o=Fr(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=Fr(r.shape,i);return o.length>0?t.sum(o).reshape(r.shape):t}}}),"Mul")}}),fu=on({mulStrict_:function(e,t){var n=Qt(e,"a","mul"),r=Qt(t,"b","mul");return S(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),mu=on({pow_:function(e,t){var n,r=Qt(e,"base","pow"),o=Qt(t,"exp","pow");n=Re(r,o),r=n[0],o=n[1];var i=Mr(r.shape,o.shape),a=[r,o];return Ne.runKernelFunc((function(e,t){var n=e.pow(r,o);return t([r,o,n]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1],o=t[2];return{a:function(){var t=r.toFloat(),o=e.mul(t.mul(n.pow(t.sub(pn(1))))),a=Fr(n.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(n.shape)},b:function(){var t=n.greater(0),a=n.log().where(t,wn(n)),s=e.mul(o.mul(a)),u=Fr(r.shape,i);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)}}}),"Pow",{},a,[!0])}}),gu=on({powStrict_:function(e,t){return S(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),vu=on({squaredDifferenceStrict_:function(e,t){var n=Qt(e,"a","squaredDifferenceStrict"),r=Qt(t,"b","squaredDifferenceStrict");return S(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),yu=on({sub_:function(e,t){var n,r=Qt(e,"a","sub"),o=Qt(t,"b","sub");n=Re(r,o),r=n[0],o=n[1];var i=Mr(r.shape,o.shape);return Ne.runKernelFunc((function(e){return e.subtract(r,o)}),{a:r,b:o},(function(e){return{a:function(){var t=e,n=Fr(r.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Fr(o.shape,i);return n.length>0&&(t=t.sum(n)),t.neg().reshape(o.shape)}}}),"Sub")}}),bu=on({subStrict_:function(e,t){var n=Qt(e,"a","subStrict"),r=Qt(t,"b","subStrict");return S(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),xu=on({equal_:function(e,t){var n,r=Qt(e,"a","equal"),o=Qt(t,"b","equal");return n=Re(r,o),r=n[0],o=n[1],Mr(r.shape,o.shape),Ne.runKernelFunc((function(e){return e.equal(r,o)}),{$a:r,$b:o})}}),wu=on({equalStrict_:function(e,t){var n=Qt(e,"a","equalStrict"),r=Qt(t,"b","equalStrict");return S(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),Cu=on({greater_:function(e,t){var n,r=Qt(e,"a","greater"),o=Qt(t,"b","greater");return n=Re(r,o),r=n[0],o=n[1],Mr(r.shape,o.shape),Ne.runKernelFunc((function(e){return e.greater(r,o)}),{a:r,b:o},null,"Greater")}}),_u=on({greaterEqual_:function(e,t){var n,r=Qt(e,"a","greaterEqual"),o=Qt(t,"b","greaterEqual");return n=Re(r,o),r=n[0],o=n[1],Mr(r.shape,o.shape),Ne.runKernelFunc((function(e,t){var n=e.greaterEqual(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){return wn(n)},b:function(){return wn(r)}}}),"GreaterEqual")}}),Pu=on({greaterEqualStrict_:function(e,t){var n=Qt(e,"a","greaterEqualStrict"),r=Qt(t,"b","greaterEqualStrict");return S(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Eu=on({greaterStrict_:function(e,t){var n=Qt(e,"a","greaterStrict"),r=Qt(t,"b","greaterStrict");return S(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),Su=on({less_:function(e,t){var n,r=Qt(e,"a","less"),o=Qt(t,"b","less");return n=Re(r,o),r=n[0],o=n[1],Mr(r.shape,o.shape),Ne.runKernelFunc((function(e){return e.less(r,o)}),{a:r,b:o},null,"Less")}}),ku=on({lessEqual_:function(e,t){var n,r=Qt(e,"a","lessEqual"),o=Qt(t,"b","lessEqual");return n=Re(r,o),r=n[0],o=n[1],Mr(r.shape,o.shape),Ne.runKernelFunc((function(e,t){var n=e.lessEqual(r,o);return t([r,o]),n}),{a:r,b:o},null,"LessEqual")}}),Tu=on({lessEqualStrict_:function(e,t){var n=Qt(e,"a","lessEqualStrict"),r=Qt(t,"b","lessEqualStrict");return S(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),Ru=on({lessStrict_:function(e,t){var n=Qt(e,"a","lessStrict"),r=Qt(t,"b","lessStrict");return S(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),Ou=on({notEqual_:function(e,t){var n,r=Qt(e,"a","notEqual"),o=Qt(t,"b","notEqual");return n=Re(r,o),r=n[0],o=n[1],Mr(r.shape,o.shape),Ne.runKernelFunc((function(e){return e.notEqual(r,o)}),{a:r,b:o},null,"NotEqual")}}),Iu=on({notEqualStrict_:function(e,t){var n=Qt(e,"a","notEqualStrict"),r=Qt(t,"b","notEqualStrict");return S(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function Vu(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function Au(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var Du=on({gather_:function(e,t,n){void 0===n&&(n=0);var r=Qt(e,"x","gather"),o=Qt(t,"indices","gather","int32");n=F(n,r.shape)[0];var i=function(e,t,n){for(var r=e.shape[n],o=[],i=1,a=1,s=0;s<n;s++)o.push(e.shape[s]),i*=e.shape[s];for(s=0;s<t.rank;s++)o.push(t.shape[s]);for(s=n+1;s<e.rank;s++)o.push(e.shape[s]),a*=e.shape[s];return{batchSize:i,sliceSize:a,dimSize:r,outputShape:o}}(r,o,n);return Ne.runKernelFunc((function(e,t){var i=e.gather(r,o.flatten(),n);return t([o]),i}),{x:r,indices:o},(function(e,t){var o=t[0];return{x:function(){var t=r.shape,i=o.size,a=t.slice(0,n),s=a.length,u=t.slice(n,t.length).slice(1),l=u.length,c=Vu(0,s),p=Vu(s+1,s+1+l),d=Au([a,[i],u]),h=e.reshape(d),f=o.reshape([i]),m=Au([[s],c,p]),g=h.transpose(m),v=Nu(g,f,r.shape[n]),y=en(m);return v.transpose(y)},indices:function(){return o}}}),"Gather",{axis:n}).reshape(i.outputShape)}}),Nu=on({unsortedSegmentSum_:function(e,t,n){var r=Qt(e,"x","unsortedSegmentSum"),o=Qt(t,"segmentIds","unsortedSegmentSum","int32");return E(I(n),(function(){return"numSegments must be of dtype int"})),Ne.runKernelFunc((function(e,t){var i=e.unsortedSegmentSum(r,o,n);return t([o]),i}),{$x:r},(function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=su(t,wn(t)),r=Du(e,n),o=_u(t,pn(0,"int32")),i=r.rank-o.rank,a=0;a<i;++a)o=Gn(o,a+1);o=Gs(o,gn(r.shape,"bool"));var s=wn(r);return Xs(o,r,s)}(e,n)}}}))}});function Lu(e,t,n,r,o,i,a){void 0===i&&(i="NHWC"),E(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var s=e,u=t,l=!1;3===t.rank&&(l=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),E(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."})),E(4===u.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank})),E(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank}));var c="NHWC"===i?s[3]:s[1],p="NHWC"===i?u.shape[3]:u.shape[1];E(c===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+c+") must match input depth for filter "+n.shape[2]+"."})),E(p===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+p+") must match output depth for filter "+n.shape[3]+"."})),null!=a&&E(I(o),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var d=Jr(i),h=Br(s,n.shape,r,1,o,a,!1,d),f=Ne.runKernelFunc((function(e,t){var r=e.conv2dDerInput(u,n,h);return t([n,u]),r}),{dy4D:u,filter:n},(function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return ju(e,n,r,o,i,1,a)},filter:function(){return zu(e,s,n.shape,r,o,i,a)}}}));return l?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function Fu(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],o=t[2];return 1===n&&1===r&&1===o}function Mu(e,t,n,r,o){E(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var i=e,a=t,s=!1;4===t.rank&&(s=!0,a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),i=[1,e[0],e[1],e[2],e[3]]);var u=i[4],l=a.shape[4];E(5===i.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+i.length+"."})),E(5===a.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+a.rank})),E(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank})),E(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."})),E(l===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+l+") must match output depth for filter "+n.shape[4]+"."}));var c=zr(i,n.shape,r,1,o),p=Ne.runKernelFunc((function(e){return e.conv3dDerInput(a,n,c)}),{dy5D:a});return s?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}var qu=on({conv1d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NWC"),void 0===i&&(i=1);var s=Qt(e,"x","conv1d"),u=Qt(t,"filter","conv1d"),l=s,c=!1;2===s.rank&&(c=!0,l=s.as3D(1,s.shape[0],s.shape[1])),E(3===l.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank "+l.rank+"."})),E(3===u.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."})),null!=a&&E(I(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."})),E(l.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input ("+l.shape[2]+") must match input depth for filter "+u.shape[1]+"."})),E(Kr(n,i),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+i+"'"})),E("NWC"===o,(function(){return"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported."}));var p=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),d=l.as4D(l.shape[0],1,l.shape[1],l.shape[2]),h=ju(d,p,[1,n],r,"NHWC",[1,i],a);return c?h.as2D(h.shape[2],h.shape[3]):h.as3D(h.shape[0],h.shape[2],h.shape[3])}}),ju=on({conv2d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NHWC"),void 0===i&&(i=[1,1]);var s=Qt(e,"x","conv2d"),u=Qt(t,"filter","conv2d"),l=s,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),E(4===l.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."})),E(4===u.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."})),null!=a&&E(I(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var p="NHWC"===o?l.shape[3]:l.shape[1];E(p===u.shape[2],(function(){return"Error in conv2d: depth of input ("+p+") must match input depth for filter "+u.shape[2]+"."})),E(Kr(n,i),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}));var d=Jr(o),h=Br(l.shape,u.shape,n,i,r,a,!1,d),f=[u,l],m=Ne.runKernelFunc((function(e,t){var n=e.conv2d(l,u,h);return t([u,l]),n}),{x:l,filter:u},(function(e,t){var a=t,s=a[0],u=a[1];return E($r(i),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"})),{x:function(){return Uu(u.shape,e,s,n,r,o)},filter:function(){return zu(u,e,s.shape,n,r,o)}}}),"Conv2D",h,f);return c?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),Bu=on({conv3d_:function(e,t,n,r,o,i){void 0===o&&(o="NDHWC"),void 0===i&&(i=[1,1,1]);var a=Qt(e,"x","conv3d"),s=Qt(t,"filter","conv3d"),u=a,l=!1;4===a.rank&&(l=!0,u=a.as5D(1,a.shape[0],a.shape[1],a.shape[2],a.shape[3])),E(5===u.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."})),E(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."})),E(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."})),E(function(e,t){return Fu(e)||Fu(t)}(n,i),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),E("NDHWC"===o,(function(){return"Error in conv3d: got dataFormat of "+o+" but only NDHWC is currently supported."}));var c=zr(u.shape,s.shape,n,i,r),p=Ne.runKernelFunc((function(e,t){var n=e.conv3d(u,s,c);return t([u,s]),n}),{x:u,$filter:s},(function(e,t){E(Fu(i),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"}));var o=t[0],a=t[1];return{x:function(){return Mu(o.shape,e,a,n,r)},$filter:function(){return function(e,t,n,r,o){var i=e;4===e.rank&&(i=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var a=t;4===a.rank&&(a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),E(5===i.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+i.shape+"."})),E(5===a.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+a.shape+"."})),E(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."})),E(i.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input "+i.shape[4]+") must match input depth in filter ("+n[3]+"."})),E(a.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+a.shape[4]+") must match output depth for filter ("+n[4]+")."}));var s=zr(i.shape,n,r,1,o);return Ne.runKernelFunc((function(e){return e.conv3dDerFilter(i,a,s)}),{x5D:i,dy5D:a})}(o,e,a.shape,n,r)}}}));return l?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}}),zu=on({conv2dDerFilter_:function(e,t,n,r,o,i,a){void 0===i&&(i="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=t;3===u.rank&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),E(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."})),E(4===u.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."})),E(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."}));var l="NHWC"===i?s.shape[3]:s.shape[1],c="NHWC"===i?u.shape[3]:u.shape[1];E(l===n[2],(function(){return"Error in conv2dDerFilter: depth of input "+l+") must match input depth in filter ("+n[2]+"."})),E(c===n[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must match output depth for filter ("+n[3]+")."})),null!=a&&E(I(o),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var p=Jr(i),d=Br(s.shape,n,r,1,o,a,!1,p);return Ne.runKernelFunc((function(e){return e.conv2dDerFilter(s,u,d)}),{x4D:s,dy4D:u})}}),Uu=on({conv2dDerInput_:Lu}),Wu=on({depthwiseConv2d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NHWC"),void 0===i&&(i=[1,1]);var s=Qt(e,"x","depthwiseConv2d"),u=Qt(t,"filter","depthwiseConv2d"),l=s,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),E(4===l.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+l.rank+"."})),E(4===u.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."})),E(l.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+l.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."})),null==i&&(i=[1,1]),E(Kr(n,i),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),null!=a&&E(I(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var p=Br(l.shape,u.shape,n,i,r,a,!0),d=[l,u],h=Ne.runKernelFunc((function(e,t){var n=e.depthwiseConv2D(l,u,p);return t([l,u]),n}),{x:l,filter:u},(function(e,t){E($r(i),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+i+"'"}));var n=t[0],r=t[1];return{x:function(){return Hu(n.shape,e,r,p)},filter:function(){return Qu(n,e,r.shape,p)}}}),"DepthwiseConv2dNative",p,d);return c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),Hu=on({depthwiseConv2dDerInput_:function(e,t,n,r){var o=t,i=!1;3===t.rank&&(i=!0,o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=Ne.runKernelFunc((function(e){return e.depthwiseConv2DDerInput(o,n,r)}),{dy4D:o});return i?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}}),Qu=on({depthwiseConv2dDerFilter_:function(e,t,n,r){var o=e;3===e.rank&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=t;return 3===i.rank&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),Ne.runKernelFunc((function(e){return e.depthwiseConv2DDerFilter(o,i,r)}),{x4D:o,dy4D:i})}}),Gu=on({separableConv2d_:function(e,t,n,r,o,i,a){void 0===i&&(i=[1,1]),void 0===a&&(a="NHWC");var s=Qt(e,"x","separableConv2d"),u=Qt(t,"depthwiseFilter","separableConv2d"),l=Qt(n,"pointwiseFilter","separableConv2d"),c=s,p=!1;if(3===s.rank&&(p=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");E(4===c.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."})),E(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."})),E(4===l.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."})),E(1===l.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+l.shape[0]+"."})),E(1===l.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+l.shape[1]+"."}));var d=u.shape[2],h=u.shape[3];E(l.shape[2]===d*h,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+d*h+", but got "+l.shape[2]+"."}));var f=Wu(c,u,r,o,a,i),m=ju(f,l,1,"valid",a);return p?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),$u=on({conv2dTranspose_:function(e,t,n,r,o,i){return Lu(n,Qt(e,"x","conv2dTranspose"),Qt(t,"filter","conv2dTranspose"),r,o,"NHWC",i)}}),Ku=on({conv3dTranspose_:function(e,t,n,r,o){return Mu(n,Qt(e,"x","conv3dTranspose"),Qt(t,"filter","conv3dTranspose"),r,o)}}),Ju=on({matMul_:function(e,t,n,r){var o;void 0===n&&(n=!1),void 0===r&&(r=!1);var i=Qt(e,"a","matMul"),a=Qt(t,"b","matMul");o=Re(i,a),i=o[0],a=o[1];var s=n?i.shape[i.rank-2]:i.shape[i.rank-1],u=r?a.shape[a.rank-1]:a.shape[a.rank-2],l=n?i.shape[i.rank-1]:i.shape[i.rank-2],c=r?a.shape[a.rank-2]:a.shape[a.rank-1],p=i.shape.slice(0,-2),d=a.shape.slice(0,-2),h=R(p),f=R(d);E(i.rank>=2&&a.rank>=2&&i.rank===a.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+i.rank+" and "+a.rank+"."})),E(O(p,d),(function(){return"Error in matMul: outer dimensions ("+p+") and ("+d+") of Tensors with shapes "+i.shape+" and "+a.shape+" must match."})),E(s===u,(function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+i.shape+" and "+a.shape+" and transposeA="+n+" and transposeB="+r+" must match."}));var m=i.shape.slice(0,-2).concat([l,c]),g=n?i.as3D(h,s,l):i.as3D(h,l,s),v=r?a.as3D(f,c,u):a.as3D(f,u,c),y={transposeA:n,transposeB:r};return Ne.runKernelFunc((function(e,t){var o=e.batchMatMul(g,v,n,r);return t([g,v]),o}),{a:g,b:v},(function(e,t){var o=t,i=o[0],a=o[1];return n||r?!n&&r?{a:function(){return e.matMul(a,!1,!1)},b:function(){return e.matMul(i,!0,!1)}}:n&&!r?{a:function(){return a.matMul(e,!1,!0)},b:function(){return i.matMul(e,!1,!1)}}:{a:function(){return a.matMul(e,!0,!0)},b:function(){return e.matMul(i,!0,!0)}}:{a:function(){return e.matMul(a,!1,!0)},b:function(){return i.matMul(e,!0,!1)}}}),"BatchMatMul",y).reshape(m)}}),Xu=on({dot_:function(e,t){var n=Qt(e,"t1","dot"),r=Qt(t,"t2","dot");E(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."}));var o=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];return E(o===i,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+i+"."})),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),Yu=on({outerProduct_:function(e,t){var n=Qt(e,"v1","outerProduct"),r=Qt(t,"v2","outerProduct");return E(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."})),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),Zu=on({reverse_:function(e,t){var n=Qt(e,"x","reverse");if(0===n.rank)return n.clone();var r=F(t,n.shape);return Ne.runKernelFunc((function(e){return e.reverse(n,r)}),{$x:n},(function(e){return{$x:function(){return e.reverse(r)}}})).reshapeAs(n)}}),el=on({reverse1d_:function(e){var t=Qt(e,"x","reverse");return E(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."})),Zu(t,0)}}),tl=on({reverse2d_:function(e,t){var n=Qt(e,"x","reverse");return E(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."})),Zu(n,t)}}),nl=on({reverse3d_:function(e,t){var n=Qt(e,"x","reverse");return E(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."})),Zu(n,t)}}),rl=on({reverse4d_:function(e,t){var n=Qt(e,"x","reverse");return E(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."})),Zu(n,t)}});function ol(e,t,n,r,o,i){var a=Qt(e,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),null==r&&(r=[1,1]),E(4===s.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."})),E(Kr(n,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"})),null!=i&&E(I(o),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var l=qr(s.shape,t,n,r,o,i);if(1===l.filterWidth&&1===l.filterHeight&&O(l.inShape,l.outShape))return a.clone();var c=[s],p=Ne.runKernelFunc((function(e,t){var n=e.maxPool(s,l);return t([s,n]),n}),{x:s},(function(e,i){var a=i[0],s=i[1];return{x:function(){return function(e,t,n,r,o,i,a,s){var u=Qt(e,"dy","maxPoolBackprop"),l=Qt(t,"input","maxPoolBackprop"),c=Qt(n,"output","maxPoolBackprop");E(l.rank===u.rank,(function(){return"Rank of input ("+l.rank+") does not match rank of dy ("+u.rank+")"})),null==i&&(i=[1,1]),E(Kr(o,i),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"})),E(4===u.rank,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."})),E(4===l.rank,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+l.rank+"."}));var p=qr(l.shape,r,o,i,a,s);return Ne.runKernelFunc((function(e){return e.maxPoolBackprop(u,l,c,p)}),{$dy:u,$input:l})}(e,a,s,t,n,r,o)}}}),"MaxPool",l,c);return u?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function il(e,t,n,r,o,i){var a=Qt(e,"x","avgPool","float32");null==r&&(r=[1,1]),E(Kr(n,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}));var s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),E(4===s.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."})),null!=i&&E(I(o),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var l=qr(s.shape,t,n,r,o,i);if(1===l.filterWidth&&1===l.filterHeight&&O(l.inShape,l.outShape))return a.clone();var c=Ne.runKernelFunc((function(e){return e.avgPool(s,l)}),{x:s},(function(e){return{x:function(){return function(e,t,n,r,o,i){var a=Qt(e,"dy","avgPoolBackprop"),s=Qt(t,"input","avgPoolBackprop");E(s.rank===a.rank,(function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+a.rank+")"})),null==o&&(o=[1,1]),E(Kr(r,o),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"}));var u=s,l=a,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),l=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),E(4===l.rank,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+l.rank+"."})),E(4===u.rank,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+u.rank+"."}));var p=qr(u.shape,n,r,o,i),d=Ne.runKernelFunc((function(e){return e.avgPoolBackprop(l,u,p)}),{dy4D:l,input4D:u});return c?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}(e,s,t,n,r,o)}}}),"AvgPool",l);return c=c.cast(a.dtype),u?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var al=on({maxPool_:function(e,t,n,r,o){return ol(e,t,n,1,r,o)}}),sl=on({avgPool_:function(e,t,n,r,o){return il(e,t,n,1,r,o)}}),ul=on({pool_:function(e,t,n,r,o,i){null==o&&(o=[1,1]),null==i&&(i=1),0===r&&(r="valid");var a=Qt(e,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),E(Kr(i,o),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+o+"'"}));var l,c=qr(s.shape,t,i,o,r),p=[c.dilationHeight,c.dilationWidth];l="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),o=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],o[t]]}))}([c.filterHeight,c.filterWidth],p):[[0,0],[0,0]];var d=1===p[0]&&1===p[1],h=function(e,t,n){var r=n.map((function(e){return e[0]})),o=n.map((function(e){return e[1]})),i=e.concat(r,o),a=t.map((function(e,t){return(e-i[t]%e)%e})),s=o.map((function(e,t){return e+a[t]}));return[t.map((function(e,t){return[r[t],s[t]]})),t.map((function(e,t){return[0,a[t]]}))]}([c.inHeight,c.inWidth],p,l),f=h[0],m=h[1],g=d?r:"valid",v=d?s:sr(s,p,f),y=("avg"===n?function(){return il(v,t,i,1,g)}:function(){return ol(v,t,i,1,g)})(),b=d?y:Bn(y,p,m);return u?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),ll=on({maxPool3d_:function(e,t,n,r,o,i,a){void 0===i&&(i="NDHWC");var s=Qt(e,"x","maxPool3d"),u=s,l=!1;4===s.rank&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),E(5===u.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."})),E("NDHWC"===i,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+i})),E(Kr(n,a),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),null!=o&&E(I(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var c=jr(u.shape,t,n,a,r,o,i),p=Ne.runKernelFunc((function(e,t){var n=e.maxPool3d(u,c);return t([u,n]),n}),{x:u},(function(e,i){var s=i[0],u=i[1];return{x:function(){return function(e,t,n,r,o,i,a,s){var u=Qt(e,"dy","maxPool3dBackprop"),l=Qt(t,"input","maxPool3dBackprop"),c=Qt(n,"output","maxPool3dBackprop"),p=u,d=l,h=c,f=!1;4===l.rank&&(f=!0,p=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),d=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]),h=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3])),E(5===p.rank,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+p.rank+"."})),E(5===d.rank,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+d.rank+"."})),E(5===h.rank,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+h.rank+"."})),null==i&&(i=[1,1,1]),E(Kr(o,i),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"})),null!=s&&E(I(a),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+"."}));var m=jr(d.shape,r,o,i,a,s),g=Ne.runKernelFunc((function(e){return e.maxPool3dBackprop(p,d,h,m)}),{dy5D:p,input5D:d});return f?g.as4D(g.shape[1],g.shape[2],g.shape[3],g.shape[4]):g}(e,s,u,t,n,a,r,o)}}}));return l?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}}),cl=on({avgPool3d_:function(e,t,n,r,o,i,a){void 0===i&&(i="NDHWC");var s=Qt(e,"x","avgPool3d","float32"),u=s,l=!1;4===s.rank&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),E(5===u.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."})),E("NDHWC"===i,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+i})),E(Kr(n,a),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),null!=o&&E(I(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var c=jr(u.shape,t,n,a,r,o,i),p=Ne.runKernelFunc((function(e){return e.avgPool3d(u,c)}),{x:u},(function(e){return{x:function(){return function(e,t,n,r,o,i,a){var s=Qt(e,"dy","avgPool3dBackprop"),u=Qt(t,"input","avgPool3dBackprop"),l=s,c=u,p=!1;4===u.rank&&(p=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),c=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),E(5===l.rank,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+l.rank+"."})),E(5===c.rank,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+c.rank+"."})),null==o&&(o=[1,1,1]),E(Kr(r,o),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"})),null!=a&&E(I(i),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."}));var d=jr(c.shape,n,r,o,i,a),h=Ne.runKernelFunc((function(e){return e.avgPool3dBackprop(l,c,d)}),{dy5D:l,input5D:c});return p?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}(e,u,t,n,a,r,o)}}}));return p=p.cast(u.dtype),l?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}}),pl=on({slice_:function(e,t,n){var r,o,i=Qt(e,"x","slice");if(0===i.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(i.rank-1).fill(0)):t.length<i.rank?t.concat(new Array(i.rank-t.length).fill(0)):t.slice()).forEach((function(e){E(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),o=(o=null==n?new Array(i.rank).fill(-1):"number"==typeof n?[n].concat(new Array(i.rank-1).fill(-1)):n.length<i.rank?n.concat(new Array(i.rank-n.length).fill(-1)):n).map((function(e,t){return e>=0?e:(E(-1===e,(function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."})),i.shape[t]-r[t])})),_r(i,r,o);var a=i.shape,s={begin:r,size:o};return Ne.runKernelFunc((function(e){return e.slice(i,r,o)}),{x:i},(function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],a[n]-r[n]-o[n]]);return{x:function(){return e.pad(t)}}}),"Slice",s)}}),dl=on({slice1d_:function(e,t,n){var r=Qt(e,"x","slice1d");return E(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),pl(r,[t],[n])}}),hl=on({slice2d_:function(e,t,n){var r=Qt(e,"x","slice2d");return E(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),pl(r,t,n)}}),fl=on({slice3d_:function(e,t,n){var r=Qt(e,"x","slice3d");return E(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),pl(r,t,n)}}),ml=on({slice4d_:function(e,t,n){var r=Qt(e,"x","slice4d");return E(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),pl(r,t,n)}});function gl(e,t,n,r,o){return t.rank<n.rank&&(t=t.reshape(Xt(t.shape,r))),e.rank<n.rank&&(e=e.reshape(Xt(e.shape,r))),{x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==o?r:r.transpose(o)}}}var vl=on({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Qt(e,"x","all","bool"),o=F(t,r.shape),i=o,a=Zt(i,r.rank);null!=a&&(r=r.transpose(a),i=tn(i.length,r.rank));var s=Ne.runKernelFunc((function(e){return e.all(r,i)}),{$x:r});if(n){var u=Xt(s.shape,o);return s.reshape(u)}return s}}),yl=on({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Qt(e,"x","any","bool"),o=F(t,r.shape),i=o,a=Zt(i,r.rank);null!=a&&(r=r.transpose(a),i=tn(i.length,r.rank));var s=Ne.runKernelFunc((function(e){return e.any(r,i)}),{$x:r});if(n){var u=Xt(s.shape,o);return s.reshape(u)}return s}}),bl=on({argMax_:function(e,t){void 0===t&&(t=0);var n=Qt(e,"x","argMax");null==t&&(t=0);var r=F(t,n.shape),o=Zt(r,n.rank);null!=o&&(n=n.transpose(o),r=tn(r.length,n.rank));var i={axis:r[0]},a=[n];return Ne.runKernelFunc((function(e,t){var o=e.argMax(n,r[0]);return t([n]),o}),{x:n},(function(e,t){var n=t[0];return{x:function(){return wn(n)}}}),"ArgMax",i,a)}}),xl=on({argMin_:function(e,t){void 0===t&&(t=0);var n=Qt(e,"x","argMin");null==t&&(t=0);var r=F(t,n.shape),o=Zt(r,n.rank);return null!=o&&(n=n.transpose(o),r=tn(r.length,n.rank)),Ne.runKernelFunc((function(e,t){var o=e.argMin(n,r[0]);return t([n]),o}),{$x:n},(function(e,t){var n=t[0];return{$x:function(){return wn(n)}}}))}}),wl=on({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Qt(e,"x","logSumExp"),o=F(t,r.shape),i=r.max(o,!0),a=r.sub(i).exp().sum(o).log(),s=i.reshape(a.shape).add(a);if(n){var u=Xt(s.shape,o);return s.reshape(u)}return s}}),Cl=on({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Qt(e,"x","max"),o=r,i=F(t,r.shape),a=i,s=Zt(a,r.rank);null!=s&&(r=r.transpose(s),a=tn(a.length,r.rank));var u=[r],l=Ne.runKernelFunc((function(e,t){var n=e.max(r,a);return t([o,n]),n}),{x:r},(function(e,t){return gl(e,t[1],t[0],i,s)}),"Max",{axes:a},u,[!0]);if(n){var c=Xt(l.shape,i);l=l.reshape(c)}return l}}),_l=on({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Qt(e,"x","mean"),o=F(t,r.shape),i=R(Jt(r.shape,o)[1]);return Or((function(e){var r=pn(i);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return o.forEach((function(e){n[e]=1})),t.reshape(n).mul(gn(e.shape,"float32")).div(i)}}}))(r)}}),Pl=on({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Qt(e,"x","min"),o=r,i=F(t,r.shape),a=i,s=Zt(a,r.rank);null!=s&&(r=r.transpose(s),a=tn(a.length,r.rank));var u=[r],l=Ne.runKernelFunc((function(e,t){var n=e.min(r,a);return t([o,n]),n}),{x:r},(function(e,t){return gl(e,t[1],t[0],i,s)}),"Min",{axes:a},u,[!0]);if(n){var c=Xt(l.shape,i);l=l.reshape(c)}return l}}),El=on({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=F(t,(e=Qt(e,"x","moments")).shape),o=e.mean(r,n),i=o.shape;n||(i=Xt(o.shape,r));var a=e.toFloat().sub(o.reshape(i)).square();return{mean:o,variance:a.mean(r,n)}}}),Sl=on({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Qt(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var o=F(t,r.shape);return Or((function(e){var t=Zt(o,e.rank),r=o,i=e;null!=t&&(i=e.transpose(t),r=tn(r.length,e.rank));var a=function(t){var n=e.shape.slice();return o.forEach((function(e){n[e]=1})),t.reshape(n).mul(gn(e.shape,"float32"))},s={axes:r},u=Ne.runKernelFunc((function(e){return e.sum(i,r)}),{x:i},(function(e){return{x:function(){return a(e)}}}),"Sum",s);if(n){var l=Xt(u.shape,o);u=u.reshape(l)}return{value:u,gradFunc:a}}))(r)}}),kl=on({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Qt(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var o=F(t,r.shape),i=Zt(o,r.rank),a=o,s=r;null!=i&&(s=r.transpose(i),a=tn(a.length,r.rank));var u=Ne.runKernelFunc((function(e){return e.prod(s,a)}),{permutedX:s});if(n){var l=Xt(u.shape,o);u=u.reshape(l)}return u}}),Tl=on({elu_:function(e){var t=Qt(e,"x","elu");return Ne.runKernelFunc((function(e,n){var r=e.elu(t);return n([r]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return Ne.runKernelFunc((function(t){return t.eluDer(e,n)}),{dy:e,y:n})}}}))}}),Rl=on({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=Qt(e,"x","leakyRelu");return su(pn(t).mul(n),n)}}),Ol=on({prelu_:function(e,t){var n=Qt(e,"x","prelu"),r=Qt(t,"alpha","prelu");return Ne.runKernelFunc((function(e,t){var o=e.prelu(n,r);return t([n,r]),o}),{x:n,alpha:r},(function(e,t){var n=t[0],r=t[1],o=n.greater(0);return{x:function(){return Xs(o,e,e.mul(r))},alpha:function(){var t=Xs(o,wn(e),e.mul(n)),i=Fr(r.shape,e.shape);return i.length>0&&(t=t.sum(i)),t.reshape(r.shape)}}}),"Prelu")}}),Il=on({relu_:function(e){var t=Qt(e,"x","relu");return"bool"===t.dtype?t.toInt():Ne.runKernelFunc((function(e,n){var r=e.relu(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mulStrict(n.step().toFloat())}}}),"Relu")}}),Vl=on({relu6_:function(e){var t=Qt(e,"x","relu6");return"bool"===t.dtype?t.toInt():Ne.runKernelFunc((function(e,n){var r=e.relu6(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return e.mulStrict(r.toFloat())}}}),"Relu6")}}),Al=on({selu_:function(e){var t=Qt(e,"x","selu");return Ne.runKernelFunc((function(e,n){var r=e.selu(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){var t=n.greater(pn(0)),r=pn(Ta),o=pn(Ra),i=e.mul(o),a=e.mul(r).mul(n.toFloat().exp());return Xs(t,i,a)}}}))}}),Dl=on({transpose_:function(e,t){var n=Qt(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),E(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."})),t.forEach((function(e){E(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t}))})),n.rank<=1)return n.clone();var r={perm:t};return Ne.runKernelFunc((function(e){return e.transpose(n,t)}),{x:n},(function(e){var n=en(t);return{x:function(){return e.transpose(n)}}}),"Transpose",r)}}),Nl=on({localResponseNormalization_:function(e,t,n,r,o){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=.5);var i=Qt(e,"x","localResponseNormalization");E(4===i.rank||3===i.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+i.rank+"."})),E(I(t),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."}));var a=i,s=!1;3===i.rank&&(s=!0,a=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var u=Ne.runKernelFunc((function(e,i){var s=e.localResponseNormalization4D(a,t,n,r,o);return i([a,s]),s}),{x4D:a},(function(e,i){var a=i[0],s=i[1];return{x4D:function(){return Ne.runKernelFunc((function(i){return i.LRNGrad(e,a,s,t,n,r,o)}),{})}}}));return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Ll=on({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var o=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(pn(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=Qt(e,"x","norm"),t,n),i=o.shape;if(r){var a=F(n,e.shape);i=Xt(o.shape,a)}return o.reshape(i)}}),Fl=on({basicLSTMCell_:function(e,t,n,r,o,i){var a=Qt(e,"forgetBias","basicLSTMCell"),s=Qt(t,"lstmKernel","basicLSTMCell"),u=Qt(n,"lstmBias","basicLSTMCell"),l=Qt(r,"data","basicLSTMCell"),c=Qt(o,"c","basicLSTMCell"),p=Qt(i,"h","basicLSTMCell"),d=l.concat(p,1).matMul(s).add(u),h=d.shape[0],f=d.shape[1]/4,m=[h,f],g=d.slice([0,0],m),v=d.slice([0,f],m),y=d.slice([0,2*f],m),b=d.slice([0,3*f],m),x=g.sigmoid().mulStrict(v.tanh()).addStrict(c.mulStrict(a.add(y).sigmoid())),w=x.tanh().mulStrict(b.sigmoid());return[x,w]}}),Ml=on({multiRNNCell_:function(e,t,n,r){for(var o=Qt(t,"data","multiRNNCell"),i=Gt(n,"c","multiRNNCell"),a=Gt(r,"h","multiRNNCell"),s=o,u=[],l=0;l<e.length;l++){var c=e[l](s,i[l],a[l]);u.push(c[0]),u.push(c[1]),s=c[1]}var p=[],d=[];for(l=0;l<u.length;l+=2)p.push(u[l]),d.push(u[l+1]);return[p,d]}}),ql=on({movingAverage_:function(e,t,n,r,o){void 0===o&&(o=!0);var i=Qt(e,"v","movingAverage"),a=Qt(t,"x","movingAverage"),s=Qt(n,"decay","movingAverage");Oe(i,a),E(O(i.shape,a.shape),(function(){return"Shape mismatch in v and x"}));var u=pn(1),l=u.sub(s),c=a.sub(i).mul(l);if(o){E(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var p=Qt(r,"step","movingAverage");c=c.div(u.sub(mu(s,p)))}return i.add(c)}}),jl=on({stridedSlice_:function(e,t,n,r,o,i,a,s,u){if(void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),null==r&&(r=new Array(t.length)),0!==a)throw new Error("ellipsis mask is not yet supported");var l=Qt(e,"x","stridedSlice"),c=Pr(s),p=l.shape.slice();c.forEach((function(e){t[e]=0,n[e]=1,p.splice(e,0,1)})),l=l.reshape(p);for(var d=0;d<l.rank;d++)t[d]=Sr(o,t,r,l.shape,d),n[d]=kr(i,n,r,l.shape,d),r[d]=r[d]||1;var h=Pr(u);h.forEach((function(e){n[e]=t[e]+1,r[e]=1}));var f=Er(t,n,r),m=f.filter((function(e,t){return-1===h.indexOf(t)}));return r.every((function(e){return 1===e}))?pl(l,t,f).reshape(m):Ne.runKernelFunc((function(e){return e.stridedSlice(l,t,n,r)}),{$x:l}).reshape(m)}}),Bl=on({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=Qt(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var o=r.shape[r.shape.length-1];if(t>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+t);var i=Ne.runKernelFunc((function(e){return e.topk(r,t,n)}),{$x:r});return{values:i[0],indices:i[1]}}}),zl=on({scatterND_:function(e,t,n){var r=Qt(e,"indices","scatterND","int32"),o=Qt(t,"updates","scatterND");return wr(o,r,n),Ne.runKernelFunc((function(e){return e.scatterND(r,o,n)}),{indices:r,updates:o},null,"ScatterNd",{shape:n})}}),Ul=on({fft_:function(e){E("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Ne.runKernelFunc((function(e){return e.fft(r)}),{input:e}).reshape(e.shape)}}),Wl=on({ifft_:function(e){E("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Ne.runKernelFunc((function(e){return e.ifft(r)}),{input:e}).reshape(e.shape)}}),Hl=on({rfft_:function(e,t){E("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got "+e.dtype}));var n,r=e.shape[e.shape.length-1],o=e.size/r;if(null!=t&&t<r){var i=e.shape.map((function(e){return 0})),a=e.shape.map((function(e){return e}));a[e.shape.length-1]=t,n=e.slice(i,a),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=e.concat(vn(s),e.shape.length-1),r=t}else n=e;var u=n.zerosLike(),l=an(n,u).as2D(o,r),c=Ul(l),p=Math.floor(r/2)+1,d=sn(c),h=un(c),f=d.split([p,r-p],d.shape.length-1),m=h.split([p,r-p],h.shape.length-1),g=n.shape.slice();return g[n.shape.length-1]=p,an(f[0],m[0]).reshape(g)}}),Ql=on({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),o=Wl(r);return sn(o)}var i=[n,2*(t-1)],a=sn(e).as2D(n,t),s=un(e).as2D(n,t),u=a.slice([0,1],[n,t-2]).reverse(1),l=s.slice([0,1],[n,t-2]).reverse(1).mul(pn(-1)),c=a.concat(u,1),p=s.concat(l,1);return r=an(c,p).as2D(i[0],i[1]),o=Wl(r),sn(o)}}),Gl=Object.freeze({fft:Ul,ifft:Wl,rfft:Hl,irfft:Ql}),$l=on({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var o=Qt(e,"sparseIndices","sparseToDense","int32"),i=Qt(t,"sparseValues","sparseToDense"),a=Qt(r,"defaultValue","sparseToDense",i.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var o=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+i+".");var a=t.size;if(0!==t.rank&&(1!==t.rank||a!==o))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+o+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,i,n,a),Ne.runKernelFunc((function(e){return e.sparseToDense(o,i,n,a)}),{$sparseIndices:o,$sparseValues:i,$defaultValue:a})}}),Kl=on({gatherND_:function(e,t){var n=Qt(t,"indices","gatherND","int32"),r=Qt(e,"x","gatherND");return Ne.runKernelFunc((function(e){return e.gatherND(r,n)}),{x:r,indices:n},null,"GatherNd")}}),Jl=on({diag_:function(e){var t=Qt(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return Ne.runKernelFunc((function(e){return e.diag(t)}),{$x:t}).reshape(n)}}),Xl=on({dropout_:function(e,t,n,r){var o=Qt(e,"x","dropout");if(E("float32"===o.dtype,(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+o.dtype+" tensor instead."})),E(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got "+t+"."})),0===t)return e instanceof be?o.clone():o;var i=function(e,t){if(null==t)return e.shape.slice();if(O(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(o,n),a=1-t,s=ir(i,0,1,"float32",r).add(a).floor().div(a);return o.mul(s)}});function Yl(e,t,n){for(var r=1-e%2,o=new Float32Array(e),i=0;i<e;++i){var a=2*Math.PI*i/(e+r-1);o[i]=t-n*Math.cos(a)}return dn(o,"float32")}var Zl,ec=on({hannWindow_:function(e){return Yl(e,.5,.5)}}),tc=on({hammingWindow_:function(e){return Yl(e,.54,.46)}}),nc=on({frame_:function(e,t,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=0);for(var i=0,a=[];i+t<=e.size;)a.push(pl(e,i,t)),i+=n;if(r)for(;i<e.size;){var s=i+t-e.size,u=Cn([pl(e,i,t-s),yn([s],o)]);a.push(u),i+=n}return 0===a.length?hn([],[0,t]):Cn(a).as2D(a.length,t)}}),rc=on({stft_:function(e,t,n,r,o){var i;void 0===o&&(o=ec),null==r&&(i=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(i)/Math.log(2)))));for(var a=nc(e,t,n),s=hu(a,o(t)),u=[],l=0;l<a.shape[0];l++)u.push(Hl(s.slice([l,0],[1,t]),r));return Cn(u)}}),oc=Object.freeze({hannWindow:ec,hammingWindow:tc,frame:nc,stft:rc});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Zl||(Zl={}));var ic=on({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=Zl.SUM_BY_NONZERO_WEIGHTS);var o=Qt(e,"labels","absoluteDifference"),i=Qt(t,"predictions","absoluteDifference"),a=null;null!=n&&(a=Qt(n,"weights","absoluteDifference")),S(o.shape,i.shape,"Error in absoluteDifference: ");var s=o.sub(i).abs();return ac(s,a,r)}}),ac=on({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=Zl.SUM_BY_NONZERO_WEIGHTS);var r=Qt(e,"losses","computeWeightedLoss"),o=null;null!=t&&(o=Qt(t,"weights","computeWeightedLoss"));var i=null==o?r:r.mul(o);if(n===Zl.NONE)return i;if(n===Zl.SUM)return i.sum();if(n===Zl.MEAN){if(null==o)return i.mean();var a=r.size/o.size,s=i.sum().div(o.sum());return a>1?s.div(pn(a)):s}if(n===Zl.SUM_BY_NONZERO_WEIGHTS){if(null==o)return i.sum().div(pn(r.size));var u=o.mul(gn(r.shape)).notEqual(pn(0)).sum().toFloat();return i.sum().div(u)}throw Error("Unknown reduction: "+n)}}),sc=on({cosineDistance_:function(e,t,n,r,o){void 0===o&&(o=Zl.SUM_BY_NONZERO_WEIGHTS);var i=Qt(e,"labels","cosineDistance"),a=Qt(t,"predictions","cosineDistance"),s=null;null!=r&&(s=Qt(r,"weights","cosineDistance")),S(i.shape,a.shape,"Error in cosineDistance: ");var u=pn(1).sub(i.mul(a).sum(n,!0));return ac(u,s,o)}}),uc=on({hingeLoss_:function(e,t,n,r){void 0===r&&(r=Zl.SUM_BY_NONZERO_WEIGHTS);var o=Qt(e,"labels","hingeLoss"),i=Qt(t,"predictions","hingeLoss"),a=null;null!=n&&(a=Qt(n,"weights","hingeLoss")),S(o.shape,i.shape,"Error in hingeLoss: ");var s=pn(1);o=pn(2).mul(o).sub(s);var u=s.sub(o.mul(i)).relu();return ac(u,a,r)}}),lc=on({huberLoss_:function(e,t,n,r,o){void 0===r&&(r=1),void 0===o&&(o=Zl.SUM_BY_NONZERO_WEIGHTS);var i=Qt(e,"labels","huberLoss"),a=Qt(t,"predictions","huberLoss"),s=null;null!=n&&(s=Qt(n,"weights","huberLoss")),S(i.shape,a.shape,"Error in huberLoss: ");var u=pn(r),l=a.sub(i).abs(),c=lu(l,u),p=l.sub(c),d=pn(.5).mul(c.square()).add(u.mul(p));return ac(d,s,o)}}),cc=on({logLoss_:function(e,t,n,r,o){void 0===r&&(r=1e-7),void 0===o&&(o=Zl.SUM_BY_NONZERO_WEIGHTS);var i=Qt(e,"labels","logLoss"),a=Qt(t,"predictions","logLoss"),s=null;null!=n&&(s=Qt(n,"weights","logLoss")),S(i.shape,a.shape,"Error in logLoss: ");var u=pn(1),l=pn(r),c=i.mul(a.add(l).log()).neg().sub(u.sub(i).mul(u.sub(a).add(l).log()));return ac(c,s,o)}}),pc=on({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=Zl.SUM_BY_NONZERO_WEIGHTS);var o=Qt(e,"labels","meanSquaredError"),i=Qt(t,"predictions","meanSquaredError"),a=null;null!=n&&(a=Qt(n,"weights","meanSquaredError")),S(o.shape,i.shape,"Error in meanSquaredError: ");var s=o.squaredDifference(i);return ac(s,a,r)}}),dc=on({sigmoidCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=Zl.SUM_BY_NONZERO_WEIGHTS);var i=Qt(e,"multiClassLabels","sigmoidCrossEntropy"),a=Qt(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=Qt(n,"weights","sigmoidCrossEntropy")),S(i.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=pn(r),l=pn(1),c=pn(.5);i=i.mul(l.sub(u)).add(c.mul(u))}var p=function(e,t){var n=Qt(e,"labels","sigmoidCrossEntropyWithLogits"),r=Qt(t,"logits","sigmoidCrossEntropyWithLogits");S(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var o=r.relu(),i=r.mul(n),a=r.abs().neg().exp().log1p();return o.sub(i).add(a)}(i,a);return ac(p,s,o)}}),hc=on({softmaxCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=Zl.SUM_BY_NONZERO_WEIGHTS);var i=Qt(e,"onehotLabels","softmaxCrossEntropy"),a=Qt(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=Qt(n,"weights","softmaxCrossEntropy")),S(i.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){var u=pn(r),l=pn(1),c=pn(i.shape[1]);i=i.mul(l.sub(u)).add(u.div(c))}var p=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return Or((function(e,t,r){var o=t.logSumExp([n],!0),i=t.toFloat().sub(o);return r([e,i]),{value:i.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],o=t[1],i=Xt(e.shape,[n]);return[e.reshape(i).mul(r.toFloat().sub(o.exp())),e.reshape(i).mul(o.exp().sub(r.toFloat()))]}}}))(e,t)}(i,a);return ac(p,s,o)}}),fc=Object.freeze({get Reduction(){return Zl},absoluteDifference:ic,computeWeightedLoss:ac,cosineDistance:sc,hingeLoss:uc,huberLoss:lc,logLoss:cc,meanSquaredError:pc,sigmoidCrossEntropy:dc,softmaxCrossEntropy:hc});function mc(e,t){return void 0===t&&(t=!1),Ne.tidy((function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],o=$n(n),i=e.clone(),a=hn([[1]],[1,1]),s=a.clone(),u=n>=r?r:n,l=function(e){var t,u=i,l=s,c=o;t=Ne.tidy((function(){var t=i.slice([e,e],[n-e,1]),u=t.norm(),l=i.slice([e,e],[1,1]),c=hn([[-1]]).where(l.greater(0),hn([[1]])),p=l.sub(c.mul(u)),d=t.div(p);s=1===d.shape[0]?a.clone():a.concat(d.slice([1,0],[d.shape[0]-1,d.shape[1]]),0);var h=c.matMul(p).div(u).neg(),f=i.slice([e,0],[n-e,r]),m=h.mul(s);if(0===e)i=f.sub(m.matMul(s.transpose().matMul(f)));else{var g=f.sub(m.matMul(s.transpose().matMul(f)));i=i.slice([0,0],[e,r]).concat(g,0)}var v=o.slice([0,e],[n,o.shape[1]-e]);if(0===e)o=v.sub(v.matMul(s).matMul(m.transpose()));else{var y=v.sub(v.matMul(s).matMul(m.transpose()));o=o.slice([0,0],[n,e]).concat(y,1)}return[s,i,o]})),s=t[0],i=t[1],o=t[2],zt([u,l,c])},c=0;c<u;++c)l(c);return!t&&n>r&&(o=o.slice([0,0],[n,r]),i=i.slice([0,0],[r,r])),[o,i]}))}var gc=on({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=Qt(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var o=r.shape,i=r.shape.slice(-2),a=i[0],s=i[1];if(!(t<=a))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+a+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=a),n<0&&(n=s);var u=bn(0,a,1,"int32").reshape([-1,1]),l=bn(0,s,1,"int32"),c=yu(u,l),p=Gs(c.lessEqual(pn(+t,"int32")),c.greaterEqual(pn(-n,"int32"))),d=vn([a,s],r.dtype);return lr(dr(r.reshape([-1,a,s])).map((function(e){return Xs(p,e,d)}))).reshape(o)}}),vc=on({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,E(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){E(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"}))},o=1;o<e.length;++o)r(o)}else t=!0,e=kn(e,e.shape[0],0).map((function(e){return ur(e,[0])}));E(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."}));var i=[],a=e,s=function(e){i.push(Ne.tidy((function(){var t=a[e];if(e>0)for(var n=0;n<e;++n){var r=Sl(i[n].mulStrict(t)).mul(i[n]);t=t.sub(r)}return t.div(Ll(t,"euclidean"))})))};for(o=0;o<e.length;++o)s(o);return t?lr(i,0):i}}),yc=on({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return mc(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=dr(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],i=[];return r.forEach((function(e){var n=mc(e,t),r=n[0],a=n[1];o.push(r),i.push(a)})),[lr(o,0).reshape(e.shape),lr(i,0).reshape(e.shape)]}}),bc=Object.freeze({bandPart:gc,gramSchmidt:vc,qr:yc});function xc(e,t,n,r,o,i){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==i&&(i=0);var a=e.shape[0];return n=Math.min(n,a),E(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),E(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"})),E(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]})),E(1===t.rank,(function(){return"scores must be a 1D tensor"})),E(t.shape[0]===a,(function(){return"scores has incompatible shape with boxes. Expected "+a+", but was "+t.shape[0]})),E(0<=i&&i<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+i+"'"})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:i}}var wc=on({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=Qt(e,"images","resizeBilinear");E(3===r.rank||4===r.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),E(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."}));var o=r,i=!1;3===r.rank&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],u=Ne.runKernelFunc((function(e,t){return t([o]),e.resizeBilinear(o,a,s,n)}),{x:o},(function(e,t){return{x:function(){return Ne.runKernelFunc((function(r){return r.resizeBilinearBackprop(e,t[0],n)}),{})}}}),"ResizeBilinear",{alignCorners:n,newHeight:a,newWidth:s});return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Cc=on({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=Qt(e,"images","resizeNearestNeighbor");E(3===r.rank||4===r.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),E(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."})),E("float32"===r.dtype||"int32"===r.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"}));var o=r,i=!1;3===r.rank&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],u=Ne.runKernelFunc((function(e,t){return t([o]),e.resizeNearestNeighbor(o,a,s,n)}),{batchImages:o},(function(e,t){return{batchImages:function(){return Ne.runKernelFunc((function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)}),{})}}}));return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),_c=on({nonMaxSuppression_:function(e,t,n,r,o){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY);var i=Qt(e,"boxes","nonMaxSuppression"),a=Qt(t,"scores","nonMaxSuppression"),s=xc(i,a,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return Ne.runKernelFunc((function(e){return e.nonMaxSuppression(i,a,n,r,o)}),{boxes:i,scores:a},null,"NonMaxSuppressionV3",u)}}),Pc=on({nonMaxSuppressionWithScore_:function(e,t,n,r,o,i){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===i&&(i=0);var a=Qt(e,"boxes","nonMaxSuppression"),s=Qt(t,"scores","nonMaxSuppression"),u=xc(a,s,n,r,o,i),l={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:o=u.scoreThreshold,softNmsSigma:i=u.softNmsSigma},c=Ne.runKernel("NonMaxSuppressionV5",{boxes:a,scores:s},l);return{selectedIndices:c[0],selectedScores:c[1]}}}),Ec=on({cropAndResize_:function(e,t,n,r,o,i){var a=Qt(e,"image","cropAndResize"),s=Qt(t,"boxes","cropAndResize","float32"),u=Qt(n,"boxInd","cropAndResize","int32");o=o||"bilinear",i=i||0;var l=s.shape[0];return E(4===a.rank,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+a.rank+"."})),E(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size ["+l+",4] but had shape "+s.shape+"."})),E(1===u.rank&&u.shape[0]===l,(function(){return"Error in cropAndResize: boxInd must be have size ["+l+"] but had shape "+s.shape+"."})),E(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),E(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),E("bilinear"===o||"nearest"===o,(function(){return"method must be bilinear or nearest, but was "+o})),Ne.runKernelFunc((function(e,t){return e.cropAndResize(a,s,u,r,o,i)}),{images:a,boxes:s,boxInd:u},null,"CropAndResize",{method:o,extrapolationValue:i,cropSize:r})}}),Sc=Object.freeze({resizeBilinear:wc,resizeNearestNeighbor:Cc,nonMaxSuppression:_c,nonMaxSuppressionAsync:function(e,t,n,r,o){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),u(this,void 0,void 0,(function(){var i,a,s,u,c,p,d;return l(this,(function(l){switch(l.label){case 0:return i=Qt(e,"boxes","nonMaxSuppressionAsync"),a=Qt(t,"scores","nonMaxSuppressionAsync"),s=xc(i,a,n,r,o),n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold,[4,Promise.all([i.data(),a.data()])];case 1:return u=l.sent(),c=u[0],p=u[1],d=ao(c,p,n,r,o),i!==e&&i.dispose(),a!==t&&a.dispose(),[2,d]}}))}))},nonMaxSuppressionWithScore:Pc,nonMaxSuppressionWithScoreAsync:function(e,t,n,r,o,i){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===i&&(i=0),u(this,void 0,void 0,(function(){var a,s,u,c,p,d,h;return l(this,(function(l){switch(l.label){case 0:return a=Qt(e,"boxes","nonMaxSuppressionAsync"),s=Qt(t,"scores","nonMaxSuppressionAsync"),u=xc(a,s,n,r,o,i),n=u.maxOutputSize,r=u.iouThreshold,o=u.scoreThreshold,i=u.softNmsSigma,[4,Promise.all([a.data(),s.data()])];case 1:return c=l.sent(),p=c[0],d=c[1],h=so(p,d,n,r,o,i),a!==e&&a.dispose(),s!==t&&s.dispose(),[2,h]}}))}))},cropAndResize:Ec}),kc=function(e,t){return!(e>0)||"linear"===t},Tc=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},Rc=function(e,t){var n=t,r=Fr(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},Oc=function(e,t,n){if("linear"===t)return e;if("relu"===t)return Il(e);if("elu"===t)return Tl(e);if("relu6"===t)return Vl(e);if("prelu"===t)return Ol(e,n);throw new Error("Unknown fused activation "+t+".")},Ic=on({fusedMatMul_:function(e){var t,n=e.a,r=e.b,o=e.transposeA,i=void 0!==o&&o,a=e.transposeB,s=void 0!==a&&a,u=e.bias,l=e.activation,c=void 0===l?"linear":l,p=e.preluActivationWeights;if(!1===kc(Ne.state.gradientDepth,c)){var d=Ju(n,r,i,s);return null!=u&&(d=Zs(d,u)),Oc(d,c,p)}var h=Qt(n,"a","fused matMul"),f=Qt(r,"b","fused matMul");t=Re(h,f),h=t[0],f=t[1];var m=i?h.shape[h.rank-2]:h.shape[h.rank-1],g=s?f.shape[f.rank-1]:f.shape[f.rank-2],v=i?h.shape[h.rank-1]:h.shape[h.rank-2],y=s?f.shape[f.rank-2]:f.shape[f.rank-1],b=h.shape.slice(0,-2),x=f.shape.slice(0,-2),w=R(b),C=R(x);E(h.rank>=2&&f.rank>=2&&h.rank===f.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+h.rank+" and "+f.rank+"."})),E(O(b,x),(function(){return"Error in fused matMul: outer dimensions ("+b+") and ("+x+") of Tensors with shapes "+h.shape+" and "+f.shape+" must match."})),E(m===g,(function(){return"Error in fused matMul: inner shapes ("+m+") and ("+g+") of Tensors with shapes "+h.shape+" and "+f.shape+" and transposeA="+i+" and transposeB="+s+" must match."}));var _,P,S=h.shape.slice(0,-2).concat([v,y]),k=i?h.as3D(w,m,v):h.as3D(w,v,m),T=s?f.as3D(C,y,g):f.as3D(C,g,y);null!=u&&Mr(S,(_=Re(_=Qt(u,"bias","fused matMul"),h)[0]).shape),null!=p&&(P=Qt(p,"prelu weights","fused matMul"));var I={a:k,b:T};null!=u&&(I.bias=_),null!=p&&(I.preluActivationWeights=P);var V=[k,T];return Ne.runKernelFunc((function(e,t){var n=e.fusedBatchMatMul({a:k,b:T,transposeA:i,transposeB:s,bias:_,activation:c,preluActivationWeights:P});return t([k,T,n]),n}),I,(function(e,t){var n=t[0],r=t[1],o=t[2],a=Tc(e,o,c),l={};return null!=u&&(l={bias:function(){return Rc(_,a)}}),i||s?!i&&s?Object.assign({a:function(){return a.matMul(r,!1,!1)},b:function(){return a.matMul(n,!0,!1)}},l):i&&!s?Object.assign({a:function(){return r.matMul(a,!1,!0)},b:function(){return n.matMul(a,!1,!1)}},l):Object.assign({a:function(){return r.matMul(a,!0,!0)},b:function(){return a.matMul(n,!0,!0)}},l):Object.assign({a:function(){return a.matMul(r,!1,!0)},b:function(){return n.matMul(a,!0,!1)}},l)}),"_FusedMatMul",{transposeA:i,transposeB:s,activation:c},V,[!0]).reshape(S)}}),Vc=on({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,i=e.dataFormat,a=void 0===i?"NHWC":i,s=e.dilations,u=void 0===s?[1,1]:s,l=e.dimRoundingMode,c=e.bias,p=e.activation,d=void 0===p?"linear":p,h=e.preluActivationWeights;if(d=d||"linear",!1===kc(Ne.state.gradientDepth,d)){var f=ju(t,n,r,o,a,u,l);return null!=c&&(f=Zs(f,c)),Oc(f,d,h)}var m=Qt(t,"x","conv2d"),g=Qt(n,"filter","conv2d"),v=m,y=!1;3===m.rank&&(y=!0,v=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),E(4===v.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+v.rank+"."})),E(4===g.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+g.rank+"."})),null!=l&&E(I(o),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+l+" but got pad "+o+"."})),E(v.shape[3]===g.shape[2],(function(){return"Error in conv2d: depth of input ("+v.shape[3]+") must match input depth for filter "+g.shape[2]+"."})),E(Kr(r,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),E("NHWC"===a,(function(){return"Error in conv2d: got dataFormat of "+a+" but only NHWC is currently supported."}));var b,x,w=Br(v.shape,g.shape,r,u,o,l);null!=c&&(b=Re(b=Qt(c,"bias","fused conv2d"),m)[0],Mr(w.outShape,b.shape)),null!=h&&(x=Qt(h,"prelu weights","fused conv2d"));var C={x:v,filter:g};null!=c&&(C.bias=b),null!=h&&(C.preluActivationWeights=x);var _=[g,v],P=Ne.runKernelFunc((function(e,t){var n=e.fusedConv2d({input:v,filter:g,convInfo:w,bias:b,activation:d,preluActivationWeights:x});return t([g,v,n]),n}),C,(function(e,t){var n=t,i=n[0],a=n[1],s=n[2],l=Tc(e,s,d);E($r(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"}));var p={};return null!=c&&(p={bias:function(){return Rc(b,l)}}),Object.assign({x:function(){return Uu(a.shape,l,i,r,o)},filter:function(){return zu(a,l,i.shape,r,o)}},p)}),"FusedConv2D",{convInfo:w,activation:d},_,[!0]);return y?P.as3D(P.shape[1],P.shape[2],P.shape[3]):P}}),Ac=on({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,i=e.dataFormat,a=void 0===i?"NHWC":i,s=e.dilations,u=void 0===s?[1,1]:s,l=e.dimRoundingMode,c=e.bias,p=e.activation,d=void 0===p?"linear":p,h=e.preluActivationWeights;if(!1===kc(Ne.state.gradientDepth,d)){var f=Wu(t,n,r,o,a,u,l);return null!=c&&(f=Zs(f,c)),Oc(f,d,h)}var m=Qt(t,"x","depthwiseConv2d"),g=Qt(n,"filter","depthwiseConv2d"),v=m,y=!1;3===m.rank&&(y=!0,v=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),E(4===v.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+v.rank+"."})),E(4===g.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+g.rank+"."})),E(v.shape[3]===g.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+v.shape[3]+") must match the inChannels dimension in filter "+g.shape[2]+"."})),null==u&&(u=[1,1]),E(Kr(r,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),null!=l&&E(I(o),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+l+" but got pad "+o+"."}));var b,x,w=Br(v.shape,g.shape,r,u,o,l,!0);null!=c&&(b=Re(b=Qt(c,"bias","fused conv2d"),m)[0],Mr(w.outShape,b.shape)),null!=h&&(x=Qt(h,"prelu weights","fused depthwiseConv2d"));var C={x:v,filter:g};null!=c&&(C.bias=b),null!=h&&(C.preluActivationWeights=x);var _=[g,v],P=Ne.runKernelFunc((function(e,t){var n=e.fusedDepthwiseConv2D({input:v,filter:g,convInfo:w,bias:b,activation:d,preluActivationWeights:x});return t([g,v,n]),n}),C,(function(e,t){E($r(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"}));var n=t[0],r=t[1],o=t[2],i=Tc(e,o,d),a={};return null!=c&&(a={bias:function(){return Rc(b,i)}}),Object.assign({x:function(){return Hu(r.shape,i,n,w)},filter:function(){return Qu(r,i,n.shape,w)}},a)}),"FusedDepthwiseConv2D",{convInfo:w,activation:d},_,[!0]);return y?P.as3D(P.shape[1],P.shape[2],P.shape[3]):P}}),Dc=Object.freeze({matMul:Ic,conv2d:Vc,depthwiseConv2d:Ac}),Nc=Object.freeze({image:Sc,linalg:bc,losses:fc,spectral:Gl,fused:Dc,signal:oc,square:Ja,squaredDifference:Ya,conv1d:qu,conv2d:ju,conv3d:Bu,depthwiseConv2d:Wu,separableConv2d:Gu,conv2dTranspose:$u,conv3dTranspose:Ku,op:on,batchNormalization2d:qs,batchNormalization3d:js,batchNormalization4d:Bs,batchNormalization:zs,batchNorm:Us,batchNorm2d:Ws,batchNorm3d:Hs,batchNorm4d:Qs,booleanMaskAsync:function(e,t,n){return u(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,p,d,h,f,m,g;return l(this,(function(l){switch(l.label){case 0:for(r=Qt(e,"tensor","boolMask"),o=Qt(t,"mask","boolMask","bool"),i=null==n?0:n,a=o.rank,s=r.shape,E(a>0,(function(){return"mask cannot be scalar"})),S(s.slice(i,i+a),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,c=i;c<i+a;c++)u*=s[c];return p=s.slice(0,i).concat([u],s.slice(i+a)),d=r.reshape(p),h=o.reshape([-1]),[4,Ys(h)];case 1:return f=l.sent(),m=f.squeeze([1]),g=Du(d,m,i),e!==r&&r.dispose(),t!==o&&o.dispose(),m.dispose(),d.dispose(),h.dispose(),f.dispose(),[2,g]}}))}))},complex:an,real:sn,imag:un,concat:Cn,concat1d:_n,concat2d:Pn,concat3d:En,concat4d:Sn,split:kn,matMul:Ju,dot:Xu,outerProduct:Yu,reverse:Zu,reverse1d:el,reverse2d:tl,reverse3d:nl,reverse4d:rl,maxPool:al,avgPool:sl,pool:ul,maxPool3d:ll,avgPool3d:cl,slice:pl,slice1d:dl,slice2d:hl,slice3d:fl,slice4d:ml,abs:Za,acos:es,acosh:ts,asin:ns,asinh:rs,atan:os,atanh:is,ceil:as,clipByValue:ss,cos:us,cosh:ls,erf:cs,exp:ps,expm1:ds,floor:hs,log:fs,log1p:ms,logSigmoid:gs,neg:vs,reciprocal:ys,round:bs,rsqrt:xs,sigmoid:ws,sign:Cs,isNaN:_s,isInf:Ps,isFinite:Es,sin:Ss,sinh:ks,softplus:Ts,sqrt:Rs,step:Os,tan:Is,tanh:Vs,all:vl,any:yl,argMax:bl,argMin:xl,logSumExp:wl,max:Cl,mean:_l,min:Pl,moments:El,sum:Sl,prod:kl,equal:xu,equalStrict:wu,greater:Cu,greaterEqual:_u,greaterEqualStrict:Pu,greaterStrict:Eu,less:Su,lessEqual:ku,lessEqualStrict:Tu,lessStrict:Ru,notEqual:Ou,notEqualStrict:Iu,add:Zs,addN:eu,addStrict:tu,atan2:nu,div:ru,divNoNan:ou,divStrict:iu,floorDiv:au,maximum:su,maximumStrict:uu,minimum:lu,minimumStrict:cu,mod:pu,modStrict:du,mul:hu,mulStrict:fu,pow:mu,powStrict:gu,squaredDifferenceStrict:vu,sub:yu,subStrict:bu,elu:Tl,leakyRelu:Rl,prelu:Ol,relu:Il,relu6:Vl,selu:Al,logicalAnd:Gs,logicalNot:$s,logicalOr:Ks,logicalXor:Js,where:Xs,whereAsync:Ys,buffer:jn,print:function(e,t){void 0===t&&(t=!1),console.log(e.toString(t))},batchToSpaceND:Bn,broadcastTo:zn,cast:Un,clone:Wn,cumsum:Hn,depthToSpace:Qn,expandDims:Gn,eye:$n,multinomial:Kn,oneHot:Jn,pad:Xn,pad1d:Yn,pad2d:Zn,pad3d:er,pad4d:tr,rand:nr,randomNormal:rr,randomGamma:or,randomUniform:ir,reshape:ar,spaceToBatchND:sr,squeeze:ur,stack:lr,tile:cr,truncatedNormal:pr,unstack:dr,setdiff1dAsync:function(e,t){return u(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,p,d;return l(this,(function(l){switch(l.label){case 0:return n=Qt(e,"x","setdiff1d"),r=Qt(t,"y","setdiff1d"),E(n.dtype===r.dtype,(function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."})),E(1===n.rank,(function(){return"x should be 1D tensor, but got x ("+n.shape+")."})),E(1===r.rank,(function(){return"y should be 1D tensor, but got y ("+r.shape+")."})),[4,n.data()];case 1:return o=l.sent(),[4,r.data()];case 2:for(i=l.sent(),a=new Set(i),s=0,p=0;p<o.length;p++)a.has(o[p])||s++;for(u=new me([s],n.dtype),c=new me([s],"int32"),p=0,d=0;p<o.length;p++)a.has(o[p])||(u.values[d]=o[p],c.values[d]=p,d++);return[2,[u.toTensor(),c.toTensor()]]}}))}))},fill:yn,linspace:function(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return Ne.runKernelFunc((function(r){return r.linspace(e,t,n)}),{})},ones:gn,range:bn,scalar:pn,tensor:ln,tensor1d:dn,tensor2d:hn,tensor3d:fn,tensor4d:mn,tensor5d:function(e,t,n){if(k(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=Wt(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return cn(e,t,r,n)},tensor6d:function(e,t,n){if(k(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=Wt(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return cn(e,t=t||r,r,n)},variable:function(e,t,n,r){return void 0===t&&(t=!0),Ne.makeVariable(e,t,n,r)},zeros:vn,onesLike:xn,zerosLike:wn,transpose:Dl,softmax:Ir,logSoftmax:Vr,localResponseNormalization:Nl,norm:Ll,gather:Du,unsortedSegmentSum:Nu,basicLSTMCell:Fl,multiRNNCell:Ml,movingAverage:ql,stridedSlice:jl,topk:Bl,scatterND:zl,fft:Ul,ifft:Wl,rfft:Hl,irfft:Ql,sparseToDense:$l,gatherND:Kl,diag:Jl,dropout:Xl,hannWindow:ec,hammingWindow:tc,frame:nc,stft:rc,inTopKAsync:function(e,t,n){return void 0===n&&(n=1),u(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,p,d,h,f,m,g,v;return l(this,(function(l){switch(l.label){case 0:return r=Qt(e,"predictions","inTopK"),o=Qt(t,"targets","inTopK"),E(r.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank})),E(r.rank-1===o.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+o.rank})),S(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=r.shape[r.shape.length-1],E(n>0&&n<=i,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+n})),[4,r.data()];case 1:return a=l.sent(),[4,o.data()];case 2:for(s=l.sent(),u=[a.length/i,i],p=u[1],d=q("bool",c=u[0]),h=0;h<c;h++){for(f=h*p,m=a.subarray(f,f+p),g=[],v=0;v<m.length;v++)g.push({value:m[v],index:v});for(g.sort((function(e,t){return t.value-e.value})),d[h]=0,v=0;v<n;v++)if(g[v].index===s[h]){d[h]=1;break}}return e!==r&&r.dispose(),t!==o&&o.dispose(),[2,ln(d,o.shape,"bool")]}}))}))}});function Lc(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&E("complex64"!==e.dtype,(function(){return t+" does not support complex64 tensors."}))}))}function Fc(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var Mc=function(e){function t(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new Ar(t,Ne),t}return s(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,d().get("IS_NODE")&&Ut("\n============================\nHi there 👋. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){return[2,this.readSync(e)]}))}))},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?eo(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return se(e)}))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return jn(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return Ne.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){return t=oe(),e(),[2,{kernelMs:oe()-t}]}))}))},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:Ne.keep(e.clone()),imag:Ne.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(Lc(e,"slice"),Tr(e.shape,t,n)){var r=Rr(t,e.strides),o=R(n);return ln(this.readSync(e.dataId).subarray(r,r+o),n,e.dtype)}for(var i=jn(n,e.dtype),a=this.bufferSync(e),s=0;s<i.size;++s){var u=i.indexToLoc(s).map((function(e,n){return e+t[n]}));i.values[s]=a.get.apply(a,u)}return i.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){Lc(e,"stridedSlice");var o=Er(t,n,r);if(o.some((function(e){return 0===e})))return ln([],o);for(var i=jn(o,e.dtype),a=this.bufferSync(e),s=0;s<i.size;s++){for(var u=i.indexToLoc(s),l=new Array(u.length),c=0;c<l.length;c++)l[c]=u[c]*r[c]+t[c];i.set.apply(i,[a.get.apply(a,l)].concat(u))}return i.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=jn([e.size,e.size],e.dtype),r=n.values,o=0;o<t.length;o++)r[o*e.size+o]=t[o];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),o=0,i=0;i<e.rank;i++)i!==t&&(r[o++]=e.shape[i]);var a=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(i=0;i<u.length;i++)a[t]=i,u[i]=this.slice(e,a,s).reshape(r);return u},t.prototype.reverse=function(e,t){Lc(e,"reverse");for(var n=jn(e.shape,e.dtype),r=this.bufferSync(e),o=function(o){var i=n.indexToLoc(o),a=i.slice();t.forEach((function(t){return a[t]=e.shape[t]-1-a[t]})),n.set.apply(n,[r.get.apply(r,a)].concat(i))},i=0;i<n.size;i++)o(i);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map((function(e){return sn(e)})),o=e.map((function(e){return un(e)}));return an(this.concat(r,t),this.concat(o,t))}var i=e.map((function(e){var n=R(e.shape.slice(t));return e.as2D(-1,n)})),a=rn(i.map((function(e){return e.shape})),1),s=jn(a,e[0].dtype).values;if(1===i[0].shape[0]){var u=0;i.forEach((function(e){s.set(n.readSync(e.dataId),u),u+=e.size}))}else{var l=0;i.forEach((function(e){for(var t=n.readSync(e.dataId),r=0,o=0;o<e.shape[0];++o)for(var i=o*a[1]+l,u=0;u<e.shape[1];++u)s[i+u]=t[r++];l+=e.shape[1]}))}var c=rn(e.map((function(e){return e.shape})),t);return ln(s,c,e[0].dtype)},t.prototype.neg=function(e){return Lc(e,"neg"),this.multiply(pn(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e+n,imag:t+r}})):this.broadcastedBinaryOp(e,t,ke(e.dtype,t.dtype),(function(e,t){return e+t}))},t.prototype.addN=function(e){var t=this;Lc(e,"addN");for(var n=e.map((function(e){return t.readSync(e.dataId)})),r=jn(e[0].shape,e[0].dtype),o=r.values,i=0;i<e.length;i++)for(var a=n[i],s=0;s<o.length;s++)o[s]+=a[s];return r.toTensor()},t.prototype.softmax=function(e,t){var n=F([t],e.shape),r=this.max(e,n),o=Xt(r.shape,n),i=this.subtract(e,r.reshape(o)),a=this.exp(i),s=this.sum(a,n).reshape(o);return this.realDivide(a,s)},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e-n,imag:t-r}})):this.broadcastedBinaryOp(e,t,ke(e.dtype,t.dtype),(function(e,t){return e-t}))},t.prototype.pow=function(e,t){return Lc([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.pow(e,t)}))},t.prototype.batchMatMul=function(e,t,n,r){Lc([e,t],"matMul");for(var o=n?e.shape[1]:e.shape[2],i=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],s=e.shape[0],u=this.readSync(e.dataId),l=this.readSync(t.dataId),c=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],p=c[0],d=c[1],h=c[2],f=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],m=f[0],g=f[1],v=f[2],y=i*a,b=jn([s,i,a],e.dtype),x=b.values,w=this.blockSize,C=0;C<s;C++)for(var _=0;_<i;_+=w)for(var P=0;P<a;P+=w)for(var E=0;E<o;E+=w)for(var S=Math.min(_+w,i),k=Math.min(P+w,a),T=Math.min(E+w,o),R=_;R<S;R++)for(var O=P;O<k;O++){for(var I=0,V=E;V<T;V++)I+=u[C*p+R*d+V*h]*l[V*m+O*g+C*v];x[C*y+(R*a+O)]+=I}return b.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,o=e.transposeB,i=e.bias,a=e.activation,s=e.preluActivationWeights,u=this.batchMatMul(t,n,r,o);return i&&(u=this.add(u,i)),a&&(u=Fc(this,u,a,s)),u},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})):this.broadcastedBinaryOp(e,t,ke(e.dtype,t.dtype),(function(e,t){return e*t}))},t.prototype.realDivide=function(e,t){return Lc([e,t],"realDivide"),this.broadcastedBinaryOp(e,t,"float32",(function(e,t){return e/t}))},t.prototype.floorDiv=function(e,t){return Lc([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",(function(e,t){return Math.floor(e/t)}))},t.prototype.sum=function(e,t){Lc(e,"sum"),Yt("sum",t,e.rank);for(var n=Jt(e.shape,t),r=n[0],o=n[1],i=vn(r,ke(e.dtype,"int32")),a=R(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*a,p=0,d=0;d<a;++d)p+=u[c+d];s[l]=p}return i},t.prototype.prod=function(e,t){Lc(e,"sum");for(var n=Jt(e.shape,t),r=n[0],o=n[1],i=vn(r,ke(e.dtype,"int32")),a=R(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*a,p=1,d=0;d<a;++d)p*=u[c+d];s[l]=p}return i},t.prototype.unsortedSegmentSum=function(e,t,n){Lc(e,"unsortedSegmentSum");for(var r=[],o=e.rank-t.rank,i=0;i<o;++i)t=t.expandDims(i+1);for(i=0;i<n;++i){var a=pn(i,"int32"),s=xu(a,t).asType("float32").mul(e).sum(0);r.push(s)}return lr(r)},t.prototype.argMin=function(e,t){Lc(e,"argMin");var n=[t];Yt("argMin",n,e.rank);for(var r=Jt(e.shape,n),o=r[0],i=r[1],a=vn(o,"int32"),s=R(i),u=this.readSync(a.dataId),l=this.readSync(e.dataId),c=0;c<u.length;++c){for(var p=c*s,d=l[p],h=0,f=0;f<s;++f){var m=l[p+f];m<d&&(d=m,h=f)}u[c]=h}return a},t.prototype.argMax=function(e,t){Lc(e,"argMax");var n=[t];Yt("argMax",n,e.rank);for(var r=Jt(e.shape,n),o=r[0],i=r[1],a=vn(o,"int32"),s=R(i),u=this.readSync(a.dataId),l=this.readSync(e.dataId),c=0;c<u.length;++c){for(var p=c*s,d=l[p],h=0,f=0;f<s;++f){var m=l[p+f];m>d&&(d=m,h=f)}u[c]=h}return a},t.prototype.cumsum=function(e,t,n,r){if(Lc(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var o=ke(e.dtype,"int32"),i=vn(e.shape,o),a=this.readSync(i.dataId),s=this.readSync(e.dataId),u=e.shape[e.rank-1],l=r?function(e,t){return e+u-t-1}:function(e,t){return e+t},c=0;c<s.length;c+=u)for(var p=0;p<u;p++){var d=l(c,p);if(0===p)a[d]=n?0:s[d];else{var h=l(c,p-1);a[d]=n?s[h]+a[h]:s[d]+a[h]}}return i},t.prototype.equal=function(e,t){return Lc([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e===t?1:0}))},t.prototype.notEqual=function(e,t){return Lc([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e!==t?1:0}))},t.prototype.less=function(e,t){return Lc([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<t?1:0}))},t.prototype.lessEqual=function(e,t){return Lc([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<=t?1:0}))},t.prototype.greater=function(e,t){return Lc([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>t?1:0}))},t.prototype.greaterEqual=function(e,t){return Lc([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>=t?1:0}))},t.prototype.logicalNot=function(e){Lc(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return Lc([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e&&t}))},t.prototype.logicalOr=function(e,t){return Lc([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e||t}))},t.prototype.select=function(e,t,n){Lc([e,t,n],"select");for(var r=this.readSync(e.dataId),o=this.readSync(t.dataId),i=this.readSync(n.dataId),a=vn(t.shape,ke(t.dtype,n.dtype)),s=this.readSync(a.dataId),u=0,l=0===e.rank||e.rank>1||1===t.rank?1:R(t.shape.slice(1)),c=0;c<r.length;c++)for(var p=0;p<l;p++)1===r[c]?s[u++]=o[c]:s[u++]=i[c];return a},t.prototype.where=function(e){Lc([e],"where");var t=this.readSync(e.dataId);return go(e.shape,t)},t.prototype.topk=function(e,t,n){return Lc(e,"topk"),mo(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){Lc(e,"min"),Yt("min",t,e.rank);for(var n=Jt(e.shape,t),r=n[0],o=n[1],i=vn(r,e.dtype),a=R(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*a,p=u[c],d=0;d<a;++d){var h=u[c+d];h<p&&(p=h)}s[l]=p}return i},t.prototype.minimum=function(e,t){return Lc([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.min(e,t)}))},t.prototype.mod=function(e,t){return Lc([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}))},t.prototype.max=function(e,t){Lc(e,"max"),Yt("max",t,e.rank);for(var n=Jt(e.shape,t),r=n[0],o=n[1],i=vn(r,e.dtype),a=R(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*a,p=u[c],d=0;d<a;++d){var h=u[c+d];h>p&&(p=h)}s[l]=p}return i},t.prototype.maximum=function(e,t){return Lc([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.max(e,t)}))},t.prototype.all=function(e,t){Lc(e,"all"),Yt("all",t,e.rank);for(var n=Jt(e.shape,t),r=n[0],o=n[1],i=vn(r,e.dtype),a=R(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*a,p=u[c],d=0;d<a;++d){var h=u[c+d];p=p&&h}s[l]=p}return i},t.prototype.any=function(e,t){Lc(e,"any"),Yt("any",t,e.rank);for(var n=Jt(e.shape,t),r=n[0],o=n[1],i=vn(r,e.dtype),a=R(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*a,p=u[c],d=0;d<a;++d){var h=u[c+d];p=p||h}s[l]=p}return i},t.prototype.squaredDifference=function(e,t){return Lc([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e-t;return n*n}))},t.prototype.ceil=function(e){Lc(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){Lc(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){Lc(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){Lc(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){Lc(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){Lc(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){Lc(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=Math.floor(t[r]);t[r]-o<.5?n[r]=Math.floor(t[r]):t[r]-o>.5?n[r]=Math.ceil(t[r]):n[r]=o%2==0?o:o+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){Lc(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){Lc(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){Lc(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){Lc(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log1p(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){Lc(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.sqrt(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){Lc(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=1/Math.sqrt(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){Lc(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){Lc(e,"relu");for(var t=vn(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),o=0;o<r.length;++o)n[o]=Math.max(0,r[o]);return t},t.prototype.relu6=function(e){Lc(e,"relu");for(var t=vn(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),o=0;o<r.length;++o)n[o]=Math.min(Math.max(0,r[o]),6);return t},t.prototype.prelu=function(e,t){return Lc([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return e<0?t*e:e}))},t.prototype.elu=function(e){Lc(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=n[r];t[r]=o>=0?o:Math.exp(o)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){Lc([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),o=this.readSync(e.dataId),i=0;i<r.length;++i){var a=r[i];n[i]=a>=1?o[i]:o[i]*(a+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){Lc(e,"selu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=n[r];t[r]=o>=0?1.0507009873554805*o:1.7580993408473768*(Math.exp(o)-1)}return this.makeOutput(t,e.shape,"float32")},t.prototype.clip=function(e,t,n){Lc(e,"clip");for(var r=new Float32Array(e.size),o=this.readSync(e.dataId),i=0;i<o.length;++i){var a=o[i];r[i]=a>n?n:a<t?t:a}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var o=n[2*r],i=n[2*r+1];t[r]=Math.hypot(o,i)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){Lc(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){Lc(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){Lc(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),o=0;o<r.length;++o){var i,a=r[o]>-t,s=r[o]<t,u=Math.exp(r[o]);i=s?u:a?r[o]:Math.log(1+u),n[o]=i}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){Lc(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){Lc(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){Lc(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){Lc(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){Lc(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){Lc(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return Lc([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.atan2(e,t)}))},t.prototype.sinh=function(e){Lc(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){Lc(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){Lc(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=V(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){Lc(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){Lc(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){Lc(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){Lc(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=Math.sign(n[r]),i=Math.abs(n[r]),a=1/(1+.3275911*i);t[r]=o*(1-((((1.061405429*a-1.453152027)*a+1.421413741)*a-.284496736)*a+.254829592)*a*Math.exp(-i*i))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),Lc(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),o=0;o<r.length;++o){var i=r[o];isNaN(i)?n[o]=NaN:n[o]=i>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights,s=this.conv2d(t,n,r);return o&&(s=this.add(s,o)),i&&(s=Fc(this,s,i,a)),s},t.prototype.conv2d=function(e,t,n){Lc([e,t],"conv2d");for(var r=n.filterHeight,o=n.filterWidth,i=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l="channelsLast"===n.dataFormat,c=jn(n.outShape,e.dtype),p=e.strides[0],d=l?e.strides[1]:e.strides[2],h=l?e.strides[2]:1,f=l?1:e.strides[1],m=c.strides[0],g=l?c.strides[1]:c.strides[2],v=l?c.strides[2]:1,y=l?1:c.strides[1],b=this.readSync(e.dataId),x=this.readSync(t.dataId),w=c.values,C=0;C<n.batchSize;++C)for(var _=C*p,P=C*m,E=0;E<n.outHeight;++E)for(var S=P+E*g,k=E*n.strideHeight-u,T=0;T<r;T++){var R=k+T*i;if(!(R<0||R>=n.inHeight))for(var O=T*t.strides[0],I=_+R*d,V=0;V<n.outWidth;++V)for(var A=S+V*v,D=V*n.strideWidth-s,N=0;N<o;N++){var L=D+N*a;if(!(L<0||L>=n.inWidth))for(var F=I+L*h,M=O+N*t.strides[1],q=0;q<n.inChannels;++q){for(var j=b[F+q*f],B=0;B<n.outChannels;++B)w[A+B*y]+=j*x[M+B];M+=n.outChannels}}}return c.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,o=n.filterHeight,i=n.filterWidth,a=n.dilationDepth,s=n.dilationHeight,u=n.dilationWidth,l=n.padInfo.front,c=n.padInfo.left,p=n.padInfo.top,d=jn(n.outShape,e.dtype),h=this.readSync(e.dataId),f=this.readSync(t.dataId),m=d.values,g=0;g<n.batchSize;++g)for(var v=g*e.strides[0],y=g*d.strides[0],b=0;b<n.outDepth;++b)for(var x=y+b*d.strides[1],w=b*n.strideDepth-l,C=0;C<r;C++){var _=w+C*a;if(!(_<0||_>=n.inDepth))for(var P=C*t.strides[0],E=v+_*e.strides[1],S=0;S<n.outHeight;++S)for(var k=x+S*d.strides[2],T=S*n.strideHeight-p,R=0;R<o;R++){var O=T+R*s;if(!(O<0||O>=n.inHeight))for(var I=P+R*t.strides[1],V=E+O*e.strides[2],A=0;A<n.outWidth;++A)for(var D=k+A*n.outChannels,N=A*n.strideWidth-c,L=0;L<i;L++){var F=N+L*u;if(!(F<0||F>=n.inWidth))for(var M=I+L*t.strides[2],q=V+F*n.inChannels,j=M,B=0;B<n.inChannels;++B){for(var z=h[q+B],U=0;U<n.outChannels;++U)m[D+U]+=z*f[j+U];j+=n.outChannels}}}}return d.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){Lc([e,t],"conv2dDerInput");for(var r=jn(n.inShape,"float32"),o=r.values,i=this.readSync(e.dataId),a=this.readSync(t.dataId),s=t.strides,u=s[0],l=s[1],c=s[2],p=n.batchSize,d=n.filterHeight,h=n.filterWidth,f=n.inChannels,m=n.inHeight,g=n.inWidth,v=n.outChannels,y=n.outHeight,b=n.outWidth,x=n.strideHeight,w=n.strideWidth,C=n.dataFormat,_=d-1-n.padInfo.top,P=h-1-n.padInfo.left,E="channelsLast"===C,S=r.strides[0],k=E?r.strides[1]:r.strides[2],T=E?r.strides[2]:1,R=E?1:r.strides[1],O=e.strides[0],I=E?e.strides[1]:e.strides[2],V=E?e.strides[2]:1,A=E?1:e.strides[1],D=0;D<p;++D)for(var N=0;N<f;++N)for(var L=0;L<m;++L)for(var F=L-_,M=Math.max(0,Math.ceil(F/x)),q=Math.min(y,(d+F)/x),j=0;j<g;++j){for(var B=j-P,z=Math.max(0,Math.ceil(B/w)),U=Math.min(b,(h+B)/w),W=0,H=M;H<q;++H)for(var Q=H*x-F,G=z;G<U;++G)for(var $=O*D+I*H+V*G,K=u*(d-1-Q)+l*(h-1-(G*w-B))+c*N,J=0;J<v;++J)W+=i[$+A*J]*a[K+J];o[S*D+k*L+T*j+R*N]=W}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=jn(n.inShape,"float32"),o=r.values,i=r.strides,a=i[0],s=i[1],u=i[2],l=i[3],c=this.readSync(e.dataId),p=e.strides,d=p[0],h=p[1],f=p[2],m=p[3],g=this.readSync(t.dataId),v=t.strides,y=v[0],b=v[1],x=v[2],w=v[3],C=n.batchSize,_=n.filterDepth,P=n.filterHeight,E=n.filterWidth,S=n.inChannels,k=n.inDepth,T=n.inHeight,R=n.inWidth,O=n.outChannels,I=n.outDepth,V=n.outHeight,A=n.outWidth,D=n.strideDepth,N=n.strideHeight,L=n.strideWidth,F=_-1-n.padInfo.front,M=P-1-n.padInfo.top,q=E-1-n.padInfo.left,j=0;j<C;++j)for(var B=0;B<S;++B)for(var z=0;z<k;++z)for(var U=z-F,W=Math.max(0,Math.ceil(U/D)),H=Math.min(I,(_+U)/D),Q=0;Q<T;++Q)for(var G=Q-M,$=Math.max(0,Math.ceil(G/N)),K=Math.min(V,(P+G)/N),J=0;J<R;++J){for(var X=J-q,Y=Math.max(0,Math.ceil(X/L)),Z=Math.min(A,(E+X)/L),ee=0,te=W;te<H;++te)for(var ne=te*D-U,re=$;re<K;++re)for(var oe=re*N-G,ie=Y;ie<Z;++ie)for(var ae=d*j+h*te+f*re+m*ie,se=y*(_-1-ne)+b*(P-1-oe)+x*(E-1-(ie*L-X))+w*B,ue=0;ue<O;++ue)ee+=c[ae+ue]*g[se+ue];o[a*j+s*z+u*Q+l*J+B]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){Lc([e,t],"conv2dDerFilter");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s="channelsLast"===n.dataFormat,u=jn(n.filterShape,"float32"),l=n.padInfo.left,c=n.padInfo.top,p=this.bufferSync(e),d=this.bufferSync(t),h=0;h<i;++h)for(var f=Math.max(0,Math.ceil((c-h)/r)),m=Math.min(n.outHeight,(n.inHeight+c-h)/r),g=0;g<a;++g)for(var v=Math.max(0,Math.ceil((l-g)/o)),y=Math.min(n.outWidth,(n.inWidth+l-g)/o),b=0;b<n.inChannels;++b)for(var x=0;x<n.outChannels;++x){for(var w=0,C=0;C<n.batchSize;++C)for(var _=f;_<m;++_)for(var P=h+_*r-c,E=v;E<y;++E){var S=g+E*o-l;w+=s?p.get(C,P,S,b)*d.get(C,_,E,x):p.get(C,b,P,S)*d.get(C,x,_,E)}u.set(w,h,g,b,x)}return u.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,o=n.strideHeight,i=n.strideWidth,a=n.filterDepth,s=n.filterHeight,u=n.filterWidth,l=jn(n.filterShape,"float32"),c=l.values,p=l.strides,d=p[0],h=p[1],f=p[2],m=p[3],g=this.readSync(t.dataId),v=t.strides,y=v[0],b=v[1],x=v[2],w=v[3],C=this.readSync(e.dataId),_=e.strides,P=_[0],E=_[1],S=_[2],k=_[3],T=n.padInfo.front,R=n.padInfo.left,O=n.padInfo.top,I=0;I<a;++I)for(var V=Math.max(0,Math.ceil((T-I)/r)),A=Math.min(n.outDepth,(n.inDepth+T-I)/r),D=I*d,N=0;N<s;++N)for(var L=Math.max(0,Math.ceil((O-N)/o)),F=Math.min(n.outHeight,(n.inHeight+O-N)/o),M=N*h+D,q=0;q<u;++q)for(var j=Math.max(0,Math.ceil((R-q)/i)),B=Math.min(n.outWidth,(n.inWidth+R-q)/i),z=q*f+M,U=0;U<n.inChannels;++U)for(var W=U*m+z,H=0;H<n.outChannels;++H){for(var Q=0,G=0;G<n.batchSize;++G)for(var $=G*P,K=G*y,J=V;J<A;++J)for(var X=(I+J*r-T)*E+$,Y=J*b+K,Z=L;Z<F;++Z)for(var ee=(N+Z*o-O)*S+X,te=Z*x+Y,ne=j;ne<B;++ne){var re=ne*w+te;Q+=C[(q+ne*i-R)*k+ee+U]*g[re+H]}c[W+H]=Q}return l.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return o&&(s=this.add(s,o)),i&&(s=Fc(this,s,i,a)),s},t.prototype.depthwiseConv2D=function(e,t,n){Lc([e,t],"depthwiseConv2D");for(var r=n.filterHeight,o=n.filterWidth,i=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l=n.outChannels/n.inChannels,c=jn(n.outShape,e.dtype),p=this.readSync(e.dataId),d=this.readSync(t.dataId),h=c.values,f=0;f<n.batchSize;++f)for(var m=f*e.strides[0],g=f*c.strides[0],v=0;v<n.outHeight;++v)for(var y=g+v*c.strides[1],b=v*n.strideHeight-s,x=0;x<r;++x){var w=b+x*i;if(!(w<0||w>=n.inHeight))for(var C=x*t.strides[0],_=m+w*e.strides[1],P=0;P<n.outWidth;++P)for(var E=y+P*c.strides[2],S=P*n.strideWidth-u,k=0;k<o;++k){var T=S+k*a;if(!(T<0||T>=n.inWidth))for(var R=C+k*t.strides[1],O=_+T*n.inChannels,I=E,V=R,A=0;A<n.inChannels;++A){for(var D=p[O+A],N=0;N<l;++N)h[I+N]+=D*d[V+N];I+=l,V+=l}}}return c.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){Lc([e,t],"depthwiseConv2DDerInput");for(var r=jn(n.inShape,"float32"),o=r.values,i=r.strides,a=i[0],s=i[1],u=i[2],l=this.readSync(e.dataId),c=e.strides,p=c[0],d=c[1],h=c[2],f=this.readSync(t.dataId),m=t.strides,g=m[0],v=m[1],y=m[2],b=n.batchSize,x=n.filterHeight,w=n.filterWidth,C=n.inChannels,_=n.inHeight,P=n.inWidth,E=n.outChannels,S=n.outHeight,k=n.outWidth,T=n.strideHeight,R=n.strideWidth,O=x-1-n.padInfo.top,I=w-1-n.padInfo.left,V=E/C,A=0;A<b;++A)for(var D=0;D<C;++D)for(var N=0;N<_;++N)for(var L=N-O,F=Math.max(0,Math.ceil(L/T)),M=Math.min(S,(x+L)/T),q=0;q<P;++q){for(var j=q-I,B=Math.max(0,Math.ceil(j/R)),z=Math.min(k,(w+j)/R),U=0,W=F;W<M;++W)for(var H=W*T-L,Q=B;Q<z;++Q)for(var G=p*A+d*W+h*Q,$=g*(x-1-H)+v*(w-1-(Q*R-j))+y*D,K=0;K<V;++K)U+=l[G+(D*V+K)]*f[$+K];o[a*A+s*N+u*q+D]=U}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){Lc([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s=jn(n.filterShape,"float32"),u=n.padInfo.left,l=n.padInfo.top,c=n.outChannels/n.inChannels,p=this.bufferSync(e),d=this.bufferSync(t),h=0;h<i;++h)for(var f=Math.max(0,Math.ceil((l-h)/r)),m=Math.min(n.outHeight,(n.inHeight+l-h)/r),g=0;g<a;++g)for(var v=Math.max(0,Math.ceil((u-g)/o)),y=Math.min(n.outWidth,(n.inWidth+u-g)/o),b=0;b<n.outChannels;++b){for(var x=Math.trunc(b/c),w=b%c,C=0,_=0;_<n.batchSize;++_)for(var P=f;P<m;++P)for(var E=h+P*r-l,S=v;S<y;++S){var k=g+S*o-u;C+=p.get(_,E,k,x)*d.get(_,P,S,b)}s.set(C,h,g,x,w)}return s.toTensor()},t.prototype.tile=function(e,t){return Lc(e,"tile"),fo(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){Lc(e,"pad");var r=t.map((function(t,n){return t[0]+e.shape[n]+t[1]})),o=t.map((function(e){return e[0]})),i=this.bufferSync(e),a=jn(r,e.dtype);0!==n&&a.values.fill(n);for(var s=0;s<e.size;s++){var u=i.indexToLoc(s),l=u.map((function(e,t){return e+o[t]}));a.set.apply(a,[i.get.apply(i,u)].concat(l))}return a.toTensor()},t.prototype.transpose=function(e,t){Lc(e,"transpose");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var o=this.readSync(e.dataId),i=jn(n,e.dtype),a=this.bufferSync(e);for(r=0;r<e.size;++r){for(var s=a.indexToLoc(r),u=new Array(s.length),l=0;l<u.length;l++)u[l]=s[t[l]];var c=i.locToIndex(u);i.values[c]=o[r]}return i.toTensor()},t.prototype.gather=function(e,t,n){Lc([e,t],"gather");var r=e.shape.slice(),o=this.readSync(t.dataId);r[n]=o.length;for(var i=jn(r,e.dtype),a=this.bufferSync(e),s=0;s<i.size;++s){var u=i.indexToLoc(s),l=u.slice();l[n]=o[u[n]];var c=a.locToIndex(l);i.values[s]=a.values[c]}return i.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){Lc([e],"batchToSpaceND");var r=t.reduce((function(e,t){return e*t})),o=hr(e.shape,t,r),i=fr(o.length,t.length),a=mr(e.shape,t,r),s=gr(n,t.length),u=vr(a,n,t.length);return e.reshape(o).transpose(i).reshape(a).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){Lc([e],"spaceToBatchND");var r=t.reduce((function(e,t){return e*t})),o=[[0,0]];o.push.apply(o,n);for(var i=1+t.length;i<e.shape.length;++i)o.push([0,0]);var a=e.pad(o),s=hr(a.shape,t,r,!1),u=fr(s.length,t.length,!1),l=mr(a.shape,t,r,!1);return a.reshape(s).transpose(u).reshape(l)},t.prototype.pool=function(e,t,n){Lc(e,"pool");for(var r=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,l=t.padInfo.top,c=t.padInfo.left,p="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,d=this.readSync(e.dataId),h=jn(t.outShape,e.dtype),f=h.values,m=t.outShape[1]*t.outShape[2]*t.outShape[3],g=t.outShape[2]*t.outShape[3],v=t.outShape[3],y=0;y<t.batchSize;++y)for(var b=y*m,x=y*e.strides[0],w=0;w<t.inChannels;++w)for(var C=0;C<t.outHeight;++C)for(var _=C*r-l,P=Math.max(0,_),E=Math.min(t.inHeight,s+_),S=b+C*g,k=0;k<t.outWidth;++k){for(var T=k*o-c,R=Math.max(0,T),O=Math.min(t.inWidth,u+T),I=p,V=0,A=0,D=P;D<E;D+=i){for(var N=x+D*e.strides[1],L=R;L<O;L+=a){var F=d[N+L*e.strides[2]+w];"max"===n&&F>I?I=F:"avg"===n&&(V+=F,A++)}if(isNaN(I))break}f[S+k*v+w]="avg"===n?V/A:I}return h.toTensor()},t.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},t.prototype.maxPoolPositions=function(e,t){for(var n=jn(t.outShape,"int32"),r=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,l=t.padInfo.top,c=t.padInfo.left,p=this.bufferSync(e),d=0;d<t.batchSize;++d)for(var h=0;h<t.inChannels;++h)for(var f=0;f<t.outHeight;++f){for(var m=f*r-l,g=m;g<0;)g+=i;for(var v=Math.min(t.inHeight,s+m),y=0;y<t.outWidth;++y){for(var b=y*o-c,x=b;x<0;)x+=a;for(var w=Math.min(t.inWidth,u+b),C=Number.NEGATIVE_INFINITY,_=-1,P=g;P<v;P+=i)for(var E=P-m,S=x;S<w;S+=a){var k=S-b,T=p.get(d,P,S,h);T>C&&(C=T,_=E*u+k)}n.set(_,d,f,y,h)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){Lc([t,n],"maxPoolBackprop");for(var o=this.maxPoolPositions(t,r),i=r.strideHeight,a=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,l=r.effectiveFilterHeight,c=r.effectiveFilterWidth,p=c-1-r.padInfo.left,d=l-1-r.padInfo.top,h=jn(t.shape,"float32"),f=this.bufferSync(o),m=this.bufferSync(e),g=0;g<r.batchSize;++g)for(var v=0;v<r.inChannels;++v)for(var y=0;y<r.inHeight;++y)for(var b=0;b<r.inWidth;++b){for(var x=y-d,w=b-p,C=0,_=0;_<l;_+=s){var P=(x+_)/i;if(!(P<0||P>=r.outHeight||Math.floor(P)!==P))for(var E=0;E<c;E+=u){var S=(w+E)/a;if(!(S<0||S>=r.outWidth||Math.floor(S)!==S)){var k=l*c-1-f.get(g,P,S,v)===_*c+E?1:0;0!==k&&(C+=m.get(g,P,S,v)*k)}}}h.set(C,g,y,b,v)}return h.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){Lc([e,t],"avgPoolBackprop");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s=n.dilationHeight,u=n.dilationWidth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,p=c-1-n.padInfo.left,d=l-1-n.padInfo.top,h=jn(t.shape,"float32"),f=1/(i*a),m=this.bufferSync(e),g=0;g<n.batchSize;++g)for(var v=0;v<n.inChannels;++v)for(var y=0;y<n.inHeight;++y)for(var b=0;b<n.inWidth;++b){for(var x=y-d,w=b-p,C=0,_=0;_<l;_+=s){var P=(x+_)/r;if(!(P<0||P>=n.outHeight||Math.floor(P)!==P))for(var E=0;E<c;E+=u){var S=(w+E)/o;S<0||S>=n.outWidth||Math.floor(S)!==S||(C+=m.get(g,P,S,v))}}h.set(C*f,g,y,b,v)}return h.toTensor()},t.prototype.pool3d=function(e,t,n){Lc(e,"pool3d");for(var r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,p=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,f=t.padInfo.left,m="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=this.readSync(e.dataId),v=jn(t.outShape,e.dtype),y=v.values,b=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],x=t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[3]*t.outShape[4],C=t.outShape[4],_=0;_<t.batchSize;++_)for(var P=_*b,E=_*e.strides[0],S=0;S<t.inChannels;++S)for(var k=0;k<t.outDepth;++k){for(var T=k*r-d,R=T;R<0;)R+=a;for(var O=Math.min(t.inDepth,l+T),I=P+k*x,V=0;V<t.outHeight;++V){for(var A=V*o-h,D=A;D<0;)D+=s;for(var N=Math.min(t.inHeight,c+A),L=I+V*w,F=0;F<t.outWidth;++F){for(var M=F*i-f,q=M;q<0;)q+=u;for(var j=Math.min(t.inWidth,p+M),B=L+F*C,z=m,U=0,W=0,H=R;H<O;H+=a){for(var Q=E+H*e.strides[1],G=D;G<N;G+=s){for(var $=Q+G*e.strides[2],K=q;K<j;K+=u){var J=g[$+K*e.strides[3]+S];if("max"===n&&J>z?z=J:"avg"===n&&(U+=J,W++),isNaN(z))break}if(isNaN(z))break}if(isNaN(z))break}y[B+S]="avg"===n?U/W:z}}}return v.toTensor()},t.prototype.avgPool3d=function(e,t){return Lc(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){Lc([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,o=n.strideHeight,i=n.strideWidth,a=n.filterDepth,s=n.filterHeight,u=n.filterWidth,l=n.dilationDepth,c=n.dilationHeight,p=n.dilationWidth,d=n.effectiveFilterDepth,h=n.effectiveFilterHeight,f=n.effectiveFilterWidth,m=d-1-n.padInfo.front,g=f-1-n.padInfo.left,v=h-1-n.padInfo.top,y=jn(t.shape,"float32"),b=1/(a*s*u),x=this.bufferSync(e),w=0;w<n.batchSize;++w)for(var C=0;C<n.inChannels;++C)for(var _=0;_<n.inDepth;++_)for(var P=0;P<n.inHeight;++P)for(var E=0;E<n.inWidth;++E){for(var S=_-m,k=P-v,T=E-g,R=0,O=0;O<d;O+=l){var I=(S+O)/r;if(!(I<0||I>=n.outDepth||Math.floor(I)!==I))for(var V=0;V<h;V+=c){var A=(k+V)/o;if(!(A<0||A>=n.outHeight||Math.floor(A)!==A))for(var D=0;D<f;D+=p){var N=(T+D)/i;N<0||N>=n.outWidth||Math.floor(N)!==N||(R+=x.get(w,I,A,N,C))}}}y.set(R*b,w,_,P,E,C)}return y.toTensor()},t.prototype.maxPool3d=function(e,t){return Lc(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=jn(t.outShape,"int32"),r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,p=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,f=t.padInfo.left,m=this.bufferSync(e),g=0;g<t.batchSize;++g)for(var v=0;v<t.inChannels;++v)for(var y=0;y<t.outDepth;++y){for(var b=y*r-d,x=b;x<0;)x+=a;for(var w=Math.min(t.inDepth,l+b),C=0;C<t.outHeight;++C){for(var _=C*o-h,P=_;P<0;)P+=s;for(var E=Math.min(t.inHeight,c+_),S=0;S<t.outWidth;++S){for(var k=S*i-f,T=k;T<0;)T+=u;for(var R=Math.min(t.inWidth,p+k),O=Number.NEGATIVE_INFINITY,I=-1,V=x;V<w;V+=a)for(var A=V-b,D=P;D<E;D+=s)for(var N=D-_,L=T;L<R;L+=u){var F=L-k,M=m.get(g,V,D,L,v);M>=O&&(O=M,I=A*c*p+N*c+F)}n.set(I,g,y,C,S,v)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){Lc([t,n],"maxPool3dBackprop");for(var o=this.maxPool3dPositions(t,r),i=r.strideDepth,a=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,l=r.dilationHeight,c=r.dilationWidth,p=r.effectiveFilterDepth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,f=p-1-r.padInfo.front,m=h-1-r.padInfo.left,g=d-1-r.padInfo.top,v=jn(t.shape,"float32"),y=this.bufferSync(o),b=this.bufferSync(e),x=0;x<r.batchSize;++x)for(var w=0;w<r.inChannels;++w)for(var C=0;C<r.inDepth;++C)for(var _=0;_<r.inHeight;++_)for(var P=0;P<r.inWidth;++P){for(var E=C-f,S=_-g,k=P-m,T=0,R=0;R<p;R+=u){var O=(E+R)/i;if(!(O<0||O>=r.outDepth||Math.floor(O)!==O))for(var I=0;I<d;I+=l){var V=(S+I)/a;if(!(V<0||V>=r.outHeight||Math.floor(V)!==V))for(var A=0;A<h;A+=c){var D=(k+A)/s;if(!(D<0||D>=r.outWidth||Math.floor(D)!==D)){var N=p*d*h-1-y.get(x,O,V,D,w)===R*d*h+I*h+A?1:0;0!==N&&(T+=b.get(x,O,V,D,w)*N)}}}}v.set(T,x,C,_,P,w)}return v.toTensor()},t.prototype.cast=function(e,t){return Xr(e,t,this)},t.prototype.reshape=function(e,t){return Yr(e,t)},t.prototype.avgPool=function(e,t){return Lc(e,"avgPool"),this.pool(e,t,"avg").toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){Lc(e,"resizeBilinear");for(var o=e.shape,i=o[0],a=o[1],s=o[2],u=o[3],l=this.readSync(e.dataId),c=new Float32Array(R([i,t,n,u])),p=[r&&t>1?a-1:a,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=0,f=p[0]/d[0],m=p[1]/d[1],g=0;g<i;g++)for(var v=0;v<t;v++)for(var y=f*v,b=Math.floor(y),x=y-b,w=Math.min(a-1,Math.ceil(y)),C=g*e.strides[0]+b*e.strides[1],_=g*e.strides[0]+w*e.strides[1],P=0;P<n;P++)for(var E=m*P,S=Math.floor(E),k=E-S,T=Math.min(s-1,Math.ceil(E)),O=C+S*e.strides[2],I=_+S*e.strides[2],V=C+T*e.strides[2],A=_+T*e.strides[2],D=0;D<u;D++){var N=l[O+D],L=l[I+D],F=N+(l[V+D]-N)*k,M=F+(L+(l[A+D]-L)*k-F)*x;c[h++]=M}return ln(c,[i,t,n,u])},t.prototype.resizeBilinearBackprop=function(e,t,n){Lc([e,t],"resizeBilinearBackprop");for(var r=t.shape,o=r[0],i=r[1],a=r[2],s=r[3],u=e.shape,l=u[1],c=u[2],p=new Float32Array(o*i*a*s),d=[n&&l>1?i-1:i,n&&c>1?a-1:a],h=[n&&l>1?l-1:l,n&&c>1?c-1:c],f=d[0]/h[0],m=d[1]/h[1],g=this.readSync(e.dataId),v=0,y=0;y<o;y++)for(var b=y*t.strides[0],x=0;x<l;x++)for(var w=x*f,C=Math.floor(w),_=Math.min(Math.ceil(w),i-1),P=b+C*t.strides[1],E=b+_*t.strides[1],S=w-C,k=1-S,T=0;T<c;T++)for(var R=T*m,O=Math.floor(R),I=Math.min(Math.ceil(R),a-1),V=R-O,A=1-V,D=P+O*t.strides[2],N=P+I*t.strides[2],L=E+O*t.strides[2],F=E+I*t.strides[2],M=k*A,q=k*V,j=S*A,B=S*V,z=0;z<s;z++){var U=g[v++];p[D+z]+=U*M,p[N+z]+=U*q,p[L+z]+=U*j,p[F+z]+=U*B}return mn(p,[o,a,i,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){Lc(e,"resizeNearestNeighbor");for(var o=e.shape,i=o[0],a=o[1],s=o[2],u=o[3],l=this.readSync(e.dataId),c=new Float32Array(i*t*n*u),p=[r&&t>1?a-1:a,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=p[0]/d[0],f=p[1]/d[1],m=0,g=0;g<i;g++)for(var v=g*e.strides[0],y=0;y<t;y++)for(var b=h*y,x=v+Math.min(a-1,r?Math.round(b):Math.floor(b))*e.strides[1],w=0;w<n;w++)for(var C=f*w,_=x+Math.min(s-1,r?Math.round(C):Math.floor(C))*e.strides[2],P=0;P<u;P++){var E=l[_+P];c[m++]=E}return ln(c,[i,t,n,u],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){Lc([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,o=r[0],i=r[1],a=r[2],s=r[3],u=e.shape,l=u[1],c=u[2],p=new Float32Array(o*i*a*s),d=this.readSync(e.dataId),h=[n&&l>1?i-1:i,n&&c>1?a-1:a],f=[n&&l>1?l-1:l,n&&c>1?c-1:c],m=h[0]/f[0],g=h[1]/f[1],v=1/m,y=1/g,b=2*Math.ceil(v)+2,x=2*Math.ceil(y)+2,w=0;w<o;w++)for(var C=w*t.strides[0],_=0;_<i;_++)for(var P=C+_*t.strides[1],E=Math.floor(_*v),S=Math.floor(E-b/2),k=0;k<a;k++)for(var T=P+k*t.strides[2],R=Math.floor(k*y),O=Math.floor(R-x/2),I=0;I<s;I++){for(var V=0,A=0;A<b;A++){var D=A+S;if(!(D<0||D>=l)){var N=C+D*e.strides[1],L=D*m;if(_===Math.min(i-1,n?Math.round(L):Math.floor(L)))for(var F=0;F<x;F++){var M=F+O;if(!(M<0||M>=c)){var q=N+M*e.strides[2],j=M*g;k===Math.min(a-1,n?Math.round(j):Math.floor(j))&&(V+=d[q+I])}}}}p[T+I]=V}return mn(p,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,o,i){Lc([e,t,n,o,i],"batchNorm");for(var a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=this.readSync(n.dataId),l=o?this.readSync(o.dataId):new Float32Array([1]),c=i?this.readSync(i.dataId):new Float32Array([0]),p=new Float32Array(a.length),d=c.length,h=l.length,f=u.length,m=s.length,g=0,v=0,y=0,b=0,x=0;x<a.length;++x)p[x]=c[g++]+(a[x]-s[v++])*l[y++]/Math.sqrt(u[b++]+r),g>=d&&(g=0),v>=m&&(v=0),y>=h&&(y=0),b>=f&&(b=0);return mn(p,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,o){Lc(e,"localResponseNormalization4D");var i=e.shape[3],a=i-1,s=this.readSync(e.dataId),u=e.size,l=new Float32Array(u);function c(e){for(var n=e%i,r=e-n+Math.max(0,n-t),o=e-n+Math.min(n+t,a),u=0;r<=o;r++){var l=s[r];u+=l*l}return u}for(var p=0;p<u;p++){var d=c(p),h=s[p]*Math.pow(n+r*d,-o);l[p]=h}return mn(l,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,o,i,a){Lc(e,"LRNGrad");for(var s=e.shape[3],u=this.readSync(e.dataId),l=this.readSync(t.dataId),c=this.readSync(n.dataId),p=new Float32Array(e.size),d=e.size,h=0;h<d;h++){for(var f=h%s,m=h-f+Math.max(0,f-r),g=h-f+Math.min(s,f+r+1),v=0,y=m;y<g;y++)v+=Math.pow(l[y],2);for(v=i*v+o,y=m;y<g;y++){var b=-2*i*a*l[y]*c[h]/v;h===y&&(b+=Math.pow(v,-a)),b*=u[h],p[y]+=b}}return mn(p,e.shape)},t.prototype.multinomial=function(e,t,n,r){Lc(e,"multinomial");for(var o=t?e:Ir(e),i=o.shape[0],a=o.shape[1],s=vn([i,n],"int32"),u=this.readSync(s.dataId),l=this.readSync(o.dataId),c=0;c<i;++c){var p=c*a,d=new Float32Array(a-1);d[0]=l[p];for(var h=1;h<d.length;++h)d[h]=d[h-1]+l[p+h];for(var f=Ln(r.toString()),m=c*n,g=0;g<n;++g){var v=f();u[m+g]=d.length;for(var y=0;y<d.length;y++)if(v<d[y]){u[m+g]=y;break}}}return s},t.prototype.oneHot=function(e,t,n,r){Lc(e,"oneHot");var o=new Float32Array(e.size*t);o.fill(r);for(var i=this.readSync(e.dataId),a=0;a<e.size;++a)i[a]>=0&&i[a]<t&&(o[a*t+i[a]]=n);return hn(o,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,o){return Lc(e,"nonMaxSuppression"),ao(this.readSync(e.dataId),this.readSync(t.dataId),n,r,o)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],o=jn(e.shape,"float32"),i=jn(e.shape,"float32"),a=sn(e).as2D(n,r),s=un(e).as2D(n,r),u=0;u<n;u++)for(var l=a.slice([u,0],[1,r]),c=s.slice([u,0],[1,r]),p=an(l,c),d=this.readSync(this.fftImpl(p,t).dataId),h=0;h<r;h++){var f=to(d,h);o.values[u*r+h]=f.real,i.values[u*r+h]=f.imag}return an(o.toTensor(),i.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var o=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(o=an(sn(o).div(pn(r)),un(o).div(pn(r)))),o}var i=this.readSync(e.dataId),a=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(i,r,t));return an(a.real,a.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),o=t/2,i=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=0;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),a=an(i.real,i.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=2;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),u=an(s.real,s.imag).as1D();a=this.fftRadix2(a,o,n),u=this.fftRadix2(u,o,n);var l=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),o=0;o<Math.ceil(e/2);o++){var i=(t?2:-2)*Math.PI*(o/e);n[o]=Math.cos(i),r[o]=Math.sin(i)}return{real:n,imag:r}}(t,n),c=an(l.real,l.imag).mul(u),p=a.add(c),d=a.sub(c),h=sn(p).concat(sn(d)),f=un(p).concat(un(d));return an(h,f).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),o=0;o<t;o++){for(var i=0,a=0,s=0;s<t;s++){var u=ro(o*s,t,n),l=to(e,s);i+=l.real*u.real-l.imag*u.imag,a+=l.real*u.imag+l.imag*u.real}n&&(i/=t,a/=t),no(r,i,a,o)}return r},t.prototype.depthToSpace=function(e,t,n){E("NHWC"===n,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n})),E(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));for(var r=e.shape[0],o=e.shape[1],i=e.shape[2],a=e.shape[3],s=o*t,u=i*t,l=a/(t*t),c=this.readSync(e.dataId),p=new Float32Array(r*s*u*l),d=0,h=0;h<r;++h)for(var f=0;f<s;++f)for(var m=Math.floor(f/t),g=f%t,v=0;v<u;++v)for(var y=Math.floor(v/t),b=(g*t+v%t)*l,x=0;x<l;++x){var w=x+b+a*(y+i*(m+o*h));p[d++]=c[w]}return mn(p,[r,s,u,l])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var o=Mr(e.shape,t.shape),i=jn(o,n),a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=Lr(e.shape,o),l=Lr(t.shape,o),c=i.values;if(u.length+l.length===0)for(var p=0;p<c.length;++p)c[p]=r(a[p%a.length],s[p%s.length]);else{var d=this.bufferSync(e),h=this.bufferSync(t),f=function(n){var o=i.indexToLoc(n),p=o.slice(-e.rank);u.forEach((function(e){return p[e]=0}));var f=d.locToIndex(p),m=o.slice(-t.rank);l.forEach((function(e){return m[e]=0}));var g=h.locToIndex(m);c[n]=r(a[f],s[g])};for(p=0;p<c.length;++p)f(p)}return i.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=Mr(e.shape,t.shape),o=jn(r,"float32"),i=jn(r,"float32"),a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=Lr(e.shape,r),l=Lr(t.shape,r),c=o.values,p=i.values;if(u.length+l.length===0)for(var d=0;d<c.length;d++){var h=d%a.length,f=d%s.length,m=n(a[2*h],a[2*h+1],s[2*f],s[2*f+1]);c[d]=m.real,p[d]=m.imag}else{var g=this.bufferSync(this.data.get(e.dataId).complexTensors.real),v=this.bufferSync(this.data.get(t.dataId).complexTensors.real),y=function(r){var i=o.indexToLoc(r),d=i.slice(-e.rank);u.forEach((function(e){return d[e]=0}));var h=g.locToIndex(d),f=i.slice(-t.rank);l.forEach((function(e){return f[e]=0}));var m=v.locToIndex(f),y=n(a[2*h],a[2*h+1],s[2*m],s[2*m+1]);c[r]=y.real,p[r]=y.imag};for(d=0;d<c.length;d++)y(d)}return this.complex(o.toTensor(),i.toTensor())},t.prototype.split=function(e,t,n){return ho(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,o,i){for(var a=e.shape,s=a[0],u=a[1],l=a[2],c=a[3],p=t.shape[0],d=r[0],h=r[1],f=jn([p,d,h,c],"float32"),m=this.readSync(t.dataId),g=this.readSync(n.dataId),v=this.readSync(e.dataId),y=e.strides,b=f.strides,x=0;x<p;x++){var w=4*x,C=m[w],_=m[w+1],P=m[w+2],E=m[w+3],S=g[x];if(!(S>=s))for(var k=d>1?(P-C)*(u-1)/(d-1):0,T=h>1?(E-_)*(l-1)/(h-1):0,R=0;R<d;R++){var O=d>1?C*(u-1)+R*k:.5*(C+P)*(u-1);if(O<0||O>u-1)for(var I=0;I<h;I++)for(var V=0;V<c;V++){var A=V+I*b[2]+R*b[1]+x*b[0];f.values[A]=i}else if("bilinear"===o){var D=Math.floor(O),N=Math.ceil(O),L=O-D;for(I=0;I<h;I++)if((H=h>1?_*(l-1)+I*T:.5*(_+E)*(l-1))<0||H>l-1)for(V=0;V<c;V++)A=V+I*b[2]+R*b[1]+x*b[0],f.values[A]=i;else{var F=Math.floor(H),M=Math.ceil(H),q=H-F;for(V=0;V<c;V++){var j=v[A=V+F*y[2]+D*y[1]+S*y[0]],B=v[A=V+M*y[2]+D*y[1]+S*y[0]],z=v[A=V+F*y[2]+N*y[1]+S*y[0]],U=j+(B-j)*q,W=z+(v[A=V+M*y[2]+N*y[1]+S*y[0]]-z)*q;A=V+I*b[2]+R*b[1]+x*b[0],f.values[A]=U+(W-U)*L}}}else for(I=0;I<h;++I){var H;if((H=h>1?_*(l-1)+I*T:.5*(_+E)*(l-1))<0||H>l-1)for(V=0;V<c;V++)A=V+I*b[2]+R*b[1]+x*b[0],f.values[A]=i;else{var Q=Math.round(H),G=Math.round(O);for(V=0;V<c;V++){var $=V+Q*y[2]+G*y[1]+S*y[0],K=V+I*b[2]+R*b[1]+x*b[0];f.values[K]=v[$]}}}}}return f.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var o=Cr(0,e,n),i=o.sliceRank,a=o.numUpdates,s=o.sliceSize,u=o.strides,l=o.outputSize;return this.scatter(e,t,n,l,s,a,i,u,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=yr(e,t),i=o[0],a=o[1],s=o[2],u=o[3];if(0===a)return ln([],i,e.dtype);for(var l=new me([a,s],e.dtype),c=this.readSync(t.dataId),p=this.readSync(e.dataId),d=0;d<a;d++){for(var h=[],f=0,m=0;m<r;m++){var g=c[d*r+m];f+=g*u[m],h.push(g)}if(f<0||f>=e.size/s)throw new Error("Invalid indices: "+h+" does not index into "+e.shape);for(var v=0;v<s;v++)l.values[d*s+v]=p[f*s+v]}return l.toTensor().reshape(i)},t.prototype.scatterND=function(e,t,n){var r=Cr(0,e,n),o=r.sliceRank,i=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,l=pn(0);return this.scatter(e,t,n,u,a,i,o,s,l,!0)},t.prototype.fill=function(e,t,n){var r=j(n=n||J(t),R(e));return r.fill(t),Ne.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=j(e.dtype,R(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return Zr(e,t,n)},t.prototype.scatter=function(e,t,n,r,o,i,a,s,u,l){var c=[r/o,o],p=this.readSync(e.dataId),d=this.readSync(t.dataId);if(0===r)return ln([],n,t.dtype);var h=new me(c,t.dtype);h.values.fill(this.readSync(u.dataId)[0]);for(var f=0;f<i;f++){for(var m=[],g=0,v=0;v<a;v++){var y=p[f*a+v];m.push(y),g+=y*s[v]}if(g<0||g>=r/o)throw new Error("Invalid indices: "+m+" does not index into "+n);for(var b=0;b<o;b++)l?h.values[g*o+b]+=d[f*o+b]:h.values[g*o+b]=0===t.rank?d[0]:d[f*o+b]}return h.toTensor().reshape(n)},t}(Dr);Ne.registerBackend("cpu",(function(){return new Mc}),1);for(var qc=0,jc=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t,i=o.boxes,a=o.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,p=s.softNmsSigma,d=n;Lc(i,"NonMaxSuppressionWithScore");var h=so(d.data.get(i.dataId).values,d.data.get(a.dataId).values,u,l,c,p);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n;Lc(r,"square");for(var i=o.data.get(r.dataId).values,a=new Float32Array(i.length),s=0;s<i.length;++s){var u=i[s];a[s]=u*u}return{dataId:o.write(a,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:Xa,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,i=r.b,a=n;Lc([o,i],Xa);var s=a.data.get(o.dataId).values,u=a.data.get(i.dataId).values,l=function(e,t,n,r,o,i){var a=Mr(e,t),s=a.length,u=Z(a),l=q(o,R(a)),c=e.length,p=t.length,d=Z(e),h=Z(t),f=Lr(e,a),m=Lr(t,a);if(f.length+m.length===0)for(var g=0;g<l.length;++g)l[g]=i(n[g%n.length],r[g%r.length]);else{var v=function(e){var t=le(e,s,u),o=t.slice(-c);f.forEach((function(e){return o[e]=0}));var a=ue(o,c,d),g=t.slice(-p);m.forEach((function(e){return g[e]=0}));var v=ue(g,p,h);l[e]=i(n[a],r[v])};for(g=0;g<l.length;++g)v(g)}return[l,a]}(o.shape,i.shape,s,u,o.dtype,(function(e,t){var n=e-t;return n*n})),c=l[0],p=l[1];return{dataId:a.write(c,p,o.dtype),shape:p,dtype:o.dtype}}}];qc<jc.length;qc++)y(jc[qc]);for(var Bc,zc=function(e){this.variableNames=["A"];var t=Co(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},Uc=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=Co(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},Wc=0,Hc=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t.pixels,i=r.numChannels,a="undefined"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,u=a?[o.videoWidth,o.videoHeight]:[o.width,o.height],l=u[0],c=u[1],p=[c,l],h=[c,l,i];(s||a)&&(null==Bc&&(Bc=document.createElement("canvas").getContext("2d")),Bc.canvas.width=l,Bc.canvas.height=c,Bc.drawImage(o,0,0,l,c),o=Bc.canvas);var f=n.makeTensorInfo(p,"int32");n.texData.get(f.dataId).usage=qe.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(f.dataId),o);var m=d().getBool("WEBGL_PACK")?new Uc(h):new zc(h),g=n.runWebGLProgram(m,[f],"int32");return n.disposeData(f.dataId),g}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;Ut("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var o=t,i=o.boxes,a=o.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,p=s.softNmsSigma,d=n,h=so(d.readSync(i.dataId),d.readSync(a.dataId),u,l,c,p);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n,i=new Oa(r.shape,"return x * x;");return o.runWebGLProgram(i,[r],r.dtype)}},{kernelName:Xa,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,i=r.b,a=n,s=d().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $o("return (a - b) * (a - b);",o.shape,i.shape):new Qo("return (a - b) * (a - b);",o.shape,i.shape);return a.compileAndRun(s,[o,i])}}];Wc<Hc.length;Wc++)y(Hc[Wc]);for(var Qc=0,Gc=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:Xa,gradFunc:function(e,t){var n=t[0],r=t[1],o=pn(2);return{a:function(){return hu(e,hu(o,yu(n,r)))},b:function(){return hu(e,hu(o,yu(r,n)))}}}}];Qc<Gc.length;Qc++)b(Gc[Qc]);var $c=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();d().get("IS_BROWSER")&&d().setPlatform("browser",new $c);var Kc,Jc=function(){function e(){this.util=n(91),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=d().global.fetch?d().global.fetch(e,t):(null==Kc&&(Kc=n(90)),Kc(e,t))},e.prototype.now=function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();d().get("IS_NODE")&&d().setPlatform("node",new Jc);var Xc={float32:4,int32:4,uint16:2,uint8:1,bool:1};function Yc(e,t){for(var n={},r=0,o=function(t){var o=t.name,i=t.dtype,a=t.shape,s=R(a),u=void 0;if("quantization"in t){var l=t.quantization;if("uint8"!==l.dtype&&"uint16"!==l.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+l.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var c=Xc[l.dtype],p=e.slice(r,r+s*c),d="uint8"===l.dtype?new Uint8Array(p):new Uint16Array(p);if("float32"===i)u=Float32Array.from(d,(function(e){return e*l.scale+l.min}));else{if("int32"!==i)throw new Error("Unsupported dtype in weight '"+o+"': "+i);u=Int32Array.from(d,(function(e){return Math.round(e*l.scale+l.min)}))}r+=s*c}else if("string"===i){var h=R(t.shape);u=[];for(var f=0;f<h;f++){var m=new Uint32Array(e.slice(r,r+4))[0];r+=4;var g=new Uint8Array(e.slice(r,r+m));u.push(g),r+=m}}else{var v=Xc[i];if(p=e.slice(r,r+s*v),"float32"===i)u=new Float32Array(p);else if("int32"===i)u=new Int32Array(p);else{if("bool"!==i)throw new Error("Unsupported dtype in weight '"+o+"': "+i);u=new Uint8Array(p)}r+=s*v}n[o]=ln(u,a,i)},i=0,a=t;i<a.length;i++)o(a[i]);return n}function Zc(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)}));var r=new Uint8Array(t),o=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),o),o+=e.byteLength})),r.buffer}var ep=void 0!==o&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function tp(e){return ep?o.byteLength(e):new Blob([e]).size}function np(e){var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function rp(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function op(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:tp(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:tp(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var ip=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var o=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&o.push(n)})),o},e}(),ap="://",sp=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){E(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(ap)&&(t=t.slice(0,t.indexOf(ap))),E(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();E(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '"+t+"'."})),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function up(e){if(-1===e.indexOf(ap))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+sp.getSchemes().join(","));return{scheme:e.split(ap)[0],path:e.split(ap)[1]}}function lp(e,t,n){return void 0===n&&(n=!1),u(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,p,d;return l(this,(function(l){switch(l.label){case 0:return E(e!==t,(function(){return"Old path and new path are the same: '"+e+"'"})),E((r=ip.getLoadHandlers(e)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+e+"."})),E(r.length<2,(function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."})),o=r[0],E((i=ip.getSaveHandlers(t)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+t+"."})),E(i.length<2,(function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."})),a=i[0],s=up(e).scheme,u=up(e).path,c=s===up(e).scheme,[4,o.load()];case 1:return p=l.sent(),n&&c?[4,sp.getManager(s).removeModel(u)]:[3,3];case 2:l.sent(),l.label=3;case 3:return[4,a.save(p)];case 4:return d=l.sent(),!n||c?[3,6]:[4,sp.getManager(s).removeModel(u)];case 5:l.sent(),l.label=6;case 6:return[2,d.modelArtifactsInfo]}}))}))}var cp="models_store",pp="model_info_store";function dp(){if(!d().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function hp(e){var t=e.result;t.createObjectStore(cp,{keyPath:"modelPath"}),t.createObjectStore(pp,{keyPath:"modelPath"})}var fp=function(){function e(e){if(this.indexedDB=dp(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]}))}))},e.prototype.load=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2,this.databaseAction(this.modelPath)]}))}))},e.prototype.databaseAction=function(e,t){var n=this;return new Promise((function(e,r){var o=n.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return hp(o)},o.onsuccess=function(){var i=o.result;if(null==t){var a=i.transaction(cp,"readonly"),s=a.objectStore(cp).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return i.close(),r(s.error)},a.oncomplete=function(){return i.close()}}else{var u,l=op(t),c=i.transaction(pp,"readwrite"),p=c.objectStore(pp),d=p.put({modelPath:n.modelPath,modelArtifactsInfo:l});d.onsuccess=function(){var o=(u=i.transaction(cp,"readwrite")).objectStore(cp).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:l});o.onsuccess=function(){return e({modelArtifactsInfo:l})},o.onerror=function(e){var t=(p=c.objectStore(pp)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(o.error)},t.onerror=function(e){return i.close(),r(o.error)}}},d.onerror=function(e){return i.close(),r(d.error)},c.oncomplete=function(){null==u?i.close():u.oncomplete=function(){return i.close()}}}},o.onerror=function(e){return r(o.error)}}))},e.URL_SCHEME="indexeddb://",e}(),mp=function(e){return d().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(fp.URL_SCHEME)?(t=e.slice(fp.URL_SCHEME.length),new fp(t)):null;var t};ip.registerSaveRouter(mp),ip.registerLoadRouter(mp);var gp=function(){function e(){this.indexedDB=dp()}return e.prototype.listModels=function(){return u(this,void 0,void 0,(function(){var e=this;return l(this,(function(t){return[2,new Promise((function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return hp(r)},r.onsuccess=function(){var e=r.result,o=e.transaction(pp,"readonly"),i=o.objectStore(pp).getAll();i.onsuccess=function(){for(var e={},n=0,r=i.result;n<r.length;n++){var o=r[n];e[o.modelPath]=o.modelArtifactsInfo}t(e)},i.onerror=function(t){return e.close(),n(i.error)},o.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}}))]}))}))},e.prototype.removeModel=function(e){return u(this,void 0,void 0,(function(){var t=this;return l(this,(function(n){var r;return e=(r=e).startsWith(fp.URL_SCHEME)?r.slice(fp.URL_SCHEME.length):r,[2,new Promise((function(n,r){var o=t.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return hp(o)},o.onsuccess=function(){var t,i=o.result,a=i.transaction(pp,"readwrite"),s=a.objectStore(pp),u=s.get(e);u.onsuccess=function(){if(null==u.result)return i.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var o=s.delete(e),a=function(){var o=(t=i.transaction(cp,"readwrite")).objectStore(cp).delete(e);o.onsuccess=function(){return n(u.result.modelArtifactsInfo)},o.onerror=function(e){return r(u.error)}};o.onsuccess=a,o.onerror=function(e){return a(),i.close(),r(u.error)}},u.onerror=function(e){return i.close(),r(u.error)},a.oncomplete=function(){null==t?i.close():t.oncomplete=function(){return i.close()}}},o.onerror=function(e){return r(o.error)}}))]}))}))},e}();if(d().getBool("IS_BROWSER"))try{sp.registerManager(fp.URL_SCHEME,new gp)}catch(a){}var vp="/",yp="tensorflowjs_models",bp="info",xp="model_topology",wp="weight_specs",Cp="weight_data",_p="model_metadata";function Pp(e){return{info:[yp,e,bp].join(vp),topology:[yp,e,xp].join(vp),weightSpecs:[yp,e,wp].join(vp),weightData:[yp,e,Cp].join(vp),modelMetadata:[yp,e,_p].join(vp)}}function Ep(e){var t=e.split(vp);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(vp)}var Sp=function(){function e(e){if(!d().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Pp(this.modelPath)}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){var t,n,r;return l(this,(function(i){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=op(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(ep)return o.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]}))}))},e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,i,a,s;return l(this,(function(u){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(i=this.LS.getItem(this.keys.modelMetadata))&&(a=JSON.parse(i),t.format=a.format,t.generatedBy=a.generatedBy,t.convertedBy=a.convertedBy,t.userDefinedMetadata=a.userDefinedMetadata),null==(s=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(ep){var t=o.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r.set([n.charCodeAt(i)],i);return r.buffer}(s),[2,t]}))}))},e.URL_SCHEME="localstorage://",e}(),kp=function(e){return d().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Sp.URL_SCHEME)?(t=e.slice(Sp.URL_SCHEME.length),new Sp(t)):null;var t};ip.registerSaveRouter(kp),ip.registerLoadRouter(kp);var Tp=function(){function e(){E(d().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),E("undefined"==typeof window||void 0!==window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return e.prototype.listModels=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,o,i;return l(this,(function(a){for(e={},t=yp+vp,n=vp+bp,r=0;r<this.LS.length;++r)(o=this.LS.key(r)).startsWith(t)&&o.endsWith(n)&&(i=Ep(o),e[i]=JSON.parse(this.LS.getItem(o)));return[2,e]}))}))},e.prototype.removeModel=function(e){return u(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){var o;if(e=(o=e).startsWith(Sp.URL_SCHEME)?o.slice(Sp.URL_SCHEME.length):o,t=Pp(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]}))}))},e}();if(d().getBool("IS_BROWSER"))try{sp.registerManager(Sp.URL_SCHEME,new Tp)}catch(a){}function Rp(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var Op=function(){function e(t){if(!d().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){var t,n,r,o,i,a;return l(this,(function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},o=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(i=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=o,[4,Rp((function(){return i.dispatchEvent(new MouseEvent("click"))}))];case 2:return s.sent(),null==e.weightData?[3,4]:((a=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,a.href=t,[4,Rp((function(){return a.dispatchEvent(new MouseEvent("click"))}))]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:op(e)}]}}))}))},e.URL_SCHEME="downloads://",e}(),Ip=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n=this;return l(this,(function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise((function(r,o){var i=new FileReader;i.onload=function(i){var a=JSON.parse(i.target.result),s=a.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var u=a.weightsManifest;if(null!=u){var l;try{l=n.checkManifestAndWeightFiles(u,t)}catch(e){return void o(e)}var c=[],p=[],d=[];u.forEach((function(e){e.paths.forEach((function(e){p.push(e),d.push(null)})),c.push.apply(c,e.weights)})),u.forEach((function(e){e.paths.forEach((function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,o=p.indexOf(e);d[o]=n,-1===d.indexOf(null)&&r({modelTopology:s,weightSpecs:c,weightData:np(d),format:a.format,generatedBy:a.generatedBy,convertedBy:a.convertedBy,userDefinedMetadata:a.userDefinedMetadata})},t.onerror=function(t){return o("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(l[e])}))}))}else o(new Error("weightManifest field is missing from file "+e.name))}else o(new Error("modelTopology field is missing from file "+e.name))},i.onerror=function(t){return o("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},i.readAsText(e)}))]}))}))},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map((function(e){return rp(e.name)})),o={},i=0,a=e;i<a.length;i++)a[i].paths.forEach((function(e){var i=rp(e);if(-1!==n.indexOf(i))throw new Error("Duplicate file basename found in weights manifest: '"+i+"'");if(n.push(i),-1===r.indexOf(i))throw new Error("Weight file with basename '"+i+"' is not provided.");o[e]=t[r.indexOf(i)]}));if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return o},e}();function Vp(e,t,n,r){!function(e){E(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){E(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e})),E(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t})),E(t>=e,(function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t}))}(n=null==n?0:n,r=null==r?1:r);var o=0;return Promise.all(e.map((function(i){return i.then((function(i){var a=n+ ++o/e.length*(r-n);return t(a),i})),i})))}function Ap(e,t){return u(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,p;return l(this,(function(l){switch(l.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?d().platform.fetch:t.fetchFunc,r=e.map((function(e){return n(e,t.requestInit,{isBinary:!0})})),o=0,i=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return a=l.sent(),[3,4];case 2:return[4,Vp(r,t.onProgress,o,i)];case 3:a=l.sent(),l.label=4;case 4:return s=a.map((function(e){return e.arrayBuffer()})),u=.5,c=1,null!=t.onProgress?[3,6]:[4,Promise.all(s)];case 5:return p=l.sent(),[3,8];case 6:return[4,Vp(s,t.onProgress,u,c)];case 7:p=l.sent(),l.label=8;case 8:return[2,p]}}))}))}function Dp(e){var t=this;return function(n,r,o){return void 0===r&&(r=""),u(t,void 0,void 0,(function(){var t,i,a,s,u,c,p,d,h,f;return l(this,(function(l){switch(l.label){case 0:if(t=n.map((function(){return!1})),i={},a=null!=o?o.map((function(){return!1})):[],s=[],n.forEach((function(e,n){var r=0;e.weights.forEach((function(e){var u="quantization"in e?e.quantization.dtype:e.dtype,l=Xc[u]*R(e.shape),c=function(){t[n]=!0,null==i[n]&&(i[n]=[]),i[n].push({manifestEntry:e,groupOffset:r,sizeBytes:l})};null!=o?o.forEach((function(t,n){t===e.name&&(c(),a[n]=!0)})):c(),s.push(e.name),r+=l}))})),!a.every((function(e){return e})))throw u=o.filter((function(e,t){return!a[t]})),new Error("Could not find weights in manifest with names: "+u.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return c=t.reduce((function(e,t,n){return t&&e.push(n),e}),[]),p=[],c.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;p.push(t)}))})),[4,e(p)];case 1:return d=l.sent(),h={},f=0,c.forEach((function(e){for(var t=n[e].paths.length,r=0,o=0;o<t;o++)r+=d[f+o].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),u=0,l=0;l<t;l++){var c=new Uint8Array(d[f+l]);s.set(c,u),u+=c.byteLength}i[e].forEach((function(e){var t=Yc(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)h[n]=t[n]})),f+=t})),[2,h]}}))}))}}ip.registerSaveRouter((function(e){return d().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Op.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new Op(e)}(e.slice(Op.URL_SCHEME.length)):null}));var Np=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(E("function"==typeof t.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=t.fetchFunc):this.fetch=d().platform.fetch,E(null!=e&&e.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(e)&&E(2===e.length,(function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."})),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){var t,n,r,o;return l(this,(function(i){switch(i.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((o=i.sent()).ok)return[2,{modelArtifactsInfo:op(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+o.status+".")}}))}))},e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,u,c,p,d;return l(this,(function(l){switch(l.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=l.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");l.label=2;case 2:return l.trys.push([2,4,,5]),[4,e.json()];case 3:return t=l.sent(),[3,5];case 4:throw l.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,o=t.weightsManifest,i=t.generatedBy,a=t.convertedBy,s=t.format,u=t.userDefinedMetadata,null==r&&null==o)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==o?[3,7]:[4,this.loadWeights(o)];case 6:d=l.sent(),c=d[0],p=d[1],l.label=7;case 7:return[2,{modelTopology:r,weightSpecs:c,weightData:p,userDefinedMetadata:u,generatedBy:i,convertedBy:a,format:s}]}}))}))},e.prototype.loadWeights=function(e){return u(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,p,d;return l(this,(function(l){switch(l.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],o=n[1],i=this.weightPathPrefix||r,a=[],s=0,u=e;s<u.length;s++)c=u[s],a.push.apply(a,c.weights);return p=[],e.forEach((function(e){e.paths.forEach((function(e){p.push(i+e+o)}))})),[4,Ap(p,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return d=l.sent(),[2,[a,np(d)]]}}))}))},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function Lp(e){return null!=e.match(Np.URL_SCHEME_REGEX)}var Fp=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every((function(e){return Lp(e)})):Lp(e))?Mp(e,{onProgress:t}):null};function Mp(e,t){return new Np(e,t)}ip.registerSaveRouter(Fp),ip.registerLoadRouter(Fp);var qp,jp=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2,this.modelArtifacts]}))}))},e}(),Bp=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){return[2,this.saveHandler(e)]}))}))},e}(),zp=Object.freeze({browserFiles:function(e){return new Ip(e)},browserHTTPRequest:function(e,t){return Mp(e,t)},concatenateArrayBuffers:np,decodeWeights:Yc,encodeWeights:function(e,t){return u(this,void 0,void 0,(function(){var n,r,o,i,a,s=this;return l(this,(function(c){switch(c.label){case 0:for(n=[],r=[],o=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e),i=function(i){var a=o[i],c=Array.isArray(e)?e[i].tensor:e[a];if("float32"!==c.dtype&&"int32"!==c.dtype&&"bool"!==c.dtype&&"string"!==c.dtype)throw new Error("Unsupported dtype in weight '"+a+"': "+c.dtype);var p={name:a,shape:c.shape,dtype:c.dtype};if("string"===c.dtype){var d=new Promise((function(e){return u(s,void 0,void 0,(function(){var t,n,r,o,i,a,s;return l(this,(function(u){switch(u.label){case 0:return[4,c.bytes()];case 1:for(t=u.sent(),n=t.reduce((function(e,t){return e+t.length}),0)+4*t.length,r=new Uint8Array(n),o=0,i=0;i<t.length;i++)a=t[i],s=new Uint8Array(new Uint32Array([a.length]).buffer),r.set(s,o),o+=4,r.set(a,o),o+=a.length;return e(r),[2]}}))}))}));r.push(d)}else r.push(c.data());null!=t&&(p.group=t),n.push(p)},a=0;a<o.length;++a)i(a);return[4,Promise.all(r)];case 1:return[2,{data:Zc(c.sent()),specs:n}]}}))}))},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new jp(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new jp({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new jp({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return ip.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:op,getSaveHandlers:function(e){return ip.getSaveHandlers(e)},http:Mp,isHTTPScheme:Lp,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),u(this,void 0,void 0,(function(){return l(this,(function(o){return[2,Dp((function(e){return Ap(e,{requestInit:r})}))(e,t,n)]}))}))},registerLoadRouter:function(e){return ip.registerLoadRouter(e)},registerSaveRouter:function(e){return ip.registerSaveRouter(e)},weightsLoaderFactory:Dp,withSaveHandler:function(e){return new Bp(e)},copyModel:function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){return[2,lp(e,t,!1)]}))}))},listModels:function(){return u(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return l(this,(function(s){switch(s.label){case 0:e=sp.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(o=r[n],[4,sp.getManager(o).listModels()]):[3,4];case 2:for(a in i=s.sent())t[o+ap+a]=i[a];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}}))}))},moveModel:function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){return[2,lp(e,t,!0)]}))}))},removeModel:function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){return t=up(e),[2,sp.getManager(t.scheme).removeModel(t.path)]}))}))}}),Up=on({confusionMatrix_:function(e,t,n){var r=Qt(e,"labels","confusionMatrix"),o=Qt(t,"predictions","confusionMatrix");E(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, but got "+n})),E(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),E(1===o.rank,(function(){return"Expected the rank of predictions to be 1, but got "+o.rank})),E(r.shape[0]===o.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."})),E(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+n}));var i=Jn(r.asType("int32"),n),a=Jn(o.asType("int32"),n);return i.transpose().matMul(a).asType("int32")}}),Wp=(Object.freeze({confusionMatrix:Up}),on({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,o=!1,i=!1,a=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)o=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);a=!0}if(o&&o&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=g("FromPixels",Ne.backendName))return Ne.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,u,l=o?[e.videoWidth,e.videoHeight]:[e.width,e.height],c=l[0],p=l[1];if(a?s=e.getContext("2d").getImageData(0,0,c,p).data:r||n?s=e.data:(i||o)&&(null==qp&&(qp=document.createElement("canvas").getContext("2d")),qp.canvas.width=c,qp.canvas.height=p,qp.drawImage(e,0,0,c,p),s=qp.getImageData(0,0,c,p).data),4===t)u=new Int32Array(s);else{var d=c*p;u=new Int32Array(d*t);for(var h=0;h<d;h++)for(var f=0;f<t;++f)u[h*t+f]=s[4*h+f]}return fn(u,[p,c,t],"int32")}})),Hp=Object.freeze({toPixels:function(e,t){return u(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,p,d,h,f,m,g,v,y,b,x,w,C,_,P,E;return l(this,(function(l){switch(l.label){case 0:if(n=Qt(e,"img","toPixels"),e instanceof be||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),o=r[0],i=r[1],(a=2===n.rank?1:n.shape[2])>4||2===a)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+a);return[4,n.data()];case 1:return s=l.sent(),u=n.min(),c=n.max(),[4,Promise.all([u.data(),c.data()])];case 2:if(p=l.sent(),d=p[0],h=p[1],f=d[0],m=h[0],u.dispose(),c.dispose(),"float32"===n.dtype){if(f<0||m>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+f+" - "+m+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(f<0||m>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+f+" - "+m+"].")}for(g="float32"===n.dtype?255:1,v=new Uint8ClampedArray(i*o*4),y=0;y<o*i;++y)b=void 0,x=void 0,w=void 0,C=void 0,1===a?(b=s[y]*g,x=s[y]*g,w=s[y]*g,C=255):3===a?(b=s[3*y]*g,x=s[3*y+1]*g,w=s[3*y+2]*g,C=255):4===a&&(b=s[4*y]*g,x=s[4*y+1]*g,w=s[4*y+2]*g,C=s[4*y+3]*g),v[0+(_=4*y)]=Math.round(b),v[_+1]=Math.round(x),v[_+2]=Math.round(w),v[_+3]=Math.round(C);return null!=t&&(t.width=i,t.height=o,P=t.getContext("2d"),E=new ImageData(v,i,o),P.putImageData(E,0,0)),n!==e&&n.dispose(),[2,v]}}))}))},fromPixels:Wp}),Qp=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),Gp=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function $p(e){E(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),E("string"==typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),E(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),Gp.register(e)}Object.freeze({Serializable:Qp,SerializationMap:Gp,registerClass:$p});function Kp(){return 32===Ne.backend.floatPrecision()?.001:.1}function Jp(e,t,n){var r=!0;if((W(e)||W(t))&&(r=!1),W(e)&&W(t)&&(r=!0),r){var o=e.constructor.name,i=t.constructor.name;if(o!==i)throw new Error("Arrays are of different type. Actual: "+o+". Expected: "+i)}if(Array.isArray(e)&&Array.isArray(t)){var a=Wt(e),s=Wt(t);if(!O(a,s))throw new Error("Arrays have different shapes. Actual: ["+a+"]. Expected: ["+s+"]")}var u=W(e)?e:T(e),l=W(t)?t:T(t);if(u.length!==l.length)throw new Error("Arrays have different lengths actual: "+u.length+" vs expected: "+l.length+".\nActual:   "+u+".\nExpected: "+l+".");for(var c=0;c<l.length;++c){var p=u[c],d=l[c];if(!n(p,d))throw new Error("Arrays differ: actual["+c+"] = "+p+", expected["+c+"] = "+d+".\nActual:   "+u+".\nExpected: "+l+".")}}function Xp(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(e,t,n){return null==n&&(n=Kp()),Jp(e,t,(function(e,t){return Xp(e,t,n)}))},testEpsilon:Kp,expectPromiseToFail:function(e,t){e().then((function(){return t.fail()}),(function(){return t()}))},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return G(e)||G(e[0])||G(t)||G(t[0])?Jp(e,n,(function(e,t){return e==t})):Jp(e,t,(function(e,t){return Xp(e,t,0)}))},expectNumbersClose:function(e,t,n){if(null==n&&(n=Kp()),!Xp(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),Object.freeze({gpgpu_util:Ui,webgl_util:Mt,forceHalfFloat:function(){d().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:Ka,setWebGLContext:Ue,GPGPUContext:Wi});var Yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),o=r.value,i=r.grads;if(null!=n){var a=n.map((function(e){return{name:e.name,tensor:i[e.name]}}));this.applyGradients(a)}else this.applyGradients(i);return zt(i),t?o:(o.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return function(e,t){E(X(e),(function(){return"The f passed in variableGrads(f) must be a function"})),E(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof Ee})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],Ne.registeredVariables)t.push(Ne.registeredVariables[r]);var o=n?t.filter((function(e){return!e.trainable})):null,i=t.length;E((t=t.filter((function(e){return e.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+i+" variables is trainable."}));var a=Ne.gradients(e,t,null,!0),s=a.value,u=a.grads;E(u.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),E(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"}));var l={};return t.forEach((function(e,t){null!=u[t]&&(l[e.name]=u[t])})),null!=o&&o.forEach((function(e){return l[e.name]=null})),{value:s,grads:l}}(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&zt(this.iterations_)},t.prototype.saveIterations=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:pn(this.iterations_,"int32")}]}))}))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},t.prototype.extractIterations=function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}}))}))},t}(Qp);Object.defineProperty(Yp,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var Zp=function(e){function t(t,n,r){void 0===r&&(r=null);var o=e.call(this)||this;return o.learningRate=t,o.rho=n,o.epsilon=r,o.accumulatedGrads=[],o.accumulatedUpdates=[],null==r&&(o.epsilon=Ne.backend.epsilon()),o}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=Ne.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:Bt((function(){return wn(o).variable(!1)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:Bt((function(){return wn(o).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;Bt((function(){var e=a.mul(t.rho).add(i.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(a.add(t.epsilon).sqrt()).mul(i),r=s.mul(t.rho).add(n.square().mul(1-t.rho));a.assign(e),s.assign(r);var u=n.mul(-t.learningRate).add(o);o.assign(u)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(zt(this.accumulatedGrads.map((function(e){return e.variable}))),zt(this.accumulatedUpdates.map((function(e){return e.variable}))))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedUpdates=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}(Yp);$p(Zp);var ed=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=Ne.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:Bt((function(){return yn(o.shape,t.initialAccumulatorValue).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedGrads[r].variable;Bt((function(){var e=a.add(i.square());a.assign(e);var n=i.div(e.add(Ne.backend.epsilon()).sqrt()).mul(-t.learningRate).add(o);o.assign(n)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&zt(this.accumulatedGrads.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}(Yp);$p(ed);var td=function(e){function t(t,n,r,o){void 0===o&&(o=null);var i=e.call(this)||this;return i.learningRate=t,i.beta1=n,i.beta2=r,i.epsilon=o,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],Bt((function(){i.accBeta1=pn(n).variable(),i.accBeta2=pn(r).variable()})),null==o&&(i.epsilon=Ne.backend.epsilon()),i}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Bt((function(){var r=yu(1,t.accBeta1),o=yu(1,t.accBeta2);n.forEach((function(n,i){var a=Ne.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:n+"/m",variable:Bt((function(){return wn(a).variable(!1)}))}),null==t.accumulatedSecondMoment[i]&&(t.accumulatedSecondMoment[i]={originalName:n+"/v",variable:Bt((function(){return wn(a).variable(!1)}))});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,l=t.accumulatedSecondMoment[i].variable,c=u.mul(t.beta1).add(s.mul(1-t.beta1)),p=l.mul(t.beta2).add(s.square().mul(1-t.beta2)),d=c.div(r),h=p.div(o);u.assign(c),l.assign(p);var f=d.div(h.sqrt().add(t.epsilon)).mul(-t.learningRate).add(a);a.assign(f)}})),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&zt(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&zt(this.accumulatedSecondMoment.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){var t,n=this;return l(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),Bt((function(){n.accBeta1.assign(mu(n.beta1,n.iterations_+1)),n.accBeta2.assign(mu(n.beta2,n.iterations_+1))})),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedSecondMoment=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}(Yp);$p(td);var nd=function(e){function t(t,n,r,o,i){void 0===o&&(o=null),void 0===i&&(i=0);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=r,a.epsilon=o,a.decay=i,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],Bt((function(){a.iteration=pn(0).variable(),a.accBeta1=pn(n).variable()})),null==o&&(a.epsilon=Ne.backend.epsilon()),a}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Bt((function(){var r=yu(1,t.accBeta1),o=ru(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach((function(n,i){var a=Ne.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:n+"/m",variable:wn(a).variable(!1)}),null==t.accumulatedWeightedInfNorm[i]&&(t.accumulatedWeightedInfNorm[i]={originalName:n+"/v",variable:wn(a).variable(!1)});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,l=t.accumulatedWeightedInfNorm[i].variable,c=u.mul(t.beta1).add(s.mul(1-t.beta1)),p=l.mul(t.beta2),d=s.abs(),h=p.maximum(d);u.assign(c),l.assign(h);var f=o.div(r).mul(c.div(h.add(t.epsilon))).add(a);a.assign(f)}})),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&zt(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&zt(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(e){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}(Yp);$p(nd);var rd=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=Ne.registeredVariables[n];Bt((function(){var e=t.c.mul(o).add(i);i.assign(e)}))}})),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=function(e){return Ne.keep(e)}(pn(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}(Yp);$p(rd);var od=function(e){function t(t,n,r){void 0===r&&(r=!1);var o=e.call(this,t)||this;return o.learningRate=t,o.momentum=n,o.useNesterov=r,o.accumulations=[],o.m=pn(o.momentum),o}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=Ne.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:Bt((function(){return wn(o).variable(!1)}))});var i=t.accumulations[r].variable,a=Array.isArray(e)?e[r].tensor:e[n];null!=a&&Bt((function(){var e,n=t.m.mul(i).add(a);e=t.useNesterov?t.c.mul(a.add(n.mul(t.m))).add(o):t.c.mul(n).add(o),i.assign(n),o.assign(e)}))})),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&zt(this.accumulations.map((function(e){return e.variable})))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(rd);$p(od);var id=function(e){function t(t,n,r,o,i){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===o&&(o=null),void 0===i&&(i=!1);var a=e.call(this)||this;if(a.learningRate=t,a.decay=n,a.momentum=r,a.epsilon=o,a.accumulatedMeanSquares=[],a.accumulatedMoments=[],a.accumulatedMeanGrads=[],a.centered=i,null==o&&(a.epsilon=Ne.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return a}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=Ne.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:Bt((function(){return wn(o).variable(!1)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:Bt((function(){return wn(o).variable(!1)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:Bt((function(){return wn(o).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;Bt((function(){var e=a.mul(t.decay).add(i.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,u=n.mul(t.decay).add(i.mul(1-t.decay)),l=s.mul(t.momentum).add(i.mul(t.learningRate).div(e.sub(u.square().add(t.epsilon)).sqrt()));a.assign(e),n.assign(u),s.assign(l);var c=o.sub(l);o.assign(c)}else{var p=a.mul(t.decay).add(i.square().mul(1-t.decay));l=s.mul(t.momentum).add(i.mul(t.learningRate).div(p.add(t.epsilon).sqrt())),a.assign(p),s.assign(l),c=o.sub(l),o.assign(c)}}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&zt(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&zt(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&zt(this.accumulatedMoments.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedMoments=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}))),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}(Yp);$p(id);var ad=function(){function e(){}return e.sgd=function(e){return new rd(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new od(e,t,n)},e.rmsprop=function(e,t,n,r,o){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===o&&(o=!1),new id(e,t,n,r,o)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new td(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new Zp(e,t,n)},e.adamax=function(e,t,n,r,o){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===o&&(o=0),new nd(e,t,n,r,o)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new ed(e,t)},e}();ad.sgd,ad.momentum,ad.adadelta,ad.adagrad,ad.rmsprop,ad.adamax,ad.adam,"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame;be.prototype.squaredDifference=function(e){return Ya(this,e)},ve=Nc}).call(this,n(12),n(22),n(26).Buffer,n(87).setImmediate)},function(e,t,n){"use strict";e.exports=n(74)},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function u(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}},function(e,t,n){e.exports=n(78)()},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},,function(e,t,n){
/*!
 * surveyjs - Survey JavaScript library v1.8.34
 * Copyright (c) 2015-2020 Devsoft Baltic OÜ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
var r;r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=176)}([function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),t.a=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return a}));var r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},a=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}},function(e,t,n){"use strict";var r=n(42);n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var o={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},supportedLocales:[],get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(e){"cz"===e&&(e="cs"),this.currentLocaleValue=e},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(e){"cz"===e&&(e="cs"),this.defaultLocaleValue=e},getLocaleStrings:function(e){return this.locales[e]},getCurrentStrings:function(){var e=this.currentLocale?this.locales[this.currentLocale]:this.locales[this.defaultLocale];return e||(e=this.locales[this.defaultLocale]),e},getString:function(e){var t=this.getCurrentStrings();t[e]||(t=this.locales[this.defaultLocale]);var n=t[e];return void 0===n&&(n=this.locales.en[e]),n},getLocales:function(e){void 0===e&&(e=!1);var t=[];t.push("");var n=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){n={};for(var r=0;r<this.supportedLocales.length;r++)n[this.supportedLocales[r]]=!0}for(var i in n)e&&i==this.defaultLocale||t.push(i);var a=function(e){if(!e)return"";var t=o.localeNames[e];return t||(t=e),t.toLowerCase()};return t.sort((function(e,t){var n=a(e),r=a(t);return n===r?0:n<r?-1:1})),t}},i=r.a;o.locales.en=r.a,o.localeNames.en="english"},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0),o=n(5);function i(e,t,n){var r=e.getLocalizableString(n);r||(r=e.createLocalizableString(n,e,!0),"object"==typeof t.localizable&&"function"==typeof t.localizable.onGetTextCallback&&(r.onGetTextCallback=t.localizable.onGetTextCallback))}function a(e,t,n){e.ensureArray(n,t?t.onPush:null,t?t.onRemove:null)}t.l=function(e){return function(t,n){e&&e.localizable?(Object.defineProperty(t,n,{get:function(){return i(this,e,n),this.getLocalizableStringText(n)||e.defaultValue||this[e.defaultSource]},set:function(t){i(this,e,n),this.setLocalizableStringText(n,t),e&&e.onSet&&e.onSet(t,this)}}),Object.defineProperty(t,!0===e.localizable?"loc"+n.charAt(0).toUpperCase()+n.slice(1):e.localizable.name,{get:function(){return i(this,e,n),this.getLocalizableString(n)}})):Object.defineProperty(t,n,{get:function(){var t=this.getPropertyValue(n);return void 0!==t?t:e?e.defaultValue||this[e.defaultSource]:void 0},set:function(t){this.setPropertyValue(n,t),e&&e.onSet&&e.onSet(t,this)}})}},t.m=function(e){return function(t,o){Object.defineProperty(t,o,{get:function(){return a(this,e,o),this.getPropertyValue(o)},set:function(t){a(this,e,o);var i=this.getPropertyValue(o);t!==i&&(i?i.splice.apply(i,n.i(r.e)([0,i.length],t||[])):this.setPropertyValue(o,t),e&&e.onSet&&e.onSet(t,this))}})}},n.d(t,"h",(function(){return s})),n.d(t,"n",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return p})),n.d(t,"j",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"k",(function(){return y}));var s=function(){function e(t,n,r){void 0===r&&(r=!1),this.name=n,this.typeValue=null,this.choicesValue=null,this.baseValue=null,this.isRequiredValue=!1,this.isUniqueValue=!1,this.readOnlyValue=null,this.visibleValue=null,this.isLocalizableValue=null,this.choicesfunc=null,this.dependedProperties=null,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.className=null,this.alternativeName=null,this.classNamePart=null,this.baseClassName=null,this.defaultValueValue=null,this.serializationProperty=null,this.displayName=null,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.nextToProperty=null,this.showMode=null,this.maxLength=-1,this.layout=null,this.onGetValue=null,this.onSetValue=null,this.visibleIf=null,this.isArray=!1,this.classInfoValue=t,this.isRequiredValue=r,this.idValue=e.Index++}return Object.defineProperty(e.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classInfo",{get:function(){return this.classInfoValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.typeValue?this.typeValue:"string"},set:function(e){"itemvalues"===e&&(e="itemvalue[]"),this.typeValue=e,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substr(0,this.typeValue.length-2))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this.isRequiredValue},set:function(e){this.isRequiredValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUnique",{get:function(){return this.isUniqueValue},set:function(e){this.isUniqueValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasToUseGetValue",{get:function(){return this.onGetValue||this.serializationProperty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultValue",{get:function(){var t=this.defaultValueValue;return e.getItemValuesDefaultValue&&v.metaData.isDescendantOf(this.className,"itemvalue")&&(t=e.getItemValuesDefaultValue(this.defaultValueValue||[])),t},set:function(e){this.defaultValueValue=e},enumerable:!1,configurable:!0}),e.prototype.isDefaultValue=function(e){return o.a.isValueEmpty(this.defaultValue)?!1===e&&("boolean"==this.type||"switch"==this.type)||""===e||o.a.isValueEmpty(e):this.defaultValue==e},e.prototype.getValue=function(e){return this.onGetValue?this.onGetValue(e):this.serializationProperty&&e[this.serializationProperty]?e[this.serializationProperty].getJson():e[this.name]},e.prototype.getPropertyValue=function(e){return this.isLocalizable?e[this.serializationProperty]?e[this.serializationProperty].text:null:this.getValue(e)},Object.defineProperty(e.prototype,"hasToUseSetValue",{get:function(){return this.onSetValue||this.serializationProperty},enumerable:!1,configurable:!0}),e.prototype.setValue=function(e,t,n){this.onSetValue?this.onSetValue(e,t,n):this.serializationProperty&&e[this.serializationProperty]?e[this.serializationProperty].setJson(t):(t&&"string"==typeof t&&("number"==this.type&&(t=parseInt(t)),"boolean"!=this.type&&"switch"!=this.type||(t="true"===t.toLowerCase())),e[this.name]=t)},e.prototype.getObjType=function(e){return this.classNamePart?e.replace(this.classNamePart,""):e},e.prototype.getClassName=function(e){return e&&(e=e.toLowerCase()),this.classNamePart&&e.indexOf(this.classNamePart)<0?e+this.classNamePart:e},Object.defineProperty(e.prototype,"choices",{get:function(){return this.getChoices(null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasChoices",{get:function(){return!!this.choicesValue||!!this.choicesfunc},enumerable:!1,configurable:!0}),e.prototype.getChoices=function(e,t){return void 0===t&&(t=null),null!=this.choicesValue?this.choicesValue:null!=this.choicesfunc?this.choicesfunc(e,t):null},e.prototype.setChoices=function(e,t){void 0===t&&(t=null),this.choicesValue=e,this.choicesfunc=t},e.prototype.getBaseValue=function(){return this.baseValue?"function"==typeof this.baseValue?this.baseValue():this.baseValue:""},e.prototype.setBaseValue=function(e){this.baseValue=e},Object.defineProperty(e.prototype,"readOnly",{get:function(){return null!=this.readOnlyValue&&this.readOnlyValue},set:function(e){this.readOnlyValue=e},enumerable:!1,configurable:!0}),e.prototype.isVisible=function(e,t){void 0===t&&(t=null);var n=!this.layout||this.layout==e;return!(!this.visible||!n)&&(!this.visibleIf||!t||this.visibleIf(t))},Object.defineProperty(e.prototype,"visible",{get:function(){return null==this.visibleValue||this.visibleValue},set:function(e){this.visibleValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLocalizable",{get:function(){return null!=this.isLocalizableValue&&this.isLocalizableValue},set:function(e){this.isLocalizableValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataList",{get:function(){return Array.isArray(this.dataListValue)?this.dataListValue:[]},set:function(e){this.dataListValue=e},enumerable:!1,configurable:!0}),e.prototype.mergeWith=function(t){for(var n=e.mergableValues,r=0;r<n.length;r++)this.mergeValue(t,n[r])},e.prototype.addDependedProperty=function(e){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(e)<0&&this.dependedProperties.push(e)},e.prototype.getDependedProperties=function(){return this.dependedProperties?this.dependedProperties:[]},e.prototype.schemaType=function(){return this.className||this.baseClassName?"array":"boolean"==this.type||"number"==this.type?this.type:"string"},e.prototype.mergeValue=function(e,t){null==this[t]&&null!=e[t]&&(this[t]=e[t])},e.Index=1,e.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","isDynamicChoices","isLocalizableValue","className","alternativeName","layout","classNamePart","baseClassName","defaultValue","serializationProperty","onGetValue","onSetValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","showMode","dependedProperties","visibleIf","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"],e}(),u=function(){function e(){}return e.addProperty=function(t,n){t=t.toLowerCase();var r=e.properties;r[t]||(r[t]=[]),r[t].push(n)},e.removeProperty=function(t,n){t=t.toLowerCase();var r=e.properties;if(r[t])for(var o=r[t],i=0;i<o.length;i++)if(o[i].name==n){r[t].splice(i,1);break}},e.addClass=function(t,n){t=t.toLowerCase(),n&&(n=n.toLowerCase()),e.parentClasses[t]=n},e.getProperties=function(t){t=t.toLowerCase();for(var n=[],r=e.properties;t;){var o=r[t];if(o)for(var i=0;i<o.length;i++)n.push(o[i]);t=e.parentClasses[t]}return n},e.createProperties=function(t){t&&t.getType&&e.createPropertiesCore(t,t.getType())},e.createPropertiesCore=function(t,n){var r=e.properties;r[n]&&e.createPropertiesInObj(t,r[n]);var o=e.parentClasses[n];o&&e.createPropertiesCore(t,o)},e.createPropertiesInObj=function(t,n){for(var r=0;r<n.length;r++)e.createPropertyInObj(t,n[r])},e.createPropertyInObj=function(e,t){if(!e[t.name]&&!e.hasOwnProperty(t.name))if(t.isLocalizable&&t.serializationProperty&&!e[t.serializationProperty]&&e.createCustomLocalizableObj){e.createCustomLocalizableObj(t.name);var n={get:function(){return e.getLocalizableString(t.name)}};Object.defineProperty(e,t.serializationProperty,n);var r={get:function(){return e.getLocalizableStringText(t.name,t.defaultValue)},set:function(n){e.setLocalizableStringText(t.name,n)}};Object.defineProperty(e,t.name,r)}else{var o=t.defaultValue,i=!1;"function"==typeof e.createNewArray&&(v.metaData.isDescendantOf(t.className,"itemvalue")&&(e.createNewArray(t.name,(function(n){n.locOwner=e,n.ownerPropertyName=t.name})),i=!0),"multiplevalues"===t.type&&(e.createNewArray(t.name),i=!0),i&&(Array.isArray(o)&&e.setPropertyValue(t.name,o),o=null)),e.getPropertyValue&&e.setPropertyValue&&(r={get:function(){return t.onGetValue?t.onGetValue(e):e.getPropertyValue(t.name,o)},set:function(n){t.onSetValue?t.onSetValue(e,n,null):e.setPropertyValue(t.name,n)}},Object.defineProperty(e,t.name,r))}},e.properties={},e.parentClasses={},e}(),l=function(){function e(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=null),this.name=e,this.creator=n,this.parentName=r,this.properties=null,e=e.toLowerCase(),this.parentName&&(this.parentName=this.parentName.toLowerCase(),u.addClass(e,this.parentName)),this.properties=new Array;for(var o=0;o<t.length;o++){var i=this.createProperty(t[o]);i&&this.properties.push(i)}}return e.prototype.find=function(e){for(var t=0;t<this.properties.length;t++)if(this.properties[t].name==e)return this.properties[t];return null},e.prototype.createProperty=function(t){var n="string"==typeof t?t:t.name;if(n){var r=null,i=n.indexOf(e.typeSymbol);i>-1&&(r=n.substring(i+1),n=n.substring(0,i));var a=this.getIsPropertyNameRequired(n)||!!t.isRequired;n=this.getPropertyName(n);var u=new s(this,n,a);if(r&&(u.type=r),"object"==typeof t){if(t.type&&(u.type=t.type),o.a.isValueEmpty(t.default)||(u.defaultValue=t.default),o.a.isValueEmpty(t.isSerializable)||(u.isSerializable=t.isSerializable),o.a.isValueEmpty(t.isLightSerializable)||(u.isLightSerializable=t.isLightSerializable),o.a.isValueEmpty(t.maxLength)||(u.maxLength=t.maxLength),o.a.isValueEmpty(t.displayName)||(u.displayName=t.displayName),o.a.isValueEmpty(t.category)||(u.category=t.category),o.a.isValueEmpty(t.categoryIndex)||(u.categoryIndex=t.categoryIndex),o.a.isValueEmpty(t.nextToProperty)||(u.nextToProperty=t.nextToProperty),o.a.isValueEmpty(t.visibleIndex)||(u.visibleIndex=t.visibleIndex),o.a.isValueEmpty(t.showMode)||(u.showMode=t.showMode),o.a.isValueEmpty(t.maxValue)||(u.maxValue=t.maxValue),o.a.isValueEmpty(t.minValue)||(u.minValue=t.minValue),o.a.isValueEmpty(t.dataList)||(u.dataList=t.dataList),o.a.isValueEmpty(t.isDynamicChoices)||(u.isDynamicChoices=t.isDynamicChoices),o.a.isValueEmpty(t.isBindable)||(u.isBindable=t.isBindable),o.a.isValueEmpty(t.isUnique)||(u.isUnique=t.isUnique),!0!==t.visible&&!1!==t.visible||(u.visible=t.visible),t.visibleIf&&(u.visibleIf=t.visibleIf),t.onPropertyEditorUpdate&&(u.onPropertyEditorUpdate=t.onPropertyEditorUpdate),!0===t.readOnly&&(u.readOnly=!0),t.choices){var l="function"==typeof t.choices?t.choices:null,c="function"!=typeof t.choices?t.choices:null;u.setChoices(c,l)}t.baseValue&&u.setBaseValue(t.baseValue),t.onGetValue&&(u.onGetValue=t.onGetValue),t.onSetValue&&(u.onSetValue=t.onSetValue),t.isLocalizable&&(t.serializationProperty="loc"+u.name),t.serializationProperty&&(u.serializationProperty=t.serializationProperty,u.serializationProperty&&0==u.serializationProperty.indexOf("loc")&&(u.isLocalizable=!0)),t.isLocalizable&&(u.isLocalizable=t.isLocalizable),t.className&&(u.className=t.className),t.baseClassName&&(u.baseClassName=t.baseClassName),t.classNamePart&&(u.classNamePart=t.classNamePart),t.alternativeName&&(u.alternativeName=t.alternativeName),t.layout&&(u.layout=t.layout),t.dependsOn&&this.addDependsOnProperties(u,t.dependsOn)}return u}},e.prototype.addDependsOnProperties=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addDependsOnProperty(e,t[n]);else this.addDependsOnProperty(e,t)},e.prototype.addDependsOnProperty=function(e,t){var n=this.find(t);n||(n=y.findProperty(this.parentName,t)),n&&n.addDependedProperty(e.name)},e.prototype.getIsPropertyNameRequired=function(t){return t.length>0&&t[0]==e.requiredSymbol},e.prototype.getPropertyName=function(e){return this.getIsPropertyNameRequired(e)?e=e.slice(1):e},e.requiredSymbol="!",e.typeSymbol=":",e}(),c=function(){function e(){this.classes={},this.alternativeNames={},this.childrenClasses={},this.classProperties={},this.classHashProperties={}}return e.prototype.addClass=function(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=null),e=e.toLowerCase();var o=new l(e,t,n,r);return this.classes[e]=o,r&&(r=r.toLowerCase(),this.childrenClasses[r]||(this.childrenClasses[r]=[]),this.childrenClasses[r].push(o)),o},e.prototype.removeClass=function(e){var t=this.findClass(e);if(t&&(delete this.classes[t.name],t.parentName)){var n=this.childrenClasses[t.parentName].indexOf(t);n>-1&&this.childrenClasses[t.parentName].splice(n,1)}},e.prototype.overrideClassCreatore=function(e,t){this.overrideClassCreator(e,t)},e.prototype.overrideClassCreator=function(e,t){e=e.toLowerCase();var n=this.findClass(e);n&&(n.creator=t)},e.prototype.getProperties=function(e){var t=this.findClass(e);if(!t)return[];var n=this.classProperties[t.name];return n||(this.fillPropertiesForClass(t.name),this.classProperties[t.name])},e.prototype.getHashProperties=function(e){var t=this.findClass(e);if(!t)return{};var n=this.classHashProperties[t.name];return n||(this.fillPropertiesForClass(t.name),this.classHashProperties[t.name])},e.prototype.fillPropertiesForClass=function(e){var t=new Array,n={};this.fillProperties(e,t,n),this.classProperties[e]=t,this.classHashProperties[e]=n},e.prototype.getPropertiesByObj=function(e){if(!e||!e.getType)return[];for(var t={},n=this.getProperties(e.getType()),r=0;r<n.length;r++)t[n[r].name]=n[r];var o=e.getDynamicType?this.getProperties(e.getDynamicType()):null;if(o&&o.length>0)for(r=0;r<o.length;r++){var i=o[r];t[i.name]||(t[i.name]=i)}return Object.keys(t).map((function(e){return t[e]}))},e.prototype.getDynamicPropertiesByObj=function(e,t){if(void 0===t&&(t=null),!e||!e.getType||!e.getDynamicType&&!t)return[];var n=t||e.getDynamicType();if(!n)return[];var r=this.getProperties(n);if(!r||0==r.length)return[];for(var o={},i=this.getProperties(e.getType()),a=0;a<i.length;a++)o[i[a].name]=i[a];var s=[];for(a=0;a<r.length;a++){var u=r[a];o[u.name]||s.push(u)}return s},e.prototype.findProperty=function(e,t){var n=this.getHashProperties(e)[t];return n||null},e.prototype.findProperties=function(e,t){for(var n=[],r=this.getHashProperties(e),o=0;o<t.length;o++){var i=r[t[o]];i&&n.push(i)}return n},e.prototype.getAllPropertiesByName=function(e){for(var t=new Array,n=this.getAllClasses(),r=0;r<n.length;r++)for(var o=this.findClass(n[r]),i=0;i<o.properties.length;i++)if(o.properties[i].name==e){t.push(o.properties[i]);break}return t},e.prototype.getAllClasses=function(){var e=new Array;for(var t in this.classes)e.push(t);return e},e.prototype.createClass=function(e,t){void 0===t&&(t=void 0),e=e.toLowerCase();var n=this.findClass(e);if(!n)return null;if(n.creator)return n.creator(t);for(var r=n.parentName;r;){if(!(n=this.findClass(r)))return null;if(r=n.parentName,n.creator)return this.createCustomType(e,n.creator,t)}return null},e.prototype.createCustomType=function(e,t,n){void 0===n&&(n=void 0),e=e.toLowerCase();var r=t(n),o=e,i=r.getTemplate?r.getTemplate():r.getType();return r.getType=function(){return o},r.getTemplate=function(){return i},u.createProperties(r),r},e.prototype.getChildrenClasses=function(e,t){void 0===t&&(t=!1),e=e.toLowerCase();var n=[];return this.fillChildrenClasses(e,t,n),n},e.prototype.getRequiredProperties=function(e){for(var t=this.getProperties(e),n=[],r=0;r<t.length;r++)t[r].isRequired&&n.push(t[r].name);return n},e.prototype.addProperties=function(e,t){e=e.toLowerCase();for(var n=this.findClass(e),r=0;r<t.length;r++)this.addCustomPropertyCore(n,t[r])},e.prototype.addProperty=function(e,t){return this.addCustomPropertyCore(this.findClass(e),t)},e.prototype.addCustomPropertyCore=function(e,t){if(!e)return null;var n=e.createProperty(t);return n&&(n.isCustom=!0,this.addPropertyToClass(e,n),this.emptyClassPropertiesHash(e),u.addProperty(e.name,n)),n},e.prototype.removeProperty=function(e,t){var n=this.findClass(e);if(!n)return!1;var r=n.find(t);r&&(this.removePropertyFromClass(n,r),this.emptyClassPropertiesHash(n),u.removeProperty(n.name,t))},e.prototype.addPropertyToClass=function(e,t){null==e.find(t.name)&&e.properties.push(t)},e.prototype.removePropertyFromClass=function(e,t){var n=e.properties.indexOf(t);n<0||e.properties.splice(n,1)},e.prototype.emptyClassPropertiesHash=function(e){this.classProperties[e.name]=null,this.classHashProperties[e.name]=null;for(var t=this.getChildrenClasses(e.name),n=0;n<t.length;n++)this.classProperties[t[n].name]=null,this.classHashProperties[t[n].name]=null},e.prototype.fillChildrenClasses=function(e,t,n){var r=this.childrenClasses[e];if(r)for(var o=0;o<r.length;o++)t&&!r[o].creator||n.push(r[o]),this.fillChildrenClasses(r[o].name,t,n)},e.prototype.findClass=function(e){e=e.toLowerCase();var t=this.classes[e];if(!t){var n=this.alternativeNames[e];if(n&&n!=e)return this.findClass(n)}return t},e.prototype.isDescendantOf=function(e,t){if(!e||!t)return!1;e=e.toLowerCase(),t=t.toLowerCase();var n=this.findClass(e);if(!n)return!1;var r=n;do{if(r.name===t)return!0;r=this.classes[r.parentName]}while(r);return!1},e.prototype.addAlterNativeClassName=function(e,t){this.alternativeNames[t.toLowerCase()]=e.toLowerCase()},e.prototype.generateSchema=function(e){void 0===e&&(e=void 0),e||(e="survey");var t=this.findClass(e);if(!t)return null;var n={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{}};return this.generateSchemaProperties(t,n.properties,n.definitions),n},e.prototype.generateSchemaProperties=function(e,t,n){if(e)for(var r=0;r<e.properties.length;r++){var o=e.properties[r];t[o.name]=this.generateSchemaProperty(o,n)}},e.prototype.generateSchemaProperty=function(e,t){var n={type:e.schemaType()};if(e.hasChoices&&(n.enum=e.getChoices(null)),e.className&&(n.items={$ref:"#"+e.className},this.generateChemaClass(e.className,t)),e.baseClassName){var r=this.getChildrenClasses(e.baseClassName,!0);"question"==e.baseClassName&&r.push(this.findClass("panel")),n.items=[];for(var o=0;o<r.length;o++){var i=r[o].name;n.items.push({$ref:"#"+i}),this.generateChemaClass(i,t)}}return n},e.prototype.generateChemaClass=function(e,t){if(!t[e]){var n=this.findClass(e);if(n){var r=!!n.parentName&&"base"!=n.parentName;r&&this.generateChemaClass(n.parentName,t);var o={type:"object",$id:"#"+e};t[e]=o;var i={};this.generateSchemaProperties(n,i,t),r?o.allOff=[{$ref:"#"+n.parentName},{properties:i}]:o.properties=i}}},e.prototype.fillProperties=function(e,t,n){var r=this.findClass(e);if(r){r.parentName&&this.fillProperties(r.parentName,t,n);for(var o=0;o<r.properties.length;o++){var i=r.properties[o];this.addPropertyCore(i,t,n),n[i.name]=i}}},e.prototype.addPropertyCore=function(e,t,n){if(n[e.name]){for(var r=-1,o=0;o<t.length;o++)if(t[o].name==e.name){r=o;break}e.mergeWith(t[r]),t[r]=e}else t.push(e)},e}(),p=function(){function e(e,t){this.type=e,this.message=t,this.description="",this.at=-1}return e.prototype.getFullDescription=function(){return this.message+(this.description?"\n"+this.description:"")},e}(),d=function(e){function t(t,n){var r=e.call(this,"unknownproperty","The property '"+t+"' in class '"+n+"' is unknown.")||this;r.propertyName=t,r.className=n;var o=v.metaData.getProperties(n);if(o){r.description="The list of available properties are: ";for(var i=0;i<o.length;i++)i>0&&(r.description+=", "),r.description+=o[i].name;r.description+="."}return r}return n.i(r.a)(t,e),t}(p),h=function(e){function t(t,n,r){var o=e.call(this,n,r)||this;o.baseClassName=t,o.type=n,o.message=r,o.description="The following types are available: ";for(var i=v.metaData.getChildrenClasses(t,!0),a=0;a<i.length;a++)a>0&&(o.description+=", "),o.description+="'"+i[a].name+"'";return o.description+=".",o}return n.i(r.a)(t,e),t}(p),f=function(e){function t(t,n){var r=e.call(this,n,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+t+"'.")||this;return r.propertyName=t,r.baseClassName=n,r}return n.i(r.a)(t,e),t}(h),m=function(e){function t(t,n){var r=e.call(this,n,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+t+"'.")||this;return r.propertyName=t,r.baseClassName=n,r}return n.i(r.a)(t,e),t}(h),g=function(e){function t(t,n){var r=e.call(this,"requiredproperty","The property '"+t+"' is required in class '"+n+"'.")||this;return r.propertyName=t,r.className=n,r}return n.i(r.a)(t,e),t}(p),v=function(){function e(){this.errors=new Array,this.lightSerializing=!1}return Object.defineProperty(e,"metaData",{get:function(){return e.metaDataValue},enumerable:!1,configurable:!0}),e.prototype.toJsonObject=function(e,t){return void 0===t&&(t=!1),this.toJsonObjectCore(e,null,t)},e.prototype.toObject=function(e,t){this.toObjectCore(e,t);var n=this.getRequiredError(t,e);n&&this.addNewError(n,e)},e.prototype.toObjectCore=function(t,n){if(t){var r=null,o=void 0,i=!0;if(n.getType&&(o=n.getType(),r=e.metaData.getProperties(o),i=!!o&&!e.metaData.isDescendantOf(o,"itemvalue")),r){for(var a in n.startLoadingFromJson&&n.startLoadingFromJson(),r=this.addDynamicProperties(n,t,r),t)if(a!==e.typePropertyName)if(a!==e.positionPropertyName){var s=this.findProperty(r,a);s?this.valueToObj(t[a],n,s):i&&this.addNewError(new d(a.toString(),o),t)}else n[a]=t[a];n.endLoadingFromJson&&n.endLoadingFromJson()}}},e.prototype.toJsonObjectCore=function(t,n,r){if(void 0===r&&(r=!1),!t||!t.getType)return t;if("function"==typeof t.getData)return t.getData();var o={};return null==n||n.className||(o[e.typePropertyName]=n.getObjType(t.getType())),this.propertiesToJson(t,e.metaData.getProperties(t.getType()),o,r),this.propertiesToJson(t,this.getDynamicProperties(t),o,r),o},e.prototype.getDynamicProperties=function(e){return y.getDynamicPropertiesByObj(e)},e.prototype.addDynamicProperties=function(e,t,n){if(!e.getDynamicPropertyName)return n;var r=e.getDynamicPropertyName();if(!r)return n;t[r]&&(e[r]=t[r]);for(var o=this.getDynamicProperties(e),i=[],a=0;a<n.length;a++)i.push(n[a]);for(a=0;a<o.length;a++)i.push(o[a]);return i},e.prototype.propertiesToJson=function(e,t,n,r){void 0===r&&(r=!1);for(var o=0;o<t.length;o++)this.valueToJson(e,n,t[o],r)},e.prototype.valueToJson=function(e,t,n,r){if(void 0===r&&(r=!1),!(!1===n.isSerializable||!1===n.isLightSerializable&&this.lightSerializing)){var o=n.getValue(e);if(r||!n.isDefaultValue(o)){if(this.isValueArray(o)){for(var i=[],a=0;a<o.length;a++)i.push(this.toJsonObjectCore(o[a],n,r));o=i.length>0?i:null}else o=this.toJsonObjectCore(o,n,r);var s="function"==typeof e.getPropertyValue&&null!==e.getPropertyValue(n.name,null);(r&&s||!n.isDefaultValue(o))&&(t[n.name]=o)}}},e.prototype.valueToObj=function(e,t,n){if(null!=e)if(this.removePos(n,e),null!=n&&n.hasToUseSetValue)n.setValue(t,e,this);else if(this.isValueArray(e))this.valueToArray(e,t,n.name,n);else{var r=this.createNewObj(e,n);r.newObj&&(this.toObjectCore(e,r.newObj),e=r.newObj),r.error||(null!=n?n.setValue(t,e,this):t[n.name]=e)}},e.prototype.removePos=function(e,t){!e||!e.type||e.type.indexOf("value")<0||this.removePosFromObj(t)},e.prototype.removePosFromObj=function(t){if(t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.removePosFromObj(t[n]);t[e.positionPropertyName]&&delete t[e.positionPropertyName]}},e.prototype.isValueArray=function(e){return e&&Array.isArray(e)},e.prototype.createNewObj=function(t,n){var r={newObj:null,error:null},o=t[e.typePropertyName];return!o&&null!=n&&n.className&&(o=n.className),o=n.getClassName(o),r.newObj=o?e.metaData.createClass(o,t):null,r.error=this.checkNewObjectOnErrors(r.newObj,t,n,o),r},e.prototype.checkNewObjectOnErrors=function(e,t,n,r){var o=null;return e?o=this.getRequiredError(e,t):n.baseClassName&&(o=r?new m(n.name,n.baseClassName):new f(n.name,n.baseClassName)),o&&this.addNewError(o,t),o},e.prototype.getRequiredError=function(t,n){if(!t.getType||"function"==typeof t.getData)return null;var r=t.getType(),o=e.metaData.getRequiredProperties(r);if(!o)return null;for(var i=0;i<o.length;i++)if(!n[o[i]])return new g(o[i],r);return null},e.prototype.addNewError=function(t,n){n&&n[e.positionPropertyName]&&(t.at=n[e.positionPropertyName].start),this.errors.push(t)},e.prototype.valueToArray=function(e,t,n,r){t[n]&&e.length>0&&t[n].splice(0,t[n].length);var o=t[n]?t[n]:[];this.addValuesIntoArray(e,o,r),t[n]||(t[n]=o)},e.prototype.addValuesIntoArray=function(e,t,n){for(var r=0;r<e.length;r++){var o=this.createNewObj(e[r],n);o.newObj?(e[r].name&&(o.newObj.name=e[r].name),t.push(o.newObj),this.toObjectCore(e[r],o.newObj)):o.error||t.push(e[r])}},e.prototype.findProperty=function(e,t){if(!e)return null;for(var n=0;n<e.length;n++){var r=e[n];if(r.name==t||r.alternativeName==t)return r}return null},e.typePropertyName="type",e.positionPropertyName="pos",e.metaDataValue=new c,e}(),y=v.metaData},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(10)),a=n(9);n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var s=function(e){function t(t){var n=e.call(this,t)||this;return n.nonStateProps=[],n.modifyNonStateProps(n.nonStateProps),n}return n.i(r.a)(t,e),t.renderLocString=function(e,t,n){return void 0===t&&(t=null),a.a.Instance.createElement(e.renderAs,{locStr:e,style:t,key:n})},t.prototype.componentDidMount=function(){this.makeBaseElementsReact()},t.prototype.componentWillUnmount=function(){this.unMakeBaseElementsReact()},t.prototype.componentDidUpdate=function(e,t){this.makeBaseElementsReact()},t.prototype.render=function(){if(!this.canRender())return null;this.isRenderingValue=!0;var e=this.renderElement();return this.isRenderingValue=!1,this.changedStatePropNameValue=void 0,e},Object.defineProperty(t.prototype,"isRendering",{get:function(){return this.isRenderingValue},enumerable:!1,configurable:!0}),t.prototype.canRender=function(){return!0},t.prototype.renderElement=function(){return null},Object.defineProperty(t.prototype,"changedStatePropName",{get:function(){return this.changedStatePropNameValue},enumerable:!1,configurable:!0}),t.prototype.makeBaseElementsReact=function(){for(var e=this.getStateElements(),t=0;t<e.length;t++)this.makeBaseElementReact(e[t])},t.prototype.unMakeBaseElementsReact=function(){for(var e=this.getStateElements(),t=0;t<e.length;t++)this.unMakeBaseElementReact(e[t])},t.prototype.modifyNonStateProps=function(e){},t.prototype.getStateElements=function(){var e=this.getStateElement();return e?[e]:[]},t.prototype.getStateElement=function(){return null},Object.defineProperty(t.prototype,"isDisplayMode",{get:function(){return this.props.isDisplayMode||!1},enumerable:!1,configurable:!0}),t.prototype.renderLocString=function(e,n){return void 0===n&&(n=null),t.renderLocString(e,n)},t.prototype.makeBaseElementReact=function(e){var t=this;e&&(e.iteratePropertiesHash((function(e,n){if(!(t.nonStateProps.indexOf(n)>-1)){var r=e[n];Array.isArray(r)&&((r=r).onArrayChanged=function(e){t.isRendering||(t.changedStatePropNameValue=n,t.setState((function(e){var t={};return t[n]=r,t})))})}})),e.setPropertyValueCoreHandler=function(e,n,r){if(e[n]!==r){if(e[n]=r,t.isRendering)return;t.changedStatePropNameValue=n,t.setState((function(e){var t={};return t[n]=r,t}))}})},t.prototype.unMakeBaseElementReact=function(e){e&&(e.setPropertyValueCoreHandler=void 0,e.iteratePropertiesHash((function(e,t){var n=e[t];Array.isArray(n)&&((n=n).onArrayChanged=function(){})})))},t}(o.Component),u=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),t}(s),l=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.componentDidUpdate=function(t,n){e.prototype.componentDidUpdate.call(this,t,n),this.updateDomElement()},t.prototype.componentDidMount=function(){this.updateDomElement()},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.questionBase&&this.questionBase.beforeDestroyQuestionElement(this.control)},t.prototype.updateDomElement=function(){var e=this.control;e&&"r"!==e.getAttribute("data-rendered")&&(e.setAttribute("data-rendered","r"),this.questionBase.afterRenderQuestionElement(e))},Object.defineProperty(t.prototype,"questionBase",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),t.prototype.canRender=function(){return!!this.questionBase&&!!this.creator},t.prototype.shouldComponentUpdate=function(){return!(this.questionBase.customWidget&&!this.questionBase.customWidgetData.isNeedRender&&!this.questionBase.customWidget.widgetJson.isDefaultRender&&!this.questionBase.customWidget.widgetJson.render)},t}(s),c=function(e){function t(t){var n=e.call(this,t)||this;return n.updateValueOnEvent=function(e){i.h.isTwoValueEquals(n.questionBase.value,e.target.value)||(n.questionBase.value=e.target.value)},n.updateValueOnEvent=n.updateValueOnEvent.bind(n),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.updateDomElement=function(){if(this.control){var t=this.control,n=this.questionBase.value;i.h.isTwoValueEquals(n,t.value)||(t.value=this.getValue(n))}e.prototype.updateDomElement.call(this)},t.prototype.getValue=function(e){return i.h.isValueEmpty(e)?"":e},t}(l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){}return e.isValueEmpty=function(t){if(Array.isArray(t)&&0===t.length)return!0;if(t&&"object"==typeof t&&t.constructor===Object){for(var n in t)if(!e.isValueEmpty(t[n]))return!1;return!0}return t&&("string"==typeof t||t instanceof String)&&(t=t.trim()),!t&&0!==t&&!1!==t},e.isArrayContainsEqual=function(t,n){if(!Array.isArray(t)||!Array.isArray(n))return!1;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++){for(var o=0;o<n.length&&!e.isTwoValueEquals(t[r],n[o]);o++);if(o===n.length)return!1}return!0},e.isArraysEqual=function(t,n,r){if(void 0===r&&(r=!1),!Array.isArray(t)||!Array.isArray(n))return!1;if(t.length!==n.length)return!1;if(r){for(var o=[],i=[],a=0;a<t.length;a++)o.push(t[a]),i.push(n[a]);o.sort(),i.sort(),t=o,n=i}for(a=0;a<t.length;a++)if(!e.isTwoValueEquals(t[a],n[a]))return!1;return!0},e.isTwoValueEquals=function(t,n,r){if(void 0===r&&(r=!1),t===n)return!0;if(Array.isArray(t)&&0===t.length&&void 0===n)return!0;if(Array.isArray(n)&&0===n.length&&void 0===t)return!0;if(null==t&&""===n)return!0;if(null==n&&""===t)return!0;if("string"==typeof t&&"string"==typeof n)return t==n;if(e.isConvertibleToNumber(t)&&e.isConvertibleToNumber(n)&&parseInt(t)===parseInt(n)&&parseFloat(t)===parseFloat(n))return!0;if(!e.isValueEmpty(t)&&e.isValueEmpty(n)||e.isValueEmpty(t)&&!e.isValueEmpty(n))return!1;if((!0===t||!1===t)&&"string"==typeof n)return t.toString()===n.toLocaleLowerCase();if((!0===n||!1===n)&&"string"==typeof t)return n.toString()===t.toLocaleLowerCase();if(!(t instanceof Object||n instanceof Object))return t==n;if(!(t instanceof Object&&n instanceof Object))return!1;if(t.equals)return t.equals(n);if(t.toJSON&&n.toJSON)return this.isTwoValueEquals(t.toJSON(),n.toJSON());if(Array.isArray(t)&&Array.isArray(n))return e.isArraysEqual(t,n,r);for(var o in t)if(t.hasOwnProperty(o)){if(!n.hasOwnProperty(o))return!1;if(t[o]!==n[o]){if("object"!=typeof t[o])return!1;if(!this.isTwoValueEquals(t[o],n[o]))return!1}}for(o in n)if(n.hasOwnProperty(o)&&!t.hasOwnProperty(o))return!1;return!0},e.randomizeArray=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e},e.getUnbindValue=function(e){return e&&e instanceof Object?JSON.parse(JSON.stringify(e)):e},e.createCopy=function(e){var t={};if(!e)return t;for(var n in e)t[n]=e[n];return t},e.isConvertibleToNumber=function(e){return null!=e&&!Array.isArray(e)&&!isNaN(e)},e.isNumber=function(e){return!("string"==typeof e&&e&&0==e.indexOf("0x")&&e.length>32)&&!isNaN(parseFloat(e))&&isFinite(e)},e.getMaxLength=function(e,t){return e<0&&(e=t),e>0?e:null},e.getNumberByIndex=function(t,n){if(t<0)return"";var r=1,o="",i=".",a=!0,s="A",u="";if(n){for(var l=(u=n).length-1,c=!1,p=0;p<u.length;p++)if(e.isCharDigit(u[p])){c=!0;break}for(var d=function(){return c&&!e.isCharDigit(u[l])||e.isCharNotLetterAndDigit(u[l])};l>=0&&d();)l--;var h="";for(l<u.length-1&&(h=u.substr(l+1),u=u.substr(0,l+1)),l=u.length-1;l>=0&&!d()&&(l--,c););s=u.substr(l+1),o=u.substr(0,l+1),parseInt(s)?r=parseInt(s):1==s.length&&(a=!1),(h||o)&&(i=h)}return a?o+(t+r).toString()+i:o+String.fromCharCode(s.charCodeAt(0)+t)+i},e.isCharNotLetterAndDigit=function(t){return t.toUpperCase()==t.toLowerCase()&&!e.isCharDigit(t)},e.isCharDigit=function(e){return e>="0"&&e<="9"},e}();String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,(function(t,n){return void 0!==e[n]?e[n]:t}))})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){this.creatorHash={}}return e.prototype.registerQuestion=function(e,t){this.creatorHash[e]=t},e.prototype.getAllTypes=function(){var e=new Array;for(var t in this.creatorHash)e.push(t);return e.sort()},e.prototype.createQuestion=function(e,t){var n=this.creatorHash[e];return null==n?null:n(t)},e.Instance=new e,e}()},function(e,t,n){"use strict";var r=n(0),o=n(16),i=n(5),a=n(3),s=n(11),u=n(34);n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return f}));var l=function(){function e(e){this.obj=e,this.properties=null,this.values=null}return e.prototype.getType=function(){return"bindings"},e.prototype.getNames=function(){var e=[];this.fillProperties();for(var t=0;t<this.properties.length;t++)this.properties[t].isVisible("",this.obj)&&e.push(this.properties[t].name);return e},e.prototype.getProperties=function(){var e=[];this.fillProperties();for(var t=0;t<this.properties.length;t++)e.push(this.properties[t]);return e},e.prototype.setBinding=function(e,t){this.values||(this.values={}),t?this.values[e]=t:(delete this.values[e],0==Object.keys(this.values).length&&(this.values=null))},e.prototype.clearBinding=function(e){this.setBinding(e,"")},e.prototype.isEmpty=function(){return!this.values},e.prototype.getValueNameByPropertyName=function(e){if(this.values)return this.values[e]},e.prototype.getPropertiesByValueName=function(e){if(!this.values)return[];var t=[];for(var n in this.values)this.values[n]==e&&t.push(n);return t},e.prototype.getJson=function(){if(this.isEmpty())return null;var e={};for(var t in this.values)e[t]=this.values[t];return e},e.prototype.setJson=function(e){if(this.values=null,e)for(var t in this.values={},e)this.values[t]=e[t]},e.prototype.fillProperties=function(){if(null===this.properties){this.properties=[];for(var e=a.k.getPropertiesByObj(this.obj),t=0;t<e.length;t++)e[t].isBindable&&this.properties.push(e[t])}},e}(),c=function(){function e(){this.propertyHash={},this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=new f,this.onItemValuePropertyChanged=new f,this.isCreating=!0,this.bindingsValue=new l(this),a.n.createProperties(this),this.onBaseCreating(),this.isCreating=!1}return e.isSurveyElement=function(t){return!!t&&(Array.isArray(t)?0!=t.length&&e.isSurveyElement(t[0]):!!t.getType&&!!t.onPropertyChanged)},Object.defineProperty(e,"commentPrefix",{get:function(){return s.a.commentPrefix},set:function(e){s.a.commentPrefix=e},enumerable:!1,configurable:!0}),e.prototype.isValueEmpty=function(e){return i.a.isValueEmpty(e)},e.prototype.IsPropertyEmpty=function(e){return""!==e&&this.isValueEmpty(e)},e.prototype.onBaseCreating=function(){},e.prototype.getType=function(){return"base"},e.prototype.getSurvey=function(){return null},Object.defineProperty(e.prototype,"bindings",{get:function(){return this.bindingsValue},enumerable:!1,configurable:!0}),e.prototype.checkBindings=function(e,t){},e.prototype.updateBindings=function(e,t){var n=this.bindings.getValueNameByPropertyName(e);n&&this.updateBindingValue(n,t)},e.prototype.updateBindingValue=function(e,t){},e.prototype.getTemplate=function(){return this.getType()},Object.defineProperty(e.prototype,"isLoadingFromJson",{get:function(){return this.getIsLoadingFromJson()},enumerable:!1,configurable:!0}),e.prototype.getIsLoadingFromJson=function(){return!(!this.loadingOwner||!this.loadingOwner.isLoadingFromJson)||this.isLoadingFromJsonValue},e.prototype.startLoadingFromJson=function(){this.isLoadingFromJsonValue=!0},e.prototype.endLoadingFromJson=function(){this.isLoadingFromJsonValue=!1},e.prototype.toJSON=function(){return(new a.g).toJsonObject(this)},e.prototype.fromJSON=function(e){return(new a.g).toObject(e,this)},e.prototype.clone=function(){var e=a.k.createClass(this.getType());return e.fromJSON(this.toJSON()),e},e.prototype.getProgressInfo=function(){return h.createProgressInfo()},e.prototype.locStrsChanged=function(){if(this.arraysInfo)for(var t in this.arraysInfo)if((r=this.arraysInfo[t])&&r.isItemValues){var n=this.getPropertyValue(t);n&&e.itemValueLocStrChanged&&e.itemValueLocStrChanged(n)}if(this.localizableStrings)for(var t in this.localizableStrings){var r;(r=this.getLocalizableString(t))&&r.strChanged()}},e.prototype.getPropertyValue=function(e,t){void 0===t&&(t=null);var n=this.getPropertyValueCore(this.propertyHash,e);if(this.IsPropertyEmpty(n)){if(null!=t)return t;var r=a.k.findProperty(this.getType(),e);if(r&&(!r.isCustom||!this.isCreating)){if(!this.IsPropertyEmpty(r.defaultValue)&&!Array.isArray(r.defaultValue))return r.defaultValue;if("boolean"==r.type||"switch"==r.type)return!1;if(r.isCustom&&r.onGetValue)return r.onGetValue(this)}}return n},e.prototype.getPropertyValueCore=function(e,t){return this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(e,t):e[t]},e.prototype.geValueFromHash=function(){return this.propertyHash.value},e.prototype.setPropertyValueCore=function(e,t,n){this.setPropertyValueCoreHandler?this.setPropertyValueCoreHandler(e,t,n):e[t]=n},e.prototype.iteratePropertiesHash=function(e){var t=this,n=[];for(var r in this.propertyHash)n.push(r);n.forEach((function(n){return e(t.propertyHash,n)}))},e.prototype.setPropertyValue=function(e,t){var n=this.getPropertyValue(e);if(n&&Array.isArray(n)){if(this.isTwoValueEquals(n,t))return;var r=this.arraysInfo[e];this.setArray(e,n,t,!!r&&r.isItemValues,r?r.onPush:null)}else this.setPropertyValueCore(this.propertyHash,e,t),this.isTwoValueEquals(n,t)||this.propertyValueChanged(e,n,t)},e.prototype.clearPropertyValue=function(e){this.setPropertyValueCore(this.propertyHash,e,null),delete this.propertyHash[e]},e.prototype.onPropertyValueChangedCallback=function(e,t,n,r,o){},e.prototype.itemValuePropertyChanged=function(e,t,n,r){this.onItemValuePropertyChanged.fire(this,{obj:e,name:t,oldValue:n,newValue:r,propertyName:e.ownerPropertyName})},e.prototype.onPropertyValueChanged=function(e,t,n){},e.prototype.propertyValueChanged=function(e,t,n,r,o){if(!this.isLoadingFromJson&&(this.updateBindings(e,n),this.onPropertyValueChanged(e,t,n),this.onPropertyChanged.fire(this,{name:e,oldValue:t,newValue:n}),this.doPropertyValueChangedCallback(e,t,n,r,this),this.onPropChangeFunctions))for(var i=0;i<this.onPropChangeFunctions.length;i++)this.onPropChangeFunctions[i].name==e&&this.onPropChangeFunctions[i].func(n)},Object.defineProperty(e.prototype,"isInternal",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.doPropertyValueChangedCallback=function(e,t,n,r,o){if(!this.isInternal){o||(o=this);var i=this.getSurvey();i||(i=this),i.doPropertyValueChangedCallback&&i.onPropertyValueChangedCallback(e,t,n,o,r)}},e.prototype.registerFunctionOnPropertyValueChanged=function(e,t,n){if(void 0===n&&(n=null),this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),n)for(var r=0;r<this.onPropChangeFunctions.length;r++){var o=this.onPropChangeFunctions[r];if(o.name==e&&o.key==n)return void(o.func=t)}this.onPropChangeFunctions.push({name:e,func:t,key:n})},e.prototype.registerFunctionOnPropertiesValueChanged=function(e,t,n){void 0===n&&(n=null);for(var r=0;r<e.length;r++)this.registerFunctionOnPropertyValueChanged(e[r],t,n)},e.prototype.unRegisterFunctionOnPropertyValueChanged=function(e,t){if(void 0===t&&(t=null),this.onPropChangeFunctions)for(var n=0;n<this.onPropChangeFunctions.length;n++){var r=this.onPropChangeFunctions[n];if(r.name==e&&r.key==t)return void this.onPropChangeFunctions.splice(n,1)}},e.prototype.unRegisterFunctionOnPropertiesValueChanged=function(e,t){void 0===t&&(t=null);for(var n=0;n<e.length;n++)this.unRegisterFunctionOnPropertyValueChanged(e[n],t)},e.prototype.createCustomLocalizableObj=function(e){!this.getLocalizableString(e)&&this.getLocale&&this.createLocalizableString(e,this)},e.prototype.createLocalizableString=function(e,t,n){void 0===n&&(n=!1);var r=new o.a(t,n,e);return this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[e]=r,r},e.prototype.getLocalizableString=function(e){return this.localizableStrings?this.localizableStrings[e]:null},e.prototype.getLocalizableStringText=function(e,t){void 0===t&&(t="");var n=this.getLocalizableString(e);if(!n)return"";var r=n.text;return r||t},e.prototype.setLocalizableStringText=function(e,t){var n=this.getLocalizableString(e);if(n){var r=n.text;r!==t&&(n.text=t,this.propertyValueChanged(e,r,t))}},e.prototype.addUsedLocales=function(e){if(this.localizableStrings)for(var t in this.localizableStrings)(o=this.getLocalizableString(t))&&this.AddLocStringToUsedLocales(o,e);if(this.arraysInfo)for(var t in this.arraysInfo){var n=this.getPropertyValue(t);if(n&&n.length)for(var r=0;r<n.length;r++){var o;(o=n[r])&&o.addUsedLocales&&o.addUsedLocales(e)}}},e.prototype.AddLocStringToUsedLocales=function(e,t){for(var n=e.getLocales(),r=0;r<n.length;r++)t.indexOf(n[r])<0&&t.push(n[r])},e.prototype.createItemValues=function(e){var t=this,n=this.createNewArray(e,(function(n){n.locOwner=t,n.ownerPropertyName=e}));return this.arraysInfo[e].isItemValues=!0,n},e.prototype.notifyArrayChanged=function(e,t){e.onArrayChanged&&e.onArrayChanged(t)},e.prototype.createNewArrayCore=function(e){var t=null;return this.createArrayCoreHandler&&(t=this.createArrayCoreHandler(this.propertyHash,e)),t||(t=new Array,this.setPropertyValueCore(this.propertyHash,e,t)),t},e.prototype.ensureArray=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),!this.arraysInfo||!this.arraysInfo[e])return this.createNewArray(e,t,n)},e.prototype.createNewArray=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=null);var i=this.createNewArrayCore(e);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[e]={onPush:t,isItemValues:!1};var a=this;return i.push=function(n){var r=Object.getPrototypeOf(i).push.call(i,n);t&&t(n,i.length-1);var o=new p(i.length-1,0,[n],[]);return a.propertyValueChanged(e,i,i,o),a.notifyArrayChanged(i,o),r},i.unshift=function(n){var r=Object.getPrototypeOf(i).unshift.call(i,n);t&&t(n,i.length-1);var o=new p(0,0,[n],[]);return a.propertyValueChanged(e,i,i,o),a.notifyArrayChanged(i,o),r},i.pop=function(){var t=Object.getPrototypeOf(i).pop.call(i);o&&o(t);var n=new p(i.length-1,1,[],[]);return a.propertyValueChanged(e,i,i,n),a.notifyArrayChanged(i,n),t},i.splice=function(s,u){for(var l,c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];s||(s=0),u||(u=0);var h=(l=Object.getPrototypeOf(i).splice).call.apply(l,n.i(r.e)([i,s,u],c));if(c||(c=[]),o&&h)for(var f=0;f<h.length;f++)o(h[f]);if(t)for(f=0;f<c.length;f++)t(c[f],s+f);var m=new p(s,u,c,h);return a.propertyValueChanged(e,i,i,m),a.notifyArrayChanged(i,m),h},i},e.prototype.getItemValueType=function(){},e.prototype.setArray=function(t,n,r,o,i){var a=[].concat(n);if(Object.getPrototypeOf(n).splice.call(n,0,n.length),r)for(var s=0;s<r.length;s++){var u=r[s];o&&e.createItemValue&&(u=e.createItemValue(u,this.getItemValueType())),Object.getPrototypeOf(n).push.call(n,u),i&&i(n[s])}var l=new p(0,a.length,n,a);this.propertyValueChanged(t,a,n,l),this.notifyArrayChanged(n,l)},e.prototype.isTwoValueEquals=function(e,t,n){return void 0===n&&(n=!1),n&&(e=this.getValueInLowCase(e),t=this.getValueInLowCase(t)),i.a.isTwoValueEquals(e,t)},e.copyObject=function(e,t){for(var n in t){var r=t[n];"object"==typeof r&&(r={},this.copyObject(r,t[n])),e[n]=r}},e.prototype.copyCssClasses=function(e,t){t&&("string"==typeof t||t instanceof String?e.root=t:h.copyObject(e,t))},e.prototype.getValueInLowCase=function(e){return e&&"string"==typeof e?e.toLowerCase():e},e}(),p=function(e,t,n,r){this.index=e,this.deleteCount=t,this.itemsToAdd=n,this.deletedItems=r},d=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.text=e,this.errorOwner=t,this.visible=!0}return Object.defineProperty(e.prototype,"locText",{get:function(){return this.locTextValue||(this.locTextValue=new o.a(this.errorOwner,!0),this.locTextValue.text=this.getText()),this.locTextValue},enumerable:!1,configurable:!0}),e.prototype.getText=function(){var e=this.text;return e||(e=this.getDefaultText()),this.errorOwner&&(e=this.errorOwner.getErrorCustomText(e,this)),e},e.prototype.getErrorType=function(){return"base"},e.prototype.getDefaultText=function(){return""},e}(),h=function(e){function t(n){var r=e.call(this)||this;r.titleActions=[],r.selectedElementInDesignValue=r,r.disableDesignActions=t.CreateDisabledDesignElements,r.isContentElement=!1,r.name=n,r.createNewArray("errors");var o=r;return r.registerFunctionOnPropertyValueChanged("isReadOnly",(function(){o.onReadOnlyChanged()})),r.registerFunctionOnPropertyValueChanged("state",(function(){o.stateChangedCallback&&o.stateChangedCallback()})),r}return n.i(r.a)(t,e),t.createProgressInfo=function(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}},t.getProgressInfoByElements=function(e,n){for(var r=t.createProgressInfo(),o=0;o<e.length;o++)if(e[o].isVisible){var i=e[o].getProgressInfo();r.questionCount+=i.questionCount,r.answeredQuestionCount+=i.answeredQuestionCount,r.requiredQuestionCount+=i.requiredQuestionCount,r.requiredAnsweredQuestionCount+=i.requiredAnsweredQuestionCount}return n&&r.questionCount>0&&(0==r.requiredQuestionCount&&(r.requiredQuestionCount=1),r.answeredQuestionCount>0&&(r.requiredAnsweredQuestionCount=1)),r},t.ScrollElementToTop=function(e){if(!e||"undefined"==typeof document)return!1;var t=document.getElementById(e);if(!t||!t.scrollIntoView)return!1;var n=t.getBoundingClientRect().top;return n<0&&t.scrollIntoView(),n<0},t.GetFirstNonTextElement=function(e,t){if(void 0===t&&(t=!1),!e||!e.length||0==e.length)return null;if(t){var n=e[0];"#text"===n.nodeName&&(n.data=""),"#text"===(n=e[e.length-1]).nodeName&&(n.data="")}for(var r=0;r<e.length;r++)if("#text"!=e[r].nodeName&&"#comment"!=e[r].nodeName)return e[r];return null},t.FocusElement=function(e){if(!e||"undefined"==typeof document)return!1;var t=document.getElementById(e);return!!t&&(t.focus(),!0)},Object.defineProperty(t.prototype,"state",{get:function(){return this.getPropertyValue("state")},set:function(e){this.setPropertyValue("state",e),this.notifyStateChanged()},enumerable:!1,configurable:!0}),t.prototype.notifyStateChanged=function(){this.survey&&this.survey.elementContentVisibilityChanged(this)},Object.defineProperty(t.prototype,"isCollapsed",{get:function(){if(!this.isDesignMode)return"collapsed"==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isExpanded",{get:function(){return"expanded"==this.state},enumerable:!1,configurable:!0}),t.prototype.collapse=function(){this.isDesignMode||(this.state="collapsed")},t.prototype.expand=function(){this.state="expanded"},t.prototype.toggleState=function(){this.isCollapsed?this.expand():this.isExpanded&&this.collapse()},t.prototype.getTitleActions=function(){var e=this;this.titleActions=[];var t={title:"",action:function(){e.toggleState()}};return Object.defineProperties(t,{innerCss:{get:function(){var t="sv-expand-action";return e.isExpanded&&(t+=" sv-expand-action--expanded"),t}},visible:{get:function(){return e.isExpanded||e.isCollapsed}}}),this.titleActions.push(t),this.titleActions},t.prototype.getTitleComponentName=function(){var e="default";return this.survey.renderTitleActions(this)&&(e=u.a.Instance.getRenderer("element","title-actions")),"default"==e?"sv-default-title":e},t.prototype.setSurveyImpl=function(e){this.surveyImplValue=e,this.surveyImplValue&&(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.surveyValue=this.surveyImplValue.getSurvey(),this.textProcessorValue=this.surveyImplValue.getTextProcessor(),this.onSetData())},Object.defineProperty(t.prototype,"surveyImpl",{get:function(){return this.surveyImplValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.surveyDataValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),t.prototype.getSurvey=function(){return this.surveyValue||this.surveyImplValue&&(this.surveyValue=this.surveyImplValue.getSurvey()),this.surveyValue},Object.defineProperty(t.prototype,"isDesignMode",{get:function(){return!!this.survey&&this.survey.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInternal",{get:function(){return this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"areInvisibleElementsShowing",{get:function(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.getPropertyValue("readOnly",!1)},set:function(e){this.readOnly!=e&&(this.setPropertyValue("readOnly",e),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))},enumerable:!1,configurable:!0}),t.prototype.onReadOnlyChanged=function(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()},t.prototype.updateElementCss=function(){},t.prototype.getIsLoadingFromJson=function(){return!!e.prototype.getIsLoadingFromJson.call(this)||!!this.survey&&this.survey.isLoadingFromJson},Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(e){var t=this.name;this.setPropertyValue("name",this.getValidName(e)),!this.isLoadingFromJson&&t&&this.onNameChanged(t)},enumerable:!1,configurable:!0}),t.prototype.getValidName=function(e){return e},t.prototype.onNameChanged=function(e){},t.prototype.updateBindingValue=function(e,t){this.data&&!i.a.isTwoValueEquals(t,this.data.getValue(e))&&this.data.setValue(e,t,!1)},Object.defineProperty(t.prototype,"errors",{get:function(){return this.getPropertyValue("errors")},set:function(e){this.setPropertyValue("errors",e)},enumerable:!1,configurable:!0}),t.prototype.updateVisibleErrors=function(){for(var e=0,t=0;t<this.errors.length;t++)this.errors[t].visible&&e++;this.hasVisibleErrors=e>0},Object.defineProperty(t.prototype,"containsErrors",{get:function(){return this.getPropertyValue("containsErrors",!1)},enumerable:!1,configurable:!0}),t.prototype.updateContainsErrors=function(){this.setPropertyValue("containsErrors",this.getContainsErrors())},t.prototype.getContainsErrors=function(){return this.errors.length>0},t.prototype.getElementsInDesign=function(e){return void 0===e&&(e=!1),[]},Object.defineProperty(t.prototype,"selectedElementInDesign",{get:function(){return this.selectedElementInDesignValue},set:function(e){this.selectedElementInDesignValue=e},enumerable:!1,configurable:!0}),t.prototype.updateCustomWidgets=function(){},t.prototype.onSurveyLoad=function(){},t.prototype.onFirstRendering=function(){},t.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),this.survey||this.onSurveyLoad()},t.prototype.setVisibleIndex=function(e){return 0},Object.defineProperty(t.prototype,"isPage",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.delete=function(){},t.prototype.removeSelfFromList=function(e){if(e&&Array.isArray(e)){var t=e.indexOf(this);t>-1&&e.splice(t,1)}},Object.defineProperty(t.prototype,"textProcessor",{get:function(){return this.textProcessorValue},enumerable:!1,configurable:!0}),t.prototype.getProcessedHtml=function(e){return e&&this.textProcessor?this.textProcessor.processText(e,!0):e},t.prototype.onSetData=function(){},t.prototype.getPage=function(e){for(;e&&e.parent;)e=e.parent;return e&&"page"==e.getType()?e:null},t.prototype.moveToBase=function(e,t,n){if(void 0===n&&(n=null),!t)return!1;e.removeElement(this);var r=-1;return i.a.isNumber(n)&&(r=parseInt(n)),-1==r&&n&&n.getType&&(r=t.indexOf(n)),t.addElement(this,r),!0},t.prototype.setPage=function(e,t){this.getPage(e)!==t&&(e&&e.removeElement(this),t&&t.addElement(this,-1))},t.CreateDisabledDesignElements=!1,n.i(r.c)([n.i(a.l)({defaultValue:!1})],t.prototype,"hasVisibleErrors",void 0),t}(c),f=function(){function e(){}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return null==this.callbacks||0==this.callbacks.length},enumerable:!1,configurable:!0}),e.prototype.fire=function(e,t){if(null!=this.callbacks)for(var n=0;n<this.callbacks.length;n++)this.callbacks[n](e,t)},e.prototype.clear=function(){this.callbacks=[],this.fireCallbackChanged()},e.prototype.add=function(e){this.hasFunc(e)||(null==this.callbacks&&(this.callbacks=new Array),this.callbacks.push(e),this.fireCallbackChanged())},e.prototype.remove=function(e){if(this.hasFunc(e)){var t=this.callbacks.indexOf(e,0);this.callbacks.splice(t,1),this.fireCallbackChanged()}},e.prototype.hasFunc=function(e){return null!=this.callbacks&&this.callbacks.indexOf(e,0)>-1},e.prototype.fireCallbackChanged=function(){this.onCallbacksChanged&&this.onCallbacksChanged()},e}()},function(e,t,n){"use strict";var r=n(1),o=n(3);n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(){function e(){this.creatorHash={}}return Object.defineProperty(e,"DefaultChoices",{get:function(){return[r.a.getString("choices_Item")+"1",r.a.getString("choices_Item")+"2",r.a.getString("choices_Item")+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DefaultColums",{get:function(){var e=r.a.getString("matrix_column")+" ";return[e+"1",e+"2",e+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DefaultRows",{get:function(){var e=r.a.getString("matrix_row")+" ";return[e+"1",e+"2"]},enumerable:!1,configurable:!0}),e.prototype.registerQuestion=function(e,t){this.creatorHash[e]=t},e.prototype.unregisterElement=function(e){delete this.creatorHash[e]},e.prototype.clear=function(){this.creatorHash={}},e.prototype.getAllTypes=function(){var e=new Array;for(var t in this.creatorHash)e.push(t);return e.sort()},e.prototype.createQuestion=function(e,t){var n=this.creatorHash[e];return null==n?null:n(t)},e.Instance=new e,e}(),a=function(){function e(){this.creatorHash={}}return e.prototype.registerElement=function(e,t){this.creatorHash[e]=t},e.prototype.clear=function(){this.creatorHash={}},e.prototype.unregisterElement=function(e,t){void 0===t&&(t=!1),delete this.creatorHash[e],i.Instance.unregisterElement(e),t&&o.k.removeClass(e)},e.prototype.getAllTypes=function(){var e=i.Instance.getAllTypes();for(var t in this.creatorHash)e.push(t);return e.sort()},e.prototype.createElement=function(e,t){var n=this.creatorHash[e];return null==n?i.Instance.createQuestion(e,t):n(t)},e.Instance=new e,e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){this.creatorHash={}}return e.prototype.registerElement=function(e,t){this.creatorHash[e]=t},e.prototype.getAllTypes=function(){var e=new Array;for(var t in this.creatorHash)e.push(t);return e.sort()},e.prototype.isElementRegisgered=function(e){return!!this.creatorHash[e]},e.prototype.createElement=function(e,t){var n=this.creatorHash[e];return null==n?null:n(t)},e.Instance=new e,e}()},function(e,t,n){"use strict";var r=n(83);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d})),n.d(t,"e",(function(){return r.e})),n.d(t,"f",(function(){return r.f})),n.d(t,"g",(function(){return r.g})),n.d(t,"h",(function(){return r.h})),n.d(t,"i",(function(){return r.i})),n.d(t,"j",(function(){return r.j})),n.d(t,"k",(function(){return r.k})),n.d(t,"l",(function(){return r.l})),n.d(t,"m",(function(){return r.m})),n.d(t,"n",(function(){return r.n})),n.d(t,"o",(function(){return r.o})),n.d(t,"p",(function(){return r.p})),n.d(t,"q",(function(){return r.q})),n.d(t,"r",(function(){return r.r})),n.d(t,"s",(function(){return r.s})),n.d(t,"t",(function(){return r.t})),n.d(t,"u",(function(){return r.u})),n.d(t,"v",(function(){return r.v})),n.d(t,"w",(function(){return r.w})),n.d(t,"x",(function(){return r.x})),n.d(t,"y",(function(){return r.y})),n.d(t,"z",(function(){return r.z})),n.d(t,"A",(function(){return r.A})),n.d(t,"B",(function(){return r.B})),n.d(t,"C",(function(){return r.C})),n.d(t,"D",(function(){return r.D})),n.d(t,"E",(function(){return r.E})),n.d(t,"F",(function(){return r.F})),n.d(t,"G",(function(){return r.G})),n.d(t,"H",(function(){return r.H})),n.d(t,"I",(function(){return r.I})),n.d(t,"J",(function(){return r.J})),n.d(t,"K",(function(){return r.K})),n.d(t,"L",(function(){return r.L})),n.d(t,"M",(function(){return r.M})),n.d(t,"N",(function(){return r.N})),n.d(t,"O",(function(){return r.O})),n.d(t,"P",(function(){return r.P})),n.d(t,"Q",(function(){return r.Q})),n.d(t,"R",(function(){return r.R})),n.d(t,"S",(function(){return r.S})),n.d(t,"T",(function(){return r.T})),n.d(t,"U",(function(){return r.U})),n.d(t,"V",(function(){return r.V})),n.d(t,"W",(function(){return r.W})),n.d(t,"X",(function(){return r.X})),n.d(t,"Y",(function(){return r.Y})),n.d(t,"Z",(function(){return r.Z})),n.d(t,"_0",(function(){return r._0})),n.d(t,"_1",(function(){return r._1})),n.d(t,"_2",(function(){return r._2})),n.d(t,"_3",(function(){return r._3})),n.d(t,"_4",(function(){return r._4})),n.d(t,"_5",(function(){return r._5})),n.d(t,"_6",(function(){return r._6})),n.d(t,"_7",(function(){return r._7})),n.d(t,"_8",(function(){return r._8})),n.d(t,"_9",(function(){return r._9})),n.d(t,"_10",(function(){return r._10})),n.d(t,"_11",(function(){return r._11})),n.d(t,"_12",(function(){return r._12})),n.d(t,"_13",(function(){return r._13})),n.d(t,"_14",(function(){return r._14})),n.d(t,"_15",(function(){return r._15})),n.d(t,"_16",(function(){return r._16})),n.d(t,"_17",(function(){return r._17})),n.d(t,"_18",(function(){return r._18})),n.d(t,"_19",(function(){return r._19})),n.d(t,"_20",(function(){return r._20})),n.d(t,"_21",(function(){return r._21})),n.d(t,"_22",(function(){return r._22})),n.d(t,"_23",(function(){return r._23})),n.d(t,"_24",(function(){return r._24})),n.d(t,"_25",(function(){return r._25})),n.d(t,"_26",(function(){return r._26})),n.d(t,"_27",(function(){return r._27})),n.d(t,"_28",(function(){return r._28})),n.d(t,"_29",(function(){return r._29})),n.d(t,"_30",(function(){return r._30})),n.d(t,"_31",(function(){return r._31})),n.d(t,"_32",(function(){return r._32})),n.d(t,"_33",(function(){return r._33})),n.d(t,"_34",(function(){return r._34})),n.d(t,"_35",(function(){return r._35})),n.d(t,"_36",(function(){return r._36})),n.d(t,"_37",(function(){return r._37})),n.d(t,"_38",(function(){return r._38})),n.d(t,"_39",(function(){return r._39})),n.d(t,"_40",(function(){return r._40})),n.d(t,"_41",(function(){return r._41})),n.d(t,"_42",(function(){return r._42})),n.d(t,"_43",(function(){return r._43})),n.d(t,"_44",(function(){return r._44})),n.d(t,"_45",(function(){return r._45})),n.d(t,"_46",(function(){return r._46})),n.d(t,"_47",(function(){return r._47})),n.d(t,"_48",(function(){return r._48})),n.d(t,"_49",(function(){return r._49})),n.d(t,"_50",(function(){return r._50})),n.d(t,"_51",(function(){return r._51})),n.d(t,"_52",(function(){return r._52})),n.d(t,"_53",(function(){return r._53})),n.d(t,"_54",(function(){return r._54})),n.d(t,"_55",(function(){return r._55})),n.d(t,"_56",(function(){return r._56})),n.d(t,"_57",(function(){return r._57})),n.d(t,"_58",(function(){return r._58})),n.d(t,"_59",(function(){return r._59})),n.d(t,"_60",(function(){return r._60})),n.d(t,"_61",(function(){return r._61})),n.d(t,"_62",(function(){return r._62})),n.d(t,"_63",(function(){return r._63})),n.d(t,"_64",(function(){return r._64})),n.d(t,"_65",(function(){return r._65})),n.d(t,"_66",(function(){return r._66})),n.d(t,"_67",(function(){return r._67})),n.d(t,"_68",(function(){return r._68})),n.d(t,"_69",(function(){return r._69})),n.d(t,"_70",(function(){return r._70})),n.d(t,"_71",(function(){return r._71})),n.d(t,"_72",(function(){return r._72})),n.d(t,"_73",(function(){return r._73})),n.d(t,"_74",(function(){return r._74})),n.d(t,"_75",(function(){return r._75})),n.d(t,"_76",(function(){return r._76})),n.d(t,"_77",(function(){return r._77})),n.d(t,"_78",(function(){return r._78})),n.d(t,"_79",(function(){return r._79})),n.d(t,"_80",(function(){return r._80})),n.d(t,"_81",(function(){return r._81})),n.d(t,"_82",(function(){return r._82})),n.d(t,"_83",(function(){return r._83})),n.d(t,"_84",(function(){return r._84})),n.d(t,"_85",(function(){return r._85})),n.d(t,"_86",(function(){return r._86})),n.d(t,"_87",(function(){return r._87})),n.d(t,"_88",(function(){return r._88})),n.d(t,"_89",(function(){return r._89})),n.d(t,"_90",(function(){return r._90})),n.d(t,"_91",(function(){return r._91})),n.d(t,"_92",(function(){return r._92})),n.d(t,"_93",(function(){return r._93})),n.d(t,"_94",(function(){return r._94}));var o=n(36);n.n(o)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={commentPrefix:"-Comment",webserviceEncodeParameters:!0,useCachingForChoicesRestfull:!0,surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey",itemValueSeparator:"|",defaultLocaleName:"default",matrixDefaultRowName:"default",matrixDefaultCellType:"dropdown",matrixTotalValuePostFix:"-total",matrixMaximumRowCount:1e3,matrixMaxRowCountInCondition:1,panelMaximumPanelCount:100,ratingMaximumRateValueCount:20,disableOnGettingChoicesFromWeb:!1,serializeLocalizableStringAsObject:!1,allowShowEmptyTitleInDesignMode:!0,allowShowEmptyDescriptionInDesignMode:!0,executeCompleteTriggerOnValueChanged:!1,executeSkipTriggerOnValueChanged:!0,readOnlyCommentRenderMode:"textarea",confirmActionFunc:function(e){return confirm(e)},minWidth:"300px",maxWidth:"initial",maximumConditionRunCountOnValueChanged:10,setQuestionVisibleIndexForHiddenTitle:!1,setQuestionVisibleIndexForHiddenNumber:!1,lazyRowsRendering:!1,showItemsInOrder:"default",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"]},minDate:"",maxDate:"",showModal:void 0}},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(3),a=n(7),s=n(1),u=n(13),l=n(35),c=n(16),p=n(14),d=n(46),h=n(11),f=n(34);n.d(t,"a",(function(){return m}));var m=function(e){function t(n){var r=e.call(this,n)||this;r.conditionRunner=null,r.isCustomWidgetRequested=!1,r.customWidgetData={isNeedRender:!0},r.isReadyValue=!0,r.onReadyChanged=new a.b,r.parentQuestionValue=null,r.isRunningValidatorsValue=!1,r.isValueChangedInSurvey=!1,r.allowNotifyValueChanged=!0,r.locOwner=null,r.id=t.getQuestionId(),r.onCreating();var o=r;r.createNewArray("validators",(function(e){e.errorOwner=o}));var i=r.createLocalizableString("title",r,!0);return i.onGetTextCallback=function(e){return e||(e=o.name),o.survey?o.survey.getUpdatedQuestionTitle(o,e):e},r.locProcessedTitle=new c.a(r,!0),r.locProcessedTitle.sharedData=i,r.createLocalizableString("commentText",r,!0).onGetTextCallback=function(e){return e||s.a.getString("otherItemText")},r.createLocalizableString("requiredErrorText",r),r.registerFunctionOnPropertyValueChanged("width",(function(){o.updateElementCss(),o.parent&&o.parent.elementWidthChanged(o)})),r.registerFunctionOnPropertiesValueChanged(["indent","rightIndent"],(function(){o.onIndentChanged()})),r.registerFunctionOnPropertiesValueChanged(["hasComment","hasOther"],(function(){o.initCommentFromSurvey()})),r}return n.i(r.a)(t,e),t.getQuestionId=function(){return"sq_"+t.questionCounter++},t.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&"div"===h.a.readOnlyCommentRenderMode},t.prototype.getSurvey=function(){return this.onGetSurvey?this.onGetSurvey():e.prototype.getSurvey.call(this)},t.prototype.getValueName=function(){return this.valueName?this.valueName.toString():this.name},Object.defineProperty(t.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(e){var t=this.getValueName();this.setPropertyValue("valueName",e),this.onValueNameChanged(t)},enumerable:!1,configurable:!0}),t.prototype.onValueNameChanged=function(e){this.survey&&(this.survey.questionRenamed(this,this.name,e||this.name),this.initDataFromSurvey())},t.prototype.onNameChanged=function(e){this.survey&&this.survey.questionRenamed(this,e,this.valueName?this.valueName:e)},Object.defineProperty(t.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),t.prototype.choicesLoaded=function(){},Object.defineProperty(t.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(e){this.setPage(this.parent,e)},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return null},t.prototype.delete=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},Object.defineProperty(t.prototype,"isFlowLayout",{get:function(){return"flow"===this.getLayoutType()},enumerable:!1,configurable:!0}),t.prototype.getLayoutType=function(){return this.parent?this.parent.getChildrenLayoutType():"row"},t.prototype.isLayoutTypeSupported=function(e){return"flow"!==e},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){e!=this.visible&&(this.setPropertyValue("visible",e),this.onVisibleChanged(),this.notifySurveyVisibilityChanged())},enumerable:!1,configurable:!0}),t.prototype.onVisibleChanged=function(){this.setPropertyValue("isVisible",this.isVisible),this.isVisible&&this.survey&&this.survey.isClearValueOnHidden&&this.updateValueWithDefaults(),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])},Object.defineProperty(t.prototype,"useDisplayValuesInTitle",{get:function(){return this.getPropertyValue("useDisplayValuesInTitle",!0)},set:function(e){this.setPropertyValue("useDisplayValuesInTitle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(e){this.setPropertyValue("visibleIf",e),this.runConditions()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!(this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty())&&(this.visible||this.areInvisibleElementsShowing)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideNumber",{get:function(){return this.getPropertyValue("hideNumber",!1)},set:function(e){this.setPropertyValue("hideNumber",e),this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllowTitleLeft",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"question"},t.prototype.moveTo=function(e,t){return void 0===t&&(t=null),this.moveToBase(this.parent,e,t)},t.prototype.getProgressInfo=function(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:e.prototype.getProgressInfo.call(this)},t.prototype.runConditions=function(){!this.data||this.isLoadingFromJson||this.isDesignMode||(this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.locStrsChanged())},t.prototype.setSurveyImpl=function(t){e.prototype.setSurveyImpl.call(this,t),this.survey&&this.survey.questionCreated(this),this.survey&&this.survey.isDesignMode&&!this.isDesignMode&&this.onVisibleChanged(),this.runConditions()},t.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():null},t.prototype.getDataFilteredProperties=function(){var e=this.data?this.data.getFilteredProperties():{};return e.question=this,e},Object.defineProperty(t.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.parent!==e&&(this.delete(),this.setPropertyValue("parent",e),this.updateElementCss(),this.onParentChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentQuestion",{get:function(){return this.parentQuestionValue},enumerable:!1,configurable:!0}),t.prototype.setParentQuestion=function(e){this.parentQuestionValue=e},t.prototype.onParentChanged=function(){},Object.defineProperty(t.prototype,"hasTitle",{get:function(){return"hidden"!==this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleLocation",{get:function(){return this.getPropertyValue("titleLocation")},set:function(e){var t="hidden"==this.titleLocation||"hidden"==e;this.setPropertyValue("titleLocation",e.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(),t&&this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),t.prototype.notifySurveyVisibilityChanged=function(){this.survey&&!this.isLoadingFromJson&&(this.survey.questionVisibilityChanged(this,this.isVisible),this.survey.isClearValueOnHidden&&!this.visible&&this.clearValue())},t.prototype.getTitleLocation=function(){if(this.isFlowLayout)return"hidden";var e=this.getTitleLocationCore();return"left"!==e||this.isAllowTitleLeft||(e="top"),e},t.prototype.getTitleLocationCore=function(){return"default"!==this.titleLocation?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},Object.defineProperty(t.prototype,"hasTitleOnLeft",{get:function(){return this.hasTitle&&"left"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnTop",{get:function(){return this.hasTitle&&"top"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnBottom",{get:function(){return this.hasTitle&&"bottom"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnLeftTop",{get:function(){if(!this.hasTitle)return!1;var e=this.getTitleLocation();return"left"===e||"top"===e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errorLocation",{get:function(){return this.survey?this.survey.questionErrorLocation:"top"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasInput",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return this.hasInput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputId",{get:function(){return this.id+"i"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getLocalizableStringText("title",this.name)},set:function(e){this.setLocalizableStringText("title",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"descriptionLocation",{get:function(){return this.getPropertyValue("descriptionLocation")},set:function(e){this.setPropertyValue("descriptionLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasDescriptionUnderTitle",{get:function(){return"underTitle"==this.getDescriptionLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasDescriptionUnderInput",{get:function(){return"underInput"==this.getDescriptionLocation()},enumerable:!1,configurable:!0}),t.prototype.getDescriptionLocation=function(){return"default"!==this.descriptionLocation?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"},Object.defineProperty(t.prototype,"clickTitleFunction",{get:function(){if(this.hasInput){var e=this;return function(){return e.focus(),!0}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(e){this.setLocalizableStringText("requiredErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentText",{get:function(){return this.getLocalizableStringText("commentText",s.a.getString("otherItemText"))},set:function(e){this.setLocalizableStringText("commentText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCommentText",{get:function(){return this.getLocalizableString("commentText")},enumerable:!1,configurable:!0}),t.prototype.getAllErrors=function(){return this.errors.slice()},t.prototype.getErrorByType=function(e){for(var t=0;t<this.errors.length;t++)if(this.errors[t].getErrorType()===e)return this.errors[t];return null},Object.defineProperty(t.prototype,"customWidget",{get:function(){return this.isCustomWidgetRequested||this.customWidgetValue||(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue},enumerable:!1,configurable:!0}),t.prototype.updateCustomWidget=function(){this.customWidgetValue=d.b.Instance.getCustomWidget(this)},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.afterRenderQuestionElement=function(e){this.survey&&this.hasSingleInput&&this.survey.afterRenderQuestionInput(this,e)},t.prototype.afterRender=function(e){this.survey&&(this.survey.afterRenderQuestion(this,e),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,e))},t.prototype.beforeDestroyQuestionElement=function(e){},Object.defineProperty(t.prototype,"processedTitle",{get:function(){var e=this.locProcessedTitle.textOrHtml;return e||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&"requireNumTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&"numRequireTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&"numTitleRequire"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine",!0)},set:function(e){this.startWithNewLine!=e&&this.setPropertyValue("startWithNewLine",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssClasses",{get:function(){var e=this.css,t={error:{}};return this.copyCssClasses(t,e.question),this.copyCssClasses(t.error,e.error),this.updateCssClasses(t,e),this.survey&&this.survey.updateQuestionCssClasses(this,t),this.updateElementCssCore(t),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRoot",{get:function(){return this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),t.prototype.setCssRoot=function(e){this.setPropertyValue("cssRoot",e)},t.prototype.getCssRoot=function(e){var t=this.isFlowLayout&&!this.isDesignMode?e.flowRoot:e.mainRoot;return t||(t=""),!this.isFlowLayout&&this.hasTitleOnLeft&&e.titleLeftRoot&&(t+=" "+e.titleLeftRoot),this.errors.length>0&&e.hasError&&(t+=" "+e.hasError),e.small&&!this.width&&(t+=" "+e.small),t},Object.defineProperty(t.prototype,"cssHeader",{get:function(){return this.getPropertyValue("cssHeader","")},enumerable:!1,configurable:!0}),t.prototype.setCssHeader=function(e){this.setPropertyValue("cssHeader",e)},t.prototype.getCssHeader=function(e){var t=e.header||"";return this.hasTitleOnTop&&e.headerTop&&(t+=" "+e.headerTop),this.hasTitleOnLeft&&e.headerLeft&&(t+=" "+e.headerLeft),this.hasTitleOnBottom&&e.headerBottom&&(t+=" "+e.headerBottom),t},Object.defineProperty(t.prototype,"cssContent",{get:function(){return this.getPropertyValue("cssContent","")},enumerable:!1,configurable:!0}),t.prototype.setCssContent=function(e){this.setPropertyValue("cssContent",e)},t.prototype.getCssContent=function(e){var t=e.content||"";return this.hasTitleOnLeft&&e.contentLeft&&(t+=" "+e.contentLeft),t},Object.defineProperty(t.prototype,"cssTitle",{get:function(){return this.getPropertyValue("cssTitle","")},enumerable:!1,configurable:!0}),t.prototype.setCssTitle=function(e){this.setPropertyValue("cssTitle",e)},t.prototype.getCssTitle=function(e){var t=e.title;return(this.isCollapsed||this.isExpanded)&&(t+=" "+e.titleExpandable),this.containsErrors?e.titleOnError&&(t+=" "+e.titleOnError):this.isAnswered&&e.titleOnAnswer&&(t+=" "+e.titleOnAnswer),t},Object.defineProperty(t.prototype,"cssError",{get:function(){return this.getPropertyValue("cssError","")},enumerable:!1,configurable:!0}),t.prototype.setCssError=function(e){this.setPropertyValue("cssError",e)},t.prototype.getCssError=function(e){var t=e.error.root||"";return"top"==this.errorLocation?e.error.locationTop&&(t+=" "+e.error.locationTop):"bottom"===this.errorLocation&&e.error.locationBottom&&(t+=" "+e.error.locationBottom),t},t.prototype.updateElementCss=function(){this.isLoadingFromJson||this.updateElementCssCore(this.cssClasses)},t.prototype.updateElementCssCore=function(e){this.setCssRoot(this.getCssRoot(e)),this.setCssHeader(this.getCssHeader(e)),this.setCssContent(this.getCssContent(e)),this.setCssTitle(this.getCssTitle(e)),this.setCssError(this.getCssError(e))},t.prototype.updateCssClasses=function(e,t){if(t.question){this.isRequired&&(t.question.required&&(e.root=(e.root?e.root+" ":"")+n),t.question.titleRequired&&(e.title+=" "+t.question.titleRequired));var n=t[this.getCssType()];if(null!=n)if("string"==typeof n||n instanceof String)e.root=(e.root?e.root+" ":"")+n;else for(var r in n)e[r]=n[r]}},t.prototype.getCssType=function(){return this.getType()},Object.defineProperty(t.prototype,"css",{get:function(){return this.survey?this.survey.getCss():{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(e){this.setPropertyValue("width",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth",h.a.minWidth)},set:function(e){this.setPropertyValue("minWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this.getPropertyValue("maxWidth",h.a.maxWidth)},set:function(e){this.setPropertyValue("maxWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.getPropertyValue("renderWidth","")},set:function(e){this.setPropertyValue("renderWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indent",{get:function(){return this.getPropertyValue("indent",0)},set:function(e){this.setPropertyValue("indent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightIndent",{get:function(){return this.getPropertyValue("rightIndent",0)},set:function(e){this.setPropertyValue("rightIndent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddintLeft","")},set:function(e){this.setPropertyValue("paddintLeft",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight","")},set:function(e){this.setPropertyValue("paddingRight",e)},enumerable:!1,configurable:!0}),t.prototype.onIndentChanged=function(){this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent)},t.prototype.getIndentSize=function(e){return e<1?"":e*this.cssClasses.indent+"px"},t.prototype.focus=function(e){if(void 0===e&&(e=!1),!this.isDesignMode){this.survey&&this.survey.scrollElementToTop(this,this,null,this.id);var t=e?this.getFirstErrorInputElementId():this.getFirstInputElementId();a.d.FocusElement(t)&&this.fireCallback(this.focusCallback)}},t.prototype.fireCallback=function(e){e&&e()},t.prototype.getOthersMaxLength=function(){return this.survey&&this.survey.maxOthersLength>0?this.survey.maxOthersLength:null},t.prototype.onCreating=function(){},t.prototype.getFirstInputElementId=function(){return this.inputId},t.prototype.getFirstErrorInputElementId=function(){return this.getFirstInputElementId()},t.prototype.getProcessedTextValue=function(e){var n=e.name.toLocaleLowerCase();e.isExists=-1!==Object.keys(t.TextPreprocessorValuesMap).indexOf(n)||void 0!==this[e.name],e.value=this[t.TextPreprocessorValuesMap[n]||e.name]},t.prototype.supportComment=function(){return!1},t.prototype.supportOther=function(){return!1},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired",!1)},set:function(e){this.isRequired!=e&&(this.setPropertyValue("isRequired",e),this.isLoadingFromJson||this.locTitle.onChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(e){this.setPropertyValue("requiredIf",e),this.runConditions()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasComment",{get:function(){return this.getPropertyValue("hasComment",!1)},set:function(e){this.supportComment()&&(this.setPropertyValue("hasComment",e),this.hasComment&&(this.hasOther=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaTitleId",{get:function(){return this.id+"_ariaTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasOther",{get:function(){return this.getPropertyValue("hasOther",!1)},set:function(e){this.supportOther()&&this.hasOther!=e&&(this.setPropertyValue("hasOther",e),this.hasOther&&(this.hasComment=!1),this.hasOtherChanged())},enumerable:!1,configurable:!0}),t.prototype.hasOtherChanged=function(){},Object.defineProperty(t.prototype,"requireUpdateCommentValue",{get:function(){return this.hasComment||this.hasOther},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){var e=!!this.parent&&this.parent.isReadOnly,t=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||e||t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(e){this.setPropertyValue("enableIf",e),this.runConditions()},enumerable:!1,configurable:!0}),t.prototype.runCondition=function(e,t){this.isDesignMode||(t||(t={}),t.question=this,this.areInvisibleElementsShowing||this.runVisibleIfCondition(e,t),this.runEnableIfCondition(e,t),this.runRequiredIfCondition(e,t))},t.prototype.runVisibleIfCondition=function(e,t){var n=this;this.visibleIf&&(this.conditionRunner||(this.conditionRunner=new p.a(this.visibleIf)),this.conditionRunner.expression=this.visibleIf,this.conditionRunner.onRunComplete=function(e){n.visible=e},this.conditionRunner.run(e,t))},t.prototype.runEnableIfCondition=function(e,t){var n=this;this.enableIf&&(this.conditionEnabelRunner||(this.conditionEnabelRunner=new p.a(this.enableIf)),this.conditionEnabelRunner.expression=this.enableIf,this.conditionEnabelRunner.onRunComplete=function(e){n.readOnly=!e},this.conditionEnabelRunner.run(e,t))},t.prototype.runRequiredIfCondition=function(e,t){var n=this;this.requiredIf&&(this.conditionRequiredRunner||(this.conditionRequiredRunner=new p.a(this.requiredIf)),this.conditionRequiredRunner.expression=this.requiredIf,this.conditionRequiredRunner.onRunComplete=function(e){n.isRequired=e},this.conditionRequiredRunner.run(e,t))},Object.defineProperty(t.prototype,"no",{get:function(){if(!this.hasTitle||this.hideNumber)return"";var e=o.a.getNumberByIndex(this.visibleIndex,this.getStartIndex());return this.survey&&(e=this.survey.getUpdatedQuestionNo(this,e)),e},enumerable:!1,configurable:!0}),t.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},t.prototype.onSurveyLoad=function(){this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.updateDisplayValue(),this.updateElementCss()},t.prototype.onSetData=function(){e.prototype.onSetData.call(this),this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.updateElementCss()},t.prototype.initDataFromSurvey=function(){this.data&&(this.updateValueFromSurvey(this.data.getValue(this.getValueName())),this.initCommentFromSurvey())},t.prototype.initCommentFromSurvey=function(){this.data&&this.requireUpdateCommentValue?this.updateCommentFromSurvey(this.data.getComment(this.getValueName())):this.updateCommentFromSurvey("")},t.prototype.runExpression=function(e){if(this.survey&&e)return this.survey.runExpression(e)},Object.defineProperty(t.prototype,"questionValue",{get:function(){return this.getPropertyValue("value")},set:function(e){this.setPropertyValue("value",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionComment",{get:function(){return this.getPropertyValue("comment")},set:function(e){this.setPropertyValue("comment",e),this.fireCallback(this.commentChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValueCore()},set:function(e){this.setNewValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueForSurvey",{get:function(){return this.valueToDataCallback?this.valueToDataCallback(this.value):this.value},enumerable:!1,configurable:!0}),t.prototype.clearValue=function(){this.value=null,this.comment=null},t.prototype.unbindValue=function(){this.clearValue()},t.prototype.createValueCopy=function(){return this.getUnbindValue(this.value)},t.prototype.isEditingSurveyElement=function(e){return a.a.isSurveyElement(e)},t.prototype.getUnbindValue=function(e){return this.isEditingSurveyElement(e)?e:o.a.getUnbindValue(e)},t.prototype.canClearValueAsInvisible=function(){return!(this.isVisible&&this.isParentVisible||this.page&&this.page.isStarted||this.survey&&this.valueName&&this.survey.hasVisibleQuestionByValueName(this.valueName))},Object.defineProperty(t.prototype,"isParentVisible",{get:function(){for(var e=this.parent;e;){if(!e.isVisible)return!1;e=e.parent}return!0},enumerable:!1,configurable:!0}),t.prototype.clearValueIfInvisible=function(){this.canClearValueAsInvisible()&&this.clearValue()},Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.updateDisplayValue(),this.getPropertyValue("displayValue","")},enumerable:!1,configurable:!0}),t.prototype.updateDisplayValue=function(){this.isLoadingFromJson||this.setPropertyValue("displayValue",this.getDisplayValue(!0))},t.prototype.getDisplayValue=function(e,t){if(void 0===t&&(t=void 0),this.customWidget){var n=this.customWidget.getDisplayValue(this,t);if(n)return n}return t=null==t?this.createValueCopy():t,o.a.isValueEmpty(t)?"":this.getDisplayValueCore(e,t)},t.prototype.getDisplayValueCore=function(e,t){return t},Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(e){this.isValueExpression(e)?this.defaultValueExpression=e.substr(1):(this.setPropertyValue("defaultValue",this.convertDefaultValue(e)),this.updateValueWithDefaults())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueExpression",{get:function(){return this.getPropertyValue("defaultValueExpression")},set:function(e){this.setPropertyValue("defaultValueExpression",e),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),t.prototype.getPlainData=function(e){var t=this;if(void 0===e&&(e={includeEmpty:!0,includeQuestionTypes:!1}),e.includeEmpty||!this.isEmpty()){var n={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:function(e){return"object"==typeof e?JSON.stringify(e):e}};return!0===e.includeQuestionTypes&&(n.questionType=this.getType()),(e.calculations||[]).forEach((function(e){n[e.propertyName]=t[e.propertyName]})),this.hasComment&&(n.isNode=!0,n.data=[{name:0,isComment:!0,title:"Comment",value:h.a.commentPrefix,displayValue:this.comment,getString:function(e){return"object"==typeof e?JSON.stringify(e):e},isNode:!1}]),n}},Object.defineProperty(t.prototype,"correctAnswer",{get:function(){return this.getPropertyValue("correctAnswer")},set:function(e){this.setPropertyValue("correctAnswer",this.convertDefaultValue(e))},enumerable:!1,configurable:!0}),t.prototype.convertDefaultValue=function(e){return e},Object.defineProperty(t.prototype,"quizQuestionCount",{get:function(){return this.isVisible&&this.hasInput&&!o.a.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"correctAnswerCount",{get:function(){return this.isEmpty()||this.isValueEmpty(this.correctAnswer)?0:this.getCorrectAnswerCount()},enumerable:!1,configurable:!0}),t.prototype.getQuizQuestionCount=function(){return 1},t.prototype.getCorrectAnswerCount=function(){return this.isTwoValueEquals(this.value,this.correctAnswer,!0)?1:0},t.prototype.isAnswerCorrect=function(){return this.correctAnswerCount==this.quizQuestionCount},t.prototype.updateValueWithDefaults=function(){this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||(this.isDesignMode||this.isEmpty())&&(this.isEmpty()&&this.isDefaultValueEmpty()||this.survey&&this.survey.isClearValueOnHidden&&!this.isVisible||this.setDefaultValue())},t.prototype.getQuestionFromArray=function(e,t){return null},t.prototype.getDefaultValue=function(){return this.defaultValue},t.prototype.isDefaultValueEmpty=function(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue)},t.prototype.setDefaultValue=function(){var e=this;this.setValueAndRunExpression(this.defaultValueExpression,this.getUnbindValue(this.defaultValue),(function(t){e.value=t}))},t.prototype.isValueExpression=function(e){return!!e&&"string"==typeof e&&e.length>0&&"="==e[0]},t.prototype.setValueAndRunExpression=function(e,t,n,r,o){var i=this;void 0===r&&(r=null),void 0===o&&(o=null);var a=function(e){e instanceof Date&&(e=e.toISOString().slice(0,10)),n(e)};if(e&&this.data){r||(r=this.data.getFilteredValues()),o||(o=this.data.getFilteredProperties());var s=new p.b(e);s.canRun&&(s.onRunComplete=function(e){null==e&&(e=i.defaultValue),a(e)},s.run(r,o))}else a(t)},Object.defineProperty(t.prototype,"comment",{get:function(){return this.getQuestionComment()},set:function(e){e&&(e=e.toString().trim()),this.comment!=e&&this.setQuestionComment(e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionComment=function(){return this.questionComment},t.prototype.setQuestionComment=function(e){this.setNewComment(e)},t.prototype.isEmpty=function(){return this.isValueEmpty(this.value)},Object.defineProperty(t.prototype,"isAnswered",{get:function(){return this.getPropertyValue("isAnswered")},set:function(e){this.setPropertyValue("isAnswered",e)},enumerable:!1,configurable:!0}),t.prototype.updateIsAnswered=function(){this.setPropertyValue("isAnswered",this.getIsAnswered())},t.prototype.getIsAnswered=function(){return!this.isEmpty()},Object.defineProperty(t.prototype,"validators",{get:function(){return this.getPropertyValue("validators")},set:function(e){this.setPropertyValue("validators",e)},enumerable:!1,configurable:!0}),t.prototype.getValidators=function(){return this.validators},t.prototype.getSupportedValidators=function(){for(var e=[],t=this.getType();t;){var n=h.a.supportedValidators[t];if(n)for(var r=n.length-1;r>=0;r--)e.splice(0,0,n[r]);t=i.k.findClass(t).parentName}return e},t.prototype.addSupportedValidators=function(e,t){},t.prototype.addConditionObjectsByContext=function(e,t){e.push({name:this.getValueName(),text:this.processedTitle,question:this})},t.prototype.getConditionJson=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var n=(new i.g).toJsonObject(this);return n.type=this.getType(),n},t.prototype.hasErrors=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=null);var n=this.errors.length>0,r=this.checkForErrors(!!t&&!0===t.isOnValueChanged);return e&&(this.survey&&this.survey.beforeSettingQuestionErrors(this,r),this.errors=r),this.updateContainsErrors(),n!=r.length>0&&this.updateElementCss(),this.isCollapsed&&t&&e&&r.length>0&&this.expand(),this.updateVisibleErrors(),r.length>0},Object.defineProperty(t.prototype,"currentErrorCount",{get:function(){return this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredText",{get:function(){return null!=this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),t.prototype.addError=function(e){if(e){var t=null;t="string"==typeof e||e instanceof String?new u.a(e,this.survey):e,this.errors.push(t)}},t.prototype.removeError=function(e){var t=this.errors,n=t.indexOf(e);-1!==n&&t.splice(n,1)},t.prototype.checkForErrors=function(e){var t=new Array;return this.isVisible&&!this.isReadOnly&&this.collectErrors(t,e),t},t.prototype.collectErrors=function(e,t){if(this.onCheckForErrors(e,t),!(e.length>0)&&this.canRunValidators(t)){var n=this.runValidators();if(n.length>0){e.length=0;for(var r=0;r<n.length;r++)e.push(n[r])}if(this.survey&&0==e.length){var o=this.fireSurveyValidation();o&&e.push(o)}}},t.prototype.canRunValidators=function(e){return!0},t.prototype.fireSurveyValidation=function(){return this.validateValueCallback?this.validateValueCallback():this.survey?this.survey.validateQuestion(this):null},t.prototype.onCheckForErrors=function(e,t){!t&&this.hasRequiredError()&&e.push(new u.b(this.requiredErrorText,this))},t.prototype.hasRequiredError=function(){return this.isRequired&&this.isEmpty()},Object.defineProperty(t.prototype,"isRunningValidators",{get:function(){return this.getIsRunningValidators()},enumerable:!1,configurable:!0}),t.prototype.getIsRunningValidators=function(){return this.isRunningValidatorsValue},t.prototype.runValidators=function(){var e=this;return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new l.i,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=function(t){e.doOnAsyncCompleted(t)},this.validatorRunner.run(this)},t.prototype.doOnAsyncCompleted=function(e){for(var t=0;t<e.length;t++)this.errors.push(e[t]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()},t.prototype.raiseOnCompletedAsyncValidators=function(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)},t.prototype.setNewValue=function(e){var t=this.isAnswered;this.setNewValueInData(e),this.allowNotifyValueChanged&&this.onValueChanged(),this.isAnswered!=t&&this.updateElementCss()},t.prototype.isTextValue=function(){return!1},Object.defineProperty(t.prototype,"isSurveyInputTextUpdate",{get:function(){return!!this.survey&&this.survey.isUpdateValueTextOnTyping},enumerable:!1,configurable:!0}),t.prototype.getDataLocNotification=function(){return!!this.isInputTextUpdate&&"text"},Object.defineProperty(t.prototype,"isInputTextUpdate",{get:function(){return this.isSurveyInputTextUpdate&&this.isTextValue()},enumerable:!1,configurable:!0}),t.prototype.setNewValueInData=function(e){e=this.valueToData(e),this.isValueChangedInSurvey||this.setValueCore(e)},t.prototype.getValueCore=function(){return this.questionValue},t.prototype.setValueCore=function(e){this.setQuestionValue(e),null!=this.data&&this.canSetValueToSurvey()&&(e=this.valueForSurvey,this.data.setValue(this.getValueName(),e,this.getDataLocNotification(),this.allowNotifyValueChanged))},t.prototype.canSetValueToSurvey=function(){return!0},t.prototype.valueFromData=function(e){return e},t.prototype.valueToData=function(e){return e},t.prototype.onValueChanged=function(){},t.prototype.setNewComment=function(e){this.questionComment=e,null!=this.data&&this.data.setComment(this.getValueName(),e,!!this.isSurveyInputTextUpdate&&"text")},t.prototype.getValidName=function(e){return e?e.trim().replace(/[\{\}]+/g,""):e},t.prototype.updateValueFromSurvey=function(e){e=this.getUnbindValue(e),this.valueFromDataCallback&&(e=this.valueFromDataCallback(e)),this.setQuestionValue(this.valueFromData(e))},t.prototype.updateCommentFromSurvey=function(e){this.questionComment=e},t.prototype.setQuestionValue=function(e,t){void 0===t&&(t=!0),this.questionValue=e,this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),t&&this.updateIsAnswered()},t.prototype.onSurveyValueChanged=function(e){this.isLoadingFromJson||this.updateDisplayValue()},t.prototype.setVisibleIndex=function(e){return(!this.isVisible||!this.hasTitle&&!h.a.setQuestionVisibleIndexForHiddenTitle||this.hideNumber&&!h.a.setQuestionVisibleIndexForHiddenNumber)&&(e=-1),this.setPropertyValue("visibleIndex",e),e<0?0:1},t.prototype.removeElement=function(e){return!1},t.prototype.supportGoNextPageAutomatic=function(){return!1},t.prototype.supportGoNextPageError=function(){return!0},t.prototype.clearIncorrectValues=function(){},t.prototype.clearOnDeletingContainer=function(){},t.prototype.clearErrors=function(){this.errors=[]},t.prototype.clearUnusedValues=function(){},t.prototype.onAnyValueChanged=function(e){},t.prototype.checkBindings=function(e,t){if(!this.bindings.isEmpty()&&this.data)for(var n=this.bindings.getPropertiesByValueName(e),r=0;r<n.length;r++)this[n[r]]=t},t.prototype.getLocale=function(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,t){return this.survey?this.survey.getSurveyMarkdownHtml(this,e,t):this.locOwner?this.locOwner.getMarkdownHtml(e,t):null},t.prototype.getRenderer=function(e){return this.survey&&"function"==typeof this.survey.getRendererForString?this.survey.getRendererForString(this,e):this.locOwner&&"function"==typeof this.locOwner.getRenderer?this.locOwner.getRenderer(e):null},t.prototype.getProcessedText=function(e){return this.textProcessor?this.textProcessor.processText(e,this.useDisplayValuesInTitle):this.locOwner?this.locOwner.getProcessedText(e):e},t.prototype.getComponentName=function(){return f.a.Instance.getRendererByQuestion(this)},t.prototype.getTitleActions=function(){var t=e.prototype.getTitleActions.call(this);return this.titleActions=this.survey.getUpdatedQuestionTitleActions(this,t),this.titleActions},t.prototype.isDefaultRendering=function(){return!!this.customWidget||"default"===this.renderAs||"default"===this.getComponentName()},t.prototype.getErrorCustomText=function(e,t){return this.survey?this.survey.getErrorCustomText(e,t):e},t.prototype.getValidatorTitle=function(){return null},Object.defineProperty(t.prototype,"validatedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},t.prototype.dispose=function(){},t.TextPreprocessorValuesMap={title:"processedTitle",require:"requiredText"},t.questionCounter=100,n.i(r.c)([n.i(i.l)({localizable:!0})],t.prototype,"description",void 0),n.i(r.c)([n.i(i.l)({defaultValue:"default"})],t.prototype,"renderAs",void 0),t}(a.d);i.k.addClass("question",["!name",{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0},{name:"useDisplayValuesInTitle:boolean",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",default:h.a.minWidth},{name:"maxWidth",default:h.a.maxWidth},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(e){var t=e?e.survey:null;return!t||t.pages.length>1},choices:function(e){var t=e?e.survey:null;return t?t.pages.map((function(e){return{value:e.name,text:e.title}})):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row"},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"hideNumber:boolean",dependsOn:"titleLocation",visibleIf:function(e){if(!e)return!0;if("hidden"===e.titleLocation)return!1;var t=e?e.parent:null;if(t&&"off"===t.showQuestionNumbers)return!1;var n=e?e.survey:null;return!n||"off"!==n.showQuestionNumbers||!!t&&"onpanel"===t.showQuestionNumbers}},"valueName","enableIf:condition","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value","isRequired:switch","requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:switch",{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",visibleIf:function(e){return e.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1}]),i.k.addAlterNativeClassName("question","questionbase")},function(e,t,n){"use strict";var r=n(0),o=n(1),i=n(7);n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"k",(function(){return p})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return v}));var a=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.call(this,t,n)||this;return r.text=t,r}return n.i(r.a)(t,e),t.prototype.getErrorType=function(){return"required"},t.prototype.getDefaultText=function(){return o.a.getString("requiredError")},t}(i.c),s=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.call(this,t,n)||this;return r.text=t,r}return n.i(r.a)(t,e),t.prototype.getErrorType=function(){return"requireoneanswer"},t.prototype.getDefaultText=function(){return o.a.getString("requiredErrorInPanel")},t}(i.c),u=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.call(this,t,n)||this;return r.text=t,r}return n.i(r.a)(t,e),t.prototype.getErrorType=function(){return"requirenumeric"},t.prototype.getDefaultText=function(){return o.a.getString("numericError")},t}(i.c),l=function(e){function t(t,n){void 0===n&&(n=null);var r=e.call(this,null,n)||this;return r.maxSize=t,r.locText.text=r.getText(),r}return n.i(r.a)(t,e),t.prototype.getErrorType=function(){return"exceedsize"},t.prototype.getDefaultText=function(){return o.a.getString("exceedMaxSize").format(this.getTextSize())},t.prototype.getTextSize=function(){if(0===this.maxSize)return"0 Byte";var e=Math.floor(Math.log(this.maxSize)/Math.log(1024));return(this.maxSize/Math.pow(1024,e)).toFixed([0,0,2,3,3][e])+" "+["Bytes","KB","MB","GB","TB"][e]},t}(i.c),c=function(e){function t(t,n,r){void 0===r&&(r=null);var o=e.call(this,null,r)||this;return o.status=t,o.response=n,o}return n.i(r.a)(t,e),t.prototype.getErrorType=function(){return"webrequest"},t.prototype.getDefaultText=function(){return o.a.getString("urlRequestError").format(this.status,this.response)},t}(i.c),p=function(e){function t(t,n){void 0===n&&(n=null);var r=e.call(this,t,n)||this;return r.text=t,r}return n.i(r.a)(t,e),t.prototype.getErrorType=function(){return"webrequestempty"},t.prototype.getDefaultText=function(){return o.a.getString("urlGetChoicesError")},t}(i.c),d=function(e){function t(t,n){void 0===n&&(n=null);var r=e.call(this,t,n)||this;return r.text=t,r}return n.i(r.a)(t,e),t.prototype.getErrorType=function(){return"otherempty"},t.prototype.getDefaultText=function(){return o.a.getString("otherRequiredError")},t}(i.c),h=function(e){function t(t,n){void 0===n&&(n=null);var r=e.call(this,t,n)||this;return r.text=t,r}return n.i(r.a)(t,e),t.prototype.getErrorType=function(){return"uploadingfile"},t.prototype.getDefaultText=function(){return o.a.getString("uploadingFile")},t}(i.c),f=function(e){function t(t,n){void 0===n&&(n=null);var r=e.call(this,t,n)||this;return r.text=t,r}return n.i(r.a)(t,e),t.prototype.getErrorType=function(){return"requiredinallrowserror"},t.prototype.getDefaultText=function(){return o.a.getString("requiredInAllRowsError")},t}(i.c),m=function(e){function t(t,n){void 0===n&&(n=null);var r=e.call(this,null,n)||this;return r.minRowCount=t,r}return n.i(r.a)(t,e),t.prototype.getErrorType=function(){return"minrowcounterror"},t.prototype.getDefaultText=function(){return o.a.getString("minRowCountError").format(this.minRowCount)},t}(i.c),g=function(e){function t(t,n){void 0===n&&(n=null);var r=e.call(this,t,n)||this;return r.text=t,r}return n.i(r.a)(t,e),t.prototype.getErrorType=function(){return"keyduplicationerror"},t.prototype.getDefaultText=function(){return o.a.getString("keyDuplicationError")},t}(i.c),v=function(e){function t(t,n){void 0===n&&(n=null);var r=e.call(this,t,n)||this;return r.text=t,r}return n.i(r.a)(t,e),t.prototype.getErrorType=function(){return"custom"},t}(i.c)},function(e,t,n){"use strict";var r=n(0),o=n(19),i=n(39);n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var a=function(){function e(e){this.processValue=new o.a,this.parser=new i.a,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.expression=e}return Object.defineProperty(e.prototype,"expression",{get:function(){return this.expressionValue},set:function(e){this.expression!==e&&(this.expressionValue=e,this.operand=this.parser.parseExpression(e),this.hasFunctionValue=!!this.canRun()&&this.operand.hasFunction(),this.isAsyncValue=!!this.hasFunction()&&this.operand.hasAsyncFunction())},enumerable:!1,configurable:!0}),e.prototype.getVariables=function(){if(!this.operand)return[];var e=[];return this.operand.setVariables(e),e},e.prototype.hasFunction=function(){return this.hasFunctionValue},Object.defineProperty(e.prototype,"isAsync",{get:function(){return this.isAsyncValue},enumerable:!1,configurable:!0}),e.prototype.canRun=function(){return!!this.operand},e.prototype.runCore=function(e,t){var n=this;if(void 0===t&&(t=null),!this.operand)return null;if(this.processValue.values=e,this.processValue.properties=t,!this.isAsync)return this.runValues();this.asyncFuncList=[],this.operand.addToAsyncList(this.asyncFuncList);for(var r=0;r<this.asyncFuncList.length;r++)this.asyncFuncList[r].onAsyncReady=function(){n.doAsyncFunctionReady()};for(r=0;r<this.asyncFuncList.length;r++)this.asyncFuncList[r].evaluateAsync(this.processValue);return!1},e.prototype.doAsyncFunctionReady=function(){for(var e=0;e<this.asyncFuncList.length;e++)if(!this.asyncFuncList[e].isReady)return;this.runValues()},e.prototype.runValues=function(){var e=this.operand.evaluate(this.processValue);return this.doOnComplete(e),e},e.prototype.doOnComplete=function(e){},e}(),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.i(r.a)(t,e),t.prototype.run=function(e,t){return void 0===t&&(t=null),1==this.runCore(e,t)},t.prototype.doOnComplete=function(e){this.onRunComplete&&this.onRunComplete(1==e)},t}(a),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.i(r.a)(t,e),t.prototype.run=function(e,t){return void 0===t&&(t=null),this.runCore(e,t)},t.prototype.doOnComplete=function(e){this.onRunComplete&&this.onRunComplete(e)},t}(a)},function(e,t,n){"use strict";var r=n(0),o=n(16),i=n(3),a=n(5),s=n(14),u=n(7),l=n(11);n.d(t,"a",(function(){return c}));var c=function(e){function t(t,n,r){void 0===n&&(n=null),void 0===r&&(r="itemvalue");var a=e.call(this)||this;return a.typeName=r,a.ownerPropertyName="",a.isVisibleValue=!0,a.locTextValue=new o.a(null,!0),a.locTextValue.onGetTextCallback=function(e){return e||(a.isValueItemEmpty?null:a.value.toString())},n&&(a.locText.text=n),t&&"object"==typeof t?a.setData(t):a.value=t,"itemvalue"!=a.getType()&&i.n.createProperties(a),a.onCreating(),a}return n.i(r.a)(t,e),Object.defineProperty(t,"Separator",{get:function(){return l.a.itemValueSeparator},set:function(e){l.a.itemValueSeparator=e},enumerable:!1,configurable:!0}),t.createArray=function(e){var n=[];return t.setupArray(n,e),n},t.setupArray=function(e,t){e.push=function(e){var n=Array.prototype.push.call(this,e);return e.locOwner=t,n},e.unshift=function(e){var n=Array.prototype.unshift.call(this,e);return e.locOwner=t,n},e.splice=function(e,o){for(var i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var u=(i=Array.prototype.splice).call.apply(i,n.i(r.e)([this,e,o],a));a||(a=[]);for(var l=0;l<a.length;l++)a[l].locOwner=t;return u}},t.setData=function(e,n){e.length=0;for(var r=0;r<n.length;r++){var o,a=n[r];(o="function"==typeof a.getType?i.k.createClass(a.getType()):new t(null)).setData(a),a.originalItem&&(o.originalItem=a.originalItem),e.push(o)}},t.getData=function(e){for(var t=new Array,n=0;n<e.length;n++)t.push(e[n].getData());return t},t.getItemByValue=function(e,t){for(var n=0;n<e.length;n++)if(a.a.isTwoValueEquals(e[n].value,t))return e[n];return null},t.getTextOrHtmlByValue=function(e,n){var r=t.getItemByValue(e,n);return null!==r?r.locText.textOrHtml:""},t.locStrsChanged=function(e){for(var t=0;t<e.length;t++)e[t].locText.strChanged()},t.runConditionsForItems=function(e,n,r,o,i,a){return void 0===a&&(a=!0),t.runConditionsForItemsCore(e,n,r,o,i,!0,a)},t.runEnabledConditionsForItems=function(e,n,r,o,i){return t.runConditionsForItemsCore(e,null,n,r,o,!1,!0,i)},t.runConditionsForItemsCore=function(e,t,n,r,o,i,a,s){void 0===a&&(a=!0),r||(r={});for(var u=r.item,l=r.choice,c=!1,p=0;p<e.length;p++){var d=e[p];r.item=d.value,r.choice=d.value;var h=!(!a||!d.getConditionRunner)&&d.getConditionRunner(i);h||(h=n);var f=!0;h&&(f=h.run(r,o)),f&&s&&(f=s(d)),t&&f&&t.push(d),f!=(i?d.isVisible:d.isEnabled)&&(c=!0,i?d.setIsVisible&&d.setIsVisible(f):d.setIsEnabled&&d.setIsEnabled(f))}return u?r.item=u:delete r.item,l?r.choice=l:delete r.choice,c},t.prototype.onCreating=function(){},t.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},t.prototype.getSurvey=function(){return this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null},t.prototype.getLocale=function(){return this.locText.locale},Object.defineProperty(t.prototype,"locText",{get:function(){return this.locTextValue},enumerable:!1,configurable:!0}),t.prototype.setLocText=function(e){this.locTextValue=e},Object.defineProperty(t.prototype,"locOwner",{get:function(){return this.locText.owner},set:function(e){this.locText.owner=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.itemValue},set:function(e){var t=this.itemValue;if(this.itemValue=e,this.propertyValueChanged("value",t,this.itemValue),this.itemValue){var n=this.itemValue.toString(),r=n.indexOf(l.a.itemValueSeparator);r>-1?(this.itemValue=n.slice(0,r),this.text=n.slice(r+1)):this.hasText||this.locText.onChanged()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasText",{get:function(){return!!this.locText.pureText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pureText",{get:function(){return this.locText.pureText},set:function(e){this.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.locText.calculatedText},set:function(e){var t=this.locText.text;this.locText.text=e,this.propertyValueChanged("text",t,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculatedText",{get:function(){return this.locText.calculatedText},enumerable:!1,configurable:!0}),t.prototype.getData=function(){var e=this.toJSON();return e.value&&e.value.pos&&delete e.value.pos,1!=Object.keys(e).length||a.a.isValueEmpty(e.value)?e:this.value},t.prototype.toJSON=function(){var e={},t=i.k.getProperties(this.getType());t&&0!=t.length||(t=i.k.getProperties("itemvalue"));for(var n=new i.g,r=0;r<t.length;r++)n.valueToJson(this,e,t[r]);return e},t.prototype.setData=function(e){if(!a.a.isValueEmpty(e))if(void 0!==e.value){var t=e;"function"==typeof e.toJSON&&(t=e.toJSON()),(new i.g).toObject(t,this)}else this.value=e},Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.isVisibleValue},enumerable:!1,configurable:!0}),t.prototype.setIsVisible=function(e){this.isVisibleValue=e},Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.getPropertyValue("isEnabled",!0)},enumerable:!1,configurable:!0}),t.prototype.setIsEnabled=function(e){this.setPropertyValue("isEnabled",e)},t.prototype.addUsedLocales=function(e){this.AddLocStringToUsedLocales(this.locTextValue,e)},t.prototype.onPropertyValueChanged=function(e,t,n){this.locOwner&&this.locOwner.itemValuePropertyChanged&&this.locOwner.itemValuePropertyChanged(this,e,t,n)},t.prototype.getConditionRunner=function(e){return e?this.getVisibleConditionRunner():this.getEnableConditionRunner()},t.prototype.getVisibleConditionRunner=function(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new s.a(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null},t.prototype.getEnableConditionRunner=function(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new s.a(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null},Object.defineProperty(t.prototype,"isValueItemEmpty",{get:function(){return!this.itemValue&&0!==this.itemValue&&!1!==this.itemValue},enumerable:!1,configurable:!0}),t}(u.a);u.a.createItemValue=function(e,t){var n=null;return(n=t?i.g.metaData.createClass(t,{}):"function"==typeof e.getType?new c(null,void 0,e.getType()):new c(null)).setData(e),n},u.a.itemValueLocStrChanged=function(e){c.locStrsChanged(e)},i.h.getItemValuesDefaultValue=function(e){var t=new Array;return c.setData(t,e||[]),t},i.k.addClass("itemvalue",["!value",{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",showMode:"form"},{name:"enableIf:condition",showMode:"form"}],(function(e){return new c(e)}))},function(e,t,n){"use strict";var r=n(5),o=n(1),i=n(11);n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var a=function(){function e(e,t,n){void 0===t&&(t=!1),this.owner=e,this.useMarkdown=t,this.name=n,this.values={},this.htmlValues={},this.onCreating()}return Object.defineProperty(e,"defaultLocale",{get:function(){return i.a.defaultLocaleName},set:function(e){i.a.defaultLocaleName=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),e.prototype.strChanged=function(){void 0!==this.renderedText&&(this.calculatedTextValue=this.calText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0,this.onChanged()))},Object.defineProperty(e.prototype,"text",{get:function(){return this.pureText},set:function(e){this.setLocaleText(this.locale,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"calculatedText",{get:function(){return this.renderedText=void 0!==this.calculatedTextValue?this.calculatedTextValue:this.calText(),this.calculatedTextValue=void 0,this.renderedText},enumerable:!1,configurable:!0}),e.prototype.calText=function(){var e=this.pureText;return e&&this.owner&&this.owner.getProcessedText&&e.indexOf("{")>-1&&(e=this.owner.getProcessedText(e)),this.onGetTextCallback&&(e=this.onGetTextCallback(e)),e},Object.defineProperty(e.prototype,"pureText",{get:function(){var e=this.locale;e||(e=i.a.defaultLocaleName);var t=this.getValue(e);return t||e!=i.a.defaultLocaleName||(t=this.getValue(o.a.defaultLocale)),t||e===i.a.defaultLocaleName||(t=this.getValue(i.a.defaultLocaleName)),t||(t=""),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasHtml",{get:function(){return this.hasHtmlValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"html",{get:function(){return this.hasHtml?this.getHtmlValue():""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0==this.getValuesKeys().length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textOrHtml",{get:function(){return this.hasHtml?this.getHtmlValue():this.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedHtml",{get:function(){return this.textOrHtml},enumerable:!1,configurable:!0}),e.prototype.getLocaleText=function(e){e||(e=i.a.defaultLocaleName);var t=this.getValue(e);return t||""},e.prototype.setLocaleText=function(e,t){t!=this.getLocaleText(e)&&(t&&e&&e!=i.a.defaultLocaleName&&!this.getValue(e)&&t==this.getLocaleText(i.a.defaultLocaleName)||(e||(e=i.a.defaultLocaleName),delete this.htmlValues[e],t?"string"==typeof t&&(e!=i.a.defaultLocaleName&&t==this.getLocaleText(i.a.defaultLocaleName)?this.setLocaleText(e,null):(this.setValue(e,t),e==i.a.defaultLocaleName&&this.deleteValuesEqualsToDefault(t))):this.getValue(e)&&this.deleteValue(e),this.strChanged()))},e.prototype.hasNonDefaultText=function(){var e=this.getValuesKeys();return 0!=e.length&&(e.length>1||e[0]!=i.a.defaultLocaleName)},e.prototype.getLocales=function(){var e=this.getValuesKeys();return 0==e.length?[]:e},e.prototype.getJson=function(){if(this.sharedData)return this.sharedData.getJson();var e=this.getValuesKeys();return 0==e.length?null:1!=e.length||e[0]!=i.a.defaultLocaleName||i.a.serializeLocalizableStringAsObject?this.values:this.values[e[0]]},e.prototype.setJson=function(e){if(this.sharedData)this.sharedData.setJson(e);else if(this.values={},this.htmlValues={},e){if("string"==typeof e)this.setLocaleText(null,e);else for(var t in e)this.setLocaleText(t,e[t]);this.strChanged()}},Object.defineProperty(e.prototype,"renderAs",{get:function(){return this.owner?"function"!=typeof this.owner.getRenderer?e.defaultRenderer:this.owner.getRenderer(this.name)||e.defaultRenderer:e.defaultRenderer},enumerable:!1,configurable:!0}),e.prototype.equals=function(e){return this.sharedData?this.sharedData.equals(e):!(!e||!e.values)&&r.a.isTwoValueEquals(this.values,e.values)},e.prototype.onChanged=function(){this.onStrChanged&&this.onStrChanged()},e.prototype.onCreating=function(){},e.prototype.hasHtmlValue=function(){if(!this.owner||!this.useMarkdown)return!1;var e=this.calculatedText;if(!e)return!1;var t=this.locale;return t||(t=i.a.defaultLocaleName),this.htmlValues[t]=this.owner.getMarkdownHtml(e,this.name),!!this.htmlValues[t]},e.prototype.getHtmlValue=function(){var e=this.locale;return e||(e=i.a.defaultLocaleName),this.htmlValues[e]},e.prototype.deleteValuesEqualsToDefault=function(e){for(var t=this.getValuesKeys(),n=0;n<t.length;n++)t[n]!=i.a.defaultLocaleName&&this.getValue(t[n])==e&&this.deleteValue(t[n])},e.prototype.getValue=function(e){return this.sharedData?this.sharedData.getValue(e):this.values[e]},e.prototype.setValue=function(e,t){this.sharedData?this.sharedData.setValue(e,t):this.values[e]=t},e.prototype.deleteValue=function(e){this.sharedData?this.sharedData.deleteValue(e):delete this.values[e]},e.prototype.getValuesKeys=function(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)},e.SerializeAsObject=!1,e.defaultRenderer="sv-string-viewer",e.editableRenderer="sv-string-editor",e}(),s=function(){function e(e){this.owner=e,this.values={}}return Object.defineProperty(e.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue("")},set:function(e){this.setValue("",e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return Array.isArray(this.value)?this.value.join("\n"):""},set:function(e){this.value=e?e.split("\n"):[]},enumerable:!1,configurable:!0}),e.prototype.getLocaleText=function(e){var t=this.getValueCore(e,!e||e===this.locale);return t&&Array.isArray(t)&&0!=t.length?t.join("\n"):""},e.prototype.setLocaleText=function(e,t){var n=t?t.split("\n"):null;this.setValue(e,n)},e.prototype.getValue=function(e){return this.getValueCore(e)},e.prototype.getValueCore=function(e,t){if(void 0===t&&(t=!0),e=this.getLocale(e),this.values[e])return this.values[e];if(t){var n=i.a.defaultLocaleName;if(e!==n)return this.values[n]}return[]},e.prototype.setValue=function(e,t){e=this.getLocale(e),t&&0!=t.length?this.values[e]=t:delete this.values[e]},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0==this.getValuesKeys().length},enumerable:!1,configurable:!0}),e.prototype.getLocale=function(e){return e||(e=this.locale)||i.a.defaultLocaleName},e.prototype.getLocales=function(){var e=this.getValuesKeys();return 0==e.length?[]:e},e.prototype.getJson=function(){var e=this.getValuesKeys();return 0==e.length?null:1!=e.length||e[0]!=i.a.defaultLocaleName||i.a.serializeLocalizableStringAsObject?this.values:this.values[e[0]]},e.prototype.setJson=function(e){if(this.values={},e)if(Array.isArray(e))this.setValue(null,e);else for(var t in e)this.setValue(t,e[t])},e.prototype.getValuesKeys=function(){return Object.keys(this.values)},e}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r={currentType:"",getCss:function(){var e=this.currentType?this[this.currentType]:o;return e||(e=o),e}},o={root:"sv_main sv_default_css",container:"sv_container",header:"sv_header",body:"sv_body",bodyEmpty:"sv_body sv_body_empty",footer:"sv_nav",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"",completedPage:"sv_completed_page",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"sv_progress",progressBar:"sv_progress_bar",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv_p_root",title:"sv_page_title",description:""},pageTitle:"sv_page_title",pageDescription:"",row:"sv_row",question:{mainRoot:"sv_q sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"sv_q_title",titleExpandable:"sv_q_title_expandable",number:"sv_q_num",description:"sv_q_description",comment:"",required:"",titleRequired:"",hasError:"",indent:20,footer:"sv_q_footer",formGroup:"form-group",asCell:"sv_matrix_cell",icon:"sv_question_icon",iconExpanded:"sv_expanded"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"sv_q_erbox",icon:"",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qcbc sv_qbln",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",materialDecorator:"sv-item__decorator sv-boolean__decorator ",itemDecorator:"sv-item__svg  sv-boolean__svg",checkedPath:"sv-boolean__checked-path",uncheckedPath:"sv-boolean__unchecked-path",indeterminatePath:"sv-boolean__indeterminate-path"},checkbox:{root:"sv_qcbc sv_qcbx",item:"sv_q_checkbox",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemChecked:"checked",itemInline:"sv_q_checkbox_inline",label:"sv_q_checkbox_label",labelChecked:"",itemControl:"sv_q_checkbox_control_item",itemDecorator:"sv-hidden",controlLabel:"sv_q_checkbox_control_label",materialDecorator:"checkbox-material",other:"sv_q_other sv_q_checkbox_other",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemText:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},comment:"",dropdown:{root:"",control:"sv_q_dropdown_control",selectWrapper:"sv_select_wrapper",other:"sv_q_dd_other"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image"},matrix:{root:"sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected",cellLabel:"sv_q_m_cell_label"},matrixdropdown:{root:"sv_q_matrix_dropdown",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel"},matrixdynamic:{root:"sv_q_matrix_dynamic",button:"sv_matrix_dynamic_button",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:""},paneldynamic:{root:"sv_panel_dynamic",title:"sv_p_title",button:"",buttonAdd:"sv-paneldynamic__add-btn",buttonRemove:"",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text"},multipletext:{root:"sv_q_mt",itemTitle:"sv_q_mt_title",row:"sv_q_mt_row",itemValue:"sv_q_mt_item_value sv_q_text_root"},radiogroup:{root:"sv_qcbc",item:"sv_q_radiogroup",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"sv_q_radiogroup_label",labelChecked:"",itemControl:"sv_q_radiogroup_control_item",controlLabel:"",materialDecorator:"circle",other:"sv_q_other sv_q_radiogroup_other",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemInline:"sv_q_imagepicker_inline",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear"},rating:{root:"sv_q_rating",item:"sv_q_rating_item",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",disabled:""},text:"sv_q_text_root",expression:"",file:{root:"sv_q_file",placeholderInput:"sv-visuallyhidden",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv-visuallyhidden",removeFile:"sv_q_file_remove",removeFileSvg:"sv-hidden",fileDecorator:"sv-file__decorator",fileSignBottom:"sv-hidden",removeButtonBottom:"sv-hidden",chooseFile:"sv_q_file_choose_button",noFileChosen:"sv_q_file_placeholder"},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"",error:"",success:"",saveAgainButton:""},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}}};r.standard=o},function(e,t,n){"use strict";var r=n(11);function o(e){return r.a&&r.a.confirmActionFunc?r.a.confirmActionFunc(e):confirm(e)}function i(){if("undefined"==typeof window)return!1;if(void 0===i.isIEOrEdge){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),r=e.indexOf("Edge/");i.isIEOrEdge=r>0||n>0||t>0}return i.isIEOrEdge}function a(e,t){try{for(var n=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(n.length),i=new Uint8Array(o),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);var s=new Blob([o],{type:r});"undefined"!=typeof window&&window.navigator&&window.navigator.msSaveBlob&&window.navigator.msSaveOrOpenBlob(s,t)}catch(e){}}function s(e,t){if(void 0===t&&(t=0),"undefined"==typeof document)return!1;var n=e.getBoundingClientRect(),r=-t,o=Math.max(document.documentElement.clientHeight,window.innerHeight)+t,i=n.top,a=n.bottom;return Math.max(r,i)<=Math.min(o,a)}function u(e){return e?e.scrollHeight>e.clientHeight&&("scroll"===getComputedStyle(e).overflowY||"auto"===getComputedStyle(e).overflowY)?e:u(e.parentElement):document.documentElement}function l(e,t,n,r,o){o.style.width=(e||t||16)+"px",o.style.height=(e||n||16)+"px",o.childNodes[0].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+r)}t.a=function(e){return"function"!=typeof e?e:e()},n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l}))},function(e,t,n){"use strict";var r=n(5);n.d(t,"a",(function(){return o}));var o=function(){function e(){this.values=null,this.properties=null}return e.prototype.getFirstName=function(e,t){if(void 0===t&&(t=null),!e)return e;var n="";if(t&&(n=this.getFirstPropertyName(e,t)))return n;for(var r=0;r<e.length;r++){var o=e[r];if("."==o||"["==o)break;n+=o}return n},e.prototype.hasValue=function(e,t){return void 0===t&&(t=null),t||(t=this.values),this.getValueCore(e,t).hasValue},e.prototype.getValue=function(e,t){return void 0===t&&(t=null),t||(t=this.values),this.getValueCore(e,t).value},e.prototype.setValue=function(e,t,n){if(t){var r=this.getNonNestedObject(e,t,!0);r&&(e=r.value,t=r.text,e&&t&&(e[t]=n))}},e.prototype.getValueInfo=function(e){if(e.path)return e.value=this.getValueFromPath(e.path,this.values),e.hasValue=null!==e.value&&!r.a.isValueEmpty(e.value),void(!e.hasValue&&e.path.length>1&&"length"==e.path[e.path.length-1]&&(e.hasValue=!0,e.value=0));var t=this.getValueCore(e.name,this.values);e.value=t.value,e.hasValue=t.hasValue,e.path=t.hasValue?t.path:null},e.prototype.getValueFromPath=function(e,t){for(var n=0;t&&n<e.length;){var o=e[n];if(r.a.isNumber(o)&&Array.isArray(t)&&o>=t.length)return null;t=t[o],n++}return t},e.prototype.getValueCore=function(e,t){var n={hasValue:!1,value:null,path:null},o=t;if(!o&&0!==o&&!1!==o)return n;e&&e.lastIndexOf(".length")>-1&&e.lastIndexOf(".length")===e.length-".length".length&&(n.value=0,n.hasValue=!0);var i=this.getNonNestedObject(o,e,!1);return i?(n.path=i.path,n.value=i.text?this.getObjectValue(i.value,i.text):i.value,n.hasValue=!r.a.isValueEmpty(n.value),n):n},e.prototype.getNonNestedObject=function(e,t,n){for(var o=this.getFirstPropertyName(t,e,n),i=o?[o]:null;t!=o&&e;){if("["==t[0]){var a=this.getObjInArray(e,t);if(!a)return null;e=a.value,t=a.text,i.push(a.index)}else{if(!o&&t==this.getFirstName(t))return{value:e,text:t,path:i};if(e=this.getObjectValue(e,o),r.a.isValueEmpty(e)&&!n)return null;t=t.substr(o.length)}t&&"."==t[0]&&(t=t.substr(1)),(o=this.getFirstPropertyName(t,e,n))&&i.push(o)}return{value:e,text:t,path:i}},e.prototype.getObjInArray=function(e,t){if(!Array.isArray(e))return null;for(var n=1,r="";n<t.length&&"]"!=t[n];)r+=t[n],n++;return t=n<t.length?t.substr(n+1):"",(n=this.getIntValue(r))<0||n>=e.length?null:{value:e[n],text:t,index:n}},e.prototype.getFirstPropertyName=function(e,t,n){if(void 0===n&&(n=!1),!e)return e;if(t||(t={}),t.hasOwnProperty(e))return e;var r=e.toLowerCase(),o=r[0],i=o.toUpperCase();for(var a in t){var s=a[0];if(s===i||s===o){var u=a.toLowerCase();if(u==r)return a;if(r.length<=u.length)continue;var l=r[u.length];if("."!=l&&"["!=l)continue;if(u==r.substr(0,u.length))return a}}if(n&&"["!==e[0]){var c=e.indexOf(".");return c>-1&&(t[e=e.substr(0,c)]={}),e}return""},e.prototype.getObjectValue=function(e,t){return t?e[t]:null},e.prototype.getIntValue=function(e){return"0"==e||(0|e)>0&&e%1==0?Number(e):-1},e}()},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(10)),a=n(21),s=n(4),u=n(148),l=n(9);n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d}));var c=function(e){function t(t){var n=e.call(this,t)||this;return n.isNeedFocus=!1,n.rootRef=o.createRef(),n}return n.i(r.a)(t,e),t.renderQuestionBody=function(e,t){return t.visible?t.customWidget?o.createElement(u.a,{creator:e,question:t}):e.createQuestionElement(t):null},t.prototype.getStateElement=function(){return this.question},Object.defineProperty(t.prototype,"question",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.question&&(this.question.react=this),this.doAfterRender()},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.question&&(this.question.react=null);var t=this.rootRef.current;t&&t.removeAttribute("data-rendered")},t.prototype.componentDidUpdate=function(t,n){e.prototype.componentDidUpdate.call(this,t,n),this.doAfterRender()},t.prototype.doAfterRender=function(){if(this.isNeedFocus&&(this.question.clickTitleFunction(),this.isNeedFocus=!1),this.question){var e=this.rootRef.current;e&&"r"!==e.getAttribute("data-rendered")&&(e.setAttribute("data-rendered","r"),e.setAttribute("name",this.question.name),this.question.afterRender(e))}},t.prototype.canRender=function(){return e.prototype.canRender.call(this)&&!!this.question&&!!this.creator&&this.question.isVisible},t.prototype.renderElement=function(){var e=this.question,t=e.cssClasses,n=this.renderQuestion(),r=this.renderHeader(e),i=e.hasTitleOnLeftTop?r:null,a=e.hasTitleOnBottom?r:null,s=e.hasDescriptionUnderInput?this.renderDescription(t,!0):null,u=e.cssRoot,l=e&&e.hasComment?this.renderComment(t):null,c="top"===this.creator.questionErrorLocation()?this.renderErrors(t,"top"):null,p="bottom"===this.creator.questionErrorLocation()?this.renderErrors(t,"bottom"):null,d={};e.renderWidth&&(d.width=e.renderWidth,d.flexGrow=1,d.flexShrink=1,d.flexBasis=e.renderWidth,d.minWidth=e.minWidth,d.maxWidth=e.maxWidth),e.paddingLeft&&(d.paddingLeft=e.paddingLeft),e.paddingRight&&(d.paddingRight=e.paddingRight);var h={display:this.question.isCollapsed?"none":"block"};return e.isReadOnly&&(u+=" "+t.disabled),o.createElement("div",{ref:this.rootRef,id:e.id,className:u,style:d,role:e.ariaRole,"aria-labelledby":e.hasTitle?e.ariaTitleId:null},i,o.createElement("div",{className:e.cssContent,style:h},c,n,l,p,s),a)},t.prototype.renderQuestion=function(){return t.renderQuestionBody(this.creator,this.question)},t.prototype.renderTitle=function(e){var t=this,n=l.a.Instance.createElement(this.question.getTitleComponentName(),{element:this.question,cssClasses:this.question.cssClasses});return o.createElement("h5",{className:this.question.cssTitle,"aria-label":this.question.locTitle.renderedHtml,id:this.question.ariaTitleId,onClick:function(){t.question.toggleState()}},n)},t.prototype.renderDescription=function(e,t){void 0===t&&(t=!1);var n=s.a.renderLocString(this.question.locDescription),r=t?e.descriptionUnderInput:e.description;return o.createElement("div",{className:r},n)},t.prototype.renderComment=function(e){var t=this.question.commentText;return o.createElement("div",{className:this.question.cssClasses.formGroup},o.createElement("div",null,t),o.createElement(a.a,{question:this.question,cssClasses:e,otherCss:e.other,isDisplayMode:this.question.isReadOnly}))},t.prototype.renderHeader=function(e){var t=e.cssClasses,n=e.hasTitle?this.renderTitle(t):null,r=e.hasDescriptionUnderTitle?this.renderDescription(t):null;return o.createElement("div",{className:e.cssHeader,onClick:e.clickTitleFunction},n,r)},t.prototype.renderErrors=function(e,t){return o.createElement(p,{element:this.question,cssClasses:e,creator:this.creator,location:t,id:this.question.id+"_errors"})},t}(s.a);l.a.Instance.registerElement("question",(function(e){return o.createElement(c,e)}));var p=function(e){function t(t){var n=e.call(this,t)||this;return n.state=n.getState(),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.props.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){var e=this.props.element;return e instanceof i.v?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"location",{get:function(){return this.props.location},enumerable:!1,configurable:!0}),t.prototype.getState=function(e){return void 0===e&&(e=null),e?{error:e.error+1}:{error:0}},t.prototype.canRender=function(){return!!this.element&&this.element.hasVisibleErrors},t.prototype.renderElement=function(){for(var e=[],t=0;t<this.element.errors.length;t++){var n="error"+t;e.push(this.creator.renderError(n,this.element.errors[t],this.cssClasses))}var r=this.cssClasses.error.root;return"top"===this.location?r+=" "+this.cssClasses.error.locationTop:"bottom"===this.location&&(r+=" "+this.cssClasses.error.locationBottom),o.createElement("div",{role:"alert",className:r,id:this.id},e)},t}(s.d),d=function(e){function t(t){var n=e.call(this,t)||this;return n.cellRef=o.createRef(),n}return n.i(r.a)(t,e),t.prototype.getStateElement=function(){return this.question},Object.defineProperty(t.prototype,"question",{get:function(){return this.getQuestion()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),t.prototype.getQuestion=function(){return this.props.question},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.doAfterRender()},t.prototype.componentWillUnmount=function(){if(e.prototype.componentWillUnmount.call(this),this.question){var t=this.cellRef.current;t&&t.removeAttribute("data-rendered")}},t.prototype.componentDidUpdate=function(t,n){e.prototype.componentDidUpdate.call(this,t,n),this.doAfterRender()},t.prototype.doAfterRender=function(){},t.prototype.getCellClass=function(){return null},t.prototype.canRender=function(){return!!this.question},t.prototype.renderElement=function(){var e=this.creator.questionErrorLocation(),t=this.getShowErrors()?o.createElement(p,{element:this.question,cssClasses:this.cssClasses,creator:this.creator,location:e}):null,n="top"===e?t:null,r="bottom"===e?t:null,i=this.renderQuestion(),a=this.getCellStyle();return o.createElement("td",{ref:this.cellRef,className:this.getCellClass()+" "+this.cssClasses.cell,headers:this.getHeaderText(),style:a},n,i,r)},t.prototype.getShowErrors=function(){return this.question.isVisible},t.prototype.getCellStyle=function(){return null},t.prototype.renderQuestion=function(){return c.renderQuestionBody(this.creator,this.question)},t.prototype.getHeaderText=function(){return""},t}(s.d)},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(6);n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var s=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.renderElement=function(){var e=this,t=this.question.cssClasses,n=this.question.isInputTextUpdate?null:this.updateValueOnEvent,r=this.question.isInputTextUpdate?this.updateValueOnEvent:null,i=this.question.isReadOnly?"":this.question.placeHolder;return this.question.isReadOnlyRenderDiv()?o.createElement("div",null,this.question.value):o.createElement("textarea",{id:this.question.inputId,className:t.root,disabled:this.isDisplayMode,ref:function(t){return e.control=t},maxLength:this.question.getMaxLength(),placeholder:i,onBlur:n,onInput:r,cols:this.question.cols,rows:this.question.rows,"aria-required":this.question.isRequired,"aria-label":this.question.locTitle.renderedHtml,"aria-invalid":this.question.errors.length>0,"aria-describedby":this.question.errors.length>0?this.question.id+"_errors":null})},t}(i.c),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.i(r.a)(t,e),t.prototype.canRender=function(){return!!this.props.question},t.prototype.renderElement=function(){var e=this,t=this.props.question,n=this.props.otherCss||this.cssClasses.comment,r=function(e){t.comment=e.target.value},i=t.isInputTextUpdate?null:r,a=t.isInputTextUpdate?r:null,s=this.state&&void 0!==this.state.comment?this.state.comment:t.comment||"";return t.isReadOnlyRenderDiv()?o.createElement("div",null,s):o.createElement("textarea",{className:n,value:s,disabled:this.isDisplayMode,maxLength:t.getOthersMaxLength(),placeholder:t.otherPlaceHolder,onChange:function(t){e.setState({comment:t.target.value})},onBlur:i,onInput:a,"aria-required":t.isRequired,"aria-label":t.locTitle.renderedHtml})},t}(i.d);a.a.Instance.registerQuestion("comment",(function(e){return o.createElement(s,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(5),a=n(7),s=n(12),u=n(14),l=n(8),c=n(13),p=n(11),d=n(18);n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return g}));var h=function(e,t,n){void 0===n&&(n=-1),this.source=e,this.target=t,this.nestedPanelDepth=n},f=function(e){function t(n){var r=e.call(this)||this;return r.panel=n,r._scrollableParent=void 0,r._updateVisibility=void 0,r.idValue=t.getRowId(),r.isNeedRender=!p.a.lazyRowsRendering,r.visible=n.areInvisibleElementsShowing,r.createNewArray("elements"),r}return n.i(r.a)(t,e),t.getRowId=function(){return"pr_"+t.rowCounter++},t.prototype.startLazyRendering=function(e,t){var r=this;void 0===t&&(t=d.f),this._scrollableParent=t(e),this.isNeedRender=!(this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight),this._scrollableParent===document.documentElement&&(this._scrollableParent=window),this.isNeedRender||(this._updateVisibility=function(){var t=n.i(d.g)(e,50);!r.isNeedRender&&t&&(r.isNeedRender=!0,r.stopLazyRendering())},setTimeout((function(){r._scrollableParent&&r._scrollableParent.addEventListener&&r._scrollableParent.addEventListener("scroll",r._updateVisibility),r.ensureVisibility()}),10))},t.prototype.ensureVisibility=function(){this._updateVisibility&&this._updateVisibility()},t.prototype.stopLazyRendering=function(){this._scrollableParent&&this._updateVisibility&&this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),this._scrollableParent=void 0,this._updateVisibility=void 0},Object.defineProperty(t.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this.getPropertyValue("elements")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){this.setPropertyValue("visible",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNeedRender",{get:function(){return this.getPropertyValue("isneedrender",!0)},set:function(e){this.setPropertyValue("isneedrender",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleElements",{get:function(){return this.elements.filter((function(e){return e.isVisible}))},enumerable:!1,configurable:!0}),t.prototype.updateVisible=function(){this.visible=this.calcVisible(),this.setWidth()},t.prototype.addElement=function(e){this.elements.push(e),this.updateVisible()},Object.defineProperty(t.prototype,"index",{get:function(){return this.panel.rows.indexOf(this)},enumerable:!1,configurable:!0}),t.prototype.setWidth=function(){var e=this.visibleElements.length;if(0!=e){for(var t=0,n=[],r=0;r<this.elements.length;r++){var o=this.elements[r];if(this.setElementMaxMinWidth(o),o.isVisible){var i=this.getElementWidth(o);i&&(o.renderWidth=this.getRenderedWidthFromWidth(i),n.push(o)),o.rightIndent=t<e-1?1:0,t++}else o.renderWidth=""}for(r=0;r<this.elements.length;r++)!(o=this.elements[r]).isVisible||n.indexOf(o)>-1||(0==n.length?o.renderWidth=(100/e).toFixed(6)+"%":o.renderWidth=this.getRenderedCalcWidth(o,n,e))}},t.prototype.setElementMaxMinWidth=function(e){e.width&&"string"==typeof e.width&&-1===e.width.indexOf("%")&&(e.minWidth=e.width,e.maxWidth=e.width)},t.prototype.getRenderedCalcWidth=function(e,t,n){for(var r="100%",o=0;o<t.length;o++)r+=" - "+t[o].renderWidth;var i=n-t.length;return i>1&&(r="("+r+")/"+i.toString()),"calc("+r+")"},t.prototype.getElementWidth=function(e){var t=e.width;return t&&"string"==typeof t?t.trim():""},t.prototype.getRenderedWidthFromWidth=function(e){return i.a.isNumber(e)?e+"px":e},t.prototype.calcVisible=function(){return this.visibleElements.length>0},t.rowCounter=100,t}(a.a),m=function(e){function t(n){void 0===n&&(n="");var r=e.call(this,n)||this;return r.isQuestionsReady=!1,r.questionsValue=new Array,r.createNewArray("rows"),r.elementsValue=r.createNewArray("elements",r.onAddElement.bind(r),r.onRemoveElement.bind(r)),r.registerFunctionOnPropertyValueChanged("questionTitleLocation",r.onVisibleChanged.bind(r)),r.id=t.getPanelId(),r.createLocalizableString("title",r,!0),r.createLocalizableString("description",r,!0),r.createLocalizableString("requiredErrorText",r),r}return n.i(r.a)(t,e),t.getPanelId=function(){return"sp_"+t.panelCounter++},t.prototype.getType=function(){return"panelbase"},t.prototype.setSurveyImpl=function(t){e.prototype.setSurveyImpl.call(this,t),this.isDesignMode&&this.onVisibleChanged();for(var n=0;n<this.elements.length;n++)this.elements[n].setSurveyImpl(t)},t.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),this.markQuestionListDirty(),this.onRowsChanged()},Object.defineProperty(t.prototype,"title",{get:function(){return this.getLocalizableStringText("title")},set:function(e){this.setLocalizableStringText("title",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_showTitle",{get:function(){return this.survey.showPageTitles&&this.title.length>0||this.isDesignMode&&p.a.allowShowEmptyTitleInDesignMode},enumerable:!1,configurable:!0}),t.prototype.getTitleActions=function(){var t=e.prototype.getTitleActions.call(this);return this.titleActions=this.survey.getUpdatedPanelTitleActions(this,t),this.titleActions},Object.defineProperty(t.prototype,"_showDescription",{get:function(){return this.survey.showPageTitles&&this.description.length>0||this.isDesignMode&&p.a.allowShowEmptyTitleInDesignMode&&p.a.allowShowEmptyDescriptionInDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this.getLocalizableStringText("description")},set:function(e){this.setLocalizableStringText("description",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDescription",{get:function(){return this.getLocalizableString("description")},enumerable:!1,configurable:!0}),t.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this);for(var t=0;t<this.elements.length;t++)this.elements[t].locStrsChanged()},Object.defineProperty(t.prototype,"requiredText",{get:function(){return null!=this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&"requireNumTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&"numRequireTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&"numTitleRequire"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(e){this.setLocalizableStringText("requiredErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.survey?this.survey.getLocale():""},t.prototype.getMarkdownHtml=function(e,t){return this.survey?this.survey.getSurveyMarkdownHtml(this,e,t):null},t.prototype.getRenderer=function(e){return this.survey?this.survey.getRendererForString(this,e):null},t.prototype.getProcessedText=function(e){return this.textProcessor?this.textProcessor.processText(e,!0):e},Object.defineProperty(t.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.setPropertyValue("parent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depth",{get:function(){return null==this.parent?0:this.parent.depth+1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssClasses",{get:function(){var e={panel:{},error:{},row:""};return this.copyCssClasses(e.panel,this.css.panel),this.copyCssClasses(e.error,this.css.error),this.css.row&&(e.row=this.css.row),this.survey&&this.survey.updatePanelCssClasses(this,e),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"css",{get:function(){return this.survey?this.survey.getCss():{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return this},t.prototype.getLayoutType=function(){return"row"},t.prototype.isLayoutTypeSupported=function(e){return"flow"!==e},Object.defineProperty(t.prototype,"questions",{get:function(){if(!this.isQuestionsReady){this.questionsValue=[];for(var e=0;e<this.elements.length;e++){var t=this.elements[e];if(t.isPanel)for(var n=t.questions,r=0;r<n.length;r++)this.questionsValue.push(n[r]);else this.questionsValue.push(t)}this.isQuestionsReady=!0}return this.questionsValue},enumerable:!1,configurable:!0}),t.prototype.getValidName=function(e){return e?e.trim():e},t.prototype.getQuestionByName=function(e){for(var t=this.questions,n=0;n<t.length;n++)if(t[n].name==e)return t[n];return null},t.prototype.getElementByName=function(e){for(var t=this.elements,n=0;n<t.length;n++){var r=t[n];if(r.name==e)return r;var o=r.getPanel();if(o){var i=o.getElementByName(e);if(i)return i}}return null},t.prototype.getQuestionByValueName=function(e){for(var t=this.questions,n=0;n<t.length;n++)if(t[n].getValueName()==e)return t[n];return null},t.prototype.getValue=function(){for(var e={},t=this.questions,n=0;n<t.length;n++){var r=t[n];if(!r.isEmpty()){var o=r.getValueName();if(e[o]=r.value,this.data){var i=this.data.getComment(o);i&&(e[o+p.a.commentPrefix]=i)}}}return e},t.prototype.getDisplayValue=function(e){for(var t={},n=this.questions,r=0;r<n.length;r++){var o=n[r];o.isEmpty()||(t[e?o.title:o.getValueName()]=o.getDisplayValue(e))}return t},t.prototype.getComments=function(){var e={};if(!this.data)return e;for(var t=this.questions,n=0;n<t.length;n++){var r=t[n],o=this.data.getComment(r.getValueName());o&&(e[r.getValueName()]=o)}return e},t.prototype.clearIncorrectValues=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearIncorrectValues()},t.prototype.clearErrors=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearErrors();this.errors=[]},t.prototype.markQuestionListDirty=function(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()},Object.defineProperty(t.prototype,"elements",{get:function(){return this.elementsValue},enumerable:!1,configurable:!0}),t.prototype.getElementsInDesign=function(e){return void 0===e&&(e=!1),this.elements},t.prototype.containsElement=function(e){for(var t=0;t<this.elements.length;t++){var n=this.elements[t];if(n==e)return!0;var r=n.getPanel();if(r&&r.containsElement(e))return!0}return!1},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired",!1)},set:function(e){this.setPropertyValue("isRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(e){this.setPropertyValue("requiredIf",e)},enumerable:!1,configurable:!0}),t.prototype.hasErrors=function(e,t,n){return void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===n&&(n=null),n=n||{fireCallback:e,focuseOnFirstError:t,firstErrorQuestion:null,result:!1},this.hasErrorsCore(n),n.firstErrorQuestion&&n.firstErrorQuestion.focus(!0),n.result},t.prototype.hasErrorsInPanels=function(e){var t=[];if(this.hasRequiredError(e,t),this.survey){var n=this.survey.validatePanel(this);n&&(t.push(n),e.result=!0)}e.fireCallback&&(this.survey&&this.survey.beforeSettingPanelErrors(this,t),this.errors=t),this.updateVisibleErrors()},t.prototype.getErrorCustomText=function(e,t){return this.survey?this.survey.getErrorCustomText(e,t):e},t.prototype.hasRequiredError=function(e,t){if(this.isRequired){var n=[];if(this.addQuestionsToList(n,!0),0!=n.length){for(var r=0;r<n.length;r++)if(!n[r].isEmpty())return;e.result=!0,t.push(new c.c(this.requiredErrorText,this)),e.focuseOnFirstError&&!e.firstErrorQuestion&&(e.firstErrorQuestion=n[0])}}},t.prototype.hasErrorsCore=function(e){for(var t=this.elements,n=null,r=0;r<t.length;r++)if((n=t[r]).isVisible)if(n.isPanel)n.hasErrorsCore(e);else{var o=n;if(o.isReadOnly)continue;o.hasErrors(e.fireCallback,e)&&(e.focuseOnFirstError&&null==e.firstErrorQuestion&&(e.firstErrorQuestion=o),e.result=!0)}this.hasErrorsInPanels(e),this.updateContainsErrors()},t.prototype.getContainsErrors=function(){var t=e.prototype.getContainsErrors.call(this);if(t)return t;for(var n=this.elements,r=0;r<n.length;r++)if(n[r].containsErrors)return!0;return!1},t.prototype.updateElementVisibility=function(){for(var e=0;e<this.elements.length;e++){var t=this.elements[e];t.setPropertyValue("isVisible",t.isVisible),t.isPanel&&t.updateElementVisibility()}},t.prototype.getFirstQuestionToFocus=function(e){void 0===e&&(e=!1);for(var t=this.elements,n=0;n<t.length;n++){var r=t[n];if(r.isVisible)if(r.isPanel){var o=r.getFirstQuestionToFocus(e);if(o)return o}else{var i=r;if(i.hasInput&&(!e||i.currentErrorCount>0))return i}}return null},t.prototype.focusFirstQuestion=function(){var e=this.getFirstQuestionToFocus();e&&e.focus()},t.prototype.focusFirstErrorQuestion=function(){var e=this.getFirstQuestionToFocus(!0);e&&e.focus()},t.prototype.addQuestionsToList=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.addElementsToList(e,t,n,!1)},t.prototype.addPanelsIntoList=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.addElementsToList(e,t,n,!0)},t.prototype.addElementsToList=function(e,t,n,r){t&&!this.visible||this.addElementsToListCore(e,this.elements,t,n,r)},t.prototype.addElementsToListCore=function(e,t,n,r,o){for(var i=0;i<t.length;i++){var a=t[i];n&&!a.visible||((o&&a.isPanel||!o&&!a.isPanel)&&e.push(a),a.isPanel?a.addElementsToListCore(e,a.elements,n,r,o):r&&this.addElementsToListCore(e,a.getElementsInDesign(!1),n,r,o))}},Object.defineProperty(t.prototype,"isActive",{get:function(){return!this.survey||this.survey.currentPage==this.root},enumerable:!1,configurable:!0}),t.prototype.updateCustomWidgets=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].updateCustomWidgets()},Object.defineProperty(t.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),t.prototype.getQuestionTitleLocation=function(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():"default"!=this.questionTitleLocation?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},t.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},t.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},t.prototype.getChildrenLayoutType=function(){return"row"},t.prototype.getProgressInfo=function(){return a.d.getProgressInfoByElements(this.elements,this.isRequired)},Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t.prototype.childVisibilityChanged=function(){this.getIsPageVisible(null)!==this.getPropertyValue("isVisible",!0)&&this.onVisibleChanged()},t.prototype.createRow=function(){return new f(this)},t.prototype.onSurveyLoad=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].onSurveyLoad();this.onElementVisibilityChanged(this)},t.prototype.onFirstRendering=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].onFirstRendering();this.onRowsChanged()},Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},enumerable:!1,configurable:!0}),t.prototype.ensureRowsVisibility=function(){this.rows.forEach((function(e){e.ensureVisibility()}))},t.prototype.onRowsChanged=function(){this.isLoadingFromJson||this.setPropertyValue("rows",this.buildRows())},t.prototype.onAddElement=function(e,t){if(e.setSurveyImpl(this.surveyImpl),e.parent=this,this.markQuestionListDirty(),this.updateRowsOnElementAdded(e,t),e.isPanel){var n=e;this.survey&&this.survey.panelAdded(n,t,this,this.root)}else if(this.survey){var r=e;this.survey.questionAdded(r,t,this,this.root)}this.addElementCallback&&this.addElementCallback(e);var o=this;e.registerFunctionOnPropertiesValueChanged(["visible","isVisible"],(function(){o.onElementVisibilityChanged(e)}),this.id),e.registerFunctionOnPropertyValueChanged("startWithNewLine",(function(){o.onElementStartWithNewLineChanged(e)}),this.id),this.onElementVisibilityChanged(this)},t.prototype.onRemoveElement=function(e){e.parent=null,this.markQuestionListDirty(),e.unRegisterFunctionOnPropertiesValueChanged(["visible","isVisible","startWithNewLine"],this.id),this.updateRowsOnElementRemoved(e),e.isPanel?this.survey&&this.survey.panelRemoved(e):this.survey&&this.survey.questionRemoved(e),this.removeElementCallback&&this.removeElementCallback(e),this.onElementVisibilityChanged(this)},t.prototype.onElementVisibilityChanged=function(e){this.isLoadingFromJson||(this.updateRowsVisibility(e),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))},t.prototype.onElementStartWithNewLineChanged=function(e){this.onRowsChanged()},t.prototype.updateRowsVisibility=function(e){for(var t=this.rows,n=0;n<t.length;n++){var r=t[n];if(r.elements.indexOf(e)>-1){r.updateVisible();break}}},t.prototype.canBuildRows=function(){return!this.isLoadingFromJson&&"row"==this.getChildrenLayoutType()},t.prototype.buildRows=function(){if(!this.canBuildRows())return[];for(var e=new Array,t=0;t<this.elements.length;t++){var n=this.elements[t],r=0==t||n.startWithNewLine,o=r?this.createRow():e[e.length-1];r&&e.push(o),o.addElement(n)}for(t=0;t<e.length;t++)e[t].updateVisible();return e},t.prototype.updateRowsOnElementAdded=function(e,t){if(this.canBuildRows()){var n=new h(null,e);n.target=e,n.isEdge=this.elements.length>1,this.elements.length<2?n.destination=this:(n.isBottom=t>0,n.destination=0==t?this.elements[1]:this.elements[t-1]),this.dragDropAddTargetToRow(n,null)}},t.prototype.updateRowsOnElementRemoved=function(e){this.canBuildRows()&&this.updateRowsRemoveElementFromRow(e,this.findRowByElement(e))},t.prototype.updateRowsRemoveElementFromRow=function(e,t){if(t&&t.panel){var n=t.elements.indexOf(e);n<0||(t.elements.splice(n,1),t.elements.length>0?t.updateVisible():t.index>=0&&t.panel.rows.splice(t.index,1))}},t.prototype.findRowByElement=function(e){for(var t=this.rows,n=0;n<t.length;n++)if(t[n].elements.indexOf(e)>-1)return t[n];return null},t.prototype.elementWidthChanged=function(e){if(!this.isLoadingFromJson){var t=this.findRowByElement(e);t&&t.updateVisible()}},Object.defineProperty(t.prototype,"processedTitle",{get:function(){return this.getRenderedTitle(this.locTitle.textOrHtml)},enumerable:!1,configurable:!0}),t.prototype.getRenderedTitle=function(e){return null!=this.textProcessor?this.textProcessor.processText(e,!0):e},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){e!==this.visible&&(this.setPropertyValue("visible",e),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())},enumerable:!1,configurable:!0}),t.prototype.onVisibleChanged=function(){if(this.setPropertyValue("isVisible",this.isVisible),this.survey&&this.survey.isClearValueOnHiddenContainer&&!this.isLoadingFromJson)for(var e=this.questions,t=0;t<e.length;t++)this.isVisible?e[t].updateValueWithDefaults():e[t].clearValue()},Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)},enumerable:!1,configurable:!0}),t.prototype.getIsPageVisible=function(e){if(!this.visible)return!1;for(var t=0;t<this.elements.length;t++)if(this.elements[t]!=e&&this.elements[t].isVisible)return!0;return!1},t.prototype.setVisibleIndex=function(e){if(!this.isVisible||e<0){for(var t=0;t<this.elements.length;t++)this.elements[t].setVisibleIndex(-1);return 0}var n=e;e+=this.beforeSetVisibleIndex(e);var r=this.getPanelStartIndex(e),o=r;for(t=0;t<this.elements.length;t++)o+=this.elements[t].setVisibleIndex(o);return this.isContinueNumbering()&&(e+=o-r),e-n},t.prototype.beforeSetVisibleIndex=function(e){return 0},t.prototype.getPanelStartIndex=function(e){return e},t.prototype.isContinueNumbering=function(){return!0},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){var e=!!this.parent&&this.parent.isReadOnly,t=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||e||t},enumerable:!1,configurable:!0}),t.prototype.onReadOnlyChanged=function(){for(var t=0;t<this.elements.length;t++){var n=this.elements[t];n.setPropertyValue("isReadOnly",n.isReadOnly)}e.prototype.onReadOnlyChanged.call(this)},t.prototype.updateElementCss=function(){for(var t=0;t<this.elements.length;t++)this.elements[t].updateElementCss();e.prototype.updateElementCss.call(this)},Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),t.prototype.addElement=function(e,t){return void 0===t&&(t=-1),!!this.canAddElement(e)&&(t<0||t>=this.elements.length?this.elements.push(e):this.elements.splice(t,0,e),!0)},t.prototype.canAddElement=function(e){return!!e&&e.isLayoutTypeSupported(this.getChildrenLayoutType())},t.prototype.addQuestion=function(e,t){return void 0===t&&(t=-1),this.addElement(e,t)},t.prototype.addPanel=function(e,t){return void 0===t&&(t=-1),this.addElement(e,t)},t.prototype.addNewQuestion=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=-1);var r=l.a.Instance.createQuestion(e,t);return this.addQuestion(r,n)?r:null},t.prototype.addNewPanel=function(e){void 0===e&&(e=null);var t=this.createNewPanel(e);return this.addPanel(t)?t:null},t.prototype.indexOf=function(e){return this.elements.indexOf(e)},t.prototype.createNewPanel=function(e){return new g(e)},t.prototype.removeElement=function(e){var t=this.elements.indexOf(e);if(t<0){for(var n=0;n<this.elements.length;n++)if(this.elements[n].removeElement(e))return!0;return!1}return this.elements.splice(t,1),!0},t.prototype.removeQuestion=function(e){this.removeElement(e)},t.prototype.runCondition=function(e,t){if(!this.isDesignMode){for(var n=this.elements.slice(),r=0;r<n.length;r++)n[r].runCondition(e,t);this.areInvisibleElementsShowing||this.runVisibleCondition(e,t),this.runEnableCondition(e,t),this.runRequiredCondition(e,t)}},t.prototype.runVisibleCondition=function(e,t){var n=this;if(this.visibleIf){var r=new u.a(this.visibleIf);r.onRunComplete=function(e){n.visible=e},r.run(e,t)}},t.prototype.runEnableCondition=function(e,t){var n=this;if(this.enableIf){var r=new u.a(this.enableIf);r.onRunComplete=function(e){n.readOnly=!e},r.run(e,t)}},t.prototype.runRequiredCondition=function(e,t){var n=this;if(this.requiredIf){var r=new u.a(this.requiredIf);r.onRunComplete=function(e){n.isRequired=e},r.run(e,t)}},t.prototype.onAnyValueChanged=function(e){for(var t=this.elements,n=0;n<t.length;n++)t[n].onAnyValueChanged(e)},t.prototype.checkBindings=function(e,t){for(var n=this.elements,r=0;r<n.length;r++)n[r].checkBindings(e,t)},t.prototype.dragDropAddTarget=function(e){var t=this.dragDropFindRow(e.target);this.dragDropAddTargetToRow(e,t)&&this.updateRowsRemoveElementFromRow(e.target,t)},t.prototype.dragDropFindRow=function(e){if(!e||e.isPage)return null;for(var t=e,n=this.rows,r=0;r<n.length;r++)if(n[r].elements.indexOf(t)>-1)return n[r];for(r=0;r<this.elements.length;r++){var o=this.elements[r].getPanel();if(o){var i=o.dragDropFindRow(t);if(i)return i}}return null},t.prototype.dragDropAddTargetToRow=function(e,t){if(!e.destination)return!0;if(this.dragDropAddTargetToEmptyPanel(e))return!0;var n=e.destination,r=this.dragDropFindRow(n);return!r||(e.target.startWithNewLine?this.dragDropAddTargetToNewRow(e,r,t):this.dragDropAddTargetToExistingRow(e,r,t))},t.prototype.dragDropAddTargetToEmptyPanel=function(e){if(e.destination.isPage)return this.dragDropAddTargetToEmptyPanelCore(this.root,e.target,e.isBottom),!0;var t=e.destination;if(t.isPanel&&!e.isEdge){var n=t;if(e.target.template===t)return!1;if(e.nestedPanelDepth<0||e.nestedPanelDepth>=n.depth)return this.dragDropAddTargetToEmptyPanelCore(t,e.target,e.isBottom),!0}return!1},t.prototype.dragDropAddTargetToExistingRow=function(e,t,n){var r=t.elements.indexOf(e.destination);if(0==r&&!e.isBottom&&t.elements[0].startWithNewLine)return t.index>0?(e.isBottom=!0,t=t.panel.rows[t.index-1],e.destination=t.elements[t.elements.length-1],this.dragDropAddTargetToExistingRow(e,t,n)):this.dragDropAddTargetToNewRow(e,t,n);var o=-1;n==t&&(o=t.elements.indexOf(e.target)),e.isBottom&&r++;var i=this.findRowByElement(e.source);return(i!=t||i.elements.indexOf(e.source)!=r)&&r!=o&&(o>-1&&(t.elements.splice(o,1),o<r&&r--),t.elements.splice(r,0,e.target),t.updateVisible(),o<0)},t.prototype.dragDropAddTargetToNewRow=function(e,t,n){var r=t.panel.createRow();r.addElement(e.target);var o=t.index;if(e.isBottom&&o++,n&&n.panel==r.panel&&n.index==o)return!1;var i=this.findRowByElement(e.source);return!(i&&i.panel==r.panel&&1==i.elements.length&&i.index==o||(t.panel.rows.splice(o,0,r),0))},t.prototype.dragDropAddTargetToEmptyPanelCore=function(e,t,n){var r=e.createRow();r.addElement(t),0==e.elements.length||n?e.rows.push(r):e.rows.splice(0,0,r)},t.prototype.dragDropMoveElement=function(e,t,n){n>e.parent.elements.indexOf(e)&&n--,this.removeElement(e),this.addElement(t,n)},t.prototype.dispose=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].dispose();this.elements.splice(0,this.elements.length)},t.panelCounter=100,t}(a.d),g=function(e){function t(t){void 0===t&&(t="");var n=e.call(this,t)||this,r=n;return n.registerFunctionOnPropertyValueChanged("width",(function(){r.parent&&r.parent.elementWidthChanged(r)})),n.registerFunctionOnPropertiesValueChanged(["indent","innerIndent","rightIndent"],(function(){r.onIndentChanged()})),n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"panel"},Object.defineProperty(t.prototype,"contentId",{get:function(){return this.id+"_content"},enumerable:!1,configurable:!0}),t.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.onIndentChanged()},Object.defineProperty(t.prototype,"isPanel",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(e){this.setPage(this.parent,e)},enumerable:!1,configurable:!0}),t.prototype.delete=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},t.prototype.moveTo=function(e,t){return void 0===t&&(t=null),this.moveToBase(this.parent,e,t)},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNumber",{get:function(){return this.getPropertyValue("showNumber",!1)},set:function(e){this.setPropertyValue("showNumber",e),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers","default")},set:function(e){this.setPropertyValue("showQuestionNumbers",e),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(e){this.setPropertyValue("questionStartIndex",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionStartIndex=function(){return this.questionStartIndex?this.questionStartIndex:e.prototype.getQuestionStartIndex.call(this)},Object.defineProperty(t.prototype,"no",{get:function(){return this.getPropertyValue("no","")},enumerable:!1,configurable:!0}),t.prototype.setNo=function(e){this.setPropertyValue("no",i.a.getNumberByIndex(this.visibleIndex,this.getStartIndex()))},t.prototype.beforeSetVisibleIndex=function(e){var t=-1;return!this.showNumber||!this.isDesignMode&&this.locTitle.isEmpty||(t=e),this.setPropertyValue("visibleIndex",t),this.setNo(t),t<0?0:1},t.prototype.getPanelStartIndex=function(e){return"off"==this.showQuestionNumbers?-1:"onpanel"==this.showQuestionNumbers?0:e},t.prototype.isContinueNumbering=function(){return"off"!=this.showQuestionNumbers&&"onpanel"!=this.showQuestionNumbers},t.prototype.notifySurveyOnVisibilityChanged=function(){null==this.survey||this.isLoadingFromJson||this.survey.panelVisibilityChanged(this,this.isVisible)},t.prototype.hasErrorsCore=function(t){e.prototype.hasErrorsCore.call(this,t),this.isCollapsed&&t.result&&t.fireCallback&&this.expand()},t.prototype.getRenderedTitle=function(t){if(!t){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return e.prototype.getRenderedTitle.call(this,t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(e){this.setPropertyValue("width",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indent",{get:function(){return this.getPropertyValue("indent",0)},set:function(e){this.setPropertyValue("indent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerIndent",{get:function(){return this.getPropertyValue("innerIndent",0)},set:function(e){this.setPropertyValue("innerIndent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.getPropertyValue("renderWidth")},set:function(e){this.setPropertyValue("renderWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine",!0)},set:function(e){this.setPropertyValue("startWithNewLine",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightIndent",{get:function(){return this.getPropertyValue("rightIndent",0)},set:function(e){this.setPropertyValue("rightIndent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft","")},set:function(e){this.setPropertyValue("paddingLeft",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerPaddingLeft",{get:function(){return this.getPropertyValue("innerPaddingLeft","")},set:function(e){this.setPropertyValue("innerPaddingLeft",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight","")},set:function(e){this.setPropertyValue("paddingRight",e)},enumerable:!1,configurable:!0}),t.prototype.onIndentChanged=function(){this.innerPaddingLeft=this.getIndentSize(this.innerIndent),this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent)},t.prototype.getIndentSize=function(e){if(e<1)return"";if(!this.data)return"";var t=this.survey.css;return t?e*t.question.indent+"px":""},t.prototype.clearOnDeletingContainer=function(){this.elements.forEach((function(e){(e instanceof s.a||e instanceof t)&&e.clearOnDeletingContainer()}))},Object.defineProperty(t.prototype,"hasEditButton",{get:function(){return!(!this.survey||"preview"!=this.survey.state)&&1==this.depth},enumerable:!1,configurable:!0}),t.prototype.cancelPreview=function(){this.hasEditButton&&this.survey.cancelPreviewByPage(this)},t.prototype.onVisibleChanged=function(){e.prototype.onVisibleChanged.call(this),this.notifySurveyOnVisibilityChanged()},t}(m);o.k.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:boolean",default:!0},"visibleIf:condition","enableIf:condition","requiredIf:condition","readOnly:boolean",{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"title",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"}],(function(){return new m})),o.k.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},"isRequired:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},"width",{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3]},{name:"page",isSerializable:!1,visibleIf:function(e){var t=e?e.survey:null;return!t||t.pages.length>1},choices:function(e){var t=e?e.survey:null;return t?t.pages.map((function(e){return{value:e.name,text:e.title}})):[]}},"showNumber:boolean",{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","off"]},"questionStartIndex"],(function(){return new g}),"panelbase")},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(12),a=n(15),s=n(5),u=n(1),l=n(13),c=n(38),p=n(14),d=n(11);n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f}));var h=function(e){function t(t){var n=e.call(this,t)||this;n.otherItemValue=new a.a("other"),n.dependedQuestions=[],n.isSettingDefaultValue=!1,n.isSettingComment=!1,n.isRunningChoices=!1,n.isFirstLoadChoicesFromUrl=!0,n.isUpdatingChoicesDependedQuestions=!1;var r=n;n.createItemValues("choices"),n.registerFunctionOnPropertyValueChanged("choices",(function(){r.filterItems()||r.onVisibleChoicesChanged()})),n.registerFunctionOnPropertiesValueChanged(["choicesFromQuestion","choicesFromQuestionMode"],(function(){r.onVisibleChoicesChanged()})),n.registerFunctionOnPropertyValueChanged("hideIfChoicesEmpty",(function(){r.updateVisibilityBasedOnChoices()})),n.createNewArray("visibleChoices"),n.setPropertyValue("choicesByUrl",n.createRestfull()),n.choicesByUrl.owner=n,n.choicesByUrl.loadingOwner=n;var o=n.createLocalizableString("otherText",n,!0);return n.createLocalizableString("otherErrorText",n,!0),n.otherItemValue.locOwner=n,n.otherItemValue.setLocText(o),o.onGetTextCallback=function(e){return e||u.a.getString("otherItemText")},n.choicesByUrl.beforeSendRequestCallback=function(){r.onBeforeSendRequest()},n.choicesByUrl.getResultCallback=function(e){r.onLoadChoicesFromUrl(e)},n.choicesByUrl.updateResultCallback=function(e,t){return r.survey?r.survey.updateChoicesFromServer(r,e,t):e},n.createLocalizableString("otherPlaceHolder",n),n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"selectbase"},t.prototype.dispose=function(){e.prototype.dispose.call(this);for(var t=0;t<this.dependedQuestions.length;t++)this.dependedQuestions[t].choicesFromQuestion="";this.removeFromDependedQuestion(this.getQuestionWithChoices())},t.prototype.supportGoNextPageError=function(){return!this.isOtherSelected||!!this.comment},t.prototype.isLayoutTypeSupported=function(e){return!0},Object.defineProperty(t.prototype,"otherItem",{get:function(){return this.otherItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOtherSelected",{get:function(){return this.hasOther&&this.getHasOther(this.renderedValue)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesVisibleIf",{get:function(){return this.getPropertyValue("choicesVisibleIf","")},set:function(e){this.setPropertyValue("choicesVisibleIf",e),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesEnableIf",{get:function(){return this.getPropertyValue("choicesEnableIf","")},set:function(e){this.setPropertyValue("choicesEnableIf",e),this.filterItems()},enumerable:!1,configurable:!0}),t.prototype.runCondition=function(t,n){e.prototype.runCondition.call(this,t,n),this.runItemsEnableCondition(t,n),this.runItemsCondition(t,n)},t.prototype.isTextValue=function(){return!0},t.prototype.setDefaultValue=function(){this.isSettingDefaultValue=!this.isValueEmpty(this.defaultValue)&&this.hasUnknownValue(this.defaultValue),e.prototype.setDefaultValue.call(this),this.isSettingDefaultValue=!1},t.prototype.getIsMultipleValue=function(){return!1},t.prototype.convertDefaultValue=function(e){if(null==e||null==e)return e;if(this.getIsMultipleValue()){if(!Array.isArray(e))return[e]}else if(Array.isArray(e)&&e.length>0)return e[0];return e},t.prototype.filterItems=function(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var e=this.getDataFilteredValues(),t=this.getDataFilteredProperties();return this.runItemsEnableCondition(e,t),this.runItemsCondition(e,t)},t.prototype.runItemsCondition=function(e,t){this.setConditionalChoicesRunner();var n=this.runConditionsForItems(e,t);return this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),n&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),n},t.prototype.runItemsEnableCondition=function(e,t){var n=this;this.setConditionalEnableChoicesRunner(),a.a.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,e,t,(function(e){return n.onEnableItemCallBack(e)}))&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()},t.prototype.onAfterRunItemsEnableCondition=function(){},t.prototype.onEnableItemCallBack=function(e){return!0},t.prototype.setConditionalChoicesRunner=function(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new p.a(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null},t.prototype.setConditionalEnableChoicesRunner=function(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new p.a(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null},t.prototype.runConditionsForItems=function(e,t){return this.filteredChoicesValue=[],a.a.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,e,t,!this.survey||!this.survey.areInvisibleElementsShowing)},t.prototype.getHasOther=function(e){return e===this.otherItem.value},Object.defineProperty(t.prototype,"validatedValue",{get:function(){return this.rendredValueToDataCore(this.value)},enumerable:!1,configurable:!0}),t.prototype.createRestfull=function(){return new c.a},t.prototype.getQuestionComment=function(){return this.commentValue?this.commentValue:this.hasComment||this.getStoreOthersAsComment()?e.prototype.getQuestionComment.call(this):this.commentValue},t.prototype.setQuestionComment=function(t){this.hasComment||this.getStoreOthersAsComment()?e.prototype.setQuestionComment.call(this,t):this.isSettingComment||t==this.commentValue||(this.isSettingComment=!0,this.commentValue=t,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.rendredValueToData(this.renderedValue)),this.isSettingComment=!1)},Object.defineProperty(t.prototype,"renderedValue",{get:function(){return this.getPropertyValue("renderedValue",null)},set:function(e){this.setPropertyValue("renderedValue",e),this.value=this.rendredValueToData(e)},enumerable:!1,configurable:!0}),t.prototype.setQuestionValue=function(t,n){if(void 0===n&&(n=!0),!this.isLoadingFromJson&&!s.a.isTwoValueEquals(this.value,t)&&(e.prototype.setQuestionValue.call(this,t,n),this.setPropertyValue("renderedValue",this.rendredValueFromData(t)),!this.hasComment)){var r=this.isOtherSelected;if(r&&this.prevCommentValue){var o=this.prevCommentValue;this.prevCommentValue="",this.comment=o}!r&&this.comment&&(this.getStoreOthersAsComment()&&(this.prevCommentValue=this.comment),this.comment="")}},t.prototype.setNewValue=function(t){t=this.valueFromData(t),(this.choicesByUrl.isRunning||this.choicesByUrl.isWaitingForParameters)&&this.isValueEmpty(t)||(this.cachedValueForUrlRequests=t),e.prototype.setNewValue.call(this,t)},t.prototype.valueFromData=function(t){var n=a.a.getItemByValue(this.activeChoices,t);return n?n.value:e.prototype.valueFromData.call(this,t)},t.prototype.rendredValueFromData=function(e){return this.getStoreOthersAsComment()?e:this.renderedValueFromDataCore(e)},t.prototype.rendredValueToData=function(e){return this.getStoreOthersAsComment()?e:this.rendredValueToDataCore(e)},t.prototype.renderedValueFromDataCore=function(e){return this.hasUnknownValue(e,!0)?(this.comment=e,this.otherItem.value):this.valueFromData(e)},t.prototype.rendredValueToDataCore=function(e){return e==this.otherItem.value&&this.getQuestionComment()&&(e=this.getQuestionComment()),e},t.prototype.hasUnknownValue=function(e,t){return void 0===t&&(t=!1),!(s.a.isValueEmpty(e)||t&&e==this.otherItem.value||null!=a.a.getItemByValue(this.getFilteredChoices(),e))},t.prototype.isValueDisabled=function(e){var t=a.a.getItemByValue(this.getFilteredChoices(),e);return!!t&&!t.isEnabled},Object.defineProperty(t.prototype,"choicesByUrl",{get:function(){return this.getPropertyValue("choicesByUrl")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(e){this.setPropertyValue("choices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesFromQuestion",{get:function(){return this.getPropertyValue("choicesFromQuestion")},set:function(e){var t=this.getQuestionWithChoices();t&&t.removeFromDependedQuestion(this),this.setPropertyValue("choicesFromQuestion",e)},enumerable:!1,configurable:!0}),t.prototype.addIntoDependedQuestion=function(e){!e||e.dependedQuestions.indexOf(this)>-1||e.dependedQuestions.push(this)},t.prototype.removeFromDependedQuestion=function(e){if(e){var t=e.dependedQuestions.indexOf(this);t>-1&&e.dependedQuestions.splice(t,1)}},Object.defineProperty(t.prototype,"choicesFromQuestionMode",{get:function(){return this.getPropertyValue("choicesFromQuestionMode")},set:function(e){this.setPropertyValue("choicesFromQuestionMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideIfChoicesEmpty",{get:function(){return this.getPropertyValue("hideIfChoicesEmpty",!1)},set:function(e){this.setPropertyValue("hideIfChoicesEmpty",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues",!1)},set:function(e){this.setPropertyValue("keepIncorrectValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment","default")},set:function(e){this.setPropertyValue("storeOthersAsComment",e)},enumerable:!1,configurable:!0}),t.prototype.hasOtherChanged=function(){this.onVisibleChoicesChanged()},Object.defineProperty(t.prototype,"choicesOrder",{get:function(){return this.getPropertyValue("choicesOrder")},set:function(e){(e=e.toLowerCase())!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",e),this.onVisibleChoicesChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherText",{get:function(){return this.getLocalizableStringText("otherText",u.a.getString("otherItemText"))},set:function(e){this.setLocalizableStringText("otherText",e),this.onVisibleChoicesChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locOtherText",{get:function(){return this.getLocalizableString("otherText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherPlaceHolder",{get:function(){return this.getLocalizableStringText("otherPlaceHolder")},set:function(e){this.setLocalizableStringText("otherPlaceHolder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locOtherPlaceHolder",{get:function(){return this.getLocalizableString("otherPlaceHolder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherErrorText",{get:function(){return this.getLocalizableStringText("otherErrorText",u.a.getString("otherRequiredError"))},set:function(e){this.setLocalizableStringText("otherErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locOtherErrorText",{get:function(){return this.getLocalizableString("otherErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleChoices",{get:function(){return this.getPropertyValue("visibleChoices",[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChoices",{get:function(){for(var e=[],t=this.visibleChoices,n=0;n<t.length;n++)t[n].isEnabled&&e.push(t[n]);return e},enumerable:!1,configurable:!0}),t.prototype.updateVisibleChoices=function(){if(!this.isLoadingFromJson){var e=new Array,t=this.calcVisibleChoices();t||(t=[]);for(var n=0;n<t.length;n++)e.push(t[n]);this.setPropertyValue("visibleChoices",e)}},t.prototype.calcVisibleChoices=function(){if(this.canUseFilteredChoices())return this.getFilteredChoices();var e=this.sortVisibleChoices(this.getFilteredChoices().slice());return this.addToVisibleChoices(e),e},t.prototype.canUseFilteredChoices=function(){return!this.hasOther&&"none"==this.choicesOrder},t.prototype.addToVisibleChoices=function(e){this.hasOther&&e.push(this.otherItem)},t.prototype.getPlainData=function(t){var n=this;void 0===t&&(t={includeEmpty:!0,includeQuestionTypes:!1});var r=e.prototype.getPlainData.call(this,t);if(r){var o=Array.isArray(this.value)?this.value:[this.value];r.isNode=!0,r.data=(r.data||[]).concat(o.map((function(e,r){var o=a.a.getItemByValue(n.visibleChoices,e),i={name:r,title:"Choice",value:e,displayValue:n.getChoicesDisplayValue(n.visibleChoices,e),getString:function(e){return"object"==typeof e?JSON.stringify(e):e},isNode:!1};return o&&(t.calculations||[]).forEach((function(e){i[e.propertyName]=o[e.propertyName]})),n.isOtherSelected&&n.otherItemValue===o&&(i.isOther=!0,i.displayValue=n.comment),i})))}return r},t.prototype.getDisplayValueCore=function(e,t){return this.getChoicesDisplayValue(this.visibleChoices,t)},t.prototype.getChoicesDisplayValue=function(e,t){if(t==this.otherItemValue.value)return this.comment?this.comment:this.locOtherText.textOrHtml;var n=a.a.getTextOrHtmlByValue(e,t);return""==n&&t?t:n},t.prototype.getFilteredChoices=function(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices},Object.defineProperty(t.prototype,"activeChoices",{get:function(){var e=this.getQuestionWithChoices();return e?(this.addIntoDependedQuestion(e),this.otherQuestionActiveChoices=this.getChoicesFromQuestion(e),this.otherQuestionActiveChoices?this.otherQuestionActiveChoices:e.visibleChoices):this.choicesFromUrl?this.choicesFromUrl:this.getChoices()},enumerable:!1,configurable:!0}),t.prototype.getQuestionWithChoices=function(){if(!this.choicesFromQuestion||!this.survey)return null;var e=this.survey.getQuestionByName(this.choicesFromQuestion);return e&&e.visibleChoices&&e!==this?e:null},t.prototype.getChoicesFromQuestion=function(e){if("selected"!==this.choicesFromQuestionMode&&"unselected"!==this.choicesFromQuestionMode)return null;for(var t=[],n="selected"==this.choicesFromQuestionMode,r=e.visibleChoices,o=0;o<r.length;o++){var i=e.isItemSelected(r[o]);(i&&n||!i&&!n)&&t.push(r[o])}return t},t.prototype.getChoices=function(){return this.choices},t.prototype.supportComment=function(){return!0},t.prototype.supportOther=function(){return!0},t.prototype.onCheckForErrors=function(t,n){e.prototype.onCheckForErrors.call(this,t,n),this.hasOther&&this.isOtherSelected&&!this.comment&&t.push(new l.h(this.otherErrorText,this))},t.prototype.setSurveyImpl=function(t){e.prototype.setSurveyImpl.call(this,t),this.runChoicesByUrl()},t.prototype.getStoreOthersAsComment=function(){return!this.isSettingDefaultValue&&(!0===this.storeOthersAsComment||"default"==this.storeOthersAsComment&&(null==this.survey||this.survey.storeOthersAsComment)||!this.choicesByUrl.isEmpty&&!this.choicesFromUrl)},t.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.runChoicesByUrl(),this.onVisibleChoicesChanged()},t.prototype.onAnyValueChanged=function(t){e.prototype.onAnyValueChanged.call(this,t),t!=this.getValueName()&&this.runChoicesByUrl(),t&&t==this.choicesFromQuestion&&this.onVisibleChoicesChanged()},t.prototype.updateValueFromSurvey=function(t){var n="";this.hasOther&&this.getStoreOthersAsComment()&&this.hasUnknownValue(t)&&!this.getHasOther(t)&&(n=this.getCommentFromValue(t),t=this.setOtherValueIntoValue(t)),e.prototype.updateValueFromSurvey.call(this,t),n&&this.setNewComment(n)},t.prototype.getCommentFromValue=function(e){return e},t.prototype.setOtherValueIntoValue=function(e){return this.otherItem.value},t.prototype.runChoicesByUrl=function(){if(this.choicesByUrl&&!this.isLoadingFromJson&&!this.isRunningChoices){var e=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;e||(e=this.survey),e&&(this.isReadyValue=this.isChoicesLoaded||this.choicesByUrl.isEmpty,this.isRunningChoices=!0,this.choicesByUrl.run(e),this.isRunningChoices=!1)}},t.prototype.onBeforeSendRequest=function(){!0!==d.a.disableOnGettingChoicesFromWeb||this.isReadOnly||(this.enableOnLoadingChoices=!0,this.readOnly=!0)},t.prototype.onLoadChoicesFromUrl=function(e){if(this.enableOnLoadingChoices&&(this.readOnly=!1),!this.isReadOnly){var t=[];this.choicesByUrl&&this.choicesByUrl.error&&t.push(this.choicesByUrl.error),this.errors=t}var n=null,r=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,r=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value),this.isFirstLoadChoicesFromUrl=!1;var o=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,r);if(e&&e.length>0&&(n=new Array,a.a.setData(n,e)),this.choicesFromUrl=n,this.filterItems(),this.onVisibleChoicesChanged(),n){var i=this.updateCachedValueForUrlRequests(o,n);if(i&&!this.isReadOnly){var u=!s.a.isTwoValueEquals(this.value,i.value);try{s.a.isValueEmpty(i.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0)),this.allowNotifyValueChanged=u,u?this.value=i.value:this.setQuestionValue(i.value)}finally{this.allowNotifyValueChanged=!0}}}this.choicesLoaded()},t.prototype.createCachedValueForUrlRequests=function(e,t){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++)n.push(this.createCachedValueForUrlRequests(e[r],!0));return n}return{value:e,isExists:!t||!this.hasUnknownValue(e)}},t.prototype.updateCachedValueForUrlRequests=function(e,t){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++){var o=this.updateCachedValueForUrlRequests(e[r],t);if(o&&!this.isValueEmpty(o.value)){var i=o.value;(s=a.a.getItemByValue(t,o.value))&&(i=s.value),n.push(i)}}return{value:n}}var s,u=e.isExists&&this.hasUnknownValue(e.value)?null:e.value;return(s=a.a.getItemByValue(t,u))&&(u=s.value),{value:u}},t.prototype.updateChoicesDependedQuestions=function(){if(!this.isUpdatingChoicesDependedQuestions){this.isUpdatingChoicesDependedQuestions=!0;for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].onVisibleChoicesChanged(),this.dependedQuestions[e].updateChoicesDependedQuestions();this.isUpdatingChoicesDependedQuestions=!1}},t.prototype.onSurveyValueChanged=function(t){e.prototype.onSurveyValueChanged.call(this,t),this.isLoadingFromJson||this.updateChoicesDependedQuestions()},t.prototype.onVisibleChoicesChanged=function(){this.isLoadingFromJson||(this.updateVisibleChoices(),this.updateVisibilityBasedOnChoices(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())},t.prototype.updateVisibilityBasedOnChoices=function(){if(this.hideIfChoicesEmpty){var e=this.getFilteredChoices();this.visible=!e||e.length>0}},t.prototype.sortVisibleChoices=function(e){var t=this.choicesOrder.toLowerCase();return"asc"==t?this.sortArray(e,1):"desc"==t?this.sortArray(e,-1):"random"==t?this.randomizeArray(e):e},t.prototype.sortArray=function(e,t){return e.sort((function(e,n){return e.calculatedText<n.calculatedText?-1*t:e.calculatedText>n.calculatedText?1*t:0}))},t.prototype.randomizeArray=function(e){return s.a.randomizeArray(e)},t.prototype.clearIncorrectValues=function(){this.keepIncorrectValues||this.survey&&this.survey.questionCountByValueName(this.getValueName())>1||this.choicesByUrl&&!this.choicesByUrl.isEmpty||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore())},t.prototype.clearValueIfInvisible=function(){e.prototype.clearValueIfInvisible.call(this),this.clearIncorrectValues()},t.prototype.isItemSelected=function(e){return e.value===this.value},t.prototype.clearDisabledValues=function(){this.survey&&this.survey.clearValueOnDisableItems&&this.clearDisabledValuesCore()},t.prototype.clearIncorrectValuesCore=function(){var e=this.value;this.canClearValueAnUnknow(e)&&this.clearValue()},t.prototype.canClearValueAnUnknow=function(e){return!(!this.getStoreOthersAsComment()&&this.isOtherSelected)&&this.hasUnknownValue(e,!0)},t.prototype.clearDisabledValuesCore=function(){this.isValueDisabled(this.value)&&this.clearValue()},t.prototype.clearUnusedValues=function(){e.prototype.clearUnusedValues.call(this),this.isOtherSelected||this.hasComment||(this.comment="")},t.prototype.getColumnClass=function(){var e=this.cssClasses.column;return this.hasColumns&&(e+=" sv-q-column-"+this.colCount),e},t.prototype.getLabelClass=function(e){var t=this.cssClasses.label;return this.isItemSelected(e)&&(t+=" "+this.cssClasses.labelChecked),t},t.prototype.getControlLabelClass=function(e){var t=this.cssClasses.controlLabel;return this.isItemSelected(e)&&(t+=" "+this.cssClasses.controlLabelChecked),t},Object.defineProperty(t.prototype,"columns",{get:function(){var e=[],t=this.colCount;if(this.hasColumns&&this.visibleChoices.length>0)if("column"==d.a.showItemsInOrder)for(var n=0,r=this.visibleChoices.length%t,o=0;o<t;o++){for(var i=[],a=n;a<n+Math.floor(this.visibleChoices.length/t);a++)i.push(this.visibleChoices[a]);r>0&&(r--,i.push(this.visibleChoices[a]),a++),n=a,e.push(i)}else for(o=0;o<t;o++){for(i=[],a=o;a<this.visibleChoices.length;a+=t)i.push(this.visibleChoices[a]);e.push(i)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasColumns",{get:function(){return this.colCount>1},enumerable:!1,configurable:!0}),t.prototype.choicesLoaded=function(){this.isChoicesLoaded=!0;var e=this.isReadyValue;this.isReadyValue=!0,this.onReadyChanged&&this.onReadyChanged.fire(this,{question:this,isReady:!0,oldIsReady:e})},t}(i.a),f=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount",this.isFlowLayout?0:1)},set:function(e){e<0||e>5||this.isFlowLayout||(this.setPropertyValue("colCount",e),this.fireCallback(this.colCountChangedCallback))},enumerable:!1,configurable:!0}),t.prototype.getItemIndex=function(e){return this.visibleChoices.indexOf(e)},t.prototype.onParentChanged=function(){e.prototype.onParentChanged.call(this),this.isFlowLayout&&this.setPropertyValue("colCount",null)},t}(h);o.k.addClass("selectbase",[{name:"hasComment:switch",layout:"row"},{name:"commentText",dependsOn:"hasComment",visibleIf:function(e){return e.hasComment},serializationProperty:"locCommentText",layout:"row"},"choicesFromQuestion:question_selectbase",{name:"choices:itemvalue[]",baseValue:function(){return u.a.getString("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:function(e){return!e.choicesFromQuestion}},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:function(e){return!!e.choicesFromQuestion}},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:function(e){return!e.choicesFromQuestion}},{name:"choicesByUrl:restfull",className:"ChoicesRestfull",onGetValue:function(e){return e.choicesByUrl.getData()},onSetValue:function(e,t){e.choicesByUrl.setData(t)}},"hideIfChoicesEmpty:boolean",{name:"choicesVisibleIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(e){return!e.choicesFromQuestion}},{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(e){return!e.choicesFromQuestion}},"hasOther:boolean",{name:"otherPlaceHolder",serializationProperty:"locOtherPlaceHolder",dependsOn:"hasOther",visibleIf:function(e){return e.hasOther}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"hasOther",visibleIf:function(e){return e.hasOther}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"hasOther",visibleIf:function(e){return e.hasOther}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question"),o.k.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase")},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(20)),a=n(4),s=n(9),u=n(60);n.d(t,"a",(function(){return l}));var l=function(e){function t(t){var n=e.call(this,t)||this;return n.hasBeenExpanded=!1,n.handleEditClick=n.handleEditClick.bind(n),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"panel",{get:function(){return this.panelBase},enumerable:!1,configurable:!0}),t.prototype.handleEditClick=function(e){this.panel.cancelPreview()},t.prototype.renderElement=function(){var e=this.renderTitle(),t=this.renderDescription(),n=o.createElement(i.b,{element:this.panelBase,cssClasses:this.panelBase.cssClasses,creator:this.creator}),r={paddingLeft:this.panel.innerPaddingLeft,display:this.panel.isCollapsed?"none":"block"},a=null;if(!this.panel.isCollapsed||this.hasBeenExpanded){this.hasBeenExpanded=!0;var s=this.renderRows(this.panelBase.cssClasses),u=this.panelBase.cssClasses.panel.content;a=this.renderContent(r,s,u)}var l={};this.panel.renderWidth&&(l.width=this.panel.renderWidth,l.flexGrow=1,l.flexShrink=1,l.flexBasis=this.panel.renderWidth,l.minWidth=this.panel.minWidth,l.maxWidth=this.panel.maxWidth);var c=this.renderBottom();return o.createElement("div",{ref:this.rootRef,className:this.panelBase.cssClasses.panel.container,style:l},e,t,n,a,c)},t.prototype.renderContent=function(e,t,n){return o.createElement("div",{style:e,className:n,id:this.panel.contentId},t)},t.prototype.renderTitle=function(){var e=this;if(!this.panelBase.title)return null;var t=s.a.Instance.createElement(this.panel.getTitleComponentName(),{element:this.panel,cssClasses:this.panel.cssClasses.panel}),n=this.panel.cssClasses.panel.title;return(this.panel.isCollapsed||this.panel.isExpanded)&&(n+=" "+this.panel.cssClasses.panel.titleExpandable),this.panel.containsErrors&&(n+=" "+this.panel.cssClasses.panel.titleOnError),o.createElement("h4",{className:n,onClick:function(){e.panel.toggleState()}},t)},t.prototype.renderDescription=function(){if(!this.panelBase.description)return null;var e=a.a.renderLocString(this.panelBase.locDescription);return o.createElement("div",{className:this.panel.cssClasses.panel.description},e)},t.prototype.renderBottom=function(){if(this.panel.hasEditButton&&this.survey)return o.createElement("div",{className:this.panel.cssClasses.panel.footer},o.createElement("input",{className:this.survey.cssNavigationEdit,type:"button",onClick:this.handleEditClick,value:this.survey.editText}))},t}(u.a);s.a.Instance.registerElement("panel",(function(e){return o.createElement(l,e)}))},function(e,t,n){"use strict";var r=n(5),o=n(19);n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var i=function(){},a=function(e,t){this.name=e,this.returnDisplayValue=t,this.isExists=!1,this.canProcess=!0},s=function(){function e(){}return e.prototype.process=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),this.hasAllValuesOnLastRunValue=!0,!e)return e;if(!this.onProcess)return e;for(var o=this.getItems(e),i=o.length-1;i>=0;i--){var s=o[i],u=this.getName(e.substring(s.start+1,s.end));if(u){var l=new a(u,t);if(this.onProcess(l),l.isExists){r.a.isValueEmpty(l.value)&&(this.hasAllValuesOnLastRunValue=!1);var c=r.a.isValueEmpty(l.value)?"":l.value;n&&(c=encodeURIComponent(c)),e=e.substr(0,s.start)+c+e.substr(s.end+1)}else l.canProcess&&(this.hasAllValuesOnLastRunValue=!1)}}return e},e.prototype.processValue=function(e,t){var n=new a(e,t);return this.onProcess&&this.onProcess(n),n},Object.defineProperty(e.prototype,"hasAllValuesOnLastRun",{get:function(){return!!this.hasAllValuesOnLastRunValue},enumerable:!1,configurable:!0}),e.prototype.getItems=function(e){for(var t=[],n=e.length,r=-1,o="",a=0;a<n;a++)if("{"==(o=e[a])&&(r=a),"}"==o){if(r>-1){var s=new i;s.start=r,s.end=a,t.push(s)}r=-1}return t},e.prototype.getName=function(e){if(e)return e.trim()},e}(),u=function(){function e(e){var t=this;this.variableName=e,this.textPreProcessor=new s,this.textPreProcessor.onProcess=function(e){t.getProcessedTextValue(e)}}return e.prototype.processValue=function(e,t){return this.textPreProcessor.processValue(e,t)},Object.defineProperty(e.prototype,"survey",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"panel",{get:function(){return null},enumerable:!1,configurable:!0}),e.prototype.getValues=function(){return this.panel?this.panel.getValue():null},e.prototype.getQuestionByName=function(e){return this.panel?this.panel.getQuestionByValueName(e):null},e.prototype.onCustomProcessText=function(e){return!1},e.prototype.getProcessedTextValue=function(e){if(e&&!this.onCustomProcessText(e)){var t=(new o.a).getFirstName(e.name);if(e.isExists=t==this.variableName,e.canProcess=e.isExists,e.canProcess){e.name=e.name.replace(this.variableName+".",""),t=(new o.a).getFirstName(e.name);var n=this.getQuestionByName(t),r={};if(n)r[t]=e.returnDisplayValue?n.displayValue:n.value;else{var i=this.panel?this.getValues():null;i&&(r[t]=i[t])}e.value=(new o.a).getValue(e.name,r)}}},e.prototype.processText=function(e,t){e=this.textPreProcessor.process(e,t);var n=this.survey;return n?n.processText(e,t):e},e.prototype.processTextEx=function(e,t){e=this.processText(e,t);var n=this.textPreProcessor.hasAllValuesOnLastRun,r={hasAllValuesOnLastRun:!0,text:e};return this.survey&&(r=this.survey.processTextEx(e,t,!1)),r.hasAllValuesOnLastRun=r.hasAllValuesOnLastRun&&n,r},e}()},function(e,t,n){"use strict";var r=n(0),o=n(2);n.n(o),n.d(t,"a",(function(){return i}));var i=function(e){function t(t){var n=e.call(this,t)||this;return n.updateStateFunction=null,n.state={update:0},n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"survey",{get:function(){return this.props.survey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"css",{get:function(){return this.props.css},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){if(this.survey){var e=this;this.updateStateFunction=function(){e.setState({update:e.state.update+1})},this.survey.onPageVisibleChanged.add(this.updateStateFunction)}},t.prototype.componentWillUnmount=function(){this.survey&&this.updateStateFunction&&(this.survey.onPageVisibleChanged.remove(this.updateStateFunction),this.updateStateFunction=null)},t}(o.Component)},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(28),a=n(19);n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return f}));var s=function(){function e(){}return e.prototype.toString=function(e){return void 0===e&&(e=void 0),""},e.prototype.hasFunction=function(){return!1},e.prototype.hasAsyncFunction=function(){return!1},e.prototype.addToAsyncList=function(e){},e}(),u=function(e){function t(t,n,r,o){void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=!1);var i=e.call(this)||this;return i.operatorName=t,i.left=n,i.right=r,i.isArithmeticValue=o,i.consumer=o?f.binaryFunctions.arithmeticOp(t):f.binaryFunctions[t],null==i.consumer&&f.throwInvalidOperatorError(t),i}return n.i(r.a)(t,e),t.prototype.getType=function(){return"binary"},Object.defineProperty(t.prototype,"isArithmetic",{get:function(){return this.isArithmeticValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isConjunction",{get:function(){return"or"==this.operatorName||"and"==this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"conjunction",{get:function(){return this.isConjunction?this.operatorName:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftOperand",{get:function(){return this.left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightOperand",{get:function(){return this.right},enumerable:!1,configurable:!0}),t.prototype.evaluateParam=function(e,t){return null==e?null:e.evaluate(t)},t.prototype.evaluate=function(e){return this.consumer.call(this,this.evaluateParam(this.left,e),this.evaluateParam(this.right,e))},t.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var t=e(this);if(t)return t}return"("+f.safeToString(this.left,e)+" "+f.operatorToString(this.operatorName)+" "+f.safeToString(this.right,e)+")"},t.prototype.setVariables=function(e){null!=this.left&&this.left.setVariables(e),null!=this.right&&this.right.setVariables(e)},t.prototype.hasFunction=function(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()},t.prototype.hasAsyncFunction=function(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()},t.prototype.addToAsyncList=function(e){this.left&&this.left.addToAsyncList(e),this.right&&this.right.addToAsyncList(e)},t}(s),l=function(e){function t(t,n){var r=e.call(this)||this;return r.expressionValue=t,r.operatorName=n,r.consumer=f.unaryFunctions[n],null==r.consumer&&f.throwInvalidOperatorError(n),r}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"unary"},t.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var t=e(this);if(t)return t}return f.operatorToString(this.operatorName)+" "+this.expression.toString(e)},t.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return this.consumer.call(this,t)},t.prototype.setVariables=function(e){this.expression.setVariables(e)},t}(s),c=function(e){function t(t){var n=e.call(this)||this;return n.values=t,n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"array"},t.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var t=e(this);if(t)return t}return"["+this.values.map((function(t){return t.toString(e)})).join(", ")+"]"},t.prototype.evaluate=function(e){return this.values.map((function(t){return t.evaluate(e)}))},t.prototype.setVariables=function(e){this.values.forEach((function(t){t.setVariables(e)}))},t.prototype.hasFunction=function(){return this.values.some((function(e){return e.hasFunction()}))},t.prototype.hasAsyncFunction=function(){return this.values.some((function(e){return e.hasAsyncFunction()}))},t.prototype.addToAsyncList=function(e){this.values.forEach((function(t){return t.addToAsyncList(e)}))},t}(s),p=function(e){function t(t){var n=e.call(this)||this;return n.value=t,n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"const"},t.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var t=e(this);if(t)return t}return this.value.toString()},Object.defineProperty(t.prototype,"correctValue",{get:function(){return this.getCorrectValue(this.value)},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(){return this.getCorrectValue(this.value)},t.prototype.setVariables=function(e){},t.prototype.getCorrectValue=function(e){return e&&"string"==typeof e?this.isBooleanValue(e)?"true"===e.toLowerCase():e.length>1&&this.isQuote(e[0])&&this.isQuote(e[e.length-1])?e.substr(1,e.length-2):f.isNumeric(e)?0==e.indexOf("0x")?parseInt(e):e.length>1&&"0"==e[0]?e:parseFloat(e):e:e},t.prototype.isQuote=function(e){return"'"==e||'"'==e},t.prototype.isBooleanValue=function(e){return e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())},t}(s),d=function(e){function t(n){var r=e.call(this,n)||this;return r.variableName=n,r.valueInfo={},r.useValueAsItIs=!1,r.variableName&&r.variableName.length>1&&r.variableName[0]===t.DisableConversionChar&&(r.variableName=r.variableName.substr(1),r.useValueAsItIs=!0),r}return n.i(r.a)(t,e),t.prototype.getType=function(){return"variable"},t.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var n=e(this);if(n)return n}return"{"+(this.useValueAsItIs?t.DisableConversionChar:"")+this.variableName+"}"},Object.defineProperty(t.prototype,"variable",{get:function(){return this.variableName},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(e){return this.valueInfo.name=this.variableName,e.getValueInfo(this.valueInfo),this.valueInfo.hasValue?this.getCorrectValue(this.valueInfo.value):null},t.prototype.setVariables=function(e){e.push(this.variableName)},t.prototype.getCorrectValue=function(t){return this.useValueAsItIs?t:e.prototype.getCorrectValue.call(this,t)},t.DisableConversionChar="#",t}(p),h=function(e){function t(t,n){var r=e.call(this)||this;return r.origionalValue=t,r.parameters=n,r.isReadyValue=!1,Array.isArray(n)&&0===n.length&&(r.parameters=new c([])),r}return n.i(r.a)(t,e),t.prototype.getType=function(){return"function"},t.prototype.evaluateAsync=function(e){var t=this;this.isReadyValue=!1;var n=new a.a;n.values=o.a.createCopy(e.values),n.properties=o.a.createCopy(e.properties),n.properties.returnResult=function(e){t.asynResult=e,t.isReadyValue=!0,t.onAsyncReady()},this.evaluateCore(n)},t.prototype.evaluate=function(e){return this.isReady?this.asynResult:this.evaluateCore(e)},t.prototype.evaluateCore=function(e){return i.a.Instance.run(this.origionalValue,this.parameters.evaluate(e),e.properties)},t.prototype.toString=function(e){if(void 0===e&&(e=void 0),e){var t=e(this);if(t)return t}return this.origionalValue+"("+this.parameters.toString(e)+")"},t.prototype.setVariables=function(e){this.parameters.setVariables(e)},Object.defineProperty(t.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),t.prototype.hasFunction=function(){return!0},t.prototype.hasAsyncFunction=function(){return i.a.Instance.isAsyncFunction(this.origionalValue)},t.prototype.addToAsyncList=function(e){this.hasAsyncFunction()&&e.push(this)},t}(s),f=function(){function e(){}return e.throwInvalidOperatorError=function(e){throw new Error("Invalid operator: '"+e+"'")},e.safeToString=function(e,t){return null==e?"":e.toString(t)},e.toOperandString=function(t){return!t||e.isNumeric(t)||e.isBooleanValue(t)||(t="'"+t+"'"),t},e.isSpaceString=function(e){return!!e&&!e.replace(" ","")},e.isNumeric=function(t){return(!t||!(t.indexOf("-")>-1||t.indexOf("+")>1||t.indexOf("*")>-1||t.indexOf("^")>-1||t.indexOf("/")>-1||t.indexOf("%")>-1))&&!e.isSpaceString(t)&&o.a.isNumber(t)},e.isBooleanValue=function(e){return!!e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())},e.isTwoValueEquals=function(e,t){return"undefined"===e&&(e=void 0),"undefined"===t&&(t=void 0),o.a.isTwoValueEquals(e,t,!0)},e.operatorToString=function(t){var n=e.signs[t];return null==n?t:n},e.unaryFunctions={empty:function(e){return o.a.isValueEmpty(e)},notempty:function(t){return!e.unaryFunctions.empty(t)},negate:function(e){return!e}},e.binaryFunctions={arithmeticOp:function(t){return function(n,r){o.a.isValueEmpty(n)&&!e.isSpaceString(n)&&(n="string"==typeof r?"":0),o.a.isValueEmpty(r)&&!e.isSpaceString(r)&&(r="string"==typeof n?"":0);var i=e.binaryFunctions[t];return null==i?null:i.call(this,n,r)}},and:function(e,t){return e&&t},or:function(e,t){return e||t},plus:function(e,t){return e+t},minus:function(e,t){return e-t},mul:function(e,t){return e*t},div:function(e,t){return t?e/t:null},mod:function(e,t){return t?e%t:null},power:function(e,t){return Math.pow(e,t)},greater:function(e,t){return null!=e&&null!=t&&e>t},less:function(e,t){return null!=e&&null!=t&&e<t},greaterorequal:function(t,n){return!!e.binaryFunctions.equal(t,n)||e.binaryFunctions.greater(t,n)},lessorequal:function(t,n){return!!e.binaryFunctions.equal(t,n)||e.binaryFunctions.less(t,n)},equal:function(t,n){return e.isTwoValueEquals(t,n)},notequal:function(t,n){return!e.binaryFunctions.equal(t,n)},contains:function(t,n){return e.binaryFunctions.containsCore(t,n,!0)},notcontains:function(t,n){return!t&&!o.a.isValueEmpty(n)||e.binaryFunctions.containsCore(t,n,!1)},anyof:function(t,n){if(!t&&o.a.isValueEmpty(n))return!0;if(!t||!Array.isArray(t)&&0===t.length)return!1;if(o.a.isValueEmpty(n))return!0;if(!Array.isArray(t))return e.binaryFunctions.contains(n,t);if(!Array.isArray(n))return e.binaryFunctions.contains(t,n);for(var r=0;r<n.length;r++)if(e.binaryFunctions.contains(t,n[r]))return!0;return!1},allof:function(t,n){if(!t&&!o.a.isValueEmpty(n))return!1;if(!Array.isArray(n))return e.binaryFunctions.contains(t,n);for(var r=0;r<n.length;r++)if(!e.binaryFunctions.contains(t,n[r]))return!1;return!0},containsCore:function(t,n,r){if(!t)return!1;if(t.length||(t=t.toString()),"string"==typeof t||t instanceof String){if(!n)return!1;n=n.toString();var o=t.indexOf(n)>-1;return r?o:!o}for(var i=Array.isArray(n)?n:[n],a=0;a<i.length;a++){var s=0;for(n=i[a];s<t.length&&!e.isTwoValueEquals(t[s],n);s++);if(s==t.length)return!r}return r}},e.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"},e}()},function(e,t,n){"use strict";var r=n(5);n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var o=function(){function e(){this.functionHash={},this.isAsyncHash={}}return e.prototype.register=function(e,t,n){void 0===n&&(n=!1),this.functionHash[e]=t,n&&(this.isAsyncHash[e]=!0)},e.prototype.unregister=function(e){delete this.functionHash[e],delete this.isAsyncHash[e]},e.prototype.hasFunction=function(e){return!!this.functionHash[e]},e.prototype.isAsyncFunction=function(e){return!!this.isAsyncHash[e]},e.prototype.clear=function(){this.functionHash={}},e.prototype.getAll=function(){var e=[];for(var t in this.functionHash)e.push(t);return e.sort()},e.prototype.run=function(e,t,n){void 0===n&&(n=null);var r=this.functionHash[e];if(!r)return null;var o={func:r};if(n)for(var i in n)o[i]=n[i];return o.func(t)},e.Instance=new e,e}(),i=o.Instance.register;function a(e,t){if(null!=e)if(Array.isArray(e))for(var n=0;n<e.length;n++)a(e[n],t);else r.a.isNumber(e)&&(e=parseFloat(e)),t.push(e)}function s(e,t){var n=[];a(e,n);for(var r=void 0,o=0;o<n.length;o++)void 0===r&&(r=n[o]),t?r>n[o]&&(r=n[o]):r<n[o]&&(r=n[o]);return r}function u(e,t){var n=function(e){if(2!=e.length)return null;var t=e[0];if(!t)return null;if(!Array.isArray(t)&&!Array.isArray(Object.keys(t)))return null;var n=e[1];return"string"==typeof n||n instanceof String?{data:t,name:n}:null}(e);if(n){var r=void 0;if(Array.isArray(n.data))for(var o=0;o<n.data.length;o++)(a=n.data[o])&&a[n.name]&&(r=t(r,a[n.name]));else for(var i in n.data){var a;(a=n.data[i])&&a[n.name]&&(r=t(r,a[n.name]))}return r}}function l(e){var t=u(e,(function(e,t){return null==e&&(e=0),+e+ +t}));return void 0!==t?t:0}function c(e){var t=u(e,(function(e,t){return null==e&&(e=0),e+1}));return void 0!==t?t:0}o.Instance.register("sum",(function(e){var t=[];a(e,t);for(var n=0,r=0;r<t.length;r++)n+=t[r];return n})),o.Instance.register("min",(function(e){return s(e,!0)})),o.Instance.register("max",(function(e){return s(e,!1)})),o.Instance.register("count",(function(e){var t=[];return a(e,t),t.length})),o.Instance.register("avg",(function(e){var t=[];a(e,t);for(var n=0,r=0;r<t.length;r++)n+=t[r];return t.length>0?n/t.length:0})),o.Instance.register("sumInArray",l),o.Instance.register("minInArray",(function(e){return u(e,(function(e,t){return null==e?t:e<t?e:t}))})),o.Instance.register("maxInArray",(function(e){return u(e,(function(e,t){return null==e?t:e>t?e:t}))})),o.Instance.register("countInArray",c),o.Instance.register("avgInArray",(function(e){var t=c(e);return 0==t?0:l(e)/t})),o.Instance.register("iif",(function(e){return e||3===e.length?e[0]?e[1]:e[2]:""})),o.Instance.register("getDate",(function(e){return!e&&e.length<1?null:e[0]?new Date(e[0]):null})),o.Instance.register("age",(function(e){if(!e&&e.length<1)return null;if(!e[0])return null;var t=new Date(e[0]),n=new Date,r=n.getFullYear()-t.getFullYear(),o=n.getMonth()-t.getMonth();return(o<0||0===o&&n.getDate()<t.getDate())&&(r-=r>0?1:0),r})),o.Instance.register("isContainerReady",(function(e){if(!e&&e.length<1)return!1;if(!e[0]||!this.survey)return!1;var t=e[0],n=this.survey.getPageByName(t);if(n||(n=this.survey.getPanelByName(t)),!n)return!1;for(var r=n.questions,o=0;o<r.length;o++)if(r[o].hasErrors(!1))return!1;return!0})),o.Instance.register("isDisplayMode",(function(){return this.survey&&this.survey.isDisplayMode})),o.Instance.register("currentDate",(function(){return new Date})),o.Instance.register("today",(function(e){var t=new Date;return Array.isArray(e)&&1==e.length&&t.setDate(t.getDate()+e[0]),t}))},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(43),a=n(5),s=n(7),u=n(25),l=n(1),c=n(8),p=n(16),d=n(49),h=n(28),f=n(22),m=n(11),g=n(13);function v(e,t,n,r){e.storeOthersAsComment=!!n&&n.storeOthersAsComment,e.choices&&0!=e.choices.length||!e.choicesByUrl.isEmpty||(e.choices=n.choices),e.choicesByUrl.isEmpty||e.choicesByUrl.run(r.getTextProcessor())}n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return x})),n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return k})),n.d(t,"e",(function(){return T}));var y={dropdown:{properties:["choices","choicesOrder","choicesByUrl","optionsCaption","otherText","choicesVisibleIf"],onCellQuestionUpdate:function(e,t,n,r){v(e,0,n,r),e.locOptionsCaption&&e.locOptionsCaption.isEmpty&&!n.locOptionsCaption.isEmpty&&(e.optionsCaption=n.optionsCaption)}},checkbox:{properties:["choices","choicesOrder","choicesByUrl","otherText","choicesVisibleIf","hasSelectAll","hasNone"],onCellQuestionUpdate:function(e,t,n,r){v(e,0,n,r),e.colCount=t.colCount>-1?t.colCount:n.columnColCount}},radiogroup:{properties:["choices","choicesOrder","choicesByUrl","otherText","choicesVisibleIf"],onCellQuestionUpdate:function(e,t,n,r){v(e,0,n,r),e.colCount=t.colCount>-1?t.colCount:n.columnColCount}},text:{properties:["placeHolder","inputType","maxLength","min","max","step"],onCellQuestionUpdate:function(e,t,n,r){}},comment:{properties:["placeHolder","rows","maxLength"],onCellQuestionUpdate:function(e,t,n,r){}},boolean:{properties:["renderAs","defaultValue"],onCellQuestionUpdate:function(e,t,n,r){e.showTitle=!0,e.renderAs=t.renderAs}},expression:{properties:["expression","displayStyle","currency"],onCellQuestionUpdate:function(e,t,n,r){}},rating:{properties:["rateValues"]}},b=function(e){function t(t,n){void 0===n&&(n=null);var r=e.call(this)||this;r.colOwnerValue=null,r.indexValue=-1,r._isVisible=!0,r._hasVisibleCell=!0;var o=r;return r.createLocalizableString("totalFormat",r),r.registerFunctionOnPropertyValueChanged("showInMultipleColumns",(function(){o.doShowInMultipleColumnsChanged()})),r.updateTemplateQuestion(),r.name=t,n&&(r.title=n),r}return n.i(r.a)(t,e),t.getColumnTypes=function(){var e=[];for(var t in y)e.push(t);return e},t.prototype.getSurvey=function(){return this.colOwner?this.colOwner.survey:null},t.prototype.endLoadingFromJson=function(){var t=this;e.prototype.endLoadingFromJson.call(this),this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=function(){return t.getSurvey()}},t.prototype.getDynamicPropertyName=function(){return"cellType"},t.prototype.getDynamicType=function(){return this.calcCellQuestionType()},Object.defineProperty(t.prototype,"colOwner",{get:function(){return this.colOwnerValue},set:function(e){this.colOwnerValue=e,this.updateTemplateQuestion()},enumerable:!1,configurable:!0}),t.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.locTitle.strChanged()},t.prototype.addUsedLocales=function(t){e.prototype.addUsedLocales.call(this,t),this.templateQuestion.addUsedLocales(t)},Object.defineProperty(t.prototype,"index",{get:function(){return this.indexValue},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e){this.indexValue=e},t.prototype.getType=function(){return"matrixdropdowncolumn"},Object.defineProperty(t.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType")},set:function(e){e=e.toLocaleLowerCase(),this.setPropertyValue("cellType",e),this.updateTemplateQuestion(),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateQuestion",{get:function(){return this.templateQuestionValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.templateQuestion.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},enumerable:!1,configurable:!0}),t.prototype.setIsVisible=function(e){this._isVisible=e},Object.defineProperty(t.prototype,"hasVisibleCell",{get:function(){return this._hasVisibleCell},set:function(e){this._hasVisibleCell=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.templateQuestion.name},set:function(e){this.templateQuestion.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.templateQuestion.title},set:function(e){this.templateQuestion.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.templateQuestion.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullTitle",{get:function(){return this.locTitle.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.templateQuestion.isRequired},set:function(e){this.templateQuestion.isRequired=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.templateQuestion.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.templateQuestion.requiredErrorText},set:function(e){this.templateQuestion.requiredErrorText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.templateQuestion.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.templateQuestion.readOnly},set:function(e){this.templateQuestion.readOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasOther",{get:function(){return this.templateQuestion.hasOther},set:function(e){this.templateQuestion.hasOther=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.templateQuestion.visibleIf},set:function(e){this.templateQuestion.visibleIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.templateQuestion.enableIf},set:function(e){this.templateQuestion.enableIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredIf",{get:function(){return this.templateQuestion.requiredIf},set:function(e){this.templateQuestion.requiredIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUnique",{get:function(){return this.getPropertyValue("isUnique")},set:function(e){this.setPropertyValue("isUnique",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showInMultipleColumns",{get:function(){return this.getPropertyValue("showInMultipleColumns",!1)},set:function(e){this.setPropertyValue("showInMultipleColumns",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSupportMultipleColumns",{get:function(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowInMultipleColumns",{get:function(){return this.showInMultipleColumns&&this.isSupportMultipleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validators",{get:function(){return this.templateQuestion.validators},set:function(e){this.templateQuestion.validators=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalType",{get:function(){return this.getPropertyValue("totalType","none")},set:function(e){this.setPropertyValue("totalType",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalExpression",{get:function(){return this.getPropertyValue("totalExpression")},set:function(e){this.setPropertyValue("totalExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTotal",{get:function(){return"none"!=this.totalType||!!this.totalExpression},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalFormat",{get:function(){return this.getLocalizableStringText("totalFormat","")},set:function(e){this.setLocalizableStringText("totalFormat",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTotalFormat",{get:function(){return this.getLocalizableString("totalFormat")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderAs",{get:function(){return this.getPropertyValue("renderAs")},set:function(e){this.setPropertyValue("renderAs",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalMaximumFractionDigits",{get:function(){return this.getPropertyValue("totalMaximumFractionDigits",-1)},set:function(e){e<-1||e>20||this.setPropertyValue("totalMaximumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalMinimumFractionDigits",{get:function(){return this.getPropertyValue("totalMinimumFractionDigits",-1)},set:function(e){e<-1||e>20||this.setPropertyValue("totalMinimumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalDisplayStyle",{get:function(){return this.getPropertyValue("totalDisplayStyle")},set:function(e){this.setPropertyValue("totalDisplayStyle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalCurrency",{get:function(){return this.getPropertyValue("totalCurrency")},set:function(e){n.i(d.b)().indexOf(e)<0||this.setPropertyValue("totalCurrency",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth","")},set:function(e){this.setPropertyValue("minWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(e){this.setPropertyValue("width",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount",-1)},set:function(e){e<-1||e>4||this.setPropertyValue("colCount",e)},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.colOwner?this.colOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,t){return this.colOwner?this.colOwner.getMarkdownHtml(e,t):null},t.prototype.getRenderer=function(e){return this.colOwner?this.colOwner.getRenderer(e):null},t.prototype.getProcessedText=function(e){return this.colOwner?this.colOwner.getProcessedText(e):e},t.prototype.createCellQuestion=function(e){var t=this.calcCellQuestionType(),n=this.createNewQuestion(t);return this.callOnCellQuestionUpdate(n,e),n},t.prototype.updateCellQuestion=function(e,t,n){void 0===n&&(n=null),this.setQuestionProperties(e,n),this.callOnCellQuestionUpdate(e,t)},t.prototype.callOnCellQuestionUpdate=function(e,t){var n=e.getType(),r=y[n];r&&r.onCellQuestionUpdate&&r.onCellQuestionUpdate(e,this,this.colOwner,t)},t.prototype.defaultCellTypeChanged=function(){this.updateTemplateQuestion()},t.prototype.calcCellQuestionType=function(){return"default"!==this.cellType?this.cellType:this.colOwner?this.colOwner.getCellType():m.a.matrixDefaultCellType},t.prototype.updateTemplateQuestion=function(){var e=this,t=this.templateQuestion?this.templateQuestion.getType():"",n=this.calcCellQuestionType();if(n!==t){this.templateQuestion&&this.removeProperties(t),this.templateQuestionValue=this.createNewQuestion(n),this.templateQuestion.locOwner=this,this.addProperties(n);var r=this;this.templateQuestion.onPropertyChanged.add((function(e,t){r.propertyValueChanged(t.name,t.oldValue,t.newValue)})),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=function(){return e.getSurvey()})}},t.prototype.createNewQuestion=function(e){var t=o.k.createClass(e);return t||(t=o.k.createClass("text")),t.loadingOwner=this,this.setQuestionProperties(t),t},t.prototype.setQuestionProperties=function(e,t){if(void 0===t&&(t=null),this.templateQuestion){var n=(new o.g).toJsonObject(this.templateQuestion,!0);t&&t(n),n.type=e.getType(),(new o.g).toObject(n,e)}},t.prototype.propertyValueChanged=function(t,n,r){e.prototype.propertyValueChanged.call(this,t,n,r),"visibleChoices"!==t&&"isReadOnly"!==t&&(null==this.colOwner||this.isLoadingFromJson||this.colOwner.onColumnPropertyChanged(this,t,r))},t.prototype.doShowInMultipleColumnsChanged=function(){null==this.colOwner||this.isLoadingFromJson||this.colOwner.onShowInMultipleColumnsChanged(this)},t.prototype.getProperties=function(e){return o.k.getDynamicPropertiesByObj(this,e)},t.prototype.removeProperties=function(e){for(var t=this.getProperties(e),n=0;n<t.length;n++){var r=t[n];delete this[r.name],r.serializationProperty&&delete this[r.serializationProperty]}},t.prototype.addProperties=function(e){for(var t=this.templateQuestion,n=this.getProperties(e),r=0;r<n.length;r++){var o=n[r];this.addProperty(t,o.name,!1),o.serializationProperty&&this.addProperty(t,o.serializationProperty,!0)}},t.prototype.addProperty=function(e,t,n){var r={configurable:!0,get:function(){return e[t]}};n||(r.set=function(n){e[t]=n}),Object.defineProperty(this,t,r)},t}(s.a),x=function(){function e(e,t,n){this.column=e,this.row=t,this.data=n,this.questionValue=this.createQuestion(e,t,n),this.questionValue.updateCustomWidget()}return e.prototype.locStrsChanged=function(){this.question.locStrsChanged()},e.prototype.createQuestion=function(e,t,n){var r=n.createQuestion(this.row,this.column);return r.validateValueCallback=function(){return n.validateCell(t,e.name,t.value)},o.n.getProperties(e.getType()).forEach((function(t){var n=t.name;void 0!==e[n]&&(r[n]=e[n])})),r},Object.defineProperty(e.prototype,"question",{get:function(){return this.questionValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.question.value},set:function(e){this.question.value=e},enumerable:!1,configurable:!0}),e.prototype.runCondition=function(e,t){this.question.runCondition(e,t)},e}(),w=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.column=t,o.row=n,o.data=r,o.updateCellQuestion(),o}return n.i(r.a)(t,e),t.prototype.createQuestion=function(e,t,n){var r=o.k.createClass("expression");return r.setSurveyImpl(t),r},t.prototype.locStrsChanged=function(){this.updateCellQuestion(),e.prototype.locStrsChanged.call(this)},t.prototype.updateCellQuestion=function(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,(function(e){delete e.defaultValue})),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation()},t.prototype.getTotalExpression=function(){if(this.column.totalExpression)return this.column.totalExpression;if("none"==this.column.totalType)return"";var e=this.column.totalType+"InArray";return h.a.Instance.hasFunction(e)?e+"({self}, '"+this.column.name+"')":""},t}(x),C=function(e){function t(t,n){var r=e.call(this,n)||this;return r.row=t,r.variableName=n,r}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"survey",{get:function(){return this.row.getSurvey()},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.row.value},t.prototype.getQuestionByName=function(e){return this.row.getQuestionByName(e)},t.prototype.onCustomProcessText=function(e){return e.name==_.IndexVariableName?(e.isExists=!0,e.value=this.row.rowIndex,!0):e.name==_.RowValueVariableName&&(e.isExists=!0,e.value=this.row.rowName,!0)},t}(u.b),_=function(){function e(t,n){var r=this;this.isSettingValue=!1,this.detailPanelValue=null,this.cells=[],this.isCreatingDetailPanel=!1,this.data=t,this.subscribeToChanges(n),this.textPreProcessor=new C(this,e.RowVariableName),this.showHideDetailPanelClick=function(){r.showHideDetailPanel()},this.idValue=e.getId()}return e.getId=function(){return"srow_"+e.idCounter++},Object.defineProperty(e.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rowName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){for(var e={},t=this.questions,n=0;n<t.length;n++){var r=t[n];r.isEmpty()||(e[r.getValueName()]=r.value),r.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(e[r.getValueName()+m.a.commentPrefix]=r.comment)}return e},set:function(e){this.isSettingValue=!0,this.subscribeToChanges(e);for(var t=this.questions,n=0;n<t.length;n++){var r=t[n],o=e?e[r.getValueName()]:null,i=r.comment,s=e?e[r.getValueName()+m.a.commentPrefix]:"";null==s&&(s=""),r.updateValueFromSurvey(o),(s||a.a.isTwoValueEquals(i,r.comment))&&r.updateCommentFromSurvey(s),r.onSurveyValueChanged(o)}this.isSettingValue=!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"locText",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPanel",{get:function(){return!!this.data&&this.data.hasDetailPanel(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"detailPanelId",{get:function(){return this.detailPanel?this.detailPanel.id:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDetailPanelShowing",{get:function(){return!!this.data&&this.data.getIsDetailPanelShowing(this)},enumerable:!1,configurable:!0}),e.prototype.setIsDetailPanelShowing=function(e){this.data&&this.data.setIsDetailPanelShowing(this,e)},e.prototype.showHideDetailPanel=function(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()},e.prototype.showDetailPanel=function(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)},e.prototype.hideDetailPanel=function(e){void 0===e&&(e=!1),this.setIsDetailPanelShowing(!1),e&&(this.detailPanelValue=null)},e.prototype.ensureDetailPanel=function(){if(!this.isCreatingDetailPanel&&!this.detailPanelValue&&this.hasPanel&&this.data){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var e=this.detailPanelValue.questions,t=this.data.getRowValue(this.data.getRowIndex(this));if(!a.a.isValueEmpty(t))for(var n=0;n<e.length;n++){var r=e[n].getValueName();a.a.isValueEmpty(t[r])||(e[n].value=t[r])}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}},e.prototype.getAllValues=function(){return this.value},e.prototype.getFilteredValues=function(){var e=this.getAllValues(),t={row:e};for(var n in e)t[n]=e[n];return t},e.prototype.getFilteredProperties=function(){return{survey:this.getSurvey(),row:this}},e.prototype.runCondition=function(t,n){this.data&&(t[e.OwnerVariableName]=this.data.value),t[e.IndexVariableName]=this.rowIndex,t[e.RowValueVariableName]=this.rowName,n||(n={}),n[e.RowVariableName]=this;for(var r=0;r<this.cells.length;r++)t[e.RowVariableName]=this.value,this.cells[r].runCondition(t,n);this.detailPanel&&this.detailPanel.runCondition(t,n)},e.prototype.onAnyValueChanged=function(e){for(var t=this.questions,n=0;n<t.length;n++)t[n].onAnyValueChanged(e)},e.prototype.getDataValueCore=function(e,t){var n=this.getSurvey();return n?n.getDataValueCore(e,t):e[t]},e.prototype.getValue=function(e){var t=this.getQuestionByName(e);return t?t.value:null},e.prototype.setValue=function(e,t){this.setValueCore(e,t,!1)},e.prototype.getVariable=function(e){},e.prototype.setVariable=function(e,t){},e.prototype.getComment=function(e){var t=this.getQuestionByName(e);return t?t.comment:""},e.prototype.setComment=function(e,t,n){this.setValueCore(e,t,!0)},e.prototype.setValueCore=function(t,n,r){if(!this.isSettingValue){var o=this.value,i=r?t+m.a.commentPrefix:t,s=r?this.getComment(t):this.getValue(t),u=this.getQuestionByName(t),l=this.data.onRowChanging(this,i,o);if(u&&!a.a.isTwoValueEquals(l,s))r?u.comment=l:u.value=l;else{if(this.data.isValidateOnValueChanging&&this.hasQuestonError(u))return;this.data.onRowChanged(this,i,o,null==n&&!u),this.onAnyValueChanged(e.RowVariableName)}}},e.prototype.hasQuestonError=function(e){if(!e)return!1;if(e.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(e.isEmpty())return!1;var t=this.getCellByColumnName(e.name);return!!(t&&t.column&&t.column.isUnique)&&this.data.checkIfValueInRowDuplicated(this,e)},Object.defineProperty(e.prototype,"isEmpty",{get:function(){var e=this.value;if(a.a.isValueEmpty(e))return!0;for(var t in e)if(void 0!==e[t]&&null!==e[t])return!1;return!0},enumerable:!1,configurable:!0}),e.prototype.getQuestionByColumn=function(e){for(var t=0;t<this.cells.length;t++)if(this.cells[t].column==e)return this.cells[t].question;return null},e.prototype.getCellByColumnName=function(e){for(var t=0;t<this.cells.length;t++)if(this.cells[t].column.name==e)return this.cells[t];return null},e.prototype.getQuestionByColumnName=function(e){var t=this.getCellByColumnName(e);return t?t.question:null},Object.defineProperty(e.prototype,"questions",{get:function(){for(var e=[],t=0;t<this.cells.length;t++)e.push(this.cells[t].question);var n=this.detailPanel?this.detailPanel.questions:[];for(t=0;t<n.length;t++)e.push(n[t]);return e},enumerable:!1,configurable:!0}),e.prototype.getQuestionByName=function(e){var t=this.getQuestionByColumnName(e);return t||(this.detailPanel?this.detailPanel.getQuestionByName(e):null)},e.prototype.getQuestionsByName=function(e){var t=[],n=this.getQuestionByColumnName(e);return n&&t.push(n),this.detailPanel&&(n=this.detailPanel.getQuestionByName(e))&&t.push(n),t},e.prototype.getSharedQuestionByName=function(e){return this.data?this.data.getSharedQuestionByName(e,this):null},e.prototype.clearIncorrectValues=function(e){for(var t in e){var n=this.getQuestionByName(t);if(n){var r=n.value;n.clearIncorrectValues(),a.a.isTwoValueEquals(r,n.value)||this.setValue(t,n.value)}else!this.getSharedQuestionByName(t)&&t.indexOf(m.a.matrixTotalValuePostFix)<0&&this.setValue(t,null)}},e.prototype.getLocale=function(){return this.data?this.data.getLocale():""},e.prototype.getMarkdownHtml=function(e,t){return this.data?this.data.getMarkdownHtml(e,t):null},e.prototype.getRenderer=function(e){return this.data?this.data.getRenderer(e):null},e.prototype.getProcessedText=function(e){return this.data?this.data.getProcessedText(e):e},e.prototype.locStrsChanged=function(){for(var e=0;e<this.cells.length;e++)this.cells[e].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()},e.prototype.updateCellQuestionOnColumnChanged=function(e,t,n){for(var r=0;r<this.cells.length;r++)if(this.cells[r].column===e)return void this.updateCellOnColumnChanged(this.cells[r],t,n)},e.prototype.onQuestionReadOnlyChanged=function(e){for(var t=this.questions,n=0;n<t.length;n++)t[n].readOnly=e},e.prototype.hasErrors=function(e,t,n){var r=!1,o=this.cells;if(!o)return r;for(var i=0;i<o.length;i++)if(o[i]){var a=o[i].question;a&&a.visible&&(a.onCompletedAsyncValidators=function(e){n()},t&&!0===t.isOnValueChanged&&a.isEmpty()||(r=a.hasErrors(e,t)||r))}if(this.hasPanel){this.ensureDetailPanel();var s=this.detailPanel.hasErrors(e,!1,t);!t.hideErroredPanel&&s&&e&&(t.isSingleDetailPanel&&(t.hideErroredPanel=!0),this.showDetailPanel()),r=s||r}return r},e.prototype.updateCellOnColumnChanged=function(e,t,n){e.question[t]=n},e.prototype.buildCells=function(e){this.isSettingValue=!0;for(var t=this.data.columns,n=0;n<t.length;n++){var r=t[n];if(r.isVisible){var o=this.createCell(r);if(this.cells.push(o),e&&!a.a.isValueEmpty(e[r.name])){o.question.value=e[r.name];var i=r.name+m.a.commentPrefix;a.a.isValueEmpty(e[i])||(o.question.comment=e[i])}}}this.isSettingValue=!1},e.prototype.createCell=function(e){return new x(e,this,this.data)},e.prototype.getSurveyData=function(){return this},e.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},e.prototype.getTextProcessor=function(){return this.textPreProcessor},Object.defineProperty(e.prototype,"rowIndex",{get:function(){return this.data?this.data.getRowIndex(this)+1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editingObj",{get:function(){return this.editingObjValue},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)},e.prototype.subscribeToChanges=function(e){var t=this;e&&e.getType&&e.onPropertyChanged&&e!==this.editingObj&&(this.editingObjValue=e,this.onEditingObjPropertyChanged=function(e,n){t.updateOnSetValue(n.name,n.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))},e.prototype.updateOnSetValue=function(e,t){this.isSettingValue=!0;for(var n=this.getQuestionsByName(e),r=0;r<n.length;r++)n[r].value=t;this.isSettingValue=!1},e.RowVariableName="row",e.OwnerVariableName="self",e.IndexVariableName="rowIndex",e.RowValueVariableName="rowValue",e.idCounter=1,e}(),P=function(e){function t(t){var n=e.call(this,t,null)||this;return n.buildCells(null),n}return n.i(r.a)(t,e),t.prototype.createCell=function(e){return new w(e,this,this.data)},t.prototype.setValue=function(e,t){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()},t.prototype.runCondition=function(t,n){var r,o=0;do{r=a.a.getUnbindValue(this.value),e.prototype.runCondition.call(this,t,n),o++}while(!a.a.isTwoValueEquals(r,this.value)&&o<3)},t.prototype.updateCellOnColumnChanged=function(e,t,n){e.updateCellQuestion()},t}(_),E=function(){function e(){this.minWidth="",this.width="",this.colSpans=1,this.className="",this.idValue=e.counter++}return Object.defineProperty(e.prototype,"hasQuestion",{get:function(){return!!this.question},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasTitle",{get:function(){return!!this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPanel",{get:function(){return!!this.panel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),e.prototype.showErrorOnCore=function(e){return this.getShowErrorLocation()==e&&(!this.isChoice||this.isFirstChoice)},e.prototype.getShowErrorLocation=function(){return this.hasQuestion?this.question.survey.questionErrorLocation:""},Object.defineProperty(e.prototype,"item",{get:function(){return this.itemValue},set:function(e){this.itemValue=e,e&&(e.hideCaption=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isChoice",{get:function(){return!!this.item},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"choiceValue",{get:function(){return this.isChoice?this.item.value:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCheckbox",{get:function(){return this.isChoice&&"checkbox"==this.question.getType()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFirstChoice",{get:function(){return 0===this.choiceIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"css",{get:function(){return this.className+(this.question.errors.length>0?" "+this.question.koCss().hasError:"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){return this.cell&&this.cell.column&&this.cell.column.isShowInMultipleColumns?this.item.locText.renderedHtml:this.question&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""},enumerable:!1,configurable:!0}),e.prototype.calculateFinalClassName=function(e){var t=this.cell.question.cssClasses,n="";return t&&(n="",t.itemValue&&(n+=" "+t.itemValue),t.asCell&&(n&&(n+=""),n+=t.asCell)),!n&&e&&(n=e.cell),n+=this.question.errors.length>0?" "+t.hasError:"",this.isChoice&&(n+=" "+e.choiceCell),n},e.counter=1,e}(),S=function(){function e(){this.isDetailRow=!1,this.cells=[],this.className="",this.idValue=e.counter++}return Object.defineProperty(e.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),e.counter=1,e}(),k=function(e){function t(t){var n=e.call(this)||this;return n.matrix=t,n.createNewArray("rows"),n.build(),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"showTable",{get:function(){return this.getPropertyValue("showTable",!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAddRowOnTop",{get:function(){return this.getPropertyValue("showAddRowOnTop",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAddRowOnBottom",{get:function(){return this.getPropertyValue("showAddRowOnBottom",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showFooter",{get:function(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFooter",{get:function(){return!!this.footerRow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasRemoveRows",{get:function(){return this.hasRemoveRowsValue},enumerable:!1,configurable:!0}),t.prototype.isRequireReset=function(){return this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal},Object.defineProperty(t.prototype,"headerRow",{get:function(){return this.headerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerRow",{get:function(){return this.footerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},enumerable:!1,configurable:!0}),t.prototype.build=function(){this.hasRemoveRowsValue=this.matrix.canRemoveRows,this.matrix.visibleRows,this.cssClasses=this.matrix.cssClasses,this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()},t.prototype.updateShowTableAndAddRow=function(){var e=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",e);var t=this.matrix.canAddRow&&e,n=t,r=t;n&&(n="default"===this.matrix.getAddRowLocation()?"vertical"===this.matrix.columnLayout:"bottom"!==this.matrix.getAddRowLocation()),r&&"topBottom"!==this.matrix.getAddRowLocation()&&(r=!n),this.setPropertyValue("showAddRowOnTop",n),this.setPropertyValue("showAddRowOnBottom",r)},t.prototype.onAddedRow=function(){this.getRenderedDataRowCount()>=this.matrix.visibleRows.length||(this.addHorizontalRow(this.rows,this.matrix.visibleRows[this.matrix.visibleRows.length-1],1==this.matrix.visibleRows.length&&!this.matrix.showHeader),this.updateShowTableAndAddRow())},t.prototype.getRenderedDataRowCount=function(){for(var e=0,t=0;t<this.rows.length;t++)this.rows[t].isDetailRow||e++;return e},t.prototype.onRemovedRow=function(e){var t=this.getRenderedRowIndex(e);if(!(t<0)){var n=1;t<this.rows.length-1&&this.rows[t+1].isDetailRow&&n++,this.rows.splice(t,n),this.updateShowTableAndAddRow()}},t.prototype.onDetailPanelChangeVisibility=function(e,t){var n=this.getRenderedRowIndex(e);if(!(n<0)){var r=n<this.rows.length-1&&this.rows[n+1].isDetailRow?n+1:-1;if(!(t&&r>-1||!t&&r<0))if(t){var o=this.createDetailPanelRow(e,this.rows[n]);this.rows.splice(n+1,0,o)}else this.rows.splice(r,1)}},t.prototype.getRenderedRowIndex=function(e){for(var t=0;t<this.rows.length;t++)if(this.rows[t].row==e)return t;return-1},t.prototype.buildHeader=function(){var e=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",e),e){if(this.headerRowValue=new S,this.getHasDetailPanelInRows()&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var t=0;t<this.matrix.visibleColumns.length;t++){var n=this.matrix.visibleColumns[t];n.hasVisibleCell&&(n.isShowInMultipleColumns?this.createMutlipleColumnsHeader(n):this.headerRow.cells.push(this.createHeaderCell(n)))}else{var r=this.matrix.visibleRows;for(t=0;t<r.length;t++)this.headerRow.cells.push(this.createTextCell(r[t].locText));this.matrix.hasFooter&&this.headerRow.cells.push(this.createTextCell(this.matrix.getFooterText()))}this.hasRemoveRows&&this.headerRow.cells.push(this.createHeaderCell(null))}},t.prototype.buildFooter=function(){if(this.showFooter){this.footerRowValue=new S,this.getHasDetailPanelInRows()&&this.footerRow.cells.push(this.createHeaderCell(null)),this.matrix.hasRowText&&this.footerRow.cells.push(this.createTextCell(this.matrix.getFooterText()));for(var e=this.matrix.visibleTotalRow.cells,t=0;t<e.length;t++){var n=e[t];n.column.hasVisibleCell&&(n.column.isShowInMultipleColumns?this.createMutlipleColumnsFooter(this.footerRow,n):this.footerRow.cells.push(this.createEditCell(n)))}this.hasRemoveRows&&this.footerRow.cells.push(this.createHeaderCell(null))}},t.prototype.buildRows=function(){var e=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.setPropertyValue("rows",e)},t.prototype.getHasDetailPanelInRows=function(){if(!this.matrix.isColumnLayoutHorizontal)return!1;for(var e=this.matrix.visibleRows,t=0;t<e.length;t++)if(e[t].hasPanel)return!0;return!1},t.prototype.canRemoveRow=function(e){return this.matrix.canRemoveRow(e)},t.prototype.buildHorizontalRows=function(){for(var e=this.matrix.visibleRows,t=[],n=0;n<e.length;n++)this.addHorizontalRow(t,e[n],0==n&&!this.matrix.showHeader);return t},t.prototype.addHorizontalRow=function(e,t,n){var r=this.createHorizontalRow(t,n);r.row=t,e.push(r),t.isDetailPanelShowing&&e.push(this.createDetailPanelRow(t,r))},t.prototype.createHorizontalRow=function(e,t){var n=new S;if(e.hasPanel&&((i=new E).isShowHideDetail=!0,i.className=this.cssClasses.detailCell,i.row=e,n.cells.push(i)),this.matrix.hasRowText){var r=this.createTextCell(e.locText);n.cells.push(r),t&&this.setHeaderCellWidth(null,r),e.hasPanel&&this.cssClasses.detailRowText&&(r.className&&(r.className+=" "),r.className+=this.cssClasses.detailRowText)}for(var o=0;o<e.cells.length;o++){var i;(i=e.cells[o]).column.hasVisibleCell&&(i.column.isShowInMultipleColumns?this.createMutlipleEditCells(n,i):(r=this.createEditCell(i),n.cells.push(r),t&&this.setHeaderCellWidth(i.column,r)))}return this.hasRemoveRows&&n.cells.push(this.createRemoveRowCell(e)),n},t.prototype.createDetailPanelRow=function(e,t){var n=new S;n.row=e,n.className=this.cssClasses.detailRow,n.isDetailRow=!0;var r=new E;this.matrix.hasRowText&&(r.colSpans=2),r.isEmpty=!0,n.cells.push(r);var o=null;this.hasRemoveRows&&((o=new E).isEmpty=!0);var i=new E;return i.panel=e.detailPanel,i.colSpans=t.cells.length-r.colSpans-(o?o.colSpans:0),i.className=this.cssClasses.detailPanelCell,n.cells.push(i),o&&n.cells.push(o),n},t.prototype.buildVerticalRows=function(){for(var e=this.matrix.columns,t=[],n=0;n<e.length;n++){var r=e[n];r.isVisible&&r.hasVisibleCell&&(r.isShowInMultipleColumns?this.createMutlipleVerticalRows(t,r,n):t.push(this.createVerticalRow(r,n)))}return this.hasRemoveRows&&t.push(this.createVerticalRemoveRow()),t},t.prototype.createMutlipleVerticalRows=function(e,t,n){var r=this.getMultipleColumnChoices(t);if(r)for(var o=0;o<r.length;o++)e.push(this.createVerticalRow(t,n,r[o],o))},t.prototype.createVerticalRow=function(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=-1);var o=new S;if(this.matrix.showHeader){var i=n?n.locText:e.locTitle,a=this.createTextCell(i);n||this.setRequriedToHeaderCell(e,a),o.cells.push(a)}for(var s=this.matrix.visibleRows,u=0;u<s.length;u++){var l=this.createEditCell(s[u].cells[t],n);l.item=n,l.choiceIndex=r>=0?r:u,o.cells.push(l)}return this.matrix.hasTotal&&o.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[t])),o},t.prototype.createVerticalRemoveRow=function(){var e=new S;this.matrix.showHeader&&e.cells.push(this.createTextCell(null));for(var t=this.matrix.visibleRows,n=0;n<t.length;n++)e.cells.push(this.createRemoveRowCell(t[n]));return this.matrix.hasTotal&&e.cells.push(this.createTextCell(null)),e},t.prototype.createMutlipleEditCells=function(e,t,n){void 0===n&&(n=!1);var r=this.getMultipleColumnChoices(t.column);if(r)for(var o=0;o<r.length;o++){var i=this.createEditCell(t,n?void 0:r[o]);n||(i.choiceIndex=o),e.cells.push(i)}},t.prototype.createEditCell=function(e,t){void 0===t&&(t=void 0);var n=new E;return n.cell=e,n.row=e.row,n.question=e.question,n.matrix=this.matrix,n.item=t,n.className=n.calculateFinalClassName(this.cssClasses),n},t.prototype.createMutlipleColumnsFooter=function(e,t){this.createMutlipleEditCells(e,t,!0)},t.prototype.createMutlipleColumnsHeader=function(e){var t=this.getMultipleColumnChoices(e);if(t)for(var n=0;n<t.length;n++){var r=this.createTextCell(t[n].locText);this.setHeaderCell(e,r),this.headerRow.cells.push(r)}},t.prototype.getMultipleColumnChoices=function(e){var t=e.templateQuestion.choices;return t&&Array.isArray(t)&&0==t.length?this.matrix.choices:(t=e.templateQuestion.visibleChoices)&&Array.isArray(t)?t:null},t.prototype.createHeaderCell=function(e){var t=this.createTextCell(e?e.locTitle:null);return this.setHeaderCell(e,t),this.cssClasses.headerCell&&(t.className=this.cssClasses.headerCell),t},t.prototype.setHeaderCell=function(e,t){this.setHeaderCellWidth(e,t),this.setRequriedToHeaderCell(e,t)},t.prototype.setHeaderCellWidth=function(e,t){t.minWidth=null!=e?this.matrix.getColumnWidth(e):"",t.width=null!=e?e.width:this.matrix.getRowTitleWidth()},t.prototype.setRequriedToHeaderCell=function(e,t){e&&e.isRequired&&this.matrix.survey&&(t.requiredText=this.matrix.survey.requiredText)},t.prototype.createRemoveRowCell=function(e){var t=new E;return t.row=e,t.isRemoveRow=this.canRemoveRow(e),this.cssClasses.cell&&(t.className=this.cssClasses.cell),t},t.prototype.createTextCell=function(e){var t=new E;return t.locTitle=e||new p.a(this.matrix,!1),this.cssClasses.cell&&(t.className=this.cssClasses.cell),t},t}(s.a),T=function(e){function t(t){var n=e.call(this,t)||this;n.isRowChanging=!1,n.lockResetRenderedTable=!1,n.isDoingonAnyValueChanged=!1;var r=n;return n.createItemValues("choices"),n.createLocalizableString("optionsCaption",n),n.createLocalizableString("keyDuplicationError",n),n.detailPanelValue=n.createNewDetailPanel(),n.detailPanel.selectedElementInDesign=n,n.detailPanel.renderWidth="100%",n.registerFunctionOnPropertyValueChanged("columns",(function(e){r.updateColumnsIndexes(e),r.clearGeneratedRows(),r.generatedTotalRow=null,r.resetRenderedTable(),r.fireCallback(r.columnsChangedCallback)})),n.registerFunctionOnPropertiesValueChanged(["cellType","optionsCaption","columnColCount","rowTitleWidth"],(function(){r.clearGeneratedRows(),r.resetRenderedTable(),r.fireCallback(r.columnsChangedCallback)})),n.registerFunctionOnPropertiesValueChanged(["columnLayout","addRowLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode"],(function(){r.resetRenderedTable()})),n}return n.i(r.a)(t,e),Object.defineProperty(t,"defaultCellType",{get:function(){return m.a.matrixDefaultCellType},set:function(e){m.a.matrixDefaultCellType=e},enumerable:!1,configurable:!0}),t.addDefaultColumns=function(e){for(var t=c.a.DefaultColums,n=0;n<t.length;n++)e.addColumn(t[n])},t.prototype.createColumnValues=function(){var e=this;return this.createNewArray("columns",(function(t){t.colOwner=e}))},t.prototype.getType=function(){return"matrixdropdownbase"},Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRowsDynamic",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){return this.getPropertyValue("columnLayout")},set:function(e){this.setPropertyValue("columnLayout",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsLocation",{get:function(){return this.columnLayout},set:function(e){this.columnLayout=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isColumnLayoutHorizontal",{get:function(){return"vertical"!=this.columnLayout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"detailPanelMode",{get:function(){return this.getPropertyValue("detailPanelMode","none")},set:function(e){this.setPropertyValue("detailPanelMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return this.detailPanel},Object.defineProperty(t.prototype,"detailElements",{get:function(){return this.detailPanel.elements},enumerable:!1,configurable:!0}),t.prototype.createNewDetailPanel=function(){return new f.a},Object.defineProperty(t.prototype,"hasRowText",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getFooterText=function(){return null},Object.defineProperty(t.prototype,"canAddRow",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRemoveRows",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.canRemoveRow=function(e){return!0},t.prototype.onRowsChanged=function(){this.resetRenderedTable(),e.prototype.onRowsChanged.call(this)},t.prototype.onStartRowAddingRemoving=function(){this.lockResetRenderedTable=!0},t.prototype.onEndRowAdding=function(){this.lockResetRenderedTable=!1,this.renderedTable&&(this.renderedTable.isRequireReset()?this.resetRenderedTable():this.renderedTable.onAddedRow())},t.prototype.onEndRowRemoving=function(e){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():e&&this.renderedTable.onRemovedRow(e)},Object.defineProperty(t.prototype,"renderedTableValue",{get:function(){return this.getPropertyValue("renderedTable",null)},set:function(e){this.setPropertyValue("renderedTable",e)},enumerable:!1,configurable:!0}),t.prototype.resetRenderedTable=function(){this.lockResetRenderedTable||this.isLoadingFromJson||(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback))},t.prototype.clearGeneratedRows=function(){if(this.generatedVisibleRows){for(var t=0;t<this.generatedVisibleRows.length;t++)this.generatedVisibleRows[t].dispose();e.prototype.clearGeneratedRows.call(this)}},Object.defineProperty(t.prototype,"renderedTable",{get:function(){return this.renderedTableValue||(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue},enumerable:!1,configurable:!0}),t.prototype.createRenderedTable=function(){return new k(this)},t.prototype.onMatrixRowCreated=function(e){if(this.survey)for(var t={rowValue:e.value,row:e,column:null,columnName:null,cell:null,cellQuestion:null,value:null},n=0;n<this.visibleColumns.length;n++){t.column=this.visibleColumns[n],t.columnName=t.column.name;var r=e.cells[n];t.cell=r,t.cellQuestion=r.question,t.value=r.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(t),this.survey.matrixCellCreated(this,t)}},Object.defineProperty(t.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType",m.a.matrixDefaultCellType)},set:function(e){e=e.toLowerCase(),this.cellType!=e&&(this.setPropertyValue("cellType",e),this.updateColumnsCellType(),this.fireCallback(this.updateCellsCallback))},enumerable:!1,configurable:!0}),t.prototype.updateColumnsCellType=function(){for(var e=0;e<this.columns.length;e++)this.columns[e].defaultCellTypeChanged()},t.prototype.updateColumnsIndexes=function(e){for(var t=0;t<e.length;t++)e[t].setIndex(t)},Object.defineProperty(t.prototype,"columnColCount",{get:function(){return this.getPropertyValue("columnColCount",0)},set:function(e){e<0||e>4||(this.setPropertyValue("columnColCount",e),this.fireCallback(this.updateCellsCallback))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnMinWidth",{get:function(){return this.getPropertyValue("columnMinWidth","")},set:function(e){this.setPropertyValue("columnMinWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"horizontalScroll",{get:function(){return this.getPropertyValue("horizontalScroll",!1)},set:function(e){this.setPropertyValue("horizontalScroll",e)},enumerable:!1,configurable:!0}),t.prototype.getRequiredText=function(){return this.survey?this.survey.requiredText:""},t.prototype.onColumnPropertyChanged=function(e,t,n){if(this.updateHasFooter(),this.generatedVisibleRows){for(var r=0;r<this.generatedVisibleRows.length;r++)this.generatedVisibleRows[r].updateCellQuestionOnColumnChanged(e,t,n);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(e,t,n),this.onColumnsChanged(),"isRequired"==t&&this.resetRenderedTable(),e.isShowInMultipleColumns&&this.onShowInMultipleColumnsChanged(e)}},t.prototype.onShowInMultipleColumnsChanged=function(e){this.clearGeneratedRows(),this.resetRenderedTable()},t.prototype.onColumnCellTypeChanged=function(e){this.clearGeneratedRows(),this.resetRenderedTable()},t.prototype.getRowTitleWidth=function(){return""},Object.defineProperty(t.prototype,"hasFooter",{get:function(){return this.getPropertyValue("hasFooter",!1)},enumerable:!1,configurable:!0}),t.prototype.getAddRowLocation=function(){return"default"},t.prototype.getShowColumnsIfEmpty=function(){return!1},t.prototype.setShowColumnsIfEmpty=function(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()},t.prototype.updateHasFooter=function(){this.setPropertyValue("hasFooter",this.hasTotal)},Object.defineProperty(t.prototype,"hasTotal",{get:function(){for(var e=0;e<this.columns.length;e++)if(this.columns[e].hasTotal)return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.getCellType=function(){return this.cellType},t.prototype.getConditionJson=function(t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),!n)return e.prototype.getConditionJson.call(this);for(var r="",o=n.length-1;o>=0&&"."!=n[o];o--)r=n[o]+r;var i=this.getColumnByName(r);if(!i)return null;var a=i.createCellQuestion(null);return a?a.getConditionJson(t):null},t.prototype.clearIncorrectValues=function(){var e=this.visibleRows;if(e)for(var t=0;t<e.length;t++)e[t].clearIncorrectValues(this.getRowValue(t))},t.prototype.clearErrors=function(){if(e.prototype.clearErrors.call(this),this.generatedVisibleRows)for(var t=0;t<this.generatedVisibleRows.length;t++)for(var n=this.generatedVisibleRows[t],r=0;r<n.cells.length;r++)n.cells[r].question.clearErrors()},t.prototype.runCondition=function(t,n){e.prototype.runCondition.call(this,t,n);var r,o=0;do{r=a.a.getUnbindValue(this.totalValue),this.runCellsCondition(t,n),this.runTotalsCondition(t,n),o++}while(!a.a.isTwoValueEquals(r,this.totalValue)&&o<3)},t.prototype.shouldRunColumnExpression=function(){return!1},t.prototype.runCellsCondition=function(e,t){if(this.generatedVisibleRows){for(var n=this.getRowConditionValues(e),r=this.generatedVisibleRows,o=0;o<r.length;o++)r[o].runCondition(n,t);this.checkColumnsVisibility()}},t.prototype.checkColumnsVisibility=function(){for(var e=!1,t=0;t<this.visibleColumns.length;t++)this.visibleColumns[t].visibleIf&&(e=this.isColumnVisibilityChanged(this.visibleColumns[t])||e);e&&this.resetRenderedTable()},t.prototype.isColumnVisibilityChanged=function(e){for(var t=e.hasVisibleCell,n=!1,r=this.generatedVisibleRows,o=0;o<r.length;o++){var i=r[o].cells[e.index];if(i&&i.question&&i.question.isVisible){n=!0;break}}return t!=n&&(e.hasVisibleCell=n),t!=n},t.prototype.runTotalsCondition=function(e,t){this.generatedTotalRow&&this.generatedTotalRow.runCondition(this.getRowConditionValues(e),t)},t.prototype.getRowConditionValues=function(e){var t=e;t||(t={});var n={};return a.a.isValueEmpty(this.totalValue)||(n=JSON.parse(JSON.stringify(this.totalValue))),t.row={},t.totalRow=n,t},t.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this);var t=this.generatedVisibleRows;if(t){for(var n=this.columns,r=0;r<n.length;r++)n[r].locStrsChanged();for(r=0;r<t.length;r++)t[r].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}},t.prototype.getColumnByName=function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].name==e)return this.columns[t];return null},t.prototype.getColumnName=function(e){return this.getColumnByName(e)},t.prototype.getColumnWidth=function(e){return e.minWidth?e.minWidth:this.columnMinWidth},Object.defineProperty(t.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(e){this.setPropertyValue("choices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionsCaption",{get:function(){return this.getLocalizableStringText("optionsCaption",l.a.getString("optionsCaption"))},set:function(e){this.setLocalizableStringText("optionsCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locOptionsCaption",{get:function(){return this.getLocalizableString("optionsCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError",l.a.getString("keyDuplicationError"))},set:function(e){this.setLocalizableStringText("keyDuplicationError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeOthersAsComment",{get:function(){return!!this.survey&&this.survey.storeOthersAsComment},enumerable:!1,configurable:!0}),t.prototype.addColumn=function(e,t){void 0===t&&(t=null);var n=new b(e,t);return this.columns.push(n),n},t.prototype.getVisibleRows=function(){var e=this;return this.isLoadingFromJson?null:(this.generatedVisibleRows||(this.generatedVisibleRows=this.generateRows(),this.generatedVisibleRows.forEach((function(t){return e.onMatrixRowCreated(t)})),this.data&&this.runCellsCondition(this.data.getFilteredValues(),this.data.getFilteredProperties()),this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered()),this.generatedVisibleRows)},t.prototype.updateValueOnRowsGeneration=function(e){for(var t=this.createNewValue(!0),n=this.createNewValue(),r=0;r<e.length;r++){var o=e[r];if(!o.editingObj){var i=this.getRowValue(r),a=o.value;this.isTwoValueEquals(i,a)||(n=this.getNewValueOnRowChanged(o,"",a,!1,n).value)}}this.isTwoValueEquals(t,n)||(this.isRowChanging=!0,this.setNewValue(n),this.isRowChanging=!1)},Object.defineProperty(t.prototype,"totalValue",{get:function(){return this.hasTotal&&this.visibleTotalRow?this.visibleTotalRow.value:{}},enumerable:!1,configurable:!0}),t.prototype.getVisibleTotalRow=function(){if(this.isLoadingFromJson)return null;if(this.hasTotal){if(!this.generatedTotalRow&&(this.generatedTotalRow=this.generateTotalRow(),this.data)){var e={survey:this.survey};this.runTotalsCondition(this.data.getAllValues(),e)}}else this.generatedTotalRow=null;return this.generatedTotalRow},Object.defineProperty(t.prototype,"visibleTotalRow",{get:function(){return this.getVisibleTotalRow()},enumerable:!1,configurable:!0}),t.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()},t.prototype.getRowValue=function(e){if(e<0)return null;var t=this.visibleRows;if(e>=t.length)return null;var n=this.createNewValue();return this.getRowValueCore(t[e],n)},t.prototype.checkIfValueInRowDuplicated=function(e,t){if(!this.generatedVisibleRows)return!1;for(var n=!1,r=0;r<this.generatedVisibleRows.length;r++){var o=this.generatedVisibleRows[r];if(e!==o&&o.getValue(t.name)==t.value){n=!0;break}}return n?this.addDuplicationError(t):t.clearErrors(),n},t.prototype.setRowValue=function(e,t){if(e<0)return null;var n=this.visibleRows;if(e>=n.length)return null;n[e].value=t,this.onRowChanged(n[e],"",t,!1)},t.prototype.generateRows=function(){return null},t.prototype.generateTotalRow=function(){return new P(this)},t.prototype.createNewValue=function(e){void 0===e&&(e=!1);var t=this.value?this.createValueCopy():{};return e&&this.isMatrixValueEmpty(t)?null:t},t.prototype.getRowValueCore=function(e,t,n){void 0===n&&(n=!1);var r=t&&t[e.rowName]?t[e.rowName]:null;return!r&&n&&(r={},t&&(t[e.rowName]=r)),r},t.prototype.getRowObj=function(e){var t=this.getRowValueCore(e,this.value);return t&&t.getType?t:null},t.prototype.getRowDisplayValue=function(e,t){if(!t)return t;if(e.editingObj)return t;for(var n in t){var r=e.getQuestionByName(n);r||(r=this.getSharedQuestionByName(n,e)),r&&(t[n]=r.displayValue)}return t},t.prototype.getPlainData=function(t){var n=this;void 0===t&&(t={includeEmpty:!0});var r=e.prototype.getPlainData.call(this,t);return r&&(r.isNode=!0,r.data=this.visibleRows.map((function(e){var r={name:e.rowName,title:e.rowName,value:e.value,displayValue:n.getRowDisplayValue(e,e.value),getString:function(e){return"object"==typeof e?JSON.stringify(e):e},isNode:!0,data:e.cells.map((function(e){return e.question.getPlainData(t)})).filter((function(e){return!!e}))};return(t.calculations||[]).forEach((function(t){r[t.propertyName]=e[t.propertyName]})),r}))),r},t.prototype.getProgressInfo=function(){return s.d.getProgressInfoByElements(this.getCellQuestions(),this.isRequired)},t.prototype.getCellQuestions=function(){var e=this.visibleRows;if(!e)return[];for(var t=[],n=0;n<e.length;n++)for(var r=e[n],o=0;o<r.cells.length;o++)t.push(r.cells[o].question);return t},t.prototype.onBeforeValueChanged=function(e){},t.prototype.onSetQuestionValue=function(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),this.generatedVisibleRows&&0!=this.generatedVisibleRows.length)){this.isRowChanging=!0;for(var e=this.createNewValue(),t=0;t<this.generatedVisibleRows.length;t++){var n=this.generatedVisibleRows[t];this.generatedVisibleRows[t].value=this.getRowValueCore(n,e)}this.isRowChanging=!1}},t.prototype.setQuestionValue=function(t){e.prototype.setQuestionValue.call(this,t,!1),this.onSetQuestionValue(),this.updateIsAnswered()},t.prototype.supportGoNextPageAutomatic=function(){var e=this.generatedVisibleRows;if(e||(e=this.visibleRows),!e)return!0;for(var t=0;t<e.length;t++){var n=this.generatedVisibleRows[t].cells;if(n)for(var r=0;r<n.length;r++){var o=n[r].question;if(o&&(!o.supportGoNextPageAutomatic()||!o.value))return!1}}return!0},t.prototype.getContainsErrors=function(){return e.prototype.getContainsErrors.call(this)||this.checkForAnswersOrErrors((function(e){return e.containsErrors}),!1)},t.prototype.getIsAnswered=function(){return e.prototype.getIsAnswered.call(this)&&this.checkForAnswersOrErrors((function(e){return e.isAnswered}),!0)},t.prototype.checkForAnswersOrErrors=function(e,t){void 0===t&&(t=!1);var n=this.generatedVisibleRows;if(!n)return!1;for(var r=0;r<n.length;r++){var o=n[r].cells;if(o)for(var i=0;i<o.length;i++)if(o[i]){var a=o[i].question;if(a&&a.isVisible)if(e(a)){if(!t)return!0}else if(t)return!1}}return!!t},t.prototype.hasErrors=function(t,n){void 0===t&&(t=!0),void 0===n&&(n=null);var r=this.hasErrorInRows(t,n),o=this.isValueDuplicated();return e.prototype.hasErrors.call(this,t,n)||r||o},t.prototype.getIsRunningValidators=function(){if(e.prototype.getIsRunningValidators.call(this))return!0;if(!this.generatedVisibleRows)return!1;for(var t=0;t<this.generatedVisibleRows.length;t++){var n=this.generatedVisibleRows[t].cells;if(n)for(var r=0;r<n.length;r++)if(n[r]){var o=n[r].question;if(o&&o.isRunningValidators)return!0}}return!1},t.prototype.getAllErrors=function(){var t=e.prototype.getAllErrors.call(this),n=this.generatedVisibleRows;if(null===n)return t;for(var r=0;r<n.length;r++)for(var o=n[r],i=0;i<o.cells.length;i++){var a=o.cells[i].question.getAllErrors();a&&a.length>0&&(t=t.concat(a))}return t},t.prototype.hasErrorInRows=function(e,t){var n=this;if(!this.generatedVisibleRows)return!1;var r=!1;t||(t={}),t.isSingleDetailPanel="underRowSingle"===this.detailPanelMode;for(var o=0;o<this.generatedVisibleRows.length;o++)r=this.generatedVisibleRows[o].hasErrors(e,t,(function(){n.raiseOnCompletedAsyncValidators()}))||r;return r},t.prototype.isValueDuplicated=function(){if(!this.generatedVisibleRows)return!1;for(var e=this.getUniqueColumns(),t=!1,n=0;n<e.length;n++)t=this.isValueInColumnDuplicated(e[n])||t;return t},t.prototype.isValueInColumnDuplicated=function(e){for(var t=[],n=!1,r=0;r<this.generatedVisibleRows.length;r++)n=this.isValueDuplicatedInRow(this.generatedVisibleRows[r],e,t)||n;return n},t.prototype.getUniqueColumns=function(){for(var e=new Array,t=0;t<this.columns.length;t++)this.columns[t].isUnique&&e.push(this.columns[t]);return e},t.prototype.isValueDuplicatedInRow=function(e,t,n){var r=e.getQuestionByColumn(t);if(!r||r.isEmpty())return!1;for(var o=r.value,i=0;i<n.length;i++)if(o==n[i])return this.addDuplicationError(r),!0;return n.push(o),!1},t.prototype.addDuplicationError=function(e){e.addError(new g.f(this.keyDuplicationError,this))},t.prototype.getFirstInputElementId=function(){var t=this.getFirstCellQuestion(!1);return t?t.inputId:e.prototype.getFirstInputElementId.call(this)},t.prototype.getFirstErrorInputElementId=function(){var t=this.getFirstCellQuestion(!0);return t?t.inputId:e.prototype.getFirstErrorInputElementId.call(this)},t.prototype.getFirstCellQuestion=function(e){if(!this.generatedVisibleRows)return null;for(var t=0;t<this.generatedVisibleRows.length;t++)for(var n=this.generatedVisibleRows[t].cells,r=0;r<n.length;r++){if(!e)return n[r].question;if(n[r].question.currentErrorCount>0)return n[r].question}return null},t.prototype.onReadOnlyChanged=function(){if(e.prototype.onReadOnlyChanged.call(this),this.generateRows)for(var t=0;t<this.visibleRows.length;t++)this.visibleRows[t].onQuestionReadOnlyChanged(this.isReadOnly)},t.prototype.createQuestion=function(e,t){return this.createQuestionCore(e,t)},t.prototype.createQuestionCore=function(e,t){var n=t.createCellQuestion(e);return this.isReadOnly&&(n.readOnly=!0),n.setSurveyImpl(e),n.setParentQuestion(this),n},t.prototype.deleteRowValue=function(e,t){return e?(delete e[t.rowName],this.isObject(e)&&0==Object.keys(e).length?null:e):e},t.prototype.onAnyValueChanged=function(e){if(!this.isLoadingFromJson&&!this.isDoingonAnyValueChanged&&this.generatedVisibleRows){this.isDoingonAnyValueChanged=!0;for(var t=this.visibleRows,n=0;n<t.length;n++)t[n].onAnyValueChanged(e);var r=this.visibleTotalRow;r&&r.onAnyValueChanged(e),this.isDoingonAnyValueChanged=!1}},t.prototype.isObject=function(e){return null!==e&&"object"==typeof e},t.prototype.getOnCellValueChangedOptions=function(e,t,n){var r=this;return{row:e,columnName:t,rowValue:n,value:n?n[t]:null,getCellQuestion:function(t){for(var n=0;r.columns.length;n++)if(r.columns[n].name===t)return e.cells[n].question;return null}}},t.prototype.onCellValueChanged=function(e,t,n){if(this.survey){var r=this.getOnCellValueChangedOptions(e,t,n);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(r),this.survey.matrixCellValueChanged(this,r)}},t.prototype.validateCell=function(e,t,n){if(this.survey){var r=this,o={row:e,columnName:t,rowValue:n,value:n[t],getCellQuestion:function(t){for(var n=0;r.columns.length;n++)if(r.columns[n].name===t)return e.cells[n].question;return null}};return this.survey.matrixCellValidate(this,o)}},Object.defineProperty(t.prototype,"isValidateOnValueChanging",{get:function(){return!!this.survey&&this.survey.isValidateOnValueChanging},enumerable:!1,configurable:!0}),t.prototype.onRowChanging=function(e,t,n){if(!this.survey)return n?n[t]:null;var r=this.getOnCellValueChangedOptions(e,t,n),o=this.getRowValueCore(e,this.createNewValue(),!0);return r.oldValue=o?o[t]:null,this.survey.matrixCellValueChanging(this,r),r.value},t.prototype.onRowChanged=function(e,t,n,r){var o=t?this.getRowObj(e):null;if(o){var i=null;n&&!r&&(i=n[t]),this.isRowChanging=!0,o[t]=i,this.isRowChanging=!1,this.onCellValueChanged(e,t,o)}else{var a=this.createNewValue(!0),s=this.getNewValueOnRowChanged(e,t,n,r,this.createNewValue());if(this.isTwoValueEquals(a,s.value))return;this.isRowChanging=!0,this.setNewValue(s.value),this.isRowChanging=!1,t&&this.onCellValueChanged(e,t,s.rowValue)}},t.prototype.getNewValueOnRowChanged=function(e,t,n,r,o){var i=this.getRowValueCore(e,o,!0);r&&delete i[t];for(var a=0;a<e.cells.length;a++)delete i[s=e.cells[a].question.getValueName()];if(n)for(var s in n=JSON.parse(JSON.stringify(n)))this.isValueEmpty(n[s])||(i[s]=n[s]);return this.isObject(i)&&0===Object.keys(i).length&&(o=this.deleteRowValue(o,e)),{value:o,rowValue:i}},t.prototype.getRowIndex=function(e){return this.generatedVisibleRows?this.visibleRows.indexOf(e):-1},t.prototype.getElementsInDesign=function(t){return void 0===t&&(t=!1),"none"==this.detailPanelMode?e.prototype.getElementsInDesign.call(this,t):t?[this.detailPanel]:this.detailElements},t.prototype.hasDetailPanel=function(e){return"none"!=this.detailPanelMode&&(!!this.isDesignMode||(this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(e):this.detailElements.length>0))},t.prototype.getIsDetailPanelShowing=function(e){if("none"==this.detailPanelMode)return!1;if(this.isDesignMode){var t=0==this.visibleRows.indexOf(e);return t&&(e.detailPanel||e.showDetailPanel()),t}return this.getPropertyValue("isRowShowing"+e.id,!1)},t.prototype.setIsDetailPanelShowing=function(e,t){if(t!=this.getIsDetailPanelShowing(e)&&(this.setPropertyValue("isRowShowing"+e.id,t),this.updateDetailPanelButtonCss(e),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(e,t),t&&"underRowSingle"===this.detailPanelMode))for(var n=this.visibleRows,r=0;r<n.length;r++)n[r].id!==e.id&&n[r].isDetailPanelShowing&&n[r].hideDetailPanel()},t.prototype.getDetailPanelButtonCss=function(e){var t;return(t=this.getPropertyValue("detailButtonCss"+e.id))?t:(t=this.cssClasses.detailButton)||""},t.prototype.getDetailPanelIconCss=function(e){var t;return(t=this.getPropertyValue("detailIconCss"+e.id))?t:(t=this.cssClasses.detailIcon)||""},t.prototype.updateDetailPanelButtonCss=function(e){var t=this.cssClasses,n=t.detailIcon;n||(n="");var r=t.detailButton;r||(r=""),this.getIsDetailPanelShowing(e)&&(t.detailIconExpanded&&(n+=" "+t.detailIconExpanded),t.detailButtonExpanded&&(r+=" "+t.detailButtonExpanded)),this.setPropertyValue("detailIconCss"+e.id,n),this.setPropertyValue("detailButtonCss"+e.id,r)},t.prototype.createRowDetailPanel=function(e){if(this.isDesignMode)return this.detailPanel;var t=this.createNewDetailPanel(),n=this.detailPanel.toJSON();return(new o.g).toObject(n,t),t.renderWidth="100%",t.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(e,t),t},t.prototype.getSharedQuestionByName=function(e,t){if(!this.survey||!this.valueName)return null;var n=this.getRowIndex(t);return n<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,e,n)},t.prototype.onTotalValueChanged=function(){this.data&&this.visibleTotalRow&&!this.isLoadingFromJson&&!this.isSett&&this.data.setValue(this.getValueName()+m.a.matrixTotalValuePostFix,this.totalValue,!1)},t.prototype.getQuestionFromArray=function(e,t){return t>=this.visibleRows.length?null:this.visibleRows[t].getQuestionByName(e)},t.prototype.isMatrixValueEmpty=function(e){if(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)if(this.isObject(e[t])&&Object.keys(e[t]).length>0)return!1;return!0}return 0==Object.keys(e).length}},t}(i.a);o.k.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle"},{name:"cellType",default:"default",choices:function(){var e=b.getColumnTypes();return e.splice(0,0,"default"),e}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},"isRequired:boolean","isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean","minWidth","width","visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:function(e){return!!e&&e.isSupportMultipleColumns}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",default:"none",choices:["none","sum","count","min","max","avg"]},"totalExpression:expression",{name:"totalFormat",serializationProperty:"locTotalFormat"},{name:"totalDisplayStyle",default:"none",choices:["none","decimal","currency","percent"]},{name:"totalCurrency",choices:function(){return n.i(d.b)()},default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1},{name:"totalMinimumFractionDigits:number",default:-1},{name:"renderAs",default:"default",visible:!1}],(function(){return new b("")})),o.k.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn"},{name:"columnLayout",alternativeName:"columnsLocation",default:"horizontal",choices:["horizontal","vertical"]},{name:"detailElements",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},"horizontalScroll:boolean",{name:"choices:itemvalue[]"},{name:"optionsCaption",serializationProperty:"locOptionsCaption"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"cellType",default:"dropdown",choices:function(){return b.getColumnTypes()}},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth"],(function(){return new T("")}),"matrixbase")},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(3);n.d(t,"a",(function(){return a}));var a=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.getType=function(){return"nonvalue"},Object.defineProperty(t.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getTitleLocation=function(){return""},Object.defineProperty(t.prototype,"hasComment",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.hasErrors=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=null),!1},t.prototype.getAllErrors=function(){return[]},t.prototype.supportGoNextPageAutomatic=function(){return!1},t.prototype.addConditionObjectsByContext=function(e,t){},t.prototype.getConditionJson=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),null},t}(o.a);i.k.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"useDisplayValuesInTitle",visible:!1}],(function(){return new a("")}),"question")},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n.n(o),a=n(9),s=n(10);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.svgIconRef=i.a.createRef(),n}return n.i(r.a)(t,e),t.prototype.render=function(){return i.a.createElement("svg",{className:"sv-svg-icon "+this.props.className,ref:this.svgIconRef},i.a.createElement("use",null))},t.prototype.componentDidMount=function(){n.i(s._85)(this.props.size,this.props.width,this.props.height,this.props.iconName,this.svgIconRef.current)},t}(i.a.Component);a.a.Instance.registerElement("sv-svg-icon",(function(e){return i.a.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(20),s=n(63),u=n(64),l=n(24),c=n(58);n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var p=function(e){function t(t){var n=e.call(this,t)||this;return n.state=n.getState(),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.getState=function(e){return void 0===e&&(e=null),{rowCounter:e?e.rowCounter+1:0}},t.prototype.updateVisibleRowsChangedCallback=function(){var e=this;this.question.visibleRowsChangedCallback=function(){e.updateStateOnCallback()}},t.prototype.renderedTableResetCallback=function(){var e=this;this.question.onRenderedTableResetCallback=function(){e.updateStateOnCallback()}},t.prototype.updateStateOnCallback=function(){this.isRendering||this.setState(this.getState(this.state))},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.updateVisibleRowsChangedCallback(),this.renderedTableResetCallback()},t.prototype.renderElement=function(){return this.renderTableDiv()},t.prototype.renderTableDiv=function(){var e=this,t=this.renderHeader(),n=this.renderFooter(),r=this.renderRows(),i=this.question.horizontalScroll?{overflowX:"scroll"}:{};return o.createElement("div",{style:i,ref:function(t){return e.control=t}},o.createElement("table",{className:this.question.cssClasses.root},t,r,n))},t.prototype.renderHeader=function(){var e=this.question.renderedTable;if(!e.showHeader)return null;for(var t=[],n=this.question.allowRowsDragAndDrop?o.createElement("td",null):null,r=e.headerRow.cells,i=0;i<r.length;i++){var a=r[i],s="column"+i,u={};a.width&&(u.width=a.width),a.minWidth&&(u.minWidth=a.minWidth);var l=this.renderLocString(a.locTitle),c=a.requiredText?o.createElement("span",null," "):null,p=a.requiredText?o.createElement("span",null,a.requiredText):null;t.push(o.createElement("th",{className:this.question.cssClasses.headerCell,key:s,style:u},l,c,p))}return o.createElement("thead",null,o.createElement("tr",null,n,t))},t.prototype.renderFooter=function(){var e=this.question.renderedTable;if(!e.showFooter)return null;var t=this.renderRow("footer",e.footerRow,this.question.cssClasses);return o.createElement("tfoot",null,t)},t.prototype.renderRows=function(){for(var e=this.question.cssClasses,t=[],n=this.question.renderedTable.rows,r=0;r<n.length;r++)t.push(this.renderRow(n[r].id,n[r],e));return o.createElement("tbody",null,t)},t.prototype.renderRow=function(e,t,r){var i=[],a=t.cells;i.push(this.question.allowRowsDragAndDrop?n.i(c.a)(this.question):null);for(var s=0;s<a.length;s++)i.push(this.renderCell(a[s],s,r));var u="row"+e;return o.createElement("tr",{className:t.className,key:u},i)},t.prototype.renderCell=function(e,t,n){var r="cell"+t;if(e.hasQuestion)return o.createElement(h,{key:r,cssClasses:n,cell:e,creator:this.creator});var i=null,a=null,s=null,u=null;return(e.width||e.minWidth)&&(u={},e.width&&(u.width=e.width),e.minWidth&&(u.minWidth=e.minWidth)),e.hasTitle&&(i=this.renderLocString(e.locTitle),e.requiredText&&(a=o.createElement("span",null," "),s=o.createElement("span",null,e.requiredText))),e.isRemoveRow&&(i=this.renderRemoveButton(e.row)),e.isShowHideDetail&&(i=o.createElement(d,{question:this.question,row:e.row,cssClasses:n})),e.hasPanel&&(i=o.createElement(l.a,{key:e.panel.id,element:e.panel,survey:this.question.survey,cssClasses:n,isDisplayMode:this.isDisplayMode,creator:this.creator})),o.createElement("td",{className:e.className,key:r,style:u,colSpan:e.colSpans},i,a,s)},t.prototype.renderRemoveButton=function(e){return null},t}(i.b),d=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnShowHideClick=n.handleOnShowHideClick.bind(n),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this.props.row},enumerable:!1,configurable:!0}),t.prototype.handleOnShowHideClick=function(e){this.row.showHideDetailPanelClick()},t.prototype.renderElement=function(){var e=this.row.isDetailPanelShowing,t=e,n=e?this.row.detailPanelId:null;return o.createElement("button",{type:"button",onClick:this.handleOnShowHideClick,className:this.question.getDetailPanelButtonCss(this.row),"aria-expanded":t,"aria-controls":n},o.createElement("span",{className:this.question.getDetailPanelIconCss(this.row)}))},t}(i.d),h=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"cell",{get:function(){return this.props.cell},enumerable:!1,configurable:!0}),t.prototype.getQuestion=function(){var t=e.prototype.getQuestion.call(this);return t||(this.cell?this.cell.question:null)},t.prototype.doAfterRender=function(){var e=this.cellRef.current;if(e&&this.cell&&this.question&&this.question.survey&&"r"!==e.getAttribute("data-rendered")){e.setAttribute("data-rendered","r");var t={cell:this.cell,cellQuestion:this.question,htmlElement:e,row:this.cell.row,column:this.cell.cell.column};this.question.survey.matrixAfterCellRender(this.question,t)}},t.prototype.getShowErrors=function(){return this.question.isVisible&&(!this.cell.isChoice||this.cell.isFirstChoice)},t.prototype.getCellClass=function(){return this.cell.className},t.prototype.getCellStyle=function(){var t=e.prototype.getCellStyle.call(this);return(this.cell.width||this.cell.minWidth)&&(t||(t={}),this.cell.width&&(t.width=this.cell.width),this.cell.minWidth&&(t.minWidth=this.cell.minWidth)),t},t.prototype.getHeaderText=function(){return this.cell.headers},t.prototype.renderQuestion=function(){return this.cell.isChoice?this.cell.isCheckbox?this.renderCellCheckboxButton():this.renderCellRadiogroupButton():a.a.renderQuestionBody(this.creator,this.question)},t.prototype.renderCellCheckboxButton=function(){var e=this.cell.question.id+"item"+this.cell.choiceIndex;return o.createElement(s.b,{key:e,question:this.cell.question,cssClasses:this.cell.question.cssClasses,isDisplayMode:this.cell.question.isReadOnly,item:this.cell.item,isFirst:this.cell.isFirstChoice,index:this.cell.choiceIndex.toString(),hideCaption:!0})},t.prototype.renderCellRadiogroupButton=function(){var e=this.cell.question.id+"item"+this.cell.choiceIndex;return o.createElement(u.b,{key:e,question:this.cell.question,cssClasses:this.cell.question.cssClasses,isDisplayMode:this.cell.question.isReadOnly,item:this.cell.item,index:this.cell.choiceIndex.toString(),isChecked:this.cell.question.value===this.cell.item.value,isDisabled:this.cell.question.isReadOnly||!this.cell.item.isEnabled,hideCaption:!0})},t}(a.c)},function(e,t,n){"use strict";var r=n(0),o=n(10);n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.render=function(){this.renderCallback&&this.renderCallback()},t.prototype.mergeCss=function(e,t){this.mergeValues(e,t)},t.prototype.doAfterRenderSurvey=function(e){this.afterRenderSurvey(e)},t.prototype.onLoadSurveyFromService=function(){this.currentPage&&(this.currentPage.setWasShown(!1),this.currentPage.onFirstRendering()),this.render()},t.prototype.onLoadingSurveyFromService=function(){this.render()},t.prototype.setCompletedState=function(t,n){e.prototype.setCompletedState.call(this,t,n),this.render()},t.prototype.start=function(){var t=e.prototype.start.call(this);return this.render(),t},t}(o._54),a=function(e){function t(t,n){return void 0===t&&(t=null),void 0===n&&(n=null),e.call(this,t,n)||this}return n.i(r.a)(t,e),t.prototype.createSurvey=function(e){return new i(e)},Object.defineProperty(t.prototype,"renderCallback",{get:function(){return this.survey.renderCallback},set:function(e){this.survey.renderCallback=e},enumerable:!1,configurable:!0}),t}(o._62);o._54.platform="react"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){this.renderersHash={}}return e.prototype.unregisterRenderer=function(e,t){delete this.renderersHash[e][t]},e.prototype.registerRenderer=function(e,t,n){this.renderersHash[e]||(this.renderersHash[e]={}),this.renderersHash[e][t]=n},e.prototype.getRenderer=function(e,t){return this.renderersHash[e]&&this.renderersHash[e][t]||"default"},e.prototype.getRendererByQuestion=function(e){return this.getRenderer(e.getType(),e.renderAs)},e.Instance=new e,e}()},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(13),a=n(1),s=n(3),u=n(14),l=n(5);n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return p})),n.d(t,"i",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"h",(function(){return y}));var c=function(e,t){void 0===t&&(t=null),this.value=e,this.error=t},p=function(e){function t(){var t=e.call(this)||this;return t.createLocalizableString("text",t,!0),t}return n.i(r.a)(t,e),t.prototype.getSurvey=function(){return this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null},Object.defineProperty(t.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(e){this.setLocalizableStringText("text",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValidateAllValues",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),t.prototype.getErrorText=function(e){return this.text?this.text:this.getDefaultErrorText(e)},t.prototype.getDefaultErrorText=function(e){return""},t.prototype.validate=function(e,t,n,r){return void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),null},Object.defineProperty(t.prototype,"isRunning",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAsync",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,t){return this.errorOwner?this.errorOwner.getMarkdownHtml(e,t):null},t.prototype.getRenderer=function(e){return this.errorOwner?this.errorOwner.getRenderer(e):null},t.prototype.getProcessedText=function(e){return this.errorOwner?this.errorOwner.getProcessedText(e):e},t.prototype.createCustomError=function(e){return new i.a(this.getErrorText(e),this.errorOwner)},t.prototype.toString=function(){var e=this.getType().replace("validator","");return this.text&&(e+=", "+this.text),e},t}(o.a),d=function(){function e(){}return e.prototype.run=function(e){var t=this,n=[],r=null,o=null;this.prepareAsyncValidators();for(var i=[],a=e.getValidators(),s=0;s<a.length;s++){var u=a[s];!r&&u.isValidateAllValues&&(r=e.getDataFilteredValues(),o=e.getDataFilteredProperties()),u.isAsync&&(this.asyncValidators.push(u),u.onAsyncCompleted=function(e){if(e&&e.error&&i.push(e.error),t.onAsyncCompleted){for(var n=0;n<t.asyncValidators.length;n++)if(t.asyncValidators[n].isRunning)return;t.onAsyncCompleted(i)}})}for(a=e.getValidators(),s=0;s<a.length;s++){var l=(u=a[s]).validate(e.validatedValue,e.getValidatorTitle(),r,o);l&&l.error&&n.push(l.error)}return 0==this.asyncValidators.length&&this.onAsyncCompleted&&this.onAsyncCompleted([]),n},e.prototype.prepareAsyncValidators=function(){if(this.asyncValidators)for(var e=0;e<this.asyncValidators.length;e++)this.asyncValidators[e].onAsyncCompleted=null;this.asyncValidators=[]},e}(),h=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.call(this)||this;return r.minValue=t,r.maxValue=n,r}return n.i(r.a)(t,e),t.prototype.getType=function(){return"numericvalidator"},t.prototype.validate=function(e,t,n,r){if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),l.a.isValueEmpty(e))return null;if(!l.a.isNumber(e))return new c(null,new i.d(null,this.errorOwner));var o=new c(parseFloat(e));return null!==this.minValue&&this.minValue>o.value||null!==this.maxValue&&this.maxValue<o.value?(o.error=this.createCustomError(t),o):"number"==typeof e?null:o},t.prototype.getDefaultErrorText=function(e){var t=e||a.a.getString("value");return null!==this.minValue&&null!==this.maxValue?a.a.getString("numericMinMax").format(t,this.minValue,this.maxValue):null!==this.minValue?a.a.getString("numericMin").format(t,this.minValue):a.a.getString("numericMax").format(t,this.maxValue)},Object.defineProperty(t.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e)},enumerable:!1,configurable:!0}),t}(p),f=function(e){function t(t,n,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=!0);var o=e.call(this)||this;return o.minLength=t,o.maxLength=n,o.allowDigits=r,o}return n.i(r.a)(t,e),t.prototype.getType=function(){return"textvalidator"},t.prototype.validate=function(e,t,n,r){return void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),""!==e&&l.a.isValueEmpty(e)?null:this.allowDigits||/^[A-Za-z\s]*$/.test(e)?this.minLength>0&&e.length<this.minLength||this.maxLength>0&&e.length>this.maxLength?new c(null,this.createCustomError(t)):null:new c(null,this.createCustomError(t))},t.prototype.getDefaultErrorText=function(e){return this.minLength>0&&this.maxLength>0?a.a.getString("textMinMaxLength").format(this.minLength,this.maxLength):this.minLength>0?a.a.getString("textMinLength").format(this.minLength):a.a.getString("textMaxLength").format(this.maxLength)},Object.defineProperty(t.prototype,"minLength",{get:function(){return this.getPropertyValue("minLength")},set:function(e){this.setPropertyValue("minLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(e){this.setPropertyValue("maxLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowDigits",{get:function(){return this.getPropertyValue("allowDigits",!0)},set:function(e){this.setPropertyValue("allowDigits",e)},enumerable:!1,configurable:!0}),t}(p),m=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.call(this)||this;return r.minCount=t,r.maxCount=n,r}return n.i(r.a)(t,e),t.prototype.getType=function(){return"answercountvalidator"},t.prototype.validate=function(e,t,n,r){if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),null==e||e.constructor!=Array)return null;var o=e.length;return this.minCount&&o<this.minCount?new c(null,this.createCustomError(a.a.getString("minSelectError").format(this.minCount))):this.maxCount&&o>this.maxCount?new c(null,this.createCustomError(a.a.getString("maxSelectError").format(this.maxCount))):null},t.prototype.getDefaultErrorText=function(e){return e},Object.defineProperty(t.prototype,"minCount",{get:function(){return this.getPropertyValue("minCount")},set:function(e){this.setPropertyValue("minCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(e){this.setPropertyValue("maxCount",e)},enumerable:!1,configurable:!0}),t}(p),g=function(e){function t(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.regex=t,n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"regexvalidator"},t.prototype.validate=function(e,t,n,r){if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),!this.regex||l.a.isValueEmpty(e))return null;var o=new RegExp(this.regex);if(Array.isArray(e))for(var i=0;i<e.length;i++){var a=this.hasError(o,e[i],t);if(a)return a}return this.hasError(o,e,t)},t.prototype.hasError=function(e,t,n){return e.test(t)?null:new c(t,this.createCustomError(n))},Object.defineProperty(t.prototype,"regex",{get:function(){return this.getPropertyValue("regex")},set:function(e){this.setPropertyValue("regex",e)},enumerable:!1,configurable:!0}),t}(p),v=function(e){function t(){var t=e.call(this)||this;return t.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i,t}return n.i(r.a)(t,e),t.prototype.getType=function(){return"emailvalidator"},t.prototype.validate=function(e,t,n,r){return void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),e?this.re.test(e)?null:new c(e,this.createCustomError(t)):null},t.prototype.getDefaultErrorText=function(e){return a.a.getString("invalidEmail")},t}(p),y=function(e){function t(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.conditionRunner=null,n.isRunningValue=!1,n.expression=t,n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"expressionvalidator"},Object.defineProperty(t.prototype,"isValidateAllValues",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAsync",{get:function(){return!!this.ensureConditionRunner()&&this.conditionRunner.isAsync},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.isRunningValue},enumerable:!1,configurable:!0}),t.prototype.validate=function(e,t,n,r){var o=this;if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),!this.ensureConditionRunner())return null;this.conditionRunner.onRunComplete=function(n){o.isRunningValue=!1,o.onAsyncCompleted&&o.onAsyncCompleted(o.generateError(n,e,t))},this.isRunningValue=!0;var i=this.conditionRunner.run(n,r);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(i,e,t))},t.prototype.generateError=function(e,t,n){return e?null:new c(t,this.createCustomError(n))},t.prototype.getDefaultErrorText=function(e){return a.a.getString("invalidExpression").format(this.expression)},t.prototype.ensureConditionRunner=function(){return this.conditionRunner?(this.conditionRunner.expression=this.expression,!0):!!this.expression&&(this.conditionRunner=new u.a(this.expression),!0)},Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),t}(p);s.k.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]),s.k.addClass("numericvalidator",["minValue:number","maxValue:number"],(function(){return new h}),"surveyvalidator"),s.k.addClass("textvalidator",["minLength:number","maxLength:number","allowDigits:boolean"],(function(){return new f}),"surveyvalidator"),s.k.addClass("answercountvalidator",["minCount:number","maxCount:number"],(function(){return new m}),"surveyvalidator"),s.k.addClass("regexvalidator",["regex"],(function(){return new g}),"surveyvalidator"),s.k.addClass("emailvalidator",[],(function(){return new v}),"surveyvalidator"),s.k.addClass("expressionvalidator",["expression:condition"],(function(){return new y}),"surveyvalidator")},function(e,t){},function(e,t,n){"use strict";
/**!
 * Sortable 1.13.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var l=u(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),c=u(/Edge/i),p=u(/firefox/i),d=u(/safari/i)&&!u(/chrome/i)&&!u(/android/i),h=u(/iP(ad|od|hone)/i),f=u(/chrome/i)&&u(/android/i),m={capture:!1,passive:!1};function g(e,t,n){e.addEventListener(t,n,!l&&m)}function v(e,t,n){e.removeEventListener(t,n,!l&&m)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function b(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function x(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&y(e,t):y(e,t))||r&&e===n)return e;if(e===n)break}while(e=b(e))}return null}var w,C=/\s+/g;function _(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(C," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(C," ")}}function P(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function E(e,t){var n="";if("string"==typeof e)n=e;else do{var r=P(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function S(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function k(){var e=document.scrollingElement;return e||document.documentElement}function T(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,s,u,c,p,d;if(e!==window&&e.parentNode&&e!==k()?(a=(i=e.getBoundingClientRect()).top,s=i.left,u=i.bottom,c=i.right,p=i.height,d=i.width):(a=0,s=0,u=window.innerHeight,c=window.innerWidth,p=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!l))do{if(o&&o.getBoundingClientRect&&("none"!==P(o,"transform")||n&&"static"!==P(o,"position"))){var h=o.getBoundingClientRect();a-=h.top+parseInt(P(o,"border-top-width")),s-=h.left+parseInt(P(o,"border-left-width")),u=a+i.height,c=s+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var f=E(o||e),m=f&&f.a,g=f&&f.d;f&&(u=(a/=g)+(p/=g),c=(s/=m)+(d/=m))}return{top:a,left:s,bottom:u,right:c,width:d,height:p}}}function R(e,t,n){for(var r=D(e,!0),o=T(e)[t];r;){var i=T(r)[n];if(!("top"===n||"left"===n?o>=i:o<=i))return r;if(r===k())break;r=D(r,!1)}return!1}function O(e,t,n){for(var r=0,o=0,i=e.children;o<i.length;){if("none"!==i[o].style.display&&i[o]!==Fe.ghost&&i[o]!==Fe.dragged&&x(i[o],n.draggable,e,!1)){if(r===t)return i[o];r++}o++}return null}function I(e,t){for(var n=e.lastElementChild;n&&(n===Fe.ghost||"none"===P(n,"display")||t&&!y(n,t));)n=n.previousElementSibling;return n||null}function V(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Fe.clone||t&&!y(e,t)||n++;return n}function A(e){var t=0,n=0,r=k();if(e)do{var o=E(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function D(e,t){if(!e||!e.getBoundingClientRect)return k();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=P(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return k();if(r||t)return n;r=!0}}}while(n=n.parentNode);return k()}function N(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function L(e,t){return function(){if(!w){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),w=setTimeout((function(){w=void 0}),t)}}}function F(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function M(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var q="Sortable"+(new Date).getTime();function j(){var e,t=[];return{captureAnimationState:function(){t=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==P(e,"display")&&e!==Fe.ghost){t.push({target:e,rect:T(e)});var n=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=E(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var o=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=T(n),u=n.prevFromRect,l=n.prevToRect,c=e.rect,p=E(n,!0);p&&(s.top-=p.f,s.left-=p.e),n.toRect=s,n.thisAnimationDuration&&N(u,s)&&!N(a,s)&&(c.top-s.top)/(c.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(c,u,l,r.options)),N(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,c,s,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){P(e,"transition",""),P(e,"transform","");var o=E(this.el),i=o&&o.a,a=o&&o.d,s=(t.left-n.left)/(i||1),u=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!u,P(e,"transform","translate3d("+s+"px,"+u+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),P(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),P(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){P(e,"transition",""),P(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var B=[],z={initializeByDefault:!0},U={mount:function(e){for(var t in z)z.hasOwnProperty(t)&&!(t in e)&&(e[t]=z[t]);B.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),B.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";B.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](a({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](a({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var o in B.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var a=new r(e,t,e.options);a.sortable=e,a.options=e.options,e[o]=a,i(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);void 0!==a&&(e.options[o]=a)}},getEventProperties:function(e,t){var n={};return B.forEach((function(r){"function"==typeof r.eventProperties&&i(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return B.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}};function W(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,s=e.toEl,u=e.fromEl,p=e.oldIndex,d=e.newIndex,h=e.oldDraggableIndex,f=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[q]){var y,b=t.options,x="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||l||c?(y=document.createEvent("Event")).initEvent(r,!0,!0):y=new CustomEvent(r,{bubbles:!0,cancelable:!0}),y.to=s||n,y.from=u||n,y.item=o||n,y.clone=i,y.oldIndex=p,y.newIndex=d,y.oldDraggableIndex=h,y.newDraggableIndex=f,y.originalEvent=m,y.pullMode=g?g.lastPutMode:void 0;var w=a({},v,U.getEventProperties(r,t));for(var C in w)y[C]=w[C];n&&n.dispatchEvent(y),b[x]&&b[x].call(t,y)}}var H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=s(n,["evt"]);U.pluginEvent.bind(Fe)(e,t,a({dragEl:G,parentEl:$,ghostEl:K,rootEl:J,nextEl:X,lastDownEl:Y,cloneEl:Z,cloneHidden:ee,dragStarted:he,putSortable:ae,activeSortable:Fe.active,originalEvent:r,oldIndex:te,oldDraggableIndex:re,newIndex:ne,newDraggableIndex:oe,hideGhostForTarget:Ae,unhideGhostForTarget:De,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){Q({sortable:t,name:e,originalEvent:r})}},o))};function Q(e){W(a({putSortable:ae,cloneEl:Z,targetEl:G,rootEl:J,oldIndex:te,oldDraggableIndex:re,newIndex:ne,newDraggableIndex:oe},e))}var G,$,K,J,X,Y,Z,ee,te,ne,re,oe,ie,ae,se,ue,le,ce,pe,de,he,fe,me,ge,ve,ye=!1,be=!1,xe=[],we=!1,Ce=!1,_e=[],Pe=!1,Ee=[],Se="undefined"!=typeof document,ke=h,Te=c||l?"cssFloat":"float",Re=Se&&!f&&!h&&"draggable"in document.createElement("div"),Oe=function(){if(Se){if(l)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ie=function(e,t){var n=P(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=O(e,0,t),i=O(e,1,t),a=o&&P(o),s=i&&P(i),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+T(o).width,l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+T(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var c="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||u>=r&&"none"===n[Te]||i&&"none"===n[Te]&&u+l>r)?"vertical":"horizontal"},Ve=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var u=(n?r:o).options.group.name;return!0===e||"string"==typeof e&&e===u||e.join&&e.indexOf(u)>-1}}var n={},o=e.group;o&&"object"==r(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Ae=function(){!Oe&&K&&P(K,"display","none")},De=function(){!Oe&&K&&P(K,"display","")};Se&&document.addEventListener("click",(function(e){if(be)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),be=!1,!1}),!0);var Ne=function(e){if(G){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,i=e.clientY,xe.some((function(e){if(!I(e)){var t=T(e),n=e[q].options.emptyInsertThreshold,r=o>=t.left-n&&o<=t.right+n,s=i>=t.top-n&&i<=t.bottom+n;return n&&r&&s?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[q]._onDragOver(n)}}var o,i,a},Le=function(e){G&&G.parentNode[q]._isOutsideThisEl(e.target)};function Fe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=i({},t),e[q]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ie(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Fe.supportPointer&&"PointerEvent"in window&&!d,emptyInsertThreshold:5};for(var r in U.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in Ve(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Re,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?g(e,"pointerdown",this._onTapStart):(g(e,"mousedown",this._onTapStart),g(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(g(e,"dragover",this),g(e,"dragenter",this)),xe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),i(this,j())}function Me(e,t,n,r,o,i,a,s){var u,p,d=e[q],h=d.options.onMove;return!window.CustomEvent||l||c?(u=document.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=o||t,u.relatedRect=i||T(t),u.willInsertAfter=s,u.originalEvent=a,e.dispatchEvent(u),h&&(p=h.call(d,u,a)),p}function qe(e){e.draggable=!1}function je(){Pe=!1}function Be(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function ze(e){return setTimeout(e,0)}function Ue(e){return clearTimeout(e)}Fe.prototype={constructor:Fe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(fe=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,G):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,l=r.filter;if(function(e){Ee.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Ee.push(r)}}(n),!G&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled)&&!u.isContentEditable&&(this.nativeDraggable||!d||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=x(s,r.draggable,n,!1))&&s.animated||Y===s)){if(te=V(s),re=V(s,r.draggable),"function"==typeof l){if(l.call(this,e,s,this))return Q({sortable:t,rootEl:u,name:"filter",targetEl:s,toEl:n,fromEl:n}),H("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(l&&(l=l.split(",").some((function(r){if(r=x(u,r.trim(),n,!1))return Q({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),H("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!x(u,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(n&&!G&&n.parentNode===i){var u=T(n);if(J=i,$=(G=n).parentNode,X=G.nextSibling,Y=n,ie=a.group,Fe.dragged=G,se={target:G,clientX:(t||e).clientX,clientY:(t||e).clientY},pe=se.clientX-u.left,de=se.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,G.style["will-change"]="all",r=function(){H("delayEnded",o,{evt:e}),Fe.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!p&&o.nativeDraggable&&(G.draggable=!0),o._triggerDragStart(e,t),Q({sortable:o,name:"choose",originalEvent:e}),_(G,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){S(G,e.trim(),qe)})),g(s,"dragover",Ne),g(s,"mousemove",Ne),g(s,"touchmove",Ne),g(s,"mouseup",o._onDrop),g(s,"touchend",o._onDrop),g(s,"touchcancel",o._onDrop),p&&this.nativeDraggable&&(this.options.touchStartThreshold=4,G.draggable=!0),H("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(c||l))r();else{if(Fe.eventCanceled)return void this._onDrop();g(s,"mouseup",o._disableDelayedDrag),g(s,"touchend",o._disableDelayedDrag),g(s,"touchcancel",o._disableDelayedDrag),g(s,"mousemove",o._delayedDragTouchMoveHandler),g(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&g(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){G&&qe(G),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?g(document,"pointermove",this._onTouchMove):g(document,t?"touchmove":"mousemove",this._onTouchMove):(g(G,"dragend",this),g(J,"dragstart",this._onDragStart));try{document.selection?ze((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(ye=!1,J&&G){H("dragStarted",this,{evt:t}),this.nativeDraggable&&g(document,"dragover",Le);var n=this.options;!e&&_(G,n.dragClass,!1),_(G,n.ghostClass,!0),Fe.active=this,e&&this._appendGhost(),Q({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ue){this._lastX=ue.clientX,this._lastY=ue.clientY,Ae();for(var e=document.elementFromPoint(ue.clientX,ue.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ue.clientX,ue.clientY))!==t;)t=e;if(G.parentNode[q]._isOutsideThisEl(e),t)do{if(t[q]&&t[q]._onDragOver({clientX:ue.clientX,clientY:ue.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);De()}},_onTouchMove:function(e){if(se){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=K&&E(K,!0),a=K&&i&&i.a,s=K&&i&&i.d,u=ke&&ve&&A(ve),l=(o.clientX-se.clientX+r.x)/(a||1)+(u?u[0]-_e[0]:0)/(a||1),c=(o.clientY-se.clientY+r.y)/(s||1)+(u?u[1]-_e[1]:0)/(s||1);if(!Fe.active&&!ye){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(K){i?(i.e+=l-(le||0),i.f+=c-(ce||0)):i={a:1,b:0,c:0,d:1,e:l,f:c};var p="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");P(K,"webkitTransform",p),P(K,"mozTransform",p),P(K,"msTransform",p),P(K,"transform",p),le=l,ce=c,ue=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!K){var e=this.options.fallbackOnBody?document.body:J,t=T(G,!0,ke,!0,e),n=this.options;if(ke){for(ve=e;"static"===P(ve,"position")&&"none"===P(ve,"transform")&&ve!==document;)ve=ve.parentNode;ve!==document.body&&ve!==document.documentElement?(ve===document&&(ve=k()),t.top+=ve.scrollTop,t.left+=ve.scrollLeft):ve=k(),_e=A(ve)}_(K=G.cloneNode(!0),n.ghostClass,!1),_(K,n.fallbackClass,!0),_(K,n.dragClass,!0),P(K,"transition",""),P(K,"transform",""),P(K,"box-sizing","border-box"),P(K,"margin",0),P(K,"top",t.top),P(K,"left",t.left),P(K,"width",t.width),P(K,"height",t.height),P(K,"opacity","0.8"),P(K,"position",ke?"absolute":"fixed"),P(K,"zIndex","100000"),P(K,"pointerEvents","none"),Fe.ghost=K,e.appendChild(K),P(K,"transform-origin",pe/parseInt(K.style.width)*100+"% "+de/parseInt(K.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;H("dragStart",this,{evt:e}),Fe.eventCanceled?this._onDrop():(H("setupClone",this),Fe.eventCanceled||((Z=M(G)).draggable=!1,Z.style["will-change"]="",this._hideClone(),_(Z,this.options.chosenClass,!1),Fe.clone=Z),n.cloneId=ze((function(){H("clone",n),Fe.eventCanceled||(n.options.removeCloneOnHide||J.insertBefore(Z,G),n._hideClone(),Q({sortable:n,name:"clone"}))})),!t&&_(G,o.dragClass,!0),t?(be=!0,n._loopId=setInterval(n._emulateDragOver,50)):(v(document,"mouseup",n._onDrop),v(document,"touchend",n._onDrop),v(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,G)),g(document,"drop",n),P(G,"transform","translateZ(0)")),ye=!0,n._dragStartId=ze(n._dragStarted.bind(n,t,e)),g(document,"selectstart",n),he=!0,d&&P(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,s=e.target,u=this.options,l=u.group,c=Fe.active,p=ie===l,d=u.sort,h=ae||c,f=this,m=!1;if(!Pe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=x(s,u.draggable,i,!0),L("dragOver"),Fe.eventCanceled)return m;if(G.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||f._ignoreWhileAnimating===s)return j(!1);if(be=!1,c&&!u.disabled&&(p?d||(r=!J.contains(G)):ae===this||(this.lastPutMode=ie.checkPull(this,c,G,e))&&l.checkPut(this,c,G,e))){if(o="vertical"===this._getDirection(e,s),t=T(G),L("dragOverValid"),Fe.eventCanceled)return m;if(r)return $=J,M(),this._hideClone(),L("revert"),Fe.eventCanceled||(X?J.insertBefore(G,X):J.appendChild(G)),j(!0);var g=I(i,u.draggable);if(!g||function(e,t,n){var r=T(I(n.el,n.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(e,o,this)&&!g.animated){if(g===G)return j(!1);if(g&&i===e.target&&(s=g),s&&(n=T(s)),!1!==Me(J,i,G,t,s,n,e,!!s))return M(),i.appendChild(G),$=i,B(),j(!0)}else if(s.parentNode===i){n=T(s);var v,y,b,w=G.parentNode!==i,C=!function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,u=n?t.width:t.height;return r===a||o===s||r+i/2===a+u/2}(G.animated&&G.toRect||t,s.animated&&s.toRect||n,o),E=o?"top":"left",S=R(s,"top","top")||R(G,"top","top"),k=S?S.scrollTop:void 0;if(fe!==s&&(y=n[E],we=!1,Ce=!C&&u.invertSwap||w),0!==(v=function(e,t,n,r,o,i,a,s){var u=r?e.clientY:e.clientX,l=r?n.height:n.width,c=r?n.top:n.left,p=r?n.bottom:n.right,d=!1;if(!a)if(s&&ge<l*o){if(!we&&(1===me?u>c+l*i/2:u<p-l*i/2)&&(we=!0),we)d=!0;else if(1===me?u<c+ge:u>p-ge)return-me}else if(u>c+l*(1-o)/2&&u<p-l*(1-o)/2)return function(e){return V(G)<V(e)?1:-1}(t);return(d=d||a)&&(u<c+l*i/2||u>p-l*i/2)?u>c+l/2?1:-1:0}(e,s,n,o,C?1:u.swapThreshold,null==u.invertedSwapThreshold?u.swapThreshold:u.invertedSwapThreshold,Ce,fe===s))){var O=V(G);do{O-=v,b=$.children[O]}while(b&&("none"===P(b,"display")||b===K))}if(0===v||b===s)return j(!1);fe=s,me=v;var A=s.nextElementSibling,D=!1,N=Me(J,i,G,t,s,n,e,D=1===v);if(!1!==N)return 1!==N&&-1!==N||(D=1===N),Pe=!0,setTimeout(je,30),M(),D&&!A?i.appendChild(G):s.parentNode.insertBefore(G,D?A:s),S&&F(S,0,k-S.scrollTop),$=G.parentNode,void 0===y||Ce||(ge=Math.abs(y-T(s)[E])),B(),j(!0)}if(i.contains(G))return j(!1)}return!1}function L(u,l){H(u,f,a({evt:e,isOwner:p,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:h,target:s,completed:j,onMove:function(n,r){return Me(J,i,G,t,n,T(n),e,r)},changed:B},l))}function M(){L("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function j(t){return L("dragOverCompleted",{insertion:t}),t&&(p?c._hideClone():c._showClone(f),f!==h&&(_(G,ae?ae.options.ghostClass:c.options.ghostClass,!1),_(G,u.ghostClass,!0)),ae!==f&&f!==Fe.active?ae=f:f===Fe.active&&ae&&(ae=null),h===f&&(f._ignoreWhileAnimating=s),f.animateAll((function(){L("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===G&&!G.animated||s===i&&!s.animated)&&(fe=null),u.dragoverBubble||e.rootEl||s===document||(G.parentNode[q]._isOutsideThisEl(e.target),!t&&Ne(e)),!u.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function B(){ne=V(G),oe=V(G,u.draggable),Q({sortable:f,name:"change",toEl:i,newIndex:ne,newDraggableIndex:oe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",Ne),v(document,"mousemove",Ne),v(document,"touchmove",Ne)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ne=V(G),oe=V(G,n.draggable),H("drop",this,{evt:e}),$=G&&G.parentNode,ne=V(G),oe=V(G,n.draggable),Fe.eventCanceled||(ye=!1,Ce=!1,we=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ue(this.cloneId),Ue(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),d&&P(document.body,"user-select",""),P(G,"transform",""),e&&(he&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),K&&K.parentNode&&K.parentNode.removeChild(K),(J===$||ae&&"clone"!==ae.lastPutMode)&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),G&&(this.nativeDraggable&&v(G,"dragend",this),qe(G),G.style["will-change"]="",he&&!ye&&_(G,ae?ae.options.ghostClass:this.options.ghostClass,!1),_(G,this.options.chosenClass,!1),Q({sortable:this,name:"unchoose",toEl:$,newIndex:null,newDraggableIndex:null,originalEvent:e}),J!==$?(ne>=0&&(Q({rootEl:$,name:"add",toEl:$,fromEl:J,originalEvent:e}),Q({sortable:this,name:"remove",toEl:$,originalEvent:e}),Q({rootEl:$,name:"sort",toEl:$,fromEl:J,originalEvent:e}),Q({sortable:this,name:"sort",toEl:$,originalEvent:e})),ae&&ae.save()):ne!==te&&ne>=0&&(Q({sortable:this,name:"update",toEl:$,originalEvent:e}),Q({sortable:this,name:"sort",toEl:$,originalEvent:e})),Fe.active&&(null!=ne&&-1!==ne||(ne=te,oe=re),Q({sortable:this,name:"end",toEl:$,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){H("nulling",this),J=G=$=K=X=Z=Y=ee=se=ue=he=ne=oe=te=re=fe=me=ae=ie=Fe.dragged=Fe.ghost=Fe.clone=Fe.active=null,Ee.forEach((function(e){e.checked=!0})),Ee.length=le=ce=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":G&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)x(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||Be(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var o=r.children[t];x(o,this.options.draggable,r,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return x(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=U.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Ve(n)},destroy:function(){H("destroy",this);var e=this.el;e[q]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),xe.splice(xe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(H("hideClone",this),Fe.eventCanceled)return;P(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),ee=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ee){if(H("showClone",this),Fe.eventCanceled)return;G.parentNode!=J||this.options.group.revertClone?X?J.insertBefore(Z,X):J.appendChild(Z):J.insertBefore(Z,G),this.options.group.revertClone&&this.animate(G,Z),P(Z,"display",""),ee=!1}}else this._hideClone()}},Se&&g(document,"touchmove",(function(e){(Fe.active||ye)&&e.cancelable&&e.preventDefault()})),Fe.utils={on:g,off:v,css:P,find:S,is:function(e,t){return!!x(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:L,closest:x,toggleClass:_,clone:M,index:V,nextTick:ze,cancelNextTick:Ue,detectDirection:Ie,getChild:O},Fe.get=function(e){return e[q]},Fe.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Fe.utils=a({},Fe.utils,e.utils)),U.mount(e)}))},Fe.create=function(e,t){return new Fe(e,t)},Fe.version="1.13.0";var We,He,Qe,Ge,$e,Ke,Je=[],Xe=!1;function Ye(){Je.forEach((function(e){clearInterval(e.pid)})),Je=[]}function Ze(){clearInterval(Ke)}var et=L((function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,u=t.scrollSpeed,l=k(),c=!1;He!==n&&(He=n,Ye(),We=t.scroll,o=t.scrollFn,!0===We&&(We=D(n,!0)));var p=0,d=We;do{var h=d,f=T(h),m=f.top,g=f.bottom,v=f.left,y=f.right,b=f.width,x=f.height,w=void 0,C=void 0,_=h.scrollWidth,E=h.scrollHeight,S=P(h),R=h.scrollLeft,O=h.scrollTop;h===l?(w=b<_&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),C=x<E&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(w=b<_&&("auto"===S.overflowX||"scroll"===S.overflowX),C=x<E&&("auto"===S.overflowY||"scroll"===S.overflowY));var I=w&&(Math.abs(y-i)<=s&&R+b<_)-(Math.abs(v-i)<=s&&!!R),V=C&&(Math.abs(g-a)<=s&&O+x<E)-(Math.abs(m-a)<=s&&!!O);if(!Je[p])for(var A=0;A<=p;A++)Je[A]||(Je[A]={});Je[p].vx==I&&Je[p].vy==V&&Je[p].el===h||(Je[p].el=h,Je[p].vx=I,Je[p].vy=V,clearInterval(Je[p].pid),0==I&&0==V||(c=!0,Je[p].pid=setInterval(function(){r&&0===this.layer&&Fe.active._onTouchMove($e);var t=Je[this.layer].vy?Je[this.layer].vy*u:0,n=Je[this.layer].vx?Je[this.layer].vx*u:0;"function"==typeof o&&"continue"!==o.call(Fe.dragged.parentNode[q],n,t,e,$e,Je[this.layer].el)||F(Je[this.layer].el,n,t)}.bind({layer:p}),24))),p++}while(t.bubbleScroll&&d!==l&&(d=D(d,!1)));Xe=c}}),30),tt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var u=n||o;a();var l=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(l.clientX,l.clientY);s(),u&&!u.el.contains(c)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function nt(){}function rt(){}nt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=O(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:tt},i(nt,{pluginName:"revertOnSpill"}),rt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:tt},i(rt,{pluginName:"removeOnSpill"}),Fe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):this.options.supportPointer?g(document,"pointermove",this._handleFallbackAutoScroll):t.touches?g(document,"touchmove",this._handleFallbackAutoScroll):g(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),Ze(),Ye(),clearTimeout(w),w=void 0},nulling:function(){$e=He=We=Xe=Ke=Qe=Ge=null,Je.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(r,o);if($e=e,t||c||l||d){et(e,this.options,i,t);var a=D(i,!0);!Xe||Ke&&r===Qe&&o===Ge||(Ke&&Ze(),Ke=setInterval((function(){var i=D(document.elementFromPoint(r,o),!0);i!==a&&(a=i,Ye()),et(e,n.options,i,t)}),10),Qe=r,Ge=o)}else{if(!this.options.bubbleScroll||D(i,!0)===k())return void Ye();et(e,this.options,D(i,!1),!1)}}},i(e,{pluginName:"scroll",initializeByDefault:!0})}),Fe.mount(rt,nt),t.a=Fe},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(15),a=n(3),s=n(13),u=n(11);n.d(t,"a",(function(){return c}));var l=function(){function e(){this.parser=new DOMParser}return e.prototype.assignValue=function(e,t,n){Array.isArray(e[t])?e[t].push(n):void 0!==e[t]?e[t]=[e[t]].concat(n):"object"==typeof n&&1===Object.keys(n).length&&Object.keys(n)[0]===t?e[t]=n[t]:e[t]=n},e.prototype.xml2Json=function(e,t){if(e.children&&e.children.length>0)for(var n=0;n<e.children.length;n++){var r=e.children[n],o={};this.xml2Json(r,o),this.assignValue(t,r.nodeName,o)}else this.assignValue(t,e.nodeName,e.textContent)},e.prototype.parseXmlString=function(e){var t=this.parser.parseFromString(e,"text/xml"),n={};return this.xml2Json(t,n),n},e}(),c=function(e){function t(){var t=e.call(this)||this;return t.lastObjHash="",t.isRunningValue=!1,t.processedUrl="",t.processedPath="",t.isUsingCacheFromUrl=void 0,t.error=null,t}return n.i(r.a)(t,e),Object.defineProperty(t,"EncodeParameters",{get:function(){return u.a.webserviceEncodeParameters},set:function(e){u.a.webserviceEncodeParameters=e},enumerable:!1,configurable:!0}),t.clearCache=function(){t.itemsResult={},t.sendingSameRequests={}},t.addSameRequest=function(e){if(!e.isUsingCache)return!1;var n=e.objHash,r=t.sendingSameRequests[n];return r?(r.push(e),!0):(t.sendingSameRequests[e.objHash]=[],!1)},t.unregisterSameRequests=function(e,n){if(e.isUsingCache){var r=t.sendingSameRequests[e.objHash];if(delete t.sendingSameRequests[e.objHash],r)for(var o=0;o<r.length;o++)r[o].getResultCallback&&r[o].getResultCallback(n)}},t.getCachedItemsResult=function(e){var n=e.objHash,r=t.itemsResult[n];return!!r&&(e.getResultCallback&&e.getResultCallback(r),!0)},t.prototype.getSurvey=function(){return this.owner?this.owner.survey:null},t.prototype.run=function(e){if(void 0===e&&(e=null),this.url&&this.getResultCallback){if(this.processedText(e),!this.processedUrl)return this.doEmptyResultCallback({}),void(this.lastObjHash=this.objHash);this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,this.useChangedItemsResults()||t.addSameRequest(this)||this.sendRequest())}},Object.defineProperty(t.prototype,"isUsingCache",{get:function(){return!0===this.isUsingCacheFromUrl||!1!==this.isUsingCacheFromUrl&&u.a.useCachingForChoicesRestfull},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.isRunningValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWaitingForParameters",{get:function(){return this.url&&!this.processedUrl},enumerable:!1,configurable:!0}),t.prototype.useChangedItemsResults=function(){return t.getCachedItemsResult(this)},t.prototype.doEmptyResultCallback=function(e){var t=[];this.updateResultCallback&&(t=this.updateResultCallback(t,e)),this.getResultCallback(t)},t.prototype.processedText=function(e){var n=this.url;if(n&&(n=n.replace(t.cacheText,"").replace(t.noCacheText,"")),e){var r=e.processTextEx(n,!1,u.a.webserviceEncodeParameters),o=e.processTextEx(this.path,!1,u.a.webserviceEncodeParameters);r.hasAllValuesOnLastRun&&o.hasAllValuesOnLastRun?(this.processedUrl=r.text,this.processedPath=o.text):(this.processedUrl="",this.processedPath="")}else this.processedUrl=n,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)},t.prototype.parseResponse=function(e){var t;if(e&&"function"==typeof e.indexOf&&0===e.indexOf("<"))t=(new l).parseXmlString(e);else try{t=JSON.parse(e)}catch(n){t=(e||"").split("\n").map((function(e){return e.trim(" ")})).filter((function(e){return!!e}))}return t},t.prototype.sendRequest=function(){this.isRunningValue=!0;var e=new XMLHttpRequest;e.open("GET",this.processedUrl),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var n=this,r=this.objHash;e.onload=function(){n.isRunningValue=!1,200===e.status?n.onLoad(n.parseResponse(e.response),r):n.onError(e.statusText,e.responseText)};var o={request:e};t.onBeforeSendRequest&&t.onBeforeSendRequest(this,o),this.beforeSendRequest(),o.request.send()},t.prototype.getType=function(){return"choicesByUrl"},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!(this.url||this.path||this.valueName||this.titleName||this.imageLinkName)},enumerable:!1,configurable:!0}),t.prototype.getCustomPropertiesNames=function(){for(var e=this.getCustomProperties(),t=new Array,n=0;n<e.length;n++)t.push(this.getCustomPropertyName(e[n].name));return t},t.prototype.getCustomPropertyName=function(e){return e+"Name"},t.prototype.getCustomProperties=function(){for(var e=a.k.getProperties(this.itemValueType),t=[],n=0;n<e.length;n++)"value"!==e[n].name&&"text"!==e[n].name&&"visibleIf"!==e[n].name&&"enableIf"!==e[n].name&&t.push(e[n]);return t},t.prototype.setData=function(e){this.clear(),e.url&&(this.url=e.url),e.path&&(this.path=e.path),e.valueName&&(this.valueName=e.valueName),e.titleName&&(this.titleName=e.titleName),e.imageLinkName&&(this.imageLinkName=e.imageLinkName),void 0!==e.allowEmptyResponse&&(this.allowEmptyResponse=e.allowEmptyResponse),void 0!==e.attachOriginalItems&&(this.attachOriginalItems=e.attachOriginalItems);for(var t=this.getCustomPropertiesNames(),n=0;n<t.length;n++)e[t[n]]&&(this[t[n]]=e[t[n]])},t.prototype.getData=function(){if(this.isEmpty)return null;var e={};this.url&&(e.url=this.url),this.path&&(e.path=this.path),this.valueName&&(e.valueName=this.valueName),this.titleName&&(e.titleName=this.titleName),this.imageLinkName&&(e.imageLinkName=this.imageLinkName),this.allowEmptyResponse&&(e.allowEmptyResponse=this.allowEmptyResponse),this.attachOriginalItems&&(e.attachOriginalItems=this.attachOriginalItems);for(var t=this.getCustomPropertiesNames(),n=0;n<t.length;n++)this[t[n]]&&(e[t[n]]=this[t[n]]);return e},Object.defineProperty(t.prototype,"url",{get:function(){return this.getPropertyValue("url","")},set:function(e){this.setPropertyValue("url",e),this.isUsingCacheFromUrl=void 0,e&&(e.indexOf(t.cacheText)>-1?this.isUsingCacheFromUrl=!0:e.indexOf(t.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path","")},set:function(e){this.setPropertyValue("path",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(e){this.setPropertyValue("valueName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleName",{get:function(){return this.getPropertyValue("titleName","")},set:function(e){this.setPropertyValue("titleName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageLinkName",{get:function(){return this.getPropertyValue("imageLinkName","")},set:function(e){this.setPropertyValue("imageLinkName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowEmptyResponse",{get:function(){return this.getPropertyValue("allowEmptyResponse",!1)},set:function(e){this.setPropertyValue("allowEmptyResponse",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attachOriginalItems",{get:function(){return this.getPropertyValue("attachOriginalItems",!1)},set:function(e){this.setPropertyValue("attachOriginalItems",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemValueType",{get:function(){if(!this.owner)return"itemvalue";var e=a.k.findProperty(this.owner.getType(),"choices");return e?"itemvalue[]"==e.type?"itemvalue":e.type:"itemvalue"},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.url="",this.path="",this.valueName="",this.titleName="",this.imageLinkName="";for(var e=this.getCustomPropertiesNames(),t=0;t<e.length;t++)this[e[t]]&&(this[e[t]]="")},t.prototype.beforeSendRequest=function(){this.beforeSendRequestCallback&&this.beforeSendRequestCallback()},t.prototype.onLoad=function(e,n){void 0===n&&(n=null),n||(n=this.objHash);var r=new Array,o=this.getResultAfterPath(e);if(o&&o.length)for(var a=0;a<o.length;a++){var u=o[a];if(u){var l=this.getItemValueCallback?this.getItemValueCallback(u):this.getValue(u),c=this.getTitle(u),p=new i.a(l,c);this.setCustomProperties(p,u),this.attachOriginalItems&&(p.originalItem=u);var d=this.getImageLink(u);d&&(p.imageLink=d),r.push(p)}}else this.allowEmptyResponse||(this.error=new s.k(null,this.owner));this.updateResultCallback&&(r=this.updateResultCallback(r,e)),this.isUsingCache&&(t.itemsResult[n]=r),this.callResultCallback(r,n),t.unregisterSameRequests(this,r)},t.prototype.callResultCallback=function(e,t){t==this.objHash&&this.getResultCallback(e)},t.prototype.setCustomProperties=function(e,t){for(var n=this.getCustomProperties(),r=0;r<n.length;r++){var o=n[r],i=this.getValueCore(t,this.getPropertyBinding(o.name));this.isValueEmpty(i)||(e[o.name]=i)}},t.prototype.getPropertyBinding=function(e){return this[this.getCustomPropertyName(e)]?this[this.getCustomPropertyName(e)]:this[e]?this[e]:e},t.prototype.onError=function(e,n){this.error=new s.l(e,n,this.owner),this.doEmptyResultCallback(n),t.unregisterSameRequests(this,[])},t.prototype.getResultAfterPath=function(e){if(!e)return e;if(!this.processedPath)return e;for(var t=this.getPathes(),n=0;n<t.length;n++)if(!(e=e[t[n]]))return null;return e},t.prototype.getPathes=function(){var e=[];return 0==(e=this.processedPath.indexOf(";")>-1?this.path.split(";"):this.processedPath.split(",")).length&&e.push(this.processedPath),e},t.prototype.getValue=function(e){return e?this.valueName?this.getValueCore(e,this.valueName):e instanceof Object?Object.keys(e).length<1?null:e[Object.keys(e)[0]]:e:null},t.prototype.getTitle=function(e){var t=this.titleName?this.titleName:"title";return this.getValueCore(e,t)},t.prototype.getImageLink=function(e){var t=this.imageLinkName?this.imageLinkName:"imageLink";return this.getValueCore(e,t)},t.prototype.getValueCore=function(e,t){if(!e)return null;if(t.indexOf(".")<0)return e[t];for(var n=t.split("."),r=0;r<n.length;r++)if(!(e=e[n[r]]))return null;return e},Object.defineProperty(t.prototype,"objHash",{get:function(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName},enumerable:!1,configurable:!0}),t.cacheText="{CACHE}",t.noCacheText="{NOCACHE}",t.itemsResult={},t.sendingSameRequests={},t}(o.a);a.k.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(e){return!!e&&!!e.owner&&"imagepicker"==e.owner.getType()}},{name:"allowEmptyResponse:boolean",default:!1},{name:"attachOriginalItems:boolean",default:!1,visible:!1}],(function(){return new c}))},function(e,t,n){"use strict";var r=n(85);n.d(t,"a",(function(){return i}));var o=function(e,t){this.at=e,this.code=t},i=function(){function e(){}return e.prototype.patchExpression=function(e){return e.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/==/g,"= ").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")},e.prototype.createCondition=function(e){return this.parseExpression(e)},e.prototype.parseExpression=function(t){try{var i=e.parserCache[t];return void 0===i&&((i=n.i(r.a)(this.patchExpression(t))).hasAsyncFunction()||(e.parserCache[t]=i)),i}catch(e){e instanceof r.b&&(this.conditionError=new o(e.location.start.offset,e.message))}},Object.defineProperty(e.prototype,"error",{get:function(){return this.conditionError},enumerable:!1,configurable:!0}),e.parserCache={},e}()},function(e,t,n){"use strict";var r=n(11);n.d(t,"a",(function(){return o}));var o=function(){function e(){}return Object.defineProperty(e,"serviceUrl",{get:function(){return r.a.surveyServiceUrl},set:function(e){r.a.surveyServiceUrl=e},enumerable:!1,configurable:!0}),e.prototype.loadSurvey=function(t,n){var r=new XMLHttpRequest;r.open("GET",e.serviceUrl+"/getSurvey?surveyId="+t),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onload=function(){var e=JSON.parse(r.response);n(200==r.status,e,r.response)},r.send()},e.prototype.getSurveyJsonAndIsCompleted=function(t,n,r){var o=new XMLHttpRequest;o.open("GET",e.serviceUrl+"/getSurveyAndIsCompleted?surveyId="+t+"&clientId="+n),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onload=function(){var e=JSON.parse(o.response),t=e?e.survey:null,n=e?e.isCompleted:null;r(200==o.status,t,n,o.response)},o.send()},e.prototype.sendResult=function(t,n,r,o,i){void 0===o&&(o=null),void 0===i&&(i=!1);var a=new XMLHttpRequest;a.open("POST",e.serviceUrl+"/post/"),a.setRequestHeader("Content-Type","application/json; charset=utf-8");var s={postId:t,surveyResult:JSON.stringify(n)};o&&(s.clientId=o),i&&(s.isPartialCompleted=!0);var u=JSON.stringify(s);a.onload=a.onerror=function(){r&&r(200===a.status,a.response,a)},a.send(u)},e.prototype.sendFile=function(t,n,r){var o=new XMLHttpRequest;o.onload=o.onerror=function(){r&&r(200==o.status,JSON.parse(o.response))},o.open("POST",e.serviceUrl+"/upload/",!0);var i=new FormData;i.append("file",n),i.append("postId",t),o.send(i)},e.prototype.getResult=function(t,n,r){var o=new XMLHttpRequest,i="resultId="+t+"&name="+n;o.open("GET",e.serviceUrl+"/getResult?"+i),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onload=function(){var e=null,t=null;if(200==o.status)for(var n in t=[],(e=JSON.parse(o.response)).QuestionResult){var i={name:n,value:e.QuestionResult[n]};t.push(i)}r(200==o.status,e,t,o.response)},o.send()},e.prototype.isCompleted=function(t,n,r){var o=new XMLHttpRequest,i="resultId="+t+"&clientId="+n;o.open("GET",e.serviceUrl+"/isCompleted?"+i),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onload=function(){var e=null;200==o.status&&(e=JSON.parse(o.response)),r(200==o.status,e,o.response)},o.send()},e}()},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(3);n.d(t,"a",(function(){return a}));var a=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.onItemSelect=n,i.allowSelection=r,i.selectItem=function(e){i.isExpanded=!1,i.allowSelection&&(i.selectedItem=e),i.onItemSelect&&i.onItemSelect(e)},i.isItemDisabled=function(e){return void 0!==e.enabled&&!e.enabled},i.isItemSelected=function(e){return i.allowSelection&&i.selectedItem==e},i.getItemClass=function(e){var t="sv-list__item";return i.isItemDisabled(e)&&(t+=" sv-list__item--disabled"),i.isItemSelected(e)&&(t+=" sv-list__item--selected"),t},i.createNewArray("items"),i.items=t,i.selectedItem=o,i}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"items",{get:function(){return this.getPropertyValue("items")},set:function(e){var t;(t=this.items).splice.apply(t,n.i(r.e)([0,this.items.length],e||[]))},enumerable:!1,configurable:!0}),n.i(r.c)([n.i(i.l)({defaultValue:!1})],t.prototype,"isExpanded",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"selectedItem",void 0),t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",otherItemText:"Other (describe)",noneItemText:"None",selectAllItemText:"Select All",progressText:"Page {0} of {1}",panelDynamicProgressText:"Record {0} of {1}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"There is no visible page or question in the survey.",completingSurvey:"Thank you for completing the survey!",completingSurveyBefore:"Our records show that you have already completed this survey.",loadingSurvey:"Loading Survey...",optionsCaption:"Choose...",value:"value",requiredError:"Please answer the question.",requiredErrorInPanel:"Please answer at least one question.",requiredInAllRowsError:"Please answer questions in all rows.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} variant(s).",maxSelectError:"Please select no more than {0} variant(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",otherRequiredError:"Please enter the other value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file chosen",confirmDelete:"Do you want to delete the record?",keyDuplicationError:"This value should be unique.",addColumn:"Add column",addRow:"Add row",removeRow:"Remove",emptyRowsText:"There are no rows.",addPanel:"Add new",removePanel:"Remove",choices_Item:"item",matrix_column:"Column",matrix_row:"Row",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",cleanCaption:"Clean",clearCaption:"Clear",chooseFileCaption:"Choose file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply"}},function(e,t,n){"use strict";var r=n(0),o=n(15),i=n(12),a=n(3),s=n(14),u=n(5),l=n(37);n.d(t,"a",(function(){return p}));var c=l.a,p=function(e){function t(t){var n=e.call(this,t)||this;return n.generatedVisibleRows=null,n.generatedTotalRow=null,n.moveRowByIndex=function(e,t,n){var r=e[t];r&&(e.splice(t,1),e.splice(n,0,r))},n.filteredRows=null,n.filteredColumns=null,n.columns=n.createColumnValues(),n.rows=n.createItemValues("rows"),n}return n.i(r.a)(t,e),t.prototype.createColumnValues=function(){return this.createItemValues("columns")},t.prototype.getType=function(){return"matrixbase"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},set:function(e){this.setPropertyValue("showHeader",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowRowsDragAndDrop",{get:function(){return this.getPropertyValue("allowRowsDragAndDrop")},set:function(e){this.setPropertyValue("allowRowsDragAndDrop",e)},enumerable:!1,configurable:!0}),t.prototype.afterRenderQuestionElement=function(t){t&&this.allowRowsDragAndDrop&&this.initSortable(t.querySelector("tbody")),e.prototype.afterRenderQuestionElement.call(this,t)},t.prototype.beforeDestroyQuestionElement=function(t){this.sortableInst&&this.sortableInst.destroy(),e.prototype.beforeDestroyQuestionElement.call(this,t)},Object.defineProperty(t.prototype,"columns",{get:function(){return this.getPropertyValue("columns")},set:function(e){this.setPropertyValue("columns",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleColumns",{get:function(){return this.filteredColumns?this.filteredColumns:this.columns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(e){var t=this.processRowsOnSet(e);this.setPropertyValue("rows",t),this.filterItems()},enumerable:!1,configurable:!0}),t.prototype.processRowsOnSet=function(e){return e},t.prototype.getVisibleRows=function(){return[]},Object.defineProperty(t.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowsVisibleIf",{get:function(){return this.getPropertyValue("rowsVisibleIf","")},set:function(e){this.setPropertyValue("rowsVisibleIf",e),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsVisibleIf",{get:function(){return this.getPropertyValue("columnsVisibleIf","")},set:function(e){this.setPropertyValue("columnsVisibleIf",e),this.filterItems()},enumerable:!1,configurable:!0}),t.prototype.runCondition=function(t,n){e.prototype.runCondition.call(this,t,n),this.runItemsCondition(t,n)},t.prototype.filterItems=function(){return this.areInvisibleElementsShowing?(this.onRowsChanged(),!1):!(this.isLoadingFromJson||!this.data)&&this.runItemsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},t.prototype.onColumnsChanged=function(){},t.prototype.onRowsChanged=function(){this.fireCallback(this.visibleRowsChangedCallback)},t.prototype.shouldRunColumnExpression=function(){return!this.survey||!this.survey.areInvisibleElementsShowing},t.prototype.hasRowsAsItems=function(){return!0},t.prototype.runItemsCondition=function(e,t){var n=null;if(this.filteredRows&&!u.a.isValueEmpty(this.defaultValue)){n=[];for(var r=0;r<this.filteredRows.length;r++)n.push(this.filteredRows[r])}var o=this.hasRowsAsItems()&&this.runConditionsForRows(e,t),i=this.runConditionsForColumns(e,t);return(o=i||o)&&(this.survey&&this.survey.isClearValueOnHidden&&(this.filteredColumns||this.filteredRows)&&this.clearIncorrectValues(),n&&this.restoreNewVisibleRowsValues(n),this.clearGeneratedRows(),i&&this.onColumnsChanged(),this.onRowsChanged()),o},t.prototype.clearGeneratedRows=function(){this.generatedVisibleRows=null},t.prototype.runConditionsForRows=function(e,t){var n=!!this.survey&&this.survey.areInvisibleElementsShowing,r=!n&&this.rowsVisibleIf?new s.a(this.rowsVisibleIf):null;this.filteredRows=[];var i=o.a.runConditionsForItems(this.rows,this.filteredRows,r,e,t,!n);return this.filteredRows.length===this.rows.length&&(this.filteredRows=null),i},t.prototype.runConditionsForColumns=function(e,t){var n=this.survey&&!this.survey.areInvisibleElementsShowing&&this.columnsVisibleIf?new s.a(this.columnsVisibleIf):null;this.filteredColumns=[];var r=o.a.runConditionsForItems(this.columns,this.filteredColumns,n,e,t,this.shouldRunColumnExpression());return this.filteredColumns.length===this.columns.length&&(this.filteredColumns=null),r},t.prototype.clearIncorrectValues=function(){var t=this.value;if(t){var n=null,r=!1,i=this.filteredRows?this.filteredRows:this.rows,a=this.filteredColumns?this.filteredColumns:this.columns;for(var s in t)o.a.getItemByValue(i,s)&&o.a.getItemByValue(a,t[s])?(null==n&&(n={}),n[s]=t[s]):r=!0;r&&(this.value=n),e.prototype.clearIncorrectValues.call(this)}},t.prototype.clearInvisibleValuesInRows=function(){if(!this.isEmpty()){for(var e=this.getUnbindValue(this.value),t=this.rows,n=0;n<t.length;n++){var r=t[n].value;e[r]&&!t[n].isVisible&&delete e[r]}u.a.isTwoValueEquals(e,this.value)||(this.value=e)}},t.prototype.restoreNewVisibleRowsValues=function(e){var t=this.filteredRows?this.filteredRows:this.rows,n=this.defaultValue,r=this.getUnbindValue(this.value),i=!1;for(var a in n)o.a.getItemByValue(t,a)&&!o.a.getItemByValue(e,a)&&(null==r&&(r={}),r[a]=n[a],i=!0);i&&(this.value=r)},t.prototype.initSortable=function(e){if(e&&!this.isReadOnly){var t=this;t.domNode=e,t.sortableInst=new c(e,{animation:100,forceFallback:!0,delay:200,delayOnTouchOnly:!0,handle:"tr",onEnd:function(e){t.moveRowByIndex(t.rows,e.oldDraggableIndex,e.newDraggableIndex)}})}},t}(i.a);a.k.addClass("matrixbase",["columnsVisibleIf:condition","rowsVisibleIf:condition",{name:"showHeader:boolean",default:!0},{name:"allowRowsDragAndDrop",default:!1}],void 0,"question")},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(5),a=n(22);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){void 0===t&&(t="");var n=e.call(this,t)||this;n.hasShownValue=!1,n.isRandomizing=!1,n.timeSpent=0;var r=n;return n.locTitle.onGetTextCallback=function(e){return r.num>0?r.num+". "+e:e},n.createLocalizableString("navigationTitle",n,!0),n.createLocalizableString("navigationDescription",n,!0),n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"page"},t.prototype.toString=function(){return this.name},Object.defineProperty(t.prototype,"isPage",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigationTitle",{get:function(){return this.getLocalizableStringText("navigationTitle")},set:function(e){this.setLocalizableStringText("navigationTitle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locNavigationTitle",{get:function(){return this.getLocalizableString("navigationTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigationDescription",{get:function(){return this.getLocalizableStringText("navigationDescription")},set:function(e){this.setLocalizableStringText("navigationDescription",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locNavigationDescription",{get:function(){return this.getLocalizableString("navigationDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"passed",{get:function(){return this.getPropertyValue("passed",!1)},set:function(e){this.setPropertyValue("passed",e)},enumerable:!1,configurable:!0}),t.prototype.delete=function(){this.survey&&this.removeSelfFromList(this.survey.pages)},t.prototype.onFirstRendering=function(){this.wasShown||e.prototype.onFirstRendering.call(this)},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},set:function(e){this.setPropertyValue("visibleIndex",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStarted",{get:function(){return this.survey&&this.survey.isPageStarted(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssClasses",{get:function(){var e=this.css,t={page:{},pageTitle:"",pageDescription:"",row:""};return this.copyCssClasses(t.page,e.page),e.pageTitle&&(t.pageTitle=e.pageTitle),e.pageDescription&&(t.pageDescription=e.pageDescription),e.row&&(t.row=e.row),this.survey&&this.survey.updatePageCssClasses(this,t),t},enumerable:!1,configurable:!0}),t.prototype.getIsPageVisible=function(t){return!this.isStarted&&e.prototype.getIsPageVisible.call(this,t)},Object.defineProperty(t.prototype,"num",{get:function(){return this.getPropertyValue("num",-1)},set:function(e){this.num!=e&&(this.setPropertyValue("num",e),this.onNumChanged(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigationButtonsVisibility",{get:function(){return this.getPropertyValue("navigationButtonsVisibility")},set:function(e){this.setPropertyValue("navigationButtonsVisibility",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wasShown",{get:function(){return this.hasShownValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasShown",{get:function(){return this.wasShown},enumerable:!1,configurable:!0}),t.prototype.setWasShown=function(e){e!=this.hasShownValue&&(this.hasShownValue=e,this.isDesignMode||1==e&&this.areQuestionsRandomized&&this.randomizeElements())},t.prototype.randomizeElements=function(){if(!this.isRandomizing){this.isRandomizing=!0;for(var e=[],t=this.elements,n=0;n<t.length;n++)e.push(t[n]);var r=i.a.randomizeArray(e);for(this.elements.splice(0,this.elements.length),n=0;n<r.length;n++)this.elements.push(r[n]);this.isRandomizing=!1}},Object.defineProperty(t.prototype,"areQuestionsRandomized",{get:function(){return"random"==("default"==this.questionsOrder&&this.survey?this.survey.questionsOrder:this.questionsOrder)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(e){this.setPropertyValue("questionsOrder",e)},enumerable:!1,configurable:!0}),t.prototype.scrollToTop=function(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id)},t.prototype.getPanels=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n=new Array;return this.addPanelsIntoList(n,e,t),n},Object.defineProperty(t.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(e){this.setPropertyValue("maxTimeToFinish",e)},enumerable:!1,configurable:!0}),t.prototype.onNumChanged=function(e){},t.prototype.onVisibleChanged=function(){this.isRandomizing||(e.prototype.onVisibleChanged.call(this),null!=this.survey&&this.survey.pageVisibilityChanged(this,this.isVisible))},t.prototype.dragDropStart=function(e,t,n){void 0===n&&(n=-1),this.dragDropInfo=new a.d(e,t,n)},t.prototype.dragDropMoveTo=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),!this.dragDropInfo)return!1;if(this.dragDropInfo.destination=e,this.dragDropInfo.isBottom=t,this.dragDropInfo.isEdge=n,this.correctDragDropInfo(this.dragDropInfo),!this.dragDropCanDropTagert())return!1;if(!this.dragDropCanDropSource()||!this.dragDropAllowFromSurvey()){if(this.dragDropInfo.source){var r=this.dragDropFindRow(this.dragDropInfo.target);this.updateRowsRemoveElementFromRow(this.dragDropInfo.target,r)}return!1}return this.dragDropAddTarget(this.dragDropInfo),!0},t.prototype.getTitleActions=function(){return this.titleActions=this.survey.getUpdatedPageTitleActions(this,[]),this.titleActions},t.prototype.correctDragDropInfo=function(e){if(e.destination){var t=e.destination.isPanel?e.destination:null;t&&(e.target.isLayoutTypeSupported(t.getChildrenLayoutType())||(e.isEdge=!0))}},t.prototype.dragDropAllowFromSurvey=function(){var e=this.dragDropInfo.destination;if(!e||!this.survey)return!0;var t=null,n=null,r=e.isPage||!this.dragDropInfo.isEdge&&e.isPanel?e:e.parent;if(!e.isPage){var o=e.parent;if(o){var i=o.elements,a=i.indexOf(e);a>-1&&(t=e,n=e,this.dragDropInfo.isBottom?t=a<i.length-1?i[a+1]:null:n=a>0?i[a-1]:null)}}var s={target:this.dragDropInfo.target,source:this.dragDropInfo.source,parent:r,insertAfter:n,insertBefore:t};return this.survey.dragAndDropAllow(s)},t.prototype.dragDropFinish=function(e){if(void 0===e&&(e=!1),this.dragDropInfo){var t=this.dragDropInfo.target,n=this.dragDropFindRow(t),r=this.dragDropGetElementIndex(t,n);if(this.updateRowsRemoveElementFromRow(t,n),!e&&n){var o=this.dragDropInfo.source;o&&o.parent&&(n.panel==o.parent?(n.panel.dragDropMoveElement(o,t,r),r=-1):o.parent.removeElement(o)),r>-1&&n.panel.addElement(t,r)}return this.dragDropInfo=null,e?null:t}},t.prototype.dragDropGetElementIndex=function(e,t){if(!t)return-1;var n=t.elements.indexOf(e);if(0==t.index)return n;var r=t.panel.rows[t.index-1],o=r.elements[r.elements.length-1];return n+t.panel.elements.indexOf(o)+1},t.prototype.dragDropCanDropTagert=function(){var e=this.dragDropInfo.destination;return!(e&&!e.isPage)||this.dragDropCanDropCore(this.dragDropInfo.target,e)},t.prototype.dragDropCanDropSource=function(){var e=this.dragDropInfo.source;if(!e)return!0;var t=this.dragDropInfo.destination;return!!this.dragDropCanDropCore(e,t)&&this.dragDropCanDropNotNext(e,t,this.dragDropInfo.isEdge,this.dragDropInfo.isBottom)},t.prototype.dragDropCanDropCore=function(e,t){if(!t)return!0;if(this.dragDropIsSameElement(t,e))return!1;if(e.isPanel){var n=e;if(n.containsElement(t)||n.getElementByName(t.name))return!1}return!0},t.prototype.dragDropCanDropNotNext=function(e,t,n,r){if(!t||t.isPanel&&!n)return!0;if(e.parent!==t.parent)return!0;var o=e.parent,i=o.elements.indexOf(e),a=o.elements.indexOf(t);return a<i&&!r&&a--,r&&a++,i<a?a-i>1:i-a>0},t.prototype.dragDropIsSameElement=function(e,t){return e==t||e.name==t.name},t.prototype.ensureRowsVisibility=function(){e.prototype.ensureRowsVisibility.call(this),this.getPanels().forEach((function(e){return e.ensureRowsVisibility()}))},t}(a.b);o.k.addClass("page",[{name:"navigationButtonsVisibility",default:"inherit",choices:["inherit","show","hide"]},{name:"questionsOrder",default:"default",choices:["default","initial","random"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"navigationTitle",visibleIf:function(e){return!!e.survey&&"buttons"===e.survey.progressBarType},serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(e){return!!e.survey&&"buttons"===e.survey.progressBarType},serializationProperty:"locNavigationDescription"}],(function(){return new s}),"panelbase")},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(3),a=n(1),s=n(174);n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var u=function(e){function t(t,n,r,o,i,a,s,u,l,c,p){void 0===r&&(r="bottom"),void 0===o&&(o="left"),void 0===i&&(i=!0),void 0===a&&(a=!1),void 0===s&&(s=function(){}),void 0===u&&(u=function(){}),void 0===l&&(l=function(){}),void 0===c&&(c=function(){}),void 0===p&&(p="");var d=e.call(this)||this;return d.contentComponentName=t,d.contentComponentData=n,d.verticalPosition=r,d.horizontalPosition=o,d.showPointer=i,d.isModal=a,d.onCancel=s,d.onApply=u,d.onHide=l,d.onShow=c,d.cssClass=p,d}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!1)},set:function(e){this.isVisible!==e&&(this.setPropertyValue("isVisible",e),this.onVisibilityChanged&&this.onVisibilityChanged(),this.isVisible?this.onShow():this.onHide())},enumerable:!1,configurable:!0}),t.prototype.toggleVisibility=function(){this.isVisible=!this.isVisible},n.i(r.c)([n.i(i.l)()],t.prototype,"contentComponentName",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"contentComponentData",void 0),n.i(r.c)([n.i(i.l)({defaultValue:"bottom"})],t.prototype,"verticalPosition",void 0),n.i(r.c)([n.i(i.l)({defaultValue:"left"})],t.prototype,"horizontalPosition",void 0),n.i(r.c)([n.i(i.l)({defaultValue:!1})],t.prototype,"showPointer",void 0),n.i(r.c)([n.i(i.l)({defaultValue:!1})],t.prototype,"isModal",void 0),n.i(r.c)([n.i(i.l)({defaultValue:function(){}})],t.prototype,"onCancel",void 0),n.i(r.c)([n.i(i.l)({defaultValue:function(){}})],t.prototype,"onApply",void 0),n.i(r.c)([n.i(i.l)({defaultValue:function(){}})],t.prototype,"onHide",void 0),n.i(r.c)([n.i(i.l)({defaultValue:function(){}})],t.prototype,"onShow",void 0),n.i(r.c)([n.i(i.l)({defaultValue:""})],t.prototype,"cssClass",void 0),t}(o.a),l=function(e){function t(t,n){var r=e.call(this)||this;return r.model=t,r.targetElement=n,r.model.onVisibilityChanged=function(){r.onIsVisibleChanged(r.isVisible)},r}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.model.isVisible},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentComponentName",{get:function(){return this.model.contentComponentName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentComponentData",{get:function(){return this.model.contentComponentData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPointer",{get:function(){return this.model.showPointer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isModal",{get:function(){return this.model.isModal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleClass",{get:function(){var e=this.model.cssClass;return this.showPointer&&(e+=" sv-popup--show-pointer",e+=" sv-popup--"+this.popupDirection),e},enumerable:!1,configurable:!0}),t.prototype.onIsVisibleChanged=function(e){var t=this;e&&(this.isModal?setTimeout((function(){t.setupModalPopup()}),1):setTimeout((function(){t.setupModelessPopup()}),1))},t.prototype.setupModalPopup=function(){var e=this.container.children[0],t=e.children[0];this.left=(e.offsetWidth-t.offsetWidth)/2+"px",this.top=(e.offsetHeight-t.offsetHeight)/2+"px"},t.prototype.setupModelessPopup=function(){var e=this.targetElement.getBoundingClientRect(),t=this.container.children[0].children[0];this.popupDirection=s.a.calculatePopupDirection(this.model.verticalPosition,this.model.horizontalPosition);var n=t.offsetHeight,r=t.offsetWidth,o=s.a.calculatePosition(e,n,r,this.model.verticalPosition,this.model.horizontalPosition,this.showPointer);this.left=o.left+"px",this.top=o.top+"px",this.showPointer&&(this.pointerTarget=s.a.calculatePointerTarget(e,o.top,o.left,this.model.verticalPosition,this.model.horizontalPosition)),this.pointerTarget.top+="px",this.pointerTarget.left+="px"},t.prototype.clickOutside=function(){this.isModal||(this.model.isVisible=!1)},t.prototype.cancel=function(){this.model.onCancel(),this.model.isVisible=!1},t.prototype.apply=function(){this.model.onApply(),this.model.isVisible=!1},Object.defineProperty(t.prototype,"cancelButtonText",{get:function(){return a.a.getString("modalCancelButtonText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"applyButtonText",{get:function(){return a.a.getString("modalApplyButtonText")},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.model.onVisibilityChanged=void 0},t.prototype.initializePopupContainer=function(){var e=document.createElement("div");this.container=e,document.body.appendChild(this.container)},t.prototype.destroyPopupContainer=function(){this.container.remove(),this.container=void 0},n.i(r.c)([n.i(i.l)({defaultValue:0})],t.prototype,"top",void 0),n.i(r.c)([n.i(i.l)({defaultValue:0})],t.prototype,"left",void 0),n.i(r.c)([n.i(i.l)({defaultValue:"left"})],t.prototype,"popupDirection",void 0),n.i(r.c)([n.i(i.l)({defaultValue:{left:"0px",top:"0px"}})],t.prototype,"pointerTarget",void 0),t}(o.a)},function(e,t,n){"use strict";var r=n(7);n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var o=function(){function e(e,t){this.name=e,this.widgetJson=t,this.isFirstRender=!0,this.htmlTemplate=t.htmlTemplate?t.htmlTemplate:""}return e.prototype.afterRender=function(e,t){var n=this;this.isFirstRender&&(this.isFirstRender=!1,e.survey.onLocaleChangedEvent.add((function(){n.widgetJson.willUnmount(e,t),n.widgetJson.afterRender(e,t)}))),this.widgetJson.afterRender&&this.widgetJson.afterRender(e,t)},e.prototype.willUnmount=function(e,t){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(e,t)},e.prototype.getDisplayValue=function(e,t){return void 0===t&&(t=void 0),this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(e,t):null},e.prototype.isFit=function(e){return!(!this.isLibraryLoaded()||!this.widgetJson.isFit)&&this.widgetJson.isFit(e)},e.prototype.init=function(){this.widgetJson.init&&this.widgetJson.init()},e.prototype.activatedByChanged=function(e){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(e)},e.prototype.isLibraryLoaded=function(){return!this.widgetJson.widgetIsLoaded||1==this.widgetJson.widgetIsLoaded()},Object.defineProperty(e.prototype,"isDefaultRender",{get:function(){return this.widgetJson.isDefaultRender},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pdfQuestionType",{get:function(){return this.widgetJson.pdfQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pdfRender",{get:function(){return this.widgetJson.pdfRender},enumerable:!1,configurable:!0}),e}(),i=function(){function e(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new r.b}return Object.defineProperty(e.prototype,"widgets",{get:function(){return this.widgetsValues},enumerable:!1,configurable:!0}),e.prototype.add=function(e,t){void 0===t&&(t="property"),this.addCustomWidget(e,t)},e.prototype.addCustomWidget=function(e,t){void 0===t&&(t="property");var n=e.name;n||(n="widget_"+this.widgets.length+1);var r=new o(n,e);this.widgetsValues.push(r),r.init(),this.widgetsActivatedBy[n]=t,r.activatedByChanged(t),this.onCustomWidgetAdded.fire(r,null)},e.prototype.getActivatedBy=function(e){var t=this.widgetsActivatedBy[e];return t||"property"},e.prototype.setActivatedBy=function(e,t){if(e&&t){var n=this.getCustomWidgetByName(e);n&&(this.widgetsActivatedBy[e]=t,n.activatedByChanged(t))}},e.prototype.clear=function(){this.widgetsValues=[]},e.prototype.getCustomWidgetByName=function(e){for(var t=0;t<this.widgets.length;t++)if(this.widgets[t].name==e)return this.widgets[t];return null},e.prototype.getCustomWidget=function(e){for(var t=0;t<this.widgetsValues.length;t++)if(this.widgetsValues[t].isFit(e))return this.widgetsValues[t];return null},e.Instance=new e,e}()},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(8),a=n(23),s=n(5),u=n(15),l=n(1);n.d(t,"a",(function(){return c}));var c=function(e){function t(t){var n=e.call(this,t)||this;n.noneItemValue=new u.a("none"),n.selectAllItemValue=new u.a("selectall"),n.invisibleOldValues={},n.isChangingValueOnClearIncorrect=!1;var r=n.createLocalizableString("noneText",n,!0);r.onGetTextCallback=function(e){return e||l.a.getString("noneItemText")},n.noneItemValue.locOwner=n,n.noneItemValue.setLocText(r);var o=n.createLocalizableString("selectAllText",n,!0);o.onGetTextCallback=function(e){return e||l.a.getString("selectAllItemText")},n.selectAllItem.locOwner=n,n.selectAllItem.setLocText(o);var i=n;return n.registerFunctionOnPropertiesValueChanged(["hasNone","noneText","hasSelectAll","selectAllText"],(function(){i.onVisibleChoicesChanged()})),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"ariaRole",{get:function(){return"group"},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"checkbox"},t.prototype.onCreating=function(){e.prototype.onCreating.call(this),this.createNewArray("renderedValue"),this.createNewArray("value")},t.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(t.prototype,"selectAllItem",{get:function(){return this.selectAllItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noneItem",{get:function(){return this.noneItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noneText",{get:function(){return this.getLocalizableStringText("noneText",l.a.getString("noneItemText"))},set:function(e){this.setLocalizableStringText("noneText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locNoneText",{get:function(){return this.getLocalizableString("noneText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectAllText",{get:function(){return this.getLocalizableStringText("selectAllText",l.a.getString("selectAllItemText"))},set:function(e){this.setLocalizableStringText("selectAllText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locSelectAllText",{get:function(){return this.getLocalizableString("selectAllText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSelectAll",{get:function(){return this.getPropertyValue("hasSelectAll",!1)},set:function(e){this.setPropertyValue("hasSelectAll",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllSelected",{get:function(){var e=this.value;if(!e||!Array.isArray(e))return!1;if(this.isItemSelected(this.noneItem))return!1;var t=this.visibleChoices.length;this.hasOther&&t--,this.hasNone&&t--,this.hasSelectAll&&t--;var n=e.length;return this.isItemSelected(this.otherItem)&&n--,n===t},set:function(e){e?this.selectAll():this.clearValue()},enumerable:!1,configurable:!0}),t.prototype.toggleSelectAll=function(){this.isAllSelected=!this.isAllSelected},t.prototype.selectAll=function(){for(var e=[],t=0;t<this.visibleChoices.length;t++){var n=this.visibleChoices[t];n!==this.noneItem&&n!==this.otherItem&&n!==this.selectAllItem&&e.push(n.value)}this.value=e},Object.defineProperty(t.prototype,"hasNone",{get:function(){return this.getPropertyValue("hasNone",!1)},set:function(e){this.setPropertyValue("hasNone",e)},enumerable:!1,configurable:!0}),t.prototype.isItemSelected=function(e){if(e===this.selectAllItem)return this.isAllSelected;var t=this.renderedValue;if(!t||!Array.isArray(t))return!1;for(var n=0;n<t.length;n++)if(s.a.isTwoValueEquals(t[n],e.value))return!0;return!1},Object.defineProperty(t.prototype,"maxSelectedChoices",{get:function(){return this.getPropertyValue("maxSelectedChoices",0)},set:function(e){e<0&&(e=0),this.setPropertyValue("maxSelectedChoices",e)},enumerable:!1,configurable:!0}),t.prototype.onEnableItemCallBack=function(e){return!this.shouldCheckMaxSelectedChoices()||this.isItemSelected(e)},t.prototype.onAfterRunItemsEnableCondition=function(){this.maxSelectedChoices<1||(this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.maxSelectedChoices>=this.activeChoices.length),this.hasOther&&this.otherItem.setIsEnabled(!this.shouldCheckMaxSelectedChoices()||this.isOtherSelected))},t.prototype.shouldCheckMaxSelectedChoices=function(){if(this.maxSelectedChoices<1)return!1;var e=this.value;return(Array.isArray(e)?e.length:0)>=this.maxSelectedChoices},t.prototype.getItemClass=function(e){this.value;var t=this.isItemSelected(e),n=this.isReadOnly||!e.isEnabled,r=!t&&!n,o=e===this.selectAllItem,i=e===this.noneItem,a=this.cssClasses.item;return this.hasColumns||(a+=0===this.colCount?" "+this.cssClasses.itemInline:" sv-q-col-"+this.colCount),n&&this.cssClasses.itemDisabled&&(a+=" "+this.cssClasses.itemDisabled),t&&this.cssClasses.itemChecked&&(a+=" "+this.cssClasses.itemChecked),r&&this.cssClasses.itemHover&&(a+=" "+this.cssClasses.itemHover),o&&this.cssClasses.itemSelectAll&&(a+=" "+this.cssClasses.itemSelectAll),i&&this.cssClasses.itemNone&&(a+=" "+this.cssClasses.itemNone),a},t.prototype.setNewValue=function(t){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues=[]),t=this.valueFromData(t);var n=this.value;if(t||(t=[]),n||(n=[]),!s.a.isTwoValueEquals(n,t)){if(this.hasNone){var r=this.noneIndexInArray(n),o=this.noneIndexInArray(t);r>-1?o>-1&&t.length>1&&t.splice(o,1):o>-1&&(t.splice(0,t.length),t.push(this.noneItem.value))}e.prototype.setNewValue.call(this,this.rendredValueToData(t))}},t.prototype.getIsMultipleValue=function(){return!0},t.prototype.getCommentFromValue=function(e){var t=this.getFirstUnknownIndex(e);return t<0?"":e[t]},t.prototype.setOtherValueIntoValue=function(e){var t=this.getFirstUnknownIndex(e);return t<0||e.splice(t,1,this.otherItem.value),e},t.prototype.getFirstUnknownIndex=function(e){if(!Array.isArray(e))return-1;for(var t=0;t<e.length;t++)if(this.hasUnknownValue(e[t]))return t;return-1},t.prototype.noneIndexInArray=function(e){if(!e||!Array.isArray(e))return-1;for(var t=this.noneItem.value,n=0;n<e.length;n++)if(e[n]==t)return n;return-1},t.prototype.canUseFilteredChoices=function(){return!this.hasNone&&!this.hasSelectAll&&e.prototype.canUseFilteredChoices.call(this)},t.prototype.addToVisibleChoices=function(t){this.hasSelectAll&&t.unshift(this.selectAllItem),e.prototype.addToVisibleChoices.call(this,t),this.hasNone&&t.push(this.noneItem)},t.prototype.getDisplayValueCore=function(t,n){if(!Array.isArray(n))return e.prototype.getDisplayValueCore.call(this,t,n);for(var r=this.visibleChoices,o="",i=0;i<n.length;i++){var a=this.getChoicesDisplayValue(r,n[i]);a&&(o&&(o+=", "),o+=a)}return o},t.prototype.clearIncorrectValuesCore=function(){this.clearIncorrectAndDisabledValues(!1)},t.prototype.clearDisabledValuesCore=function(){this.clearIncorrectAndDisabledValues(!0)},t.prototype.clearIncorrectAndDisabledValues=function(e){var t=this.value,n=!1,r=this.restoreValuesFromInvisible();if(t||0!=r.length){if(!Array.isArray(t)||0==t.length){if(this.isChangingValueOnClearIncorrect=!0,e||(this.hasComment?this.value=null:this.clearValue()),this.isChangingValueOnClearIncorrect=!1,0==r.length)return;t=[]}for(var o=[],i=0;i<t.length;i++){var a=this.canClearValueAnUnknow(t[i]);!e&&!a||e&&!this.isValueDisabled(t[i])?o.push(t[i]):(n=!0,a&&(this.invisibleOldValues[t[i]]=!0))}for(i=0;i<r.length;i++)o.push(r[i]),n=!0;n&&(this.isChangingValueOnClearIncorrect=!0,0==o.length?this.clearValue():this.value=o,this.isChangingValueOnClearIncorrect=!1)}},t.prototype.restoreValuesFromInvisible=function(){for(var e=[],t=this.visibleChoices,n=0;n<t.length;n++){var r=t[n].value;this.invisibleOldValues[r]&&(e.push(r),delete this.invisibleOldValues[r])}return e},t.prototype.getConditionJson=function(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.prototype.getConditionJson.call(this);return"contains"!=t&&"notcontains"!=t||(r.type="radiogroup"),r},t.prototype.isAnswerCorrect=function(){return s.a.isArrayContainsEqual(this.value,this.correctAnswer)},t.prototype.setDefaultValueWithOthers=function(){this.value=this.renderedValueFromDataCore(this.defaultValue)},t.prototype.getHasOther=function(e){return!(!e||!Array.isArray(e))&&e.indexOf(this.otherItem.value)>=0},t.prototype.valueFromData=function(t){if(!t)return t;if(!Array.isArray(t))return[e.prototype.valueFromData.call(this,t)];for(var n=[],r=0;r<t.length;r++){var o=u.a.getItemByValue(this.activeChoices,t[r]);o?n.push(o.value):n.push(t[r])}return n},t.prototype.renderedValueFromDataCore=function(e){e&&Array.isArray(e)||(e=[]);for(var t=0;t<e.length;t++){if(e[t]==this.otherItem.value)return e;if(this.hasUnknownValue(e[t])){this.comment=e[t];var n=e.slice();return n[t]=this.otherItem.value,n}}return e},t.prototype.rendredValueToDataCore=function(e){if(!e||!e.length)return e;for(var t=0;t<e.length;t++)if(e[t]==this.otherItem.value&&this.getQuestionComment()){var n=e.slice();return n[t]=this.getQuestionComment(),n}return e},t.prototype.hasUnknownValue=function(t,n){return void 0===n&&(n=!1),(!this.hasNone||t!=this.noneItemValue.value)&&e.prototype.hasUnknownValue.call(this,t,n)},t}(a.a);o.k.addClass("checkbox",["hasSelectAll:boolean","hasNone:boolean",{name:"maxSelectedChoices",default:0},{name:"noneText",serializationProperty:"locNoneText"},{name:"selectAllText",serializationProperty:"locSelectAllText"}],(function(){return new c("")}),"checkboxbase"),i.a.Instance.registerQuestion("checkbox",(function(e){var t=new c(e);return t.choices=i.a.DefaultChoices,t}))},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(8),a=n(23),s=n(1),u=n(15);n.d(t,"a",(function(){return l}));var l=function(e){function t(t){var n=e.call(this,t)||this;n.minMaxChoices=[],n.createLocalizableString("optionsCaption",n);var r=n;return n.registerFunctionOnPropertiesValueChanged(["choicesMin","choicesMax","choicesStep"],(function(){r.onVisibleChoicesChanged()})),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"showOptionsCaption",{get:function(){return this.getPropertyValue("showOptionsCaption",!0)},set:function(e){this.setPropertyValue("showOptionsCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionsCaption",{get:function(){return this.getLocalizableStringText("optionsCaption",s.a.getString("optionsCaption"))},set:function(e){this.setLocalizableStringText("optionsCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locOptionsCaption",{get:function(){return this.getLocalizableString("optionsCaption")},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"dropdown"},Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this.isEmpty()?null:u.a.getItemByValue(this.visibleChoices,this.value)},enumerable:!1,configurable:!0}),t.prototype.supportGoNextPageAutomatic=function(){return!0},t.prototype.getChoices=function(){var t=e.prototype.getChoices.call(this);if(this.choicesMax<=this.choicesMin)return t;for(var n=[],r=0;r<t.length;r++)n.push(t[r]);if(0===this.minMaxChoices.length||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1)for(this.minMaxChoices=[],r=this.choicesMin;r<=this.choicesMax;r+=this.choicesStep)this.minMaxChoices.push(new u.a(r));return n=n.concat(this.minMaxChoices)},Object.defineProperty(t.prototype,"choicesMin",{get:function(){return this.getPropertyValue("choicesMin",0)},set:function(e){this.setPropertyValue("choicesMin",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesMax",{get:function(){return this.getPropertyValue("choicesMax",0)},set:function(e){this.setPropertyValue("choicesMax",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesStep",{get:function(){return this.getPropertyValue("choicesStep",1)},set:function(e){e<1&&(e=1),this.setPropertyValue("choicesStep",e)},enumerable:!1,configurable:!0}),t}(a.b);o.k.addClass("dropdown",[{name:"optionsCaption",serializationProperty:"locOptionsCaption"},{name:"showOptionsCaption:boolean",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1}],(function(){return new l("")}),"selectbase"),i.a.Instance.registerQuestion("dropdown",(function(e){var t=new l(e);return t.choices=i.a.DefaultChoices,t}))},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(12),a=n(3),s=n(8),u=n(14);n.d(t,"a",(function(){return l})),t.b=c;var l=function(e){function t(t){var n=e.call(this,t)||this;n.createLocalizableString("format",n);var r=n;return n.registerFunctionOnPropertyValueChanged("expression",(function(){r.expressionRunner&&(r.expressionRunner=new u.b(r.expression))})),n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"expression"},Object.defineProperty(t.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this.getLocalizableStringText("format","")},set:function(e){this.setLocalizableStringText("format",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locFormat",{get:function(){return this.getLocalizableString("format")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),t.prototype.locCalculation=function(){this.expressionIsRunning=!0},t.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},t.prototype.runCondition=function(t,n){var r=this;e.prototype.runCondition.call(this,t,n),this.expression&&!this.expressionIsRunning&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=new u.b(this.expression)),this.expressionRunner.onRunComplete=function(e){o.a.isTwoValueEquals(e,r.value)||(r.value=e),r.unlocCalculation()},this.expressionRunner.run(t,n))},t.prototype.hasErrors=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=null),!1},t.prototype.getAllErrors=function(){return[]},Object.defineProperty(t.prototype,"maximumFractionDigits",{get:function(){return this.getPropertyValue("maximumFractionDigits",-1)},set:function(e){e<-1||e>20||this.setPropertyValue("maximumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minimumFractionDigits",{get:function(){return this.getPropertyValue("minimumFractionDigits",-1)},set:function(e){e<-1||e>20||this.setPropertyValue("minimumFractionDigits",e)},enumerable:!1,configurable:!0}),t.prototype.getDisplayValueCore=function(e,t){var n=this.isValueEmpty(t)?this.defaultValue:t;if(this.isValueEmpty(n))return"";var r=this.getValueAsStr(n);return this.format?this.format.format(r):r},Object.defineProperty(t.prototype,"displayStyle",{get:function(){return this.getPropertyValue("displayStyle")},set:function(e){this.setPropertyValue("displayStyle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currency",{get:function(){return this.getPropertyValue("currency")},set:function(e){["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"].indexOf(e)<0||this.setPropertyValue("currency",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useGrouping",{get:function(){return this.getPropertyValue("useGrouping",!0)},set:function(e){this.setPropertyValue("useGrouping",e)},enumerable:!1,configurable:!0}),t.prototype.getValueAsStr=function(e){if("date"==this.displayStyle){var t=new Date(e);if(t&&t.toLocaleDateString)return t.toLocaleDateString()}if("none"!=this.displayStyle&&o.a.isNumber(e)){var n=this.getLocale();n||(n="en");var r={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(r.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(r.minimumFractionDigits=this.minimumFractionDigits),e.toLocaleString(n,r)}return e.toString()},t}(i.a);function c(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}a.k.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:function(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]},default:"USD"},{name:"maximumFractionDigits:number",default:-1},{name:"minimumFractionDigits:number",default:-1},{name:"useGrouping:boolean",default:!0},{name:"enableIf",visible:!1},{name:"isRequired",visible:!1},{name:"readOnly",visible:!1},{name:"requiredErrorText",visible:!1},{name:"validators",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"requiredIf",visible:!1}],(function(){return new l("")}),"question"),s.a.Instance.registerQuestion("expression",(function(e){return new l(e)}))},function(e,t,n){"use strict";var r=n(0),o=n(8),i=n(3),a=n(12),s=n(16),u=n(5),l=n(35),c=n(1),p=n(13),d=n(11);n.d(t,"a",(function(){return h}));var h=function(e){function t(t){var n=e.call(this,t)||this;return n.createLocalizableString("placeHolder",n),n.createLocalizableString("minErrorText",n,!0),n.createLocalizableString("maxErrorText",n,!0),n.locDataListValue=new s.b(n),n.registerFunctionOnPropertiesValueChanged(["min","max","inputType","minValueExpression","maxValueExpression"],(function(){n.setRenderedMinMax()})),n}return n.i(r.a)(t,e),t.prototype.isTextValue=function(){return["text","number","password"].indexOf(this.inputType)>-1},t.prototype.getType=function(){return"text"},t.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.setRenderedMinMax()},Object.defineProperty(t.prototype,"inputType",{get:function(){return this.getPropertyValue("inputType")},set:function(e){"datetime_local"==(e=e.toLowerCase())&&(e="datetime-local"),this.setPropertyValue("inputType",e.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0)},enumerable:!1,configurable:!0}),t.prototype.runCondition=function(t,n){e.prototype.runCondition.call(this,t,n),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(t,n)},Object.defineProperty(t.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(e){this.setPropertyValue("textUpdateMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSurveyInputTextUpdate",{get:function(){return"default"==this.textUpdateMode?!!this.survey&&this.survey.isUpdateValueTextOnTyping:"onTyping"==this.textUpdateMode},enumerable:!1,configurable:!0}),t.prototype.getValidators=function(){var t=e.prototype.getValidators.call(this);return"email"!==this.inputType||this.validators.some((function(e){return"emailvalidator"===e.getType()}))||t.push(new l.b),t},t.prototype.isLayoutTypeSupported=function(e){return!0},Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(e){this.setPropertyValue("maxLength",e)},enumerable:!1,configurable:!0}),t.prototype.getMaxLength=function(){return u.a.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)},Object.defineProperty(t.prototype,"size",{get:function(){return this.getPropertyValue("size")},set:function(e){this.setPropertyValue("size",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoComplete",{get:function(){return this.getPropertyValue("autoComplete","")},set:function(e){this.setPropertyValue("autoComplete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.getPropertyValue("min")},set:function(e){this.isValueExpression(e)?this.minValueExpression=e.substr(1):this.setPropertyValue("min",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.getPropertyValue("max")},set:function(e){this.isValueExpression(e)?this.maxValueExpression=e.substr(1):this.setPropertyValue("max",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minValueExpression",{get:function(){return this.getPropertyValue("minValueExpression","")},set:function(e){this.setPropertyValue("minValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValueExpression",{get:function(){return this.getPropertyValue("maxValueExpression","")},set:function(e){this.setPropertyValue("maxValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedMin",{get:function(){return this.getPropertyValue("renderedMin")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedMax",{get:function(){return this.getPropertyValue("renderedMax")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minErrorText",{get:function(){return this.getLocalizableStringText("minErrorText",c.a.getString("minError"))},set:function(e){this.setLocalizableStringText("minErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMinErrorText",{get:function(){return this.getLocalizableString("minErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxErrorText",{get:function(){return this.getLocalizableStringText("maxErrorText",c.a.getString("maxError"))},set:function(e){this.setLocalizableStringText("maxErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMaxErrorText",{get:function(){return this.getLocalizableString("maxErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMinMaxType",{get:function(){return f.indexOf(this.inputType)>-1},enumerable:!1,configurable:!0}),t.prototype.onCheckForErrors=function(t,n){e.prototype.onCheckForErrors.call(this,t,n),n||this.canSetValueToSurvey()||(this.isValueLessMin&&t.push(new p.a(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this)),this.isValueGreaterMax&&t.push(new p.a(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this)))},t.prototype.canSetValueToSurvey=function(){return!this.isMinMaxType||!this.isValueLessMin&&!this.isValueGreaterMax},t.prototype.getMinMaxErrorText=function(e,t){return t?e.replace("{0}",t.toString()):e},Object.defineProperty(t.prototype,"isValueLessMin",{get:function(){return!u.a.isValueEmpty(this.renderedMin)&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValueGreaterMax",{get:function(){return!u.a.isValueEmpty(this.renderedMax)&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDateInputType",{get:function(){return"date"===this.inputType||"datetime-local"===this.inputType},enumerable:!1,configurable:!0}),t.prototype.getCalculatedMinMax=function(e){return u.a.isValueEmpty(e)?e:this.isDateInputType?new Date(e):e},t.prototype.setRenderedMinMax=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=null),this.setValueAndRunExpression(this.minValueExpression,this.min,(function(e){!e&&n.isDateInputType&&d.a.minDate&&(e=d.a.minDate),n.setPropertyValue("renderedMin",e)}),e,t),this.setValueAndRunExpression(this.maxValueExpression,this.max,(function(e){!e&&n.isDateInputType&&(e=d.a.maxDate?d.a.maxDate:"2999-12-31"),n.setPropertyValue("renderedMax",e)}),e,t)},Object.defineProperty(t.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(e){this.setPropertyValue("step",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStep",{get:function(){return u.a.isValueEmpty(this.step)?"any":this.step},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return e.prototype.isEmpty.call(this)||""===this.value},t.prototype.supportGoNextPageAutomatic=function(){return["date","datetime","datetime-local"].indexOf(this.inputType)<0},t.prototype.supportGoNextPageError=function(){return["date","datetime","datetime-local"].indexOf(this.inputType)<0},Object.defineProperty(t.prototype,"placeHolder",{get:function(){return this.getLocalizableStringText("placeHolder")},set:function(e){this.setLocalizableStringText("placeHolder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceHolder",{get:function(){return this.getLocalizableString("placeHolder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataList",{get:function(){return this.locDataList.value},set:function(e){this.locDataList.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDataList",{get:function(){return this.locDataListValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataListId",{get:function(){return this.locDataList.isEmpty?"":this.id+"_datalist"},enumerable:!1,configurable:!0}),t.prototype.canRunValidators=function(e){return this.errors.length>0||!e||this.supportGoNextPageError()},t.prototype.setNewValue=function(t){t=this.correctValueType(t),e.prototype.setNewValue.call(this,t)},t.prototype.correctValueType=function(e){return!e||"number"!=this.inputType&&"range"!=this.inputType?e:u.a.isNumber(e)?parseFloat(e):""},t}(a.a),f=["number","range","date","datetime-local","month","time","week"];i.k.addClass("text",[{name:"inputType",default:"text",choices:["color","date","datetime","datetime-local","email","month","number","password","range","tel","text","time","url","week"]},{name:"size:number",default:25},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(e){return!!e&&"text"==e.inputType}},{name:"autoComplete",dataList:["name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},{name:"min",dependsOn:"inputType",visibleIf:function(e){return!!e&&e.isMinMaxType},onPropertyEditorUpdate:function(e,t){t.inputType=e.inputType}},{name:"max",dependsOn:"inputType",visibleIf:function(e){return!!e&&e.isMinMaxType},onPropertyEditorUpdate:function(e,t){t.inputType=e.inputType}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(e){return!!e&&e.isMinMaxType}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(e){return!!e&&e.isMinMaxType}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(e){return!!e&&e.isMinMaxType}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(e){return!!e&&e.isMinMaxType}},{name:"step:number",dependsOn:"inputType",visibleIf:function(e){return!!e&&"number"===e.inputType}},{name:"maxLength:number",default:-1},{name:"placeHolder",serializationProperty:"locPlaceHolder",dependsOn:"inputType",visibleIf:function(e){return!!e&&["email","number","password","tel","text","url"].indexOf(e.inputType)>-1}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(e){return!!e&&"text"===e.inputType}}],(function(){return new h("")}),"question"),o.a.Instance.registerQuestion("text",(function(e){return new h(e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(6);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnChange=n.handleOnChange.bind(n),n.handleOnClick=n.handleOnClick.bind(n),n.handleOnLabelClick=n.handleOnLabelClick.bind(n),n.handleOnSwitchClick=n.handleOnSwitchClick.bind(n),n.checkRef=o.createRef(),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.preventDefaults=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.doCheck=function(e){this.question.checkedValue=e,this.setState({value:this.question.checkedValue})},t.prototype.handleOnChange=function(e){this.doCheck(e.target.checked)},t.prototype.handleOnClick=function(e){this.question.isIndeterminate&&(this.preventDefaults(e),this.question.checkedValue=!0,this.setState({value:this.question.checkedValue}))},t.prototype.handleOnSwitchClick=function(e){if(this.question.isIndeterminate){this.preventDefaults(e);var t=e.nativeEvent.offsetX/e.target.offsetWidth>.5,n="rtl"==document.defaultView.getComputedStyle(e.target).direction?!t:t;return this.doCheck(n)}},t.prototype.handleOnLabelClick=function(e,t){this.question.isIndeterminate&&(this.preventDefaults(e),this.doCheck(t))},t.prototype.updateDomElement=function(){if(this.question){var t=this.checkRef.current;t&&(t.indeterminate=this.question.isIndeterminate),this.control=t,e.prototype.updateDomElement.call(this)}},t.prototype.getItemClass=function(){var e=this.question.cssClasses,t=this.question.checkedValue,n=this.question.isReadOnly,r=e.item;return n&&(r+=" "+e.itemDisabled),t?r+=" "+e.itemChecked:null===t&&(r+=" "+e.itemIndeterminate),r},t.prototype.getLabelClass=function(e){var t=this.question;return this.question.cssClasses.label+" "+(t.checkedValue===!e||t.isReadOnly?t.cssClasses.disabledLabel:"")},t.prototype.renderElement=function(){var e=this,t=this.question.cssClasses,n=this.getItemClass();return o.createElement("div",{className:t.root},o.createElement("label",{className:n,onClick:this.handleOnClick},o.createElement("input",{ref:this.checkRef,type:"checkbox",value:null===this.question.checkedValue?"":this.question.checkedValue,id:this.question.inputId,className:t.control,disabled:this.isDisplayMode,checked:this.question.checkedValue||!1,onChange:this.handleOnChange,"aria-label":this.question.locTitle.renderedHtml,"aria-invalid":this.question.errors.length>0,"aria-describedby":this.question.errors.length>0?this.question.id+"_errors":null}),o.createElement("span",{className:this.getLabelClass(!1),onClick:function(t){return e.handleOnLabelClick(t,!1)}},this.renderLocString(this.question.locLabelFalse)),o.createElement("div",{className:t.switch,onClick:this.handleOnSwitchClick},o.createElement("span",{className:t.slider})),o.createElement("span",{className:this.getLabelClass(!0),onClick:function(t){return e.handleOnLabelClick(t,!0)}},this.renderLocString(this.question.locLabelTrue))))},t}(i.b);a.a.Instance.registerQuestion("boolean",(function(e){return o.createElement(s,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n.n(o),a=n(9),s=n(4),u=n(31),l=n(53);n.d(t,"a",(function(){return c}));var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),t.prototype.getStateElement=function(){return this.item},t.prototype.render=function(){var e="sv-action "+this.item.css+(this.item.isVisible?"":" sv-action--hidden"),t=this.item.needSeparator?i.a.createElement(l.a,null):null;return i.a.createElement("span",{className:e},t,this.renderInnerButton())},t.prototype.renderButtonContent=function(){var e=this.renderText(),t=this.item.iconName?i.a.createElement(u.a,{className:"sv-action-bar-item__icon",size:24,iconName:this.item.iconName}):null;return i.a.createElement(i.a.Fragment,null,t,e)},t.prototype.renderInnerButton=function(){var e=this,t="sv-action-bar-item "+this.item.innerCss+(this.item.active?" sv-action-bar-item--active":""),n=this.item.tooltip||this.item.title,r=void 0!==this.item.enabled&&!this.item.enabled,o=this.renderButtonContent();return i.a.createElement("button",{className:t,disabled:r,onClick:function(){return e.item.action(e.item)},title:n},o)},t.prototype.renderText=function(){if(void 0===this.item.showTitle||this.item.showTitle||!this.item.iconName){var e="sv-action-bar-item__title "+(this.item.iconName?"sv-action-bar-item__title--with-icon":"");return i.a.createElement("span",{className:e}," ",this.item.title)}return null},t}(s.a);a.a.Instance.registerElement("sv-action-bar-item",(function(e){return i.a.createElement(c,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n.n(o),a=n(9);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.render=function(){var e="sv-action-bar-separator "+this.props.cssClasses;return i.a.createElement("div",{className:e})},t}(i.a.Component);a.a.Instance.registerElement("sv-action-bar-separator",(function(e){return i.a.createElement(s,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n.n(o),a=n(10),s=n(9),u=n(4);n(52),n(145),n(53),n.d(t,"a",(function(){return l}));var l=function(e){function t(t){var n=e.call(this,t)||this;n.adaptiveElement=new a._77;var r=n.props.items;return n.adaptiveElement.items=r.map((function(e,t){return new a._76(n.adaptiveElement,e)})),n.rootRef=i.a.createRef(),n}return n.i(r.a)(t,e),t.prototype.componentDidMount=function(){var t=this;e.prototype.componentDidMount.call(this);var n=this.rootRef.current;this.manager=new a._92(n,this.adaptiveElement),this.manager.getItemSizes=function(){var e=[];return n.querySelectorAll("span.sv-action").forEach((function(t){e.push(t.offsetWidth)})),e},this.updateVisibleItems=setInterval((function(){t.manager.process()}),100)},t.prototype.componentWillUnmount=function(){clearInterval(this.updateVisibleItems),e.prototype.componentWillUnmount.call(this)},t.prototype.getStateElement=function(){return this.adaptiveElement},t.prototype.render=function(){if(!this.hasItems)return null;var e=this.renderItems();return i.a.createElement("div",{ref:this.rootRef,className:"sv-action-bar",onClick:function(e){e.stopPropagation()}},e)},Object.defineProperty(t.prototype,"hasItems",{get:function(){return(this.adaptiveElement.items||[]).length>0},enumerable:!1,configurable:!0}),t.prototype.renderItems=function(){return this.adaptiveElement.items.map((function(e,t){return e.visible||void 0===e.visible?s.a.Instance.createElement(e.component||"sv-action-bar-item",{item:e,key:"item"+t}):null}))},t}(u.a);s.a.Instance.registerElement("sv-action-bar",(function(e){return i.a.createElement(l,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n.n(o),a=n(175),s=n.n(a),u=n(10),l=n(9),c=n(4);n.d(t,"a",(function(){return p}));var p=function(e){function t(t){var n=e.call(this,t)||this;return n.containerRef=i.a.createRef(),n.popup=new u._80(n.props.model),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),t.prototype.getStateElement=function(){return this.model},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.popup.targetElement=this.containerRef.current.parentElement},t.prototype.render=function(){return i.a.createElement("div",{ref:this.containerRef},i.a.createElement(d,{model:this.popup}))},t.prototype.componentWillUnmount=function(){this.container&&(this.container.remove(),this.container=void 0),e.prototype.componentWillUnmount.call(this)},t}(c.a);l.a.Instance.registerElement("sv-popup",(function(e){return i.a.createElement(p,e)}));var d=function(e){function t(t){var n=e.call(this,t)||this;return n.clickInside=function(e){e.stopPropagation()},n.container=document.createElement("div"),document.body.appendChild(n.container),n.model.container=n.container,n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),t.prototype.getStateElement=function(){return this.model},t.prototype.renderContainer=function(){var e=this,t=this.model.showPointer?this.renderPointer():null,n=this.renderHeader(),r=this.renderContent(),o=this.model.isModal?this.renderFooter():null;return i.a.createElement("div",{className:"sv-popup__container",style:{left:this.model.left,top:this.model.top},onClick:function(t){e.clickInside(t)}},t,n,r,o)},t.prototype.renderPointer=function(){return i.a.createElement("span",{style:{left:this.model.pointerTarget.left,top:this.model.pointerTarget.top},className:"sv-popup__pointer"})},t.prototype.renderHeader=function(){return i.a.createElement("div",{className:"sv-popup__header"})},t.prototype.renderContent=function(){var e=l.a.Instance.createElement(this.model.contentComponentName,this.model.contentComponentData);return i.a.createElement("div",{className:"sv-popup__content"},e)},t.prototype.renderFooter=function(){var e=this;return i.a.createElement("div",{className:"sv-popup__footer"},i.a.createElement("button",{onClick:function(){e.model.cancel()}},this.model.cancelButtonText),i.a.createElement("button",{onClick:function(){e.model.apply()}},this.model.applyButtonText))},t.prototype.render=function(){var e=this,t=this.renderContainer(),n="sv-popup "+this.model.styleClass,r={display:this.model.isVisible?"block":"none"},o=i.a.createElement("div",{className:n,style:r,onClick:function(t){e.model.clickOutside(),t.stopPropagation()}},t);return s.a.createPortal(o,this.container)},t}(c.a)},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n.n(o),a=n(10),s=n(9),u=n(4),l=n(54),c=n(57);n.d(t,"a",(function(){return p}));var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.element.isPage?i.a.createElement(i.a.Fragment,null,u.a.renderLocString(this.element.locTitle)):i.a.createElement(c.a,{element:this.element,cssClasses:this.cssClasses});return i.a.createElement("div",{className:"sv-title-actions"},i.a.createElement("span",{className:"sv-title-actions__title"},e),i.a.createElement(l.a,{items:this.element.getTitleActions()}))},t}(i.a.Component);a._94.Instance.registerRenderer("element","title-actions","sv-title-actions"),s.a.Instance.registerElement("sv-title-actions",(function(e){return i.a.createElement(p,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n.n(o),a=n(4);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){var n=e.call(this,t)||this;return n.titleKeyIndex=0,n.titleKeyPrefix="-titleKey-",n.getTitleKey=function(e){return n.titleKeyIndex++,e.name+n.titleKeyPrefix+n.titleKeyIndex},n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.renderTitleSpans(this.element,this.cssClasses);return i.a.createElement(i.a.Fragment,null,e)},t.prototype.renderTitleSpans=function(e,t){var n=this,r=function(){return i.a.createElement("span",{"data-key":n.getTitleKey(e),key:n.getTitleKey(e)}," ")},o=[];e.isRequireTextOnStart&&(o.push(this.renderRequireText(e,t)),o.push(r()));var s=e.no;return s&&(o.push(i.a.createElement("span",{"data-key":this.getTitleKey(e),key:this.getTitleKey(e),className:t.number,style:{position:"static"},"aria-hidden":!0},s)),o.push(r())),e.isRequireTextBeforeTitle&&(o.push(this.renderRequireText(e,t)),o.push(r())),o.push(a.a.renderLocString(e.locTitle,null,this.getTitleKey(e))),e.isRequireTextAfterTitle&&(o.push(r()),o.push(this.renderRequireText(e,t))),o},t.prototype.renderRequireText=function(e,t){return i.a.createElement("span",{"data-key":this.getTitleKey(e),key:this.getTitleKey(e),className:t.requiredText||t.panel.requiredText,"aria-hidden":!0},e.requiredText)},t}(i.a.Component)},function(e,t,n){"use strict";var r=n(2);n.n(r),n.d(t,"a",(function(){return o}));var o=function(e){return r.createElement("td",{key:e.name+"-td-d&d",className:e.cssClasses.cell},r.createElement("svg",{width:"10",height:"16",viewBox:"0 0 10 16",className:e.cssClasses.itemIcon+" "+e.cssClasses.itemIconHoverMod,xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M6 2C6 0.9 6.9 0 8 0C9.1 0 10 0.9 10 2C10 3.1 9.1 4 8 4C6.9 4 6 3.1 6 2ZM2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0ZM8 6C6.9 6 6 6.9 6 8C6 9.1 6.9 10 8 10C9.1 10 10 9.1 10 8C10 6.9 9.1 6 8 6ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM8 12C6.9 12 6 12.9 6 14C6 15.1 6.9 16 8 16C9.1 16 10 15.1 10 14C10 12.9 9.1 12 8 12ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z"})))}},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(60),s=n(56);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.getPanelBase=function(){return this.props.page},Object.defineProperty(t.prototype,"page",{get:function(){return this.panelBase},enumerable:!1,configurable:!0}),t.prototype.renderElement=function(){var e=this.renderTitle(),t=this.renderDescription(),n=this.renderRows(this.panelBase.cssClasses);return o.createElement("div",{ref:this.rootRef,className:this.panelBase.cssClasses.page.root},e,t,n)},t.prototype.renderTitle=function(){if(!this.page._showTitle)return null;var e=null;if(this.survey.renderTitleActions(this.page))e=o.createElement(o.Fragment,null,o.createElement(s.a,{element:this.page}));else{var t=i.a.renderLocString(this.page.locTitle);e=o.createElement(o.Fragment,null,t)}return o.createElement("h4",{className:this.panelBase.cssClasses.page.title},e)},t.prototype.renderDescription=function(){if(!this.page._showDescription)return null;var e=i.a.renderLocString(this.page.locDescription);return o.createElement("div",{className:this.panelBase.cssClasses.page.description},e)},t}(a.a)},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(66);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){var n=e.call(this,t)||this;return n.renderedRowsCache={},n.rootRef=o.createRef(),n}return n.i(r.a)(t,e),t.prototype.getStateElement=function(){return this.panelBase},t.prototype.modifyNonStateProps=function(t){e.prototype.modifyNonStateProps.call(this,t),t.push("elements")},Object.defineProperty(t.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"css",{get:function(){return this.getCss()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelBase",{get:function(){return this.getPanelBase()},enumerable:!1,configurable:!0}),t.prototype.getPanelBase=function(){return this.props.element},t.prototype.getSurvey=function(){return this.props.survey},t.prototype.getCss=function(){return this.props.css},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.doAfterRender()},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this);var t=this.rootRef.current;t&&t.removeAttribute("data-rendered")},t.prototype.componentDidUpdate=function(t,n){e.prototype.componentDidUpdate.call(this,t,n),t.page&&this.survey&&this.survey.currentPage&&t.page.name===this.survey.currentPage.name||this.doAfterRender()},t.prototype.doAfterRender=function(){var e=this.rootRef.current;e&&this.survey&&(this.panelBase.isPanel?this.survey.afterRenderPanel(this.panelBase,e):this.survey.afterRenderPage(e))},t.prototype.canRender=function(){return e.prototype.canRender.call(this)&&!!this.survey&&!!this.panelBase&&this.panelBase.visible},t.prototype.renderRows=function(e){"rows"!==this.changedStatePropName&&(this.renderedRowsCache={});for(var t=[],n=this.panelBase.rows,r=0;r<n.length;r++){var o=this.renderedRowsCache[n[r].id];o||(o=this.createRow(n[r],e),this.renderedRowsCache[n[r].id]=o),t.push(o)}return t},t.prototype.createRow=function(e,t){return o.createElement(a.a,{key:e.id,row:e,survey:this.survey,creator:this.creator,css:t})},t}(i.a)},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(33)),a=n(59),s=n(62),u=n(6),l=n(10),c=n(65),p=n(4),d=n(67),h=n(9);n.d(t,"a",(function(){return f}));var f=function(e){function t(t){var n=e.call(this,t)||this;return n.previousJSON={},n.isCurrentPageChanged=!1,n.onCurrentPageChangedHandler=function(e,t){n.isCurrentPageChanged=!0},n.handleTryAgainClick=n.handleTryAgainClick.bind(n),n.createSurvey(t),n.updateSurvey(t,{}),n.survey.currentPage,n.rootRef=o.createRef(),n}return n.i(r.a)(t,e),Object.defineProperty(t,"cssType",{get:function(){return l._86.currentType},set:function(e){l._74.applyTheme(e)},enumerable:!1,configurable:!0}),t.prototype.getStateElement=function(){return this.survey},t.prototype.shouldComponentUpdate=function(e,t){return this.isModelJSONChanged(e)&&(this.createSurvey(e),this.updateSurvey(e,{})),!0},t.prototype.componentDidUpdate=function(t,n){e.prototype.componentDidUpdate.call(this,t,n),this.isCurrentPageChanged&&(this.isCurrentPageChanged=!1,this.survey.scrollToTopOnPageChange()),this.updateSurvey(this.props,t)},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this);var t=this.rootRef.current;t&&this.survey&&this.survey.doAfterRenderSurvey(t),this.survey&&this.survey.startTimerFromUI()},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.survey&&(this.survey.stopTimer(),this.survey.onCurrentPageChanged.remove(this.onCurrentPageChangedHandler))},t.prototype.doRender=function(){var e;e="completed"==this.survey.state?this.renderCompleted():"completedbefore"==this.survey.state?this.renderCompletedBefore():"loading"==this.survey.state?this.renderLoading():"starting"==this.survey.state?this.renderStartPage():this.renderSurvey();var t=this.renderHeader(),n=o.createElement("div",{className:"sv_custom_header"});return this.survey.hasLogo&&(n=null),o.createElement("div",{ref:this.rootRef,className:this.css.root},o.createElement("form",{onSubmit:function(e){e.preventDefault()}},n,o.createElement("div",{className:this.css.container},t,e)))},t.prototype.renderElement=function(){return this.doRender()},Object.defineProperty(t.prototype,"css",{get:function(){return this.survey.css},set:function(e){this.survey.css=e},enumerable:!1,configurable:!0}),t.prototype.handleTryAgainClick=function(e){this.survey.doComplete()},t.prototype.renderCompleted=function(){if(!this.survey.showCompletedPage)return null;var e=null;if(this.survey.completedState){var t=null;if("error"==this.survey.completedState){var n=this.survey.getLocString("saveAgainButton");t=o.createElement("input",{type:"button",value:n,className:this.css.saveData.saveAgainButton,onClick:this.handleTryAgainClick})}var r=this.css.saveData[this.survey.completedState];e=o.createElement("div",{className:this.css.saveData.root},o.createElement("div",{className:r},o.createElement("span",null,this.survey.completedStateText),t))}var i={__html:this.survey.processedCompletedHtml};return o.createElement("div",null,o.createElement("div",{dangerouslySetInnerHTML:i,className:[this.css.body,this.css.completedPage].join(" ")}),e)},t.prototype.renderCompletedBefore=function(){var e={__html:this.survey.processedCompletedBeforeHtml};return o.createElement("div",{dangerouslySetInnerHTML:e,className:this.css.body})},t.prototype.renderLoading=function(){var e={__html:this.survey.processedLoadingHtml};return o.createElement("div",{dangerouslySetInnerHTML:e,className:this.css.body})},t.prototype.renderStartPage=function(){var e=this.survey.startedPage?this.renderPage(this.survey.startedPage):null,t=this.survey.startedPage?this.survey.startedPage.id:"";return o.createElement("div",null,o.createElement("div",{id:t,className:this.css.body},this.renderNavigation("top"),e,this.renderNavigation("bottom")))},t.prototype.renderSurvey=function(){var e=this.survey.currentPage?this.renderPage(this.survey.currentPage):null,t=this.survey.currentPage?this.survey.currentPage.id:"",n=this.survey.isShowProgressBarOnTop?this.renderProgress(!0):null,r=this.survey.isShowProgressBarOnBottom?this.renderProgress(!1):null;return e||(e=this.renderEmptySurvey()),o.createElement("div",{id:t,className:e?this.css.body:this.css.bodyEmpty},n,this.renderTimerPanel("top"),this.renderNavigation("top"),e,this.renderTimerPanel("bottom"),r,this.renderNavigation("bottom"))},t.prototype.renderTitle=function(){var e=null,t=null;return this.survey.title&&this.survey.showTitle&&(e=p.a.renderLocString(this.survey.locTitle),t=p.a.renderLocString(this.survey.locDescription)),e?o.createElement("div",{className:this.css.headerText,style:{maxWidth:this.survey.titleMaxWidth}},o.createElement("h3",{className:this.css.title},e),o.createElement("h5",{className:this.css.description},t)):null},t.prototype.renderHeader=function(){if(this.survey.title&&this.survey.showTitle||this.survey.hasLogo){var e=this.renderTitle(),t={objectFit:this.survey.logoFit},n=null,r=[];return this.survey.isLogoBefore&&(n=o.createElement("div",{className:this.survey.logoClassNames},o.createElement("img",{className:this.survey.css.logoImage,src:this.survey.locLogo.renderedHtml,width:this.survey.logoWidth?this.survey.logoWidth+"px":void 0,height:this.survey.logoHeight?this.survey.logoHeight+"px":void 0,style:t}))),this.survey.isLogoAfter&&(r.push(o.createElement("div",{className:this.survey.logoClassNames},o.createElement("img",{className:this.survey.css.logoImage,src:this.survey.locLogo.renderedHtml,width:this.survey.logoWidth?this.survey.logoWidth+"px":void 0,height:this.survey.logoHeight?this.survey.logoHeight+"px":void 0,style:t}))),r.push(o.createElement("div",{className:"sv-logo--right-tail"}))),o.createElement("div",{className:this.css.header},n,e,r)}return null},t.prototype.renderTimerPanel=function(e){return"top"===e&&!this.survey.isTimerPanelShowingOnTop||"bottom"===e&&!this.survey.isTimerPanelShowingOnBottom?null:o.createElement(c.a,{survey:this.survey})},t.prototype.renderPage=function(e){return o.createElement(a.a,{survey:this.survey,page:e,css:this.css,creator:this})},t.prototype.renderProgress=function(e){return h.a.Instance.createElement("sv-progress-"+this.survey.progressBarType.toLowerCase(),{survey:this.survey,css:this.css,isTop:e})},t.prototype.renderNavigation=function(e){return"both"===this.survey.isNavigationButtonsShowing||"none"!==this.survey.isNavigationButtonsShowing&&this.survey.isNavigationButtonsShowing===e?o.createElement(s.a,{survey:this.survey,css:this.css}):null},t.prototype.renderEmptySurvey=function(){return o.createElement("span",null,this.survey.emptySurveyText)},t.prototype.createSurvey=function(e){e||(e={}),this.previousJSON={},e?e.model?this.survey=e.model:e.json&&(this.previousJSON=e.json,this.survey=new i.a(e.json)):this.survey=new i.a,e.css&&this.survey.mergeCss(e.css,this.css),this.setSurveyEvents()},t.prototype.isModelJSONChanged=function(e){return e.model?this.survey!==e.model:!!e.json&&!l.h.isTwoValueEquals(e.json,this.previousJSON)},t.prototype.updateSurvey=function(e,t){if(e)for(var n in t=t||{},e)"model"!=n&&"children"!=n&&"json"!=n&&("css"!=n?e[n]!==t[n]&&(0==n.indexOf("on")&&this.survey[n]&&this.survey[n].add?(t[n]&&this.survey[n].remove(t[n]),this.survey[n].add(e[n])):this.survey[n]=e[n]):(this.survey.mergeValues(e.css,this.survey.getCss()),this.survey.updateElementCss()))},t.prototype.setSurveyEvents=function(){var e=this;this.survey.renderCallback=function(){var t=e.state&&e.state.modelChanged?e.state.modelChanged:0;e.setState({modelChanged:t+1})},this.survey.onPartialSend.add((function(t){e.state&&e.setState(e.state)})),this.survey.onCurrentPageChanged.add(this.onCurrentPageChangedHandler)},t.prototype.createQuestionElement=function(e){return u.a.Instance.createQuestion(e.isDefaultRendering()?e.getTemplate():e.getComponentName(),{question:e,isDisplayMode:e.isReadOnly,creator:this})},t.prototype.renderError=function(e,t,n){return o.createElement("div",{key:e},o.createElement("span",{className:n.error.icon,"aria-hidden":"true"}),o.createElement("span",{className:n.error.item},o.createElement(d.a,{locStr:t.locText})))},t.prototype.questionTitleLocation=function(){return this.survey.questionTitleLocation},t.prototype.questionErrorLocation=function(){return this.survey.questionErrorLocation},t}(p.a)},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(26));n.d(t,"a",(function(){return a}));var a=function(e){function t(t){var n=e.call(this,t)||this;return n.mouseDownPage=null,n.handlePrevClick=n.handlePrevClick.bind(n),n.handleNextClick=n.handleNextClick.bind(n),n.handleNextMouseDown=n.handleNextMouseDown.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleCompleteClick=n.handleCompleteClick.bind(n),n.handlePreviewClick=n.handlePreviewClick.bind(n),n.handleStartClick=n.handleStartClick.bind(n),n}return n.i(r.a)(t,e),t.prototype.handlePrevClick=function(e){this.survey.prevPage()},t.prototype.handleNextClick=function(e){this.mouseDownPage&&this.mouseDownPage!==this.survey.currentPage||(this.mouseDownPage=null,this.survey.nextPage())},t.prototype.handleNextMouseDown=function(e){return this.mouseDownPage=this.survey.currentPage,this.survey.navigationMouseDown()},t.prototype.handleMouseDown=function(e){return this.survey.navigationMouseDown()},t.prototype.handleCompleteClick=function(e){this.survey.completeLastPage()},t.prototype.handlePreviewClick=function(e){this.survey.showPreview()},t.prototype.handleStartClick=function(e){this.survey.start()},t.prototype.render=function(){if(!this.survey||"none"===this.survey.isNavigationButtonsShowing)return null;var e="starting"===this.survey.state,t=e||this.survey.isFirstPage||!this.survey.isShowPrevButton?null:this.renderButton(this.handlePrevClick,this.handleMouseDown,this.survey.pagePrevText,this.survey.cssNavigationPrev),n=e||this.survey.isLastPage?null:this.renderButton(this.handleNextClick,this.handleNextMouseDown,this.survey.pageNextText,this.survey.cssNavigationNext),r=!e&&this.survey.isLastPage&&this.survey.isCompleteButtonVisible?this.renderButton(this.handleCompleteClick,this.handleMouseDown,this.survey.completeText,this.survey.cssNavigationComplete):null,i=!e&&this.survey.isLastPage&&this.survey.isPreviewButtonVisible?this.renderButton(this.handlePreviewClick,this.handleMouseDown,this.survey.previewText,this.survey.cssNavigationPreview):null,a=e?this.renderButton(this.handleStartClick,null,this.survey.startSurveyText,this.survey.cssNavigationStart):null;return o.createElement("div",{className:this.css.footer},a,t,n,i,r)},t.prototype.renderButton=function(e,t,n,r){return o.createElement("input",{className:r,style:{marginRight:"5px"},type:"button",onMouseDown:t,onClick:e,value:n})},t}(i.a)},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(21),s=n(6);n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var u=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.renderElement=function(){var e=this,t=this.question.cssClasses;return o.createElement("fieldset",{className:t.root,ref:function(t){return e.control=t}},o.createElement("legend",{"aria-label":this.question.locTitle.renderedHtml}),this.question.hasColumns?this.getColumns(t):this.getItems(t))},t.prototype.getColumns=function(e){var t=this;return this.question.columns.map((function(n,r){var i=n.map((function(n,o){return t.renderItem("item"+o,n,0===r&&0===o,e,""+r+o)}));return o.createElement("div",{key:"column"+r,className:t.question.getColumnClass()},i)}))},t.prototype.getItems=function(e){for(var t=[],n=0;n<this.question.visibleChoices.length;n++){var r=this.question.visibleChoices[n],o="item"+n;t.push(this.renderItem(o,r,0==n,e,""+n))}return t},Object.defineProperty(t.prototype,"textStyle",{get:function(){return null},enumerable:!1,configurable:!0}),t.prototype.renderItem=function(e,t,n,r,i){return o.createElement(l,{key:e,question:this.question,cssClasses:r,isDisplayMode:this.isDisplayMode,item:t,textStyle:this.textStyle,isFirst:n,index:i})},t}(i.b),l=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnChange=n.handleOnChange.bind(n),n.selectAllChanged=n.selectAllChanged.bind(n),n}return n.i(r.a)(t,e),t.prototype.getStateElement=function(){return this.item},Object.defineProperty(t.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textStyle",{get:function(){return this.props.textStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFirst",{get:function(){return this.props.isFirst},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideCaption",{get:function(){return!0===this.props.hideCaption},enumerable:!1,configurable:!0}),t.prototype.shouldComponentUpdate=function(){return!(this.question.customWidget&&!this.question.customWidgetData.isNeedRender&&!this.question.customWidget.widgetJson.isDefaultRender&&!this.question.customWidget.widgetJson.render)},t.prototype.handleOnChange=function(e){var t=[].concat(this.question.renderedValue||[]),n=t.indexOf(this.item.value);e.target.checked?n<0&&t.push(this.item.value):n>-1&&t.splice(n,1),this.question.renderedValue=t},t.prototype.selectAllChanged=function(e){this.question.toggleSelectAll()},t.prototype.canRender=function(){return!!this.item&&!!this.question},t.prototype.renderElement=function(){var e=this.question.isItemSelected(this.item),t=this.item.value===this.question.otherItem.value&&e?this.renderOther():null;return this.renderCheckbox(e,t)},Object.defineProperty(t.prototype,"inputStyle",{get:function(){return{marginRight:"3px"}},enumerable:!1,configurable:!0}),t.prototype.renderCheckbox=function(e,t){var n=this.question.inputId+"_"+this.index,r=this.hideCaption?"":this.renderLocString(this.item.locText),i=this.question.getItemClass(this.item),a=this.question.getLabelClass(this.item),s=this.item==this.question.selectAllItem?this.selectAllChanged:this.handleOnChange,u=this.item.locText;return o.createElement("div",{className:i},o.createElement("label",{className:a},o.createElement("input",{className:this.cssClasses.itemControl,type:"checkbox",value:this.item.value,id:n,style:this.inputStyle,disabled:this.isDisplayMode||!this.item.isEnabled,checked:e,onChange:s,"aria-required":this.question.isRequired,"aria-label":u.renderedHtml,"aria-invalid":this.question.errors.length>0,"aria-describedby":this.question.errors.length>0?this.question.id+"_errors":null}),o.createElement("span",{className:this.cssClasses.materialDecorator},o.createElement("svg",{viewBox:"0 0 24 24",className:this.cssClasses.itemDecorator},o.createElement("path",{d:"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"})),o.createElement("span",{className:"check"})),o.createElement("span",{className:this.cssClasses.controlLabel,title:u.text},r)),t)},t.prototype.renderOther=function(){return o.createElement("div",{className:"form-group"},o.createElement(a.a,{question:this.question,otherCss:this.cssClasses.other,cssClasses:this.cssClasses,isDisplayMode:this.isDisplayMode}))},t}(i.d);s.a.Instance.registerQuestion("checkbox",(function(e){return o.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(21),s=n(6);n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var u=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.renderElement=function(){var e=this,t=this.question.cssClasses,n=null;return this.question.canShowClearButton&&(n=o.createElement("div",null,o.createElement("input",{type:"button",className:this.question.cssClasses.clearButton,onClick:function(){return e.question.clearValue()},value:this.question.clearButtonCaption}))),o.createElement("fieldset",{className:t.root,ref:function(t){return e.control=t},role:"radiogroup"},o.createElement("legend",{"aria-label":this.question.locTitle.renderedHtml}),this.question.hasColumns?this.getColumns(t):this.getItems(t),n)},t.prototype.getColumns=function(e){var t=this,n=this.getStateValue();return this.question.columns.map((function(r,i){var a=r.map((function(r,o){return t.renderItem(r,n,e,""+i+o)}));return o.createElement("div",{key:"column"+i,className:t.question.getColumnClass()},a)}))},t.prototype.getItems=function(e){for(var t=[],n=this.getStateValue(),r=0;r<this.question.visibleChoices.length;r++){var o=this.question.visibleChoices[r];t.push(this.renderItem(o,n,e,""+r))}return t},Object.defineProperty(t.prototype,"textStyle",{get:function(){return{marginLeft:"3px",display:"inline",position:"static"}},enumerable:!1,configurable:!0}),t.prototype.renderItem=function(e,t,n,r){var i="item"+r;return o.createElement(l,{key:i,question:this.question,cssClasses:n,isDisplayMode:this.isDisplayMode,item:e,textStyle:this.textStyle,index:r,isChecked:t===e.value})},t.prototype.getStateValue=function(){return this.question.isEmpty()?"":this.question.renderedValue},t}(i.b),l=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnChange=n.handleOnChange.bind(n),n}return n.i(r.a)(t,e),t.prototype.getStateElement=function(){return this.item},Object.defineProperty(t.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textStyle",{get:function(){return this.props.textStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isChecked",{get:function(){return this.props.isChecked},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideCaption",{get:function(){return!0===this.props.hideCaption},enumerable:!1,configurable:!0}),t.prototype.shouldComponentUpdate=function(){return!(this.question.customWidget&&!this.question.customWidgetData.isNeedRender&&!this.question.customWidget.widgetJson.isDefaultRender&&!this.question.customWidget.widgetJson.render)},t.prototype.handleOnChange=function(e){this.question.renderedValue=this.item.value},t.prototype.canRender=function(){return!!this.question&&!!this.item},t.prototype.renderElement=function(){var e=this.isChecked&&this.item.value===this.question.otherItem.value?this.renderOther(this.cssClasses):null,t=this.question.inputId+"_"+this.index,n=this.hideCaption?"":this.renderLocString(this.item.locText,this.textStyle),r=this.question.getItemClass(this.item),i=this.question.getLabelClass(this.item),a=this.item.locText,s=this.question.getControlLabelClass(this.item);return o.createElement("div",{className:r},o.createElement("label",{className:i},o.createElement("input",{className:this.cssClasses.itemControl,id:t,type:"radio",name:this.question.name+"_"+this.question.id,checked:this.isChecked,value:this.item.value,disabled:this.isDisplayMode||!this.item.isEnabled,onChange:this.handleOnChange,"aria-required":this.question.isRequired,"aria-label":a.renderedHtml,"aria-invalid":this.question.errors.length>0,"aria-describedby":this.question.errors.length>0?this.question.id+"_errors":null,role:"radio"}),o.createElement("span",{className:this.cssClasses.materialDecorator},o.createElement("svg",{className:this.cssClasses.itemDecorator,viewBox:"-12 -12 24 24"},o.createElement("circle",{r:"6",cx:"0",cy:"0"}))),o.createElement("span",{className:"check"}),o.createElement("span",{className:s,title:a.text},n)),e)},t.prototype.renderOther=function(e){return o.createElement("div",{className:"form-group"},o.createElement(a.a,{question:this.question,otherCss:e.other,cssClasses:e,isDisplayMode:this.isDisplayMode}))},t}(i.d);s.a.Instance.registerQuestion("radiogroup",(function(e){return o.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2);n.n(o),n.d(t,"a",(function(){return i}));var i=function(e){function t(t){var n=e.call(this,t)||this;return n.update=function(){n.setState({timeSpent:n.survey.timeSpent})},n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"survey",{get:function(){return this.props.survey},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.survey.onTimer.add(this.update)},t.prototype.componentWillUnmount=function(){this.survey.onTimer.remove(this.update)},t.prototype.render=function(){return o.createElement("div",null,this.survey.timerInfoText)},t}(o.Component)},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(9),s=n(10);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.rootRef=o.createRef(),n}return n.i(r.a)(t,e),t.prototype.getStateElement=function(){return this.row},Object.defineProperty(t.prototype,"row",{get:function(){return this.props.row},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"survey",{get:function(){return this.props.survey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creator",{get:function(){return this.props.creator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"css",{get:function(){return this.props.css},enumerable:!1,configurable:!0}),t.prototype.canRender=function(){return!!this.row&&!!this.survey&&!!this.creator&&this.row.visible},t.prototype.renderElement=function(){var e=this,t=null;return this.row.isNeedRender&&(t=this.row.elements.map((function(t){return e.createElement(t)}))),o.createElement("div",{ref:this.rootRef,className:this.css.row},t)},t.prototype.componentDidMount=function(){var t=this;e.prototype.componentDidMount.call(this);var n=this.rootRef.current;if(n&&!this.row.isNeedRender){var r=n;setTimeout((function(){t.row.startLazyRendering(r)}),10)}},t.prototype.shouldComponentUpdate=function(e,t){return e.row!==this.row&&(e.row.isNeedRender=this.row.isNeedRender,this.stopLazyRendering()),!0},t.prototype.stopLazyRendering=function(){this.row.stopLazyRendering(),this.row.isNeedRender=!s.g.lazyRowsRendering},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.stopLazyRendering()},t.prototype.createElement=function(e){var t=e.getType();return a.a.Instance.isElementRegisgered(t)||(t="question"),a.a.Instance.createElement(t,{key:e.name,element:e,creator:this.creator,survey:this.survey,css:this.css})},t}(i.a)},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n.n(o),a=n(10),s=n(9);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={changed:0},n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"locStr",{get:function(){return this.props.locStr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this.props.style},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){if(this.locStr){var e=this;this.locStr.onChanged=function(){e.setState({changed:e.state.changed+1})}}},t.prototype.componentWillUnmount=function(){this.locStr&&(this.locStr.onChanged=function(){})},t.prototype.render=function(){if(!this.locStr)return null;if(this.locStr.hasHtml){var e={__html:this.locStr.renderedHtml};return i.a.createElement("span",{style:this.style,dangerouslySetInnerHTML:e})}return i.a.createElement("span",{style:this.style},this.locStr.renderedHtml)},t}(i.a.Component);s.a.Instance.registerElement(a.D.defaultRenderer,(function(e){return i.a.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(17);n.d(t,"a",(function(){return o}));var o=function(){function e(){this.sheet=null,e.Enabled&&(this.sheet=e.findSheet(e.SurveyJSStylesSheetId),this.sheet||(this.sheet=e.createSheet(e.SurveyJSStylesSheetId),this.initializeStyles(this.sheet)))}return e.findSheet=function(e){if("undefined"==typeof document)return null;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode&&document.styleSheets[t].ownerNode.id===e)return document.styleSheets[t];return null},e.createSheet=function(e){var t=document.createElement("style");return t.id=e,t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet},e.applyTheme=function(t,n){var o;if(void 0===t&&(t="default"),void 0===n&&(n=".sv_main"),"modern"===t&&(n=".sv-root-modern "),-1!==["bootstrap","bootstrapmaterial","modern"].indexOf(t)?(o=e[t+"ThemeCss"],r.b.currentType=t):(o=e.ThemeCss,r.b.currentType="standard"),e.Enabled){var i=e.findSheet(t+n);if(!i){i=e.createSheet(t+n);var a=e.ThemeColors[t]||e.ThemeColors.default;Object.keys(o).forEach((function(e){var t=o[e];Object.keys(a).forEach((function(e){return t=t.replace(new RegExp("\\"+e,"g"),a[e])}));try{i.insertRule(n+e+" { "+t+" }",0)}catch(e){}}))}}},e.prototype.initializeStyles=function(t){e.Enabled&&(Object.keys(e.Styles).forEach((function(n){try{t.insertRule(n+" { "+e.Styles[n]+" }",0)}catch(e){}})),Object.keys(e.Media).forEach((function(n){try{t.insertRule(e.Media[n].media+" { "+n+" { "+e.Media[n].style+" } }",0)}catch(e){}})))},e.SurveyJSStylesSheetId="surveyjs-styles",e.Styles={".sv_main span":"word-break: break-word;",".sv_main legend":"border: none; margin: 0;",".sv_bootstrap_css .sv_qstn":"padding: 0.5em 1em 1.5em 1em;",".sv_bootstrap_css .sv_qcbc input[type=checkbox], .sv_bootstrap_css .sv_qcbc input[type=radio]":"vertical-align: middle; margin-top: -1px",".sv_bootstrap_css .sv_qstn fieldset":"display: block;",".sv_bootstrap_css .sv_qstn  .sv_q_checkbox_inline, .sv_bootstrap_css .sv_qstn .sv_q_radiogroup_inline":"display: inline-block;",".sv_bootstrap_css .sv-paneldynamic__progress-container ":"position: relative; margin-right: 250px; margin-left: 40px; margin-top: 10px;",".sv_main.sv_bootstrapmaterial_css .sv_q_radiogroup_control_label":"display: inline; position: static;",".sv_main.sv_bootstrapmaterial_css .checkbox":"margin-top:10px;margin-bottom:10px;",".sv_row":"clear: both; min-width:300px;",".sv_row .sv_qstn":"float: left",".sv_row .sv_qstn:last-child":"float: none",".sv_qstn":"display: inline-block; vertical-align: top; overflow: auto; min-width:300px;",".sv_p_container":"display: inline-block; vertical-align: top; min-width:300px;",".sv_q_title .sv_question_icon":"float: right; margin-right: 1em;",".sv_q_title .sv_question_icon::before":"content: ''; background-repeat: no-repeat; background-position: center; padding: 0.5em; display: inline-block; background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxMCAxMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgMTA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiM2RDcwNzI7fQ0KPC9zdHlsZT4NCjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMiwyIDAsNCA1LDkgMTAsNCA4LDIgNSw1ICIvPg0KPC9zdmc+DQo=);",".sv_q_title .sv_question_icon.sv_expanded::before":"transform: rotate(180deg);",".sv_qbln .checkbox-material":"margin-right: 3px;",".sv_qcbx .checkbox-material":"margin-right: 5px;",".sv_qcbx .checkbox label":"justify-content: left; display: inline-block;",".sv_qstn .radio label":"justify-content: left; display: inline-block;",".sv_qstn .sv_q_imgsel > label img":"pointer-events: none;",".sv_qstn .sv_q_imgsel.sv_q_imagepicker_inline":"display: inline-block;",".sv_qstn label.sv_q_m_label":"position: absolute; margin: 0; display: block; width: 100%;",".sv_qstn td":"position: relative;",".sv_q_mt_item_value":"float: left;",'[dir="rtl"] .sv_q_mt_item_value':"float: right;",".sv_qstn.sv_qstn_left":"margin-top: 0.75em;",".sv_qstn .title-left":"float: left; margin-right: 1em;",'[dir="rtl"] .sv_qstn .title-left':"float: right; margin-left: 1em;",".sv_qstn .content-left":"overflow: hidden",".sv_q_radiogroup_inline .sv_q_radiogroup_other":"display: inline-block;",".sv_q_checkbox_inline .sv_q_checkbox_other":"display: inline-block;",".sv_q_checkbox_inline, .sv_q_radiogroup_inline, .sv_q_imagepicker_inline":"line-height: 2.5em;",".form-inline .sv_q_checkbox_inline:not(:last-child)":"margin-right: 1em;",".form-inline .sv_q_radiogroup_inline:not(:last-child)":"margin-right: 1em;",".sv_imgsel .sv_q_imagepicker_inline:not(:last-child)":"margin-right: 1em;",".sv_qstn fieldset":"border: none; margin: 0; padding: 0;",".sv_qstn .sv_q_file_placeholder":"display:none",".sv_p_title":"padding-left: 1em; padding-bottom: 0.3em;",".sv_p_title_expandable":"cursor: pointer;",".sv_q_title_expandable":"cursor: pointer;",".sv_p_title .sv_panel_icon":"float: right; margin-right: 1em;",".sv_p_title .sv_panel_icon::before":"content: ''; background-repeat: no-repeat; background-position: center; padding: 0.5em; display: inline-block; background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxMCAxMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgMTA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiM2RDcwNzI7fQ0KPC9zdHlsZT4NCjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMiwyIDAsNCA1LDkgMTAsNCA4LDIgNSw1ICIvPg0KPC9zdmc+DQo=);",".sv_p_title .sv_panel_icon.sv_expanded::before":"transform: rotate(180deg);",".sv_p_footer":"padding-left: 1em; padding-bottom: 1em;padding-top: 1em;",".sv_matrix_cell_detail_button":"position: relative",".sv_detail_panel_icon":"display: block; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 14px; height: 14px;",".sv_detail_panel_icon::before":"content: ''; background-repeat: no-repeat; background-position: center; width: 14px; height: 14px; display: block; transform: rotate(270deg); background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 15 15' style='enable-background:new 0 0 15 15;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cpolygon class='st0' points='14,5.5 12.6,4.1 7.5,9.1 2.4,4.1 1,5.5 7.5,12 '/%3E%3C/svg%3E%0A\");",".sv_detail_panel_icon.sv_detail_expanded::before":"transform: rotate(0deg)",".sv_matrix_empty_rows_section":"text-align: center; vertical-align: middle;",".sv_matrix_empty_rows_text":"padding:20px",".sv_q_file > input[type=file], .sv_q_file > button":"display: inline-block;",".sv_q_file_preview":"display: inline-block; vertical-align: top; border: 1px solid lightgray; padding: 5px; margin-top: 10px;",".sv_q_file_preview > a":"display: block; overflow: hidden; vertical-align: top; white-space: nowrap; text-overflow: ellipsis;",".sv_q_file_remove_button":"line-height: normal;",".sv_q_file_remove":"display: block; cursor: pointer;",".sv_q_m_cell_text":"cursor: pointer;",".sv_q_dd_other":"margin-top: 1em;",".sv_q_dd_other input":"width: 100%;",".sv_qstn .sv-q-col-1, .sv-question .sv-q-col-1":"width: 100%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-col-2, .sv-question .sv-q-col-2":"width: 50%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-col-3, .sv-question .sv-q-col-3":"width: 33.33333%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-col-4, .sv-question .sv-q-col-4":"width: 25%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-col-5, .sv-question .sv-q-col-5":"width: 20%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-1, .sv-question .sv-q-column-1":"width: 100%; max-width: 100%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-2, .sv-question .sv-q-column-2":"max-width: 50%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-3, .sv-question .sv-q-column-3":"max-width: 33.33333%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-4, .sv-question .sv-q-column-4":"max-width: 25%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv-q-column-5, .sv-question .sv-q-column-5":"max-width: 20%; display: inline-block; padding-right: 1em; box-sizing: border-box; word-break: break-word;",".sv_qstn .sv_q_file_input":"color: transparent;",".sv_qstn .sv_q_imgsel label > div":"overflow: hidden; white-space: nowrap; text-overflow: ellipsis; padding: 4px; border: 1px solid lightgray; border-radius: 4px;",".sv_qstn .sv_q_imgsel label > div > img, .sv_qstn .sv_q_imgsel label > div > embed":"display: block;",".sv_qstn table tr td .sv_q_m_cell_label":"position: absolute; left: 0; right: 0; top: 0; bottom: 0;","f-panel":"padding: 0.5em 1em; display: inline-block; line-height: 2em;",".sv_progress_bar > span":"white-space: nowrap;",".sv_progress-buttons__container-center":"text-align: center;",".sv_progress-buttons__container":"display: inline-block; font-size:0; width: 100%; max-width: 1100px; white-space: nowrap; overflow: hidden;",".sv_progress-buttons__image-button-left":"display: inline-block; vertical-align: top; margin-top: 22px; font-size: 14px; width: 16px; height: 16px; cursor: pointer; background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5Z29uIHBvaW50cz0iMTEsMTIgOSwxNCAzLDggOSwyIDExLDQgNyw4ICIvPg0KPC9zdmc+DQo=);",".sv_progress-buttons__image-button-right":"display: inline-block; vertical-align: top; margin-top: 22px; font-size: 14px; width: 16px; height: 16px; cursor: pointer; background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5Z29uIHBvaW50cz0iNSw0IDcsMiAxMyw4IDcsMTQgNSwxMiA5LDggIi8+DQo8L3N2Zz4NCg==);",".sv_progress-buttons__image-button--hidden":"visibility: hidden;",".sv_progress-buttons__list-container":"max-width: calc(100% - 36px); display: inline-block; overflow: hidden;",".sv_progress-buttons__list":"display: inline-block; width: max-content; padding-left: 28px; padding-right: 28px; margin-top: 14px; margin-bottom: 14px;",".sv_progress-buttons__list li":"width: 138px; font-size: 14px; font-family: 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif; position: relative; text-align: center; vertical-align: top; display: inline-block;",".sv_progress-buttons__list li:before":"width: 24px; height: 24px; content: ''; line-height: 30px; border: 3px solid #8dd9ca; display: block; margin: 0 auto 10px auto; border-radius: 50%; box-sizing: content-box; background-color: #8dd9ca; cursor: pointer;",".sv_progress-buttons__list li:after":"width: 73%; height: 3px; content: ''; position: absolute; background-color: #d4d4d4; top: 15px; left: -36.5%;",".sv_progress-buttons__list li:first-child:after":"content: none;",".sv_progress-buttons__list .sv_progress-buttons__page-title":"width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; color: $text-color; font-weight: bold;",".sv_progress-buttons__list .sv_progress-buttons__page-description":"width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; color: $text-color;",".sv_progress-buttons__list li.sv_progress-buttons__list-element--passed:before":"border-color: #1ab394; background-color: #1ab394;",".sv_progress-buttons__list li.sv_progress-buttons__list-element--passed + li:after":"background-color: #8dd9ca;",".sv_progress-buttons__list li.sv_progress-buttons__list-element--current:before":"border-color: #1ab394; background-color: white;",".sv_progress-buttons__list li.sv_progress-buttons__list-element--passed.sv_progress-buttons__list-element--current:before":"border-color: #1ab394; background-color: white;",".sv_progress-buttons__list li.sv_progress-buttons__list-element--nonclickable:before":"cursor: not-allowed;",".sv-ranking":"outline: none;",".sv-ranking-item":"cursor: pointer; margin-bottom: 5px;position: relative;",".sv-ranking-item:focus .sv-ranking-item__icon--hover":"visibility: hidden;",".sv-ranking-item:hover .sv-ranking-item__icon--hover":"visibility: visible;",".sv-question--disabled .sv-ranking-item:hover .sv-ranking-item__icon--hover":"visibility: hidden;",".sv-ranking-item:focus":"outline: none;",".sv-ranking-item:focus .sv-ranking-item__icon--focus":"visibility: visible; top: 15px;",".sv-ranking-item:focus .sv-ranking-item__index":"background: white; border: 2px solid #19b394;",".sv-ranking-item__content":"display: inline-block;background-color: white;padding-top: 5px;padding-bottom: 5px;padding-left: 35px;padding-right: 10px; border-radius: 100px;",".sv-ranking-item__icon-container":"position: absolute;left: 0;top: 0;bottom: 0;width: 35px;",".sv-ranking-item__icon":"visibility: hidden;left:10px;top:20px;fill:#19b394;position: absolute;",".sv-ranking-item__index":"display: inline-block;padding: 10px 16px;background: rgba(25, 179, 148, 0.1);border-radius: 100px;border: 2px solid transparent; margin-right: 10px;",".sv-ranking-item__text":"display: inline-block;",".sv-ranking-item__ghost":"display: none;background: #f3f3f3;border-radius: 100px;width: 200px;height: 55px;z-index: 1;position: absolute;left: 35px;",".sv-ranking-item--ghost .sv-ranking-item__ghost":"display: block;",".sv-ranking-item--ghost .sv-ranking-item__content":"visibility: hidden;",".sv-ranking-item--drag .sv-ranking-item__content":"box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);border-radius: 100px;",".sv-ranking--drag .sv-ranking-item:hover .sv-ranking-item__icon":"visibility: hidden;",".sv-ranking-item--drag .sv-ranking-item__icon--hover":"visibility: visible;",".sv-ranking--mobile .sv-ranking-item__icon--hover":"visibility:visible; fill:#9f9f9f;",".sv-ranking--mobile.sv-ranking--drag .sv-ranking-item--ghost .sv-ranking-item__icon.sv-ranking-item__icon--hover":"visibility:hidden;",".sv_qstn .sv_q_select_column":"display: inline-block; vertical-align: top; min-width: 10%;",".sv_qstn .sv_q_select_column > *:not(.sv_technical)":"display: block;",".sv_main .sv_container .sv_body .sv_p_root .sv_qstn .sv_q_select_column textarea":"margin-left: 0; padding-left: 0; line-height: initial;",".sv_main .sv-hidden":"display: none !important;",".sv_main .sv-visuallyhidden":"position: absolute; height: 1px !important; width: 1px !important; overflow: hidden; clip: rect(1px 1px 1px 1px); clip: rect(1px, 1px, 1px, 1px);",".sv_main .sv-progress":"height: 0.19em; background-color: $header-background-color;",".sv_main .sv-progress__bar":"background-color: $main-color; height: 100%; position: relative;",".sv_main .sv-paneldynamic__progress-container":"position: relative; display: inline-block; width: calc(100% - 250px); margin-top: 20px;",".sv_main .sv-paneldynamic__add-btn":"float: right;",".sv_main .sv-paneldynamic__add-btn--list-mode":"float: none; margin-top: 0;",".sv_main .sv-paneldynamic__remove-btn ":"margin-top: 1.25em;",".sv_main .sv-paneldynamic__prev-btn, .sv_main .sv-paneldynamic__next-btn":"box-sizing: border-box; display: inline-block; cursor: pointer; width: 0.7em; top: -0.28em; position: absolute;",".sv_main .sv-paneldynamic__prev-btn":"left: -1.3em; transform: rotate(90deg);",".sv_main .sv-paneldynamic__next-btn ":"right: -1.3em; transform: rotate(270deg);",".sv_main .sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled, .sv_main .sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"cursor: auto;",".sv_main .sv-paneldynamic__progress-text":"font-weight: bold; font-size: 0.87em; margin-top: 0.69em; margin-left: 4em",".sv_main .sv-boolean__switch":"display: inline-block; box-sizing: border-box; width: 63px; height: 24px; margin-right: 17px; margin-left: 21px; padding: 2px 3px; vertical-align: middle; border-radius: 12px; cursor: pointer;",".sv_main .sv-boolean__slider":"display: inline-block; width: 20px; height: 20px; transition-duration: .4s; transition-property: margin-left; border: none; border-radius: 100%;",".sv_main .sv-boolean__label":"vertical-align: middle; cursor: pointer;",".sv_main .sv-boolean--indeterminate  .sv-boolean__slider":"margin-left: calc(50% - 10px);",".sv_main .sv-boolean--checked  .sv-boolean__slider":"margin-left: calc(100% - 20px);","[dir='rtl'] .sv-boolean__label ":"float: right;","[dir='rtl'] .sv-boolean--indeterminate .sv-boolean__slider":"margin-right: calc(50% - 0.625em);","[dir='rtl'] .sv-boolean--checked .sv-boolean__slider":"margin-right: calc(100% - 1.25em);","[dir='rtl'] .sv-boolean__switch":"float: right;","[style*='direction:rtl'] .sv-boolean__label ":"float: right;","[style*='direction:rtl'] .sv-boolean--indeterminate .sv-boolean__slider":"margin-right: calc(50% - 0.625em);","[style*='direction:rtl'] .sv-boolean--checked .sv-boolean__slider":"margin-right: calc(100% - 1.25em);","[style*='direction:rtl'] .sv-boolean__switch":"float: right;",".sv_main .sv_q_num":"",".sv_main .sv_q_num + span":"",".sv_main .sjs_sp_container":"position: relative;",".sv_main .sjs_sp_controls":"position: absolute; left: 0; bottom: 0;",".sv_main .sjs_sp_controls > button":"user-select: none;",".sv_main .sjs_sp_container>div>canvas:focus":"outline: none;",".sv_main .sv_logo":"",".sv_main .sv-logo--left":"display: inline-block; vertical-align: top; margin-right: 2em;",".sv_main .sv-logo--right":"display: inline-block; vertical-align: top; margin-left: 2em; float: right;",".sv_main .sv-logo--right+.sv-logo--right-tail":"clear: both;",".sv_main .sv-logo--top":"display: block; width: 100%; text-align: center;",".sv_main .sv-logo--bottom":"display: block; width: 100%; text-align: center;",".sv_main .sv_header__text":"display: inline-block; vertical-align: top; max-width: 100%",".sv_main .sv-expand-action:before":"content: \"\"; display: inline-block; background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 10 10' style='enable-background:new 0 0 10 10;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23404040;%7D%0A%3C/style%3E%3Cpolygon class='st0' points='2,2 0,4 5,9 10,4 8,2 5,5 '/%3E%3C/svg%3E%0A\"); background-repeat: no-repeat; background-position: center center; height: 10px; width: 12px; margin: auto 8px;",".sv_main .sv-expand-action--expanded:before":"transform: rotate(180deg);",".sv_main sv-action-bar, .sv_main .sv-action-bar":"display: flex; position: relative; align-items: center; margin-left: auto; padding: 0 0 0 16px; overflow: hidden; white-space: nowrap;",".sv_main .sv-action-bar-separator":"display: inline-block; width: 1px; height: 24px; vertical-align: middle; margin-right: 16px; background-color: #d6d6d6;",".sv_main .sv-action-bar-item":"-webkit-appearance: none; -moz-appearance: none; appearance: none; display: flex; height: 40px; padding: 8px; box-sizing: border-box; margin-right: 16px; border: none; border-radius: 2px; background-color: transparent; cursor: pointer; line-height: 24px; font-size: 16px; overflow-x: hidden; white-space: nowrap; min-width: auto; font-weight: normal",".sv_main .sv-action-bar-item__title":"vertical-align: middle; white-space: nowrap;",".sv_main .sv-action-bar-item__title--with-icon":"margin-left: 8px;",".sv_main .sv-action":"display: flex; align-items: center;",".sv_main .sv-action--hidden":"visibility: hidden",".sv_main .sv-action-bar-item__icon svg":"display: block;",".sv_main .sv-action-bar-item:active":"opacity: 0.5;",".sv_main .sv-action-bar-item:focus":"outline: none;",".sv_main .sv-title-actions":"display: flex;align-items: center;",".sv_main .sv-title-actions__title":"flex-wrap: wrap; max-width: 90%; min-width: 50%;",".sv_main .sv-title-actions__bar":"min-width: 56px;"},e.Media={".sv_qstn fieldset .sv-q-col-1":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_qstn fieldset .sv-q-col-2":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_qstn fieldset .sv-q-col-3":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_qstn fieldset .sv-q-col-4":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_qstn fieldset .sv-q-col-5":{style:"width: 100%;",media:"@media only screen and (max-width: 480px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn":{style:"display: block; width: 100% !important;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .title-left":{style:"float: none;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .sv_q_radiogroup_inline, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .sv_q_checkbox_inline, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .sv_q_imagepicker_inline":{style:"display: block;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table":{style:"display: block;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table thead":{style:"display: none;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table tbody, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table tr, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table td":{style:"display: block;",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.table:not(.sv_q_matrix) td:before":{style:"content: attr(headers);",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn table.sv_q_matrix td:after":{style:"content: attr(headers); padding-left: 1em",media:"@media (max-width: 600px)"},".sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .radio label, .sv_main .sv_container .panel-body.card-block .sv_row .sv_qstn .checkbox label":{style:"line-height: 12px; vertical-align: top;",media:"@media (max-width: 600px)"},".sv_qstn label.sv_q_m_label":{style:"display: inline;",media:"@media (max-width: 600px)"},".sv_main .sv_custom_header":{style:"display: none;",media:"@media (max-width: 1300px)"},".sv_main .sv_container .sv_header h3":{style:"font-size: 1.5em;",media:"@media (max-width: 1300px)"},".sv_main .sv_container .sv_header h3 span":{style:"font-size: 0.75em;",media:"@media (max-width: 700px)"},".sv_main.sv_bootstrap_css .sv-progress__text":{style:"margin-left: 8em;",media:"@media (min-width: 768px)"},".sv_row":{style:" display: flex; flex-wrap: wrap;",media:"@supports (display: flex)"},".sv-vue-row-additional-div":{style:" display: flex; flex-wrap: wrap; flex-basis: 100%;",media:"@supports (display: flex)"},".sv-row > .sv-row__panel, .sv-row__question:not(:last-child)":{style:"float: left;",media:"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)"},"[dir='rtl'],[style*='direction:rtl'] .sv-row__question:not(:last-child)":{style:"float: right;",media:"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)"},".sv-row > .sv-row__panel, .sv-row__question":{style:"width: 100% !important; padding-right: 0 !important;",media:"@media only screen and (max-width: 600px)"}},e.ThemeColors={default:{"$header-background-color":"#e7e7e7","$body-container-background-color":"#f4f4f4","$main-color":"#1ab394","$main-hover-color":"#0aa384","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#6d7072","$text-input-color":"#6d7072","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"909090","$background-dim":"#f3f3f3"},orange:{"$header-background-color":"#4a4a4a","$body-container-background-color":"#f8f8f8","$main-color":"#f78119","$main-hover-color":"#e77109","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#f78119","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"909090","$background-dim":"#f3f3f3"},darkblue:{"$header-background-color":"#d9d8dd","$body-container-background-color":"#f6f7f2","$main-color":"#3c4f6d","$main-hover-color":"#2c3f5d","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"909090","$background-dim":"#f3f3f3"},darkrose:{"$header-background-color":"#ddd2ce","$body-container-background-color":"#f7efed","$main-color":"#68656e","$main-hover-color":"#58555e","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"909090","$background-dim":"#f3f3f3"},stone:{"$header-background-color":"#cdccd2","$body-container-background-color":"#efedf4","$main-color":"#0f0f33","$main-hover-color":"#191955","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#0f0f33","$text-input-color":"#0f0f33","$header-color":"#0f0f33","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"909090","$background-dim":"#f3f3f3"},winter:{"$header-background-color":"#82b8da","$body-container-background-color":"#dae1e7","$main-color":"#3c3b40","$main-hover-color":"#1e1d20","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"909090","$background-dim":"#f3f3f3"},winterstone:{"$header-background-color":"#323232","$body-container-background-color":"#f8f8f8","$main-color":"#5ac8fa","$main-hover-color":"#06a1e7","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#fff","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fd6575","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"909090","$background-dim":"#f3f3f3"},modern:{"$main-color":"#1ab394","$add-button-color":"#1948b3","$remove-button-color":"#ff1800","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$error-color":"#d52901","$text-color":"#404040","$light-text-color":"#fff","$button-text-color":"#fff","$checkmark-color":"#fff","$matrix-text-checked-color":"#fff","$text-input-color":"#404040","$inputs-background-color":"transparent","$main-hover-color":"#9f9f9f","$body-container-background-color":"#f4f4f4","$text-border-color":"#d4d4d4","$disabled-text-color":"rgba(64, 64, 64, 0.5)","$border-color":"rgb(64, 64, 64, 0.5)","$dropdown-border-color":"#d4d4d4","$header-background-color":"#e7e7e7","$answer-background-color":"rgba(26, 179, 148, 0.2)","$error-background-color":"rgba(213, 41, 1, 0.2)","$radio-checked-color":"#404040","$clean-button-color":"#1948b3","$body-background-color":"#ffffff","$foreground-light":"909090","$background-dim":"#f3f3f3"},bootstrap:{"$main-color":"#18a689","$text-color":"#404040;","$text-input-color":"#404040;","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$header-background-color":"#e7e7e7","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"909090","$background-dim":"#f3f3f3"},bootstrapmaterial:{"$main-color":"#18a689","$text-color":"#404040;","$text-input-color":"#404040;","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$header-background-color":"#e7e7e7","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$body-background-color":"#ffffff","$foreground-light":"909090","$background-dim":"#f3f3f3"}},e.ThemeCss={".sv_default_css":"background-color: $body-container-background-color;",".sv_default_css hr":"border-color: $border-color;",".sv_default_css input[type='button'], .sv_default_css button":"color: $body-background-color; background-color: $main-color;",".sv_default_css input[type='button']:hover, .sv_default_css button:hover":"background-color: $main-hover-color;",".sv_default_css .sv_header":"color: $header-color;",".sv_default_css .sv_custom_header":"background-color: $header-background-color;",".sv_default_css .sv_container":"color: $text-color;",".sv_default_css .sv_body":"background-color: $body-background-color; border-color: $main-color;",".sv_default_css .sv_progress":"background-color: $border-color;",".sv_default_css .sv_progress_bar":"background-color: $main-color;",".sv_default_css .sv_p_root > .sv_row":"border-color: $border-color;",".sv_default_css .sv_p_root > .sv_row:nth-child(odd)":"background-color: $body-background-color;",".sv_default_css .sv_p_root > .sv_row:nth-child(even)":"background-color: $body-container-background-color;",".sv_default_css .sv_q_other input":"color: $text-color; -webkit-text-fill-color: $text-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css .sv_q_text_root":"color: $text-color; -webkit-text-fill-color: $text-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css .sv_q_dropdown_control":"color: $text-input-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css input[type='text']":"color: $text-color; -webkit-text-fill-color: $text-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css select":"color: $text-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css textarea":"color: $text-input-color; -webkit-text-fill-color: $text-input-color; border-color: $border-color; background-color: $inputs-background-color;",".sv_default_css input:not([type='button']):not([type='reset']):not([type='submit']):not([type='image']):not([type='checkbox']):not([type='radio'])":"border: 1px solid $border-color; background-color: $inputs-background-color;color: $text-input-color; -webkit-text-fill-color: $text-input-color;",".sv_default_css input:not([type='button']):not([type='reset']):not([type='submit']):not([type='image']):not([type='checkbox']):not([type='radio']):focus":"border: 1px solid $main-color;",".sv_default_css .sv_container .sv_body .sv_p_root .sv_q .sv_select_wrapper .sv_q_dropdown_control ":"background-color: $inputs-background-color;",".sv_default_css .sv_q_other input:focus":"border-color: $main-color;",".sv_default_css .sv_q_text_root:focus":"border-color: $main-color;",".sv_default_css .sv_q_dropdown_control:focus":"border-color: $main-color;",".sv_default_css input[type='text']:focus":"border-color: $main-color;",'.sv_default_css .sv_container .sv_body .sv_p_root .sv_q input[type="radio"]:focus, .sv_default_css .sv_container .sv_body .sv_p_root .sv_q input[type="checkbox"]:focus':"outline: 1px dotted $main-color;",".sv_default_css select:focus":"border-color: $main-color;",".sv_default_css textarea:focus":"border-color: $main-color;",".sv_default_css .sv_select_wrapper":"background-color: $body-background-color;",".sv_default_css .sv_select_wrapper::before":"background-color: $main-color;",".sv_default_css .sv_q_rating_item.active .sv_q_rating_item_text":"background-color: $main-hover-color; border-color: $main-hover-color; color: $body-background-color;",".sv_default_css .sv_q_rating_item .sv_q_rating_item_text":"border-color: $border-color;",".sv_default_css .sv_q_rating_item .sv_q_rating_item_text:hover":"border-color: $main-hover-color;",".sv_default_css table.sv_q_matrix tr":"border-color: $border-color;",".sv_default_css table.sv_q_matrix_dropdown tr":"border-color: $border-color;",".sv_default_css table.sv_q_matrix_dynamic tr":"border-color: $border-color;",".sv_default_css .sv_q_m_cell_selected":"color: $body-background-color; background-color: $main-hover-color;",".sv_main .sv_q_file_remove:hover":"color: $main-color;",".sv_main .sv_q_file_choose_button":"color: $body-background-color; background-color: $main-color;",".sv_main .sv_q_file_choose_button:hover":"background-color: $main-hover-color;",".sv_main .sv_q_imgsel.checked label>div":"background-color: $main-color",".sv_default_css .sv_p_description":"padding-left: 1.29em;",".sv_main .sv-progress":"background-color: $header-background-color;",".sv_main .sv-progress__bar":"background-color: $main-color;",".sv_main .sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled, .sv_main .sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"fill: $disable-color;",".sv_main .sv-paneldynamic__progress-text":"color: $progress-text-color;",".sv_main .sv-paneldynamic__prev-btn, .sv_main .sv-paneldynamic__next-btn":"fill: $text-color",".sv_main .sv-boolean__switch":"background-color: $main-color;",".sv_main .sv-boolean__slider":"background-color: $slider-color;",".sv_main .sv-boolean__label--disabled":"color: $disabled-label-color;",".sv_main .sv-boolean--disabled .sv-boolean__switch":"background-color: $disabled-switch-color;",".sv_main .sv-boolean--disabled .sv-boolean__slider":"background-color: $disabled-slider-color;",".sv_main .sv_matrix_detail_row":"background-color: #ededed; border-top: 1px solid $header-background-color; border-bottom: 1px solid $header-background-color;",".sv_main .sv-action-bar-item":"color: $text-color;",".sv_main .sv-action-bar-item__icon use":"fill: $foreground-light;",".sv_main .sv-action-bar-item:hover":"background-color: $background-dim;"},e.modernThemeCss={".sv-boolean__switch":"background-color: $main-color;",".sv-boolean__slider":"background-color: $slider-color;",".sv-boolean__label--disabled":"color: $disabled-label-color;",".sv-boolean--disabled .sv-boolean__switch":"background-color: $disabled-switch-color;",".sv-boolean--disabled .sv-boolean__slider":"background-color: $disabled-slider-color;",".sv-btn":"color: $button-text-color;",".sv-checkbox__svg":"border-color: $border-color; fill: transparent;",".sv-checkbox--allowhover:hover .sv-checkbox__svg":"background-color: $main-hover-color; fill: $checkmark-color;",".sv-checkbox--checked .sv-checkbox__svg":"background-color: $main-color; fill: $checkmark-color;",".sv-checkbox--checked.sv-checkbox--disabled .sv-checkbox__svg":"background-color: $disable-color; fill: $checkmark-color;",".sv-checkbox--disabled .sv-checkbox__svg":"border-color: $disable-color;",".sv-comment":"border-color: $text-border-color;",".sv-comment:focus":"border-color: $main-color;",".sv-completedpage":"color: $text-color; background-color: $body-container-background-color;",".sv-container-modern":"color: $text-color;",".sv-container-modern__title":"color: $main-color;",".sv-description":"color: $disabled-text-color;",".sv-dropdown":"border-bottom: 0.06em solid $text-border-color;",".sv-dropdown:focus":"border-color: $dropdown-border-color;",".sv-dropdown--error":"border-color: $error-color; color: $error-color;",".sv-dropdown--error::placeholder":"color: $error-color;",".sv-dropdown--error::-ms-input-placeholder":"color: $error-color;",".sv-file__decorator":"background-color: $body-container-background-color;",".sv-file__clean-btn":"background-color: $remove-button-color;",".sv-file__choose-btn":"background-color: $add-button-color;",".sv-file__choose-btn--disabled":"background-color: $disable-color;",".sv-file__remove-svg":"fill: #ff1800;",".sv-file__sign a":"color: $text-color;",".sv-footer__complete-btn":"background-color: $main-color;",".sv-footer__next-btn":"background-color: $main-color;",".sv-footer__prev-btn":"background-color: $main-color;",".sv-footer__start-btn":"background-color: $main-color;",".sv-footer__preview-btn":"background-color: $main-color;",".sv-footer__edit-btn":"background-color: $main-color;",".sv-imagepicker__item--allowhover:hover .sv-imagepicker__image":"background-color: $main-hover-color; border-color: $main-hover-color;",".sv-imagepicker__item--checked .sv-imagepicker__image":"background-color: $main-color; border-color: $main-color;",".sv-imagepicker__item--disabled.sv-imagepicker__item--checked .sv-imagepicker__image":"background-color: $disable-color; border-color: $disable-color;",".sv-item__control:focus + .sv-item__decorator":"border-color: $main-color;",".sv-matrix__text--checked":"color: $matrix-text-checked-color; background-color: $main-color;",".sv-matrix__text--disabled.sv-matrix__text--checked":"background-color: $disable-color;",".sv-matrixdynamic__add-btn":"background-color: $add-button-color;",".sv-matrixdynamic__remove-btn":"background-color: $remove-button-color;",".sv-paneldynamic__add-btn":"background-color: $add-button-color;",".sv-paneldynamic__remove-btn":"background-color: $remove-button-color;",".sv-paneldynamic__prev-btn, .sv-paneldynamic__next-btn":"fill: $text-color;",".sv-paneldynamic__prev-btn--disabled, .sv-paneldynamic__next-btn--disabled":"fill: $disable-color;",".sv-paneldynamic__progress-text":"color: $progress-text-color;",".sv-progress":"background-color: $header-background-color;",".sv-progress__bar":"background-color: $main-color;",".sv-progress__text":"color: $progress-text-color;",".sv-question__erbox":"color: $error-color;",".sv-question__title--answer":"background-color: $answer-background-color;",".sv-question__title--error":"background-color: $error-background-color;",".sv-panel__title--error":"background-color: $error-background-color;",".sv-radio__svg":"border-color: $border-color; fill: transparent;",".sv-radio--allowhover:hover .sv-radio__svg":"fill: $border-color;",".sv-radio--checked .sv-radio__svg":"border-color: $radio-checked-color; fill: $radio-checked-color;",".sv-radio--disabled .sv-radio__svg":"border-color: $disable-color;",".sv-radio--disabled.sv-radio--checked .sv-radio__svg":"fill: $disable-color;",".sv-rating":"color: $text-color;",".sv-rating input:focus + .sv-rating__min-text + .sv-rating__item-text, .sv-rating input:focus + .sv-rating__item-text":"outline-color: $main-color;",".sv-rating__item-text":"color: $main-hover-color; border: solid 0.1875em $main-hover-color;",".sv-rating__item-text:hover":"background-color: $main-hover-color; color: $body-background-color;",".sv-rating__item--selected .sv-rating__item-text":"background-color: $main-color; color: $body-background-color; border-color: $main-color;",".sv-rating--disabled .sv-rating__item-text":"color: $disable-color; border-color: $disable-color;",".sv-rating--disabled .sv-rating__item-text:hover":"background-color: transparent;",".sv-rating--disabled .sv-rating__item-text:hover .sv-rating__item--selected .sv-rating__item-text":"background-color: $disable-color; color: $body-background-color;","::-webkit-scrollbar":"background-color: $main-hover-color;","::-webkit-scrollbar-thumb":"background: $main-color;",".sv-selectbase__clear-btn":"background-color: $clean-button-color;",".sv-table":"background-color: rgba($main-hover-color, 0.1);",".sv-text:focus":"border-color: $main-color;",'.sv-text[type="date"]::-webkit-calendar-picker-indicator':"color: transparent; background: transparent;",".sv-text--error":"color: $error-color; border-color: $error-color;",".sv-text--error::placeholder":"color: $error-color;",".sv-text--error::-ms-placeholder":"color: $error-color;",".sv-text--error:-ms-placeholder":"color: $error-color;","input.sv-text, textarea.sv-comment, select.sv-dropdown":"color: $text-input-color; background-color: $inputs-background-color;",".sv-text::placeholder":"color: $text-input-color;",".sv-text::-ms-placeholder":"color: $text-input-color;",".sv-text:-ms-placeholder":"color: $text-input-color;",".sv-table__row--detail":"background-color: $header-background-color;"},e.bootstrapThemeCss={".sv_main .sv_q_imgsel.checked label>div":"background-color: $main-color",".sv_main .sv_p_description":"padding-left: 1.66em;",".sv_main .sv_qstn_error_bottom":"margin-top: 20px; margin-bottom: 0;",".sv_main .progress":"width: 60%;",".sv_main .progress-bar":"width: auto; margin-left: 2px; margin-right: 2px;",".sv_main .table>tbody>tr>td":"min-width: 90px;",".sv_main f-panel .sv_qstn":"padding: 0; vertical-align: middle;",".sv_main .sv_q_image":"display: inline-block;",".sv_main .sv_row .sv_qstn:first-child:last-child":"flex: none !important;",".sv_main .sv_row .sv_p_container:first-child:last-child":"flex: none !important;",".sv_main .sv-progress":"background-color: $header-background-color;",".sv_main .sv-progress__bar":"background-color: $main-color;",".sv_main .sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled, .sv_main .sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"fill: $disable-color;",".sv_main .sv-paneldynamic__progress-text":"color: $progress-text-color;",".sv_main .sv-paneldynamic__prev-btn, .sv_main .sv-paneldynamic__next-btn":"fill: $text-color",".sv_main .sv-boolean__switch":"background-color: $main-color;",".sv_main .sv-boolean__slider":"background-color: $slider-color;",".sv_main .sv-boolean__label--disabled":"color: $disabled-label-color;",".sv_main .sv-boolean--disabled .sv-boolean__switch":"background-color: $disabled-switch-color;",".sv_main .sv-boolean--disabled  .sv-boolean__slider":"background-color: $disabled-slider-color;",".sv_main .sv_matrix_detail_row":"background-color: #ededed; border-top: 1px solid $header-background-color; border-bottom: 1px solid $header-background-color;",".sv_main .sv-action-bar-item":"color: $text-color;",".sv_main .sv-action-bar-item__icon use":"fill: $foreground-light;",".sv_main .sv-action-bar-item:hover":"background-color: $background-dim;"},e.bootstrapmaterialThemeCss={".sv_main.sv_bootstrapmaterial_css .form-group.is-focused .form-control":"linear-gradient(0deg, $main-color 2px, $main-color 0),linear-gradient(0deg, #D2D2D2 1px, transparent 0);",".sv_main.sv_bootstrapmaterial_css .sv_qstn":"margin-bottom: 1rem;",".sv_main.sv_bootstrapmaterial_css .sv_qstn label.sv_q_m_label":"height: 100%;",".sv_main.sv_bootstrapmaterial_css .sv_q_image":"display: inline-block;",".sv_main .sv_row .sv_qstn:first-child:last-child":"flex: none !important;",".sv_main .sv_row .sv_p_container:first-child:last-child":"flex: none !important;",".sv_main.sv_bootstrapmaterial_css .checkbox input[type=checkbox]:checked + .checkbox-material .check":"border-color: $main-color;",".sv_main.sv_bootstrapmaterial_css label.checkbox-inline input[type=checkbox]:checked + .checkbox-material .check":"border-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .checkbox input[type=checkbox]:checked + .checkbox-material .check:before":"color: $main-color;",".sv_main.sv_bootstrapmaterial_css label.checkbox-inline input[type=checkbox]:checked + .checkbox-material .check:before":"color: $main-color;",".sv_main.sv_bootstrapmaterial_css .radio input[type=radio]:checked ~ .circle":"border-color: $main-color;",".sv_main.sv_bootstrapmaterial_css label.radio-inline input[type=radio]:checked ~ .circle":"border-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .radio input[type=radio]:checked ~ .check":"background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css label.radio-inline input[type=radio]:checked ~ .check":"background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .btn-default.active":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css .btn-default:active":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css .btn-secondary.active":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css .btn-secondary:active":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css .open>.dropdown-toggle.btn-default":"background-color: $main-color; color: $body-background-color;",".sv_main.sv_bootstrapmaterial_css input[type='button'].btn-primary, .sv_main.sv_bootstrapmaterial_css button.btn-primary":"color: $body-background-color; background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css input[type='button'].btn-primary:hover, .sv_main.sv_bootstrapmaterial_css button.btn-primary:hover":"background-color: $main-hover-color;",".sv_main .sv_q_imgsel.checked label>div":"background-color: $main-color;",".sv_main.sv_bootstrapmaterial_css .sv_q_file_remove:hover":"color: $main-color;",".sv_main.sv_bootstrapmaterial_css .form-group input[type=file]":"position: relative; opacity: 1;",".sv_main.sv_bootstrapmaterial_css .progress":"width: 60%; height: 1.5em;",".sv_main.sv_bootstrapmaterial_css .progress-bar":"width: auto; margin-left: 2px; margin-right: 2px;",".sv_main .sv-progress":"background-color: $header-background-color;",".sv_main .sv-progress__bar":"background-color: $main-color;",".sv_main .sv-paneldynamic__prev-btn.sv-paneldynamic__prev-btn--disabled, .sv_main .sv-paneldynamic__next-btn.sv-paneldynamic__next-btn--disabled":"fill: $disable-color;",".sv_main .sv-paneldynamic__progress-text":"color: $progress-text-color;",".sv_main .sv-paneldynamic__prev-btn, .sv_main .sv-paneldynamic__next-btn":"fill: $text-color",".sv_main .sv-boolean .checkbox-decorator":"display: none;",".sv_main .sv-boolean__switch":"background-color: $main-color;",".sv_main .sv-boolean__slider":"background-color: $slider-color;",".sv_main .sv-boolean__label.sv-boolean__label--disabled":"color: $disabled-label-color;",".sv_main .sv-boolean__label":"color: $text-color;",".sv_main .sv-boolean--disabled .sv-boolean__switch":"background-color: $disabled-switch-color;",".sv_main .sv-boolean--disabled  .sv-boolean__slider":"background-color: $disabled-slider-color;",".sv_main .sv_matrix_detail_row":"background-color: #ededed; border-top: 1px solid $header-background-color; border-bottom: 1px solid $header-background-color;",".sv_main .sv-action-bar-item":"color: $text-color;",".sv_main .sv-action-bar-item__icon use":"fill: $foreground-light;",".sv_main .sv-action-bar-item:hover":"background-color: $background-dim;"},e.Enabled=!0,e}()},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(3),a=n(7),s=n(17),u=n(44),l=n(25),c=n(19),p=n(40),d=n(1),h=n(13),f=n(16),m=n(68),g=n(70),v=n(14),y=n(11);n.d(t,"a",(function(){return b}));var b=function(e){function t(n){void 0===n&&(n=null);var r=e.call(this)||this;r.valuesHash={},r.variablesHash={},r.localeValue="",r.completedStateValue="",r.completedStateTextValue="",r.isTimerStarted=!1,r.onCompleting=new a.b,r.onComplete=new a.b,r.onNavigateToUrl=new a.b,r.onStarted=new a.b,r.onPartialSend=new a.b,r.onCurrentPageChanging=new a.b,r.onCurrentPageChanged=new a.b,r.onValueChanging=new a.b,r.onValueChanged=new a.b,r.onVisibleChanged=new a.b,r.onPageVisibleChanged=new a.b,r.onPanelVisibleChanged=new a.b,r.onQuestionCreated=new a.b,r.onQuestionAdded=new a.b,r.onQuestionRemoved=new a.b,r.onPanelAdded=new a.b,r.onPanelRemoved=new a.b,r.onPageAdded=new a.b,r.onValidateQuestion=new a.b,r.onSettingQuestionErrors=new a.b,r.onServerValidateQuestions=new a.b,r.onValidatePanel=new a.b,r.onErrorCustomText=new a.b,r.onValidatedErrorsOnCurrentPage=new a.b,r.onProcessHtml=new a.b,r.onGetQuestionTitle=new a.b,r.onGetQuestionNo=new a.b,r.onProgressText=new a.b,r.onTextMarkdown=new a.b,r.onTextRenderAs=new a.b,r.onSendResult=new a.b,r.onGetResult=new a.b,r.onUploadFiles=new a.b,r.onDownloadFile=new a.b,r.onClearFiles=new a.b,r.onLoadChoicesFromServer=new a.b,r.onLoadedSurveyFromService=new a.b,r.onProcessTextValue=new a.b,r.onUpdateQuestionCssClasses=new a.b,r.onUpdatePanelCssClasses=new a.b,r.onUpdatePageCssClasses=new a.b,r.onAfterRenderSurvey=new a.b,r.onAfterRenderHeader=new a.b,r.onAfterRenderPage=new a.b,r.onAfterRenderQuestion=new a.b,r.onAfterRenderQuestionInput=new a.b,r.onAfterRenderPanel=new a.b,r.onMatrixRowAdded=new a.b,r.onMatrixBeforeRowAdded=new a.b,r.onMatrixRowRemoved=new a.b,r.onMatrixAllowRemoveRow=new a.b,r.onMatrixCellCreated=new a.b,r.onMatrixAfterCellRender=new a.b,r.onMatrixCellValueChanged=new a.b,r.onMatrixCellValueChanging=new a.b,r.onMatrixCellValidate=new a.b,r.onDynamicPanelAdded=new a.b,r.onDynamicPanelRemoved=new a.b,r.onTimer=new a.b,r.onTimerPanelInfoText=new a.b,r.onDynamicPanelItemValueChanged=new a.b,r.onIsAnswerCorrect=new a.b,r.onDragDropAllow=new a.b,r.onScrollingElementToTop=new a.b,r.onLocaleChangedEvent=new a.b,r.onGetQuestionTitleActions=new a.b,r.onGetPanelTitleActions=new a.b,r.onGetPageTitleActions=new a.b,r.onElementContentVisibilityChanged=new a.b,r.jsonErrors=null,r.cssValue=null,r.hideRequiredErrors=!1,r._isDesignMode=!1,r.ignoreValidation=!1,r.isNavigationButtonPressed=!1,r.runningPages=null,r.origionalPages=null,r.isCalculatingProgressText=!1,r.isTriggerIsRunning=!1,r.triggerValues=null,r.triggerKeys=null,r.conditionValues=null,r.isValueChangedOnRunningCondition=!1,r.conditionRunnerCounter=0,r.conditionUpdateVisibleIndexes=!1,r.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,r.isEndLoadingFromJson=null,r.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},r.timerFunc=null,r.timeSpent=0;var o=r;return"undefined"!=typeof document&&(t.stylesManager=new m.a),r.createLocalizableString("title",r,!0),r.createLocalizableString("description",r,!0),r.createLocalizableString("logo",r,!1),r.createLocalizableString("completedHtml",r),r.createLocalizableString("completedBeforeHtml",r),r.createLocalizableString("loadingHtml",r),r.createLocalizableString("startSurveyText",r),r.createLocalizableString("pagePrevText",r),r.createLocalizableString("pageNextText",r),r.createLocalizableString("completeText",r),r.createLocalizableString("previewText",r),r.createLocalizableString("editText",r),r.createLocalizableString("questionTitleTemplate",r,!0),r.textPreProcessor=new l.a,r.textPreProcessor.onProcess=function(e){o.getProcessedTextValue(e)},r.createNewArray("pages",(function(e){o.doOnPageAdded(e)}),(function(e){o.doOnPageRemoved(e)})),r.createNewArray("triggers",(function(e){e.setOwner(o)})),r.createNewArray("calculatedValues",(function(e){e.setOwner(o)})),r.createNewArray("completedHtmlOnCondition",(function(e){e.locOwner=o})),r.createNewArray("navigateToUrlOnCondition",(function(e){e.locOwner=o})),r.registerFunctionOnPropertyValueChanged("firstPageIsStarted",(function(){o.onFirstPageIsStartedChanged()})),r.registerFunctionOnPropertyValueChanged("mode",(function(){o.onModeChanged()})),r.registerFunctionOnPropertyValueChanged("progressBarType",(function(){o.updateProgressText()})),r.onProgressText.onCallbacksChanged=function(){r.updateProgressText()},r.onBeforeCreating(),n&&(("string"==typeof n||n instanceof String)&&(n=JSON.parse(n)),n&&n.clientId&&(r.clientId=n.clientId),r.fromJSON(n),r.surveyId&&r.loadSurveyFromService(r.surveyId,r.clientId)),r.onCreating(),r}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"platformName",{get:function(){return t.platform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentPrefix",{get:function(){return y.a.commentPrefix},set:function(e){y.a.commentPrefix=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPageValue",{get:function(){return this.getPropertyValue("currentPageValue",null)},set:function(e){this.setPropertyValue("currentPageValue",e)},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"survey"},t.prototype.onPropertyValueChanged=function(e,t,n){"questionsOnPageMode"===e&&this.onQuestionsOnPageModeChanged(t)},Object.defineProperty(t.prototype,"pages",{get:function(){return this.getPropertyValue("pages")},enumerable:!1,configurable:!0}),t.prototype.getCss=function(){return this.css},Object.defineProperty(t.prototype,"css",{get:function(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,s.b.getCss())),this.cssValue},set:function(e){this.mergeValues(e,this.css)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationComplete",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.complete)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationPreview",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.preview)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationEdit",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationPrev",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.prev)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationStart",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationNext",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.next)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedCss",{get:function(){var e=this.css;return e.body+" "+e.completedPage},enumerable:!1,configurable:!0}),t.prototype.getNavigationCss=function(e,t){var n="";return e&&(n=e),t&&(n+=" "+t),n},Object.defineProperty(t.prototype,"triggers",{get:function(){return this.getPropertyValue("triggers")},set:function(e){this.setPropertyValue("triggers",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculatedValues",{get:function(){return this.getPropertyValue("calculatedValues")},set:function(e){this.setPropertyValue("calculatedValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyId",{get:function(){return this.getPropertyValue("surveyId","")},set:function(e){this.setPropertyValue("surveyId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyPostId",{get:function(){return this.getPropertyValue("surveyPostId","")},set:function(e){this.setPropertyValue("surveyPostId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientId",{get:function(){return this.getPropertyValue("clientId","")},set:function(e){this.setPropertyValue("clientId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cookieName",{get:function(){return this.getPropertyValue("cookieName","")},set:function(e){this.setPropertyValue("cookieName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sendResultOnPageNext",{get:function(){return this.getPropertyValue("sendResultOnPageNext",!1)},set:function(e){this.setPropertyValue("sendResultOnPageNext",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyShowDataSaving",{get:function(){return this.getPropertyValue("surveyShowDataSaving",!1)},set:function(e){this.setPropertyValue("surveyShowDataSaving",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusFirstQuestionAutomatic",{get:function(){return this.getPropertyValue("focusFirstQuestionAutomatic",!0)},set:function(e){this.setPropertyValue("focusFirstQuestionAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusOnFirstError",{get:function(){return this.getPropertyValue("focusOnFirstError",!0)},set:function(e){this.setPropertyValue("focusOnFirstError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNavigationButtons",{get:function(){return this.getPropertyValue("showNavigationButtons")},set:function(e){!0!==e&&void 0!==e||(e="bottom"),!1===e&&(e="none"),this.setPropertyValue("showNavigationButtons",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPrevButton",{get:function(){return this.getPropertyValue("showPrevButton",!0)},set:function(e){this.setPropertyValue("showPrevButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTitle",{get:function(){return this.getPropertyValue("showTitle",!0)},set:function(e){this.setPropertyValue("showTitle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPageTitles",{get:function(){return this.getPropertyValue("showPageTitles",!0)},set:function(e){this.setPropertyValue("showPageTitles",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCompletedPage",{get:function(){return this.getPropertyValue("showCompletedPage",!0)},set:function(e){this.setPropertyValue("showCompletedPage",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigateToUrl",{get:function(){return this.getPropertyValue("navigateToUrl")},set:function(e){this.setPropertyValue("navigateToUrl",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigateToUrlOnCondition",{get:function(){return this.getPropertyValue("navigateToUrlOnCondition")},set:function(e){this.setPropertyValue("navigateToUrlOnCondition",e)},enumerable:!1,configurable:!0}),t.prototype.getNavigateToUrl=function(){var e=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),t=e?e.url:this.navigateToUrl;return t&&(t=this.processText(t,!0)),t},t.prototype.navigateTo=function(){var e={url:this.getNavigateToUrl()};this.onNavigateToUrl.fire(this,e),e.url&&"undefined"!=typeof window&&window.location&&(window.location.href=e.url)},Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.getPropertyValue("requiredText","*")},set:function(e){this.setPropertyValue("requiredText",e)},enumerable:!1,configurable:!0}),t.prototype.beforeSettingQuestionErrors=function(e,t){this.maakeRequiredErrorsInvisibgle(t),this.onSettingQuestionErrors.fire(this,{question:e,errors:t})},t.prototype.beforeSettingPanelErrors=function(e,t){this.maakeRequiredErrorsInvisibgle(t)},t.prototype.maakeRequiredErrorsInvisibgle=function(e){if(this.hideRequiredErrors)for(var t=0;t<e.length;t++){var n=e[t].getErrorType();"required"!=n&&"requireoneanswer"!=n||(e[t].visible=!1)}},Object.defineProperty(t.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(e){this.setPropertyValue("questionStartIndex",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment",!0)},set:function(e){this.setPropertyValue("storeOthersAsComment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTextLength",{get:function(){return this.getPropertyValue("maxTextLength",0)},set:function(e){this.setPropertyValue("maxTextLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOthersLength",{get:function(){return this.getPropertyValue("maxOthersLength",0)},set:function(e){this.setPropertyValue("maxOthersLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"goNextPageAutomatic",{get:function(){return this.getPropertyValue("goNextPageAutomatic",!1)},set:function(e){this.setPropertyValue("goNextPageAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowCompleteSurveyAutomatic",{get:function(){return this.getPropertyValue("allowCompleteSurveyAutomatic",!0)},set:function(e){this.setPropertyValue("allowCompleteSurveyAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkErrorsMode",{get:function(){return this.getPropertyValue("checkErrorsMode")},set:function(e){this.setPropertyValue("checkErrorsMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(e){this.setPropertyValue("textUpdateMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearInvisibleValues",{get:function(){return this.getPropertyValue("clearInvisibleValues")},set:function(e){!0===e&&(e="onComplete"),!1===e&&(e="none"),this.setPropertyValue("clearInvisibleValues",e)},enumerable:!1,configurable:!0}),t.prototype.clearIncorrectValues=function(e){void 0===e&&(e=!1);for(var t=0;t<this.pages.length;t++)this.pages[t].clearIncorrectValues();if(e){var n=this.data,r=!1;for(var o in n)if(!this.getQuestionByValueName(o)&&!this.iscorrectValueWithPostPrefix(o,y.a.commentPrefix)&&!this.iscorrectValueWithPostPrefix(o,y.a.matrixTotalValuePostFix)){var i=this.getCalculatedValueByName(o);i&&i.includeIntoResult||(r=!0,delete n[o])}r&&(this.data=n)}},t.prototype.iscorrectValueWithPostPrefix=function(e,t){return e.indexOf(t)===e.length-t.length&&!!this.getQuestionByValueName(e.substr(0,e.indexOf(t)))},Object.defineProperty(t.prototype,"locale",{get:function(){return this.localeValue},set:function(e){d.a.currentLocale=e,this.localeValue=d.a.currentLocale,this.setPropertyValue("locale",this.localeValue),this.isLoadingFromJson||(this.locStrsChanged(),this.onLocaleChanged(),this.onLocaleChangedEvent.fire(this,e))},enumerable:!1,configurable:!0}),t.prototype.getUsedLocales=function(){var e=new Array;this.addUsedLocales(e);var t=e.indexOf("default");if(t>-1){var n=d.a.defaultLocale,r=e.indexOf(n);r>-1&&e.splice(r,1),t=e.indexOf("default"),e[t]=n}return e},t.prototype.onLocaleChanged=function(){},t.prototype.getLocale=function(){return this.locale},t.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.currentPageValue&&(this.updateProgressText(),this.isStartedState&&this.startedPage&&this.startedPage.locStrsChanged(),this.currentPage&&this.currentPage.locStrsChanged())},t.prototype.getMarkdownHtml=function(e,t){return this.getSurveyMarkdownHtml(this,e,t)},t.prototype.getRenderer=function(e){return this.getRendererForString(this,e)},t.prototype.getRendererForString=function(e,t){var n={element:e,name:t,renderAs:this.getBuiltInRendererForString(e,t)};return this.onTextRenderAs.fire(this,n),n.renderAs},t.prototype.getBuiltInRendererForString=function(e,t){if(this.isDesignMode)return f.a.editableRenderer},t.prototype.getProcessedText=function(e){return this.processText(e,!0)},t.prototype.getLocString=function(e){return d.a.getString(e)},t.prototype.getErrorCustomText=function(e,t){var n={text:e,name:t.getErrorType(),error:t};return this.onErrorCustomText.fire(this,n),n.text},Object.defineProperty(t.prototype,"emptySurveyText",{get:function(){return this.getLocString("emptySurvey")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getLocalizableStringText("title")},set:function(e){this.setLocalizableStringText("title",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this.getLocalizableStringText("description")},set:function(e){this.setLocalizableStringText("description",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDescription",{get:function(){return this.getLocalizableString("description")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logo",{get:function(){return this.getLocalizableStringText("logo")},set:function(e){this.setLocalizableStringText("logo",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLogo",{get:function(){return this.getLocalizableString("logo")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoWidth",{get:function(){return this.getPropertyValue("logoWidth",300)},set:function(e){this.setPropertyValue("logoWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoHeight",{get:function(){return this.getPropertyValue("logoHeight",200)},set:function(e){this.setPropertyValue("logoHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoPosition",{get:function(){return this.getPropertyValue("logoPosition","left")},set:function(e){this.setPropertyValue("logoPosition",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasLogo",{get:function(){return!!this.logo&&"none"!==this.logoPosition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLogoBefore",{get:function(){return this.hasLogo&&("left"===this.logoPosition||"top"===this.logoPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLogoAfter",{get:function(){return this.hasLogo&&("right"===this.logoPosition||"bottom"===this.logoPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoClassNames",{get:function(){return this.css.logo+" "+{left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"}[this.logoPosition]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoFit",{get:function(){return this.getPropertyValue("logoFit")},set:function(e){this.setPropertyValue("logoFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleMaxWidth",{get:function(){if(!this.isValueEmpty(this.logo)){var e=this.logoWidth;if("left"===this.logoPosition||"right"===this.logoPosition)return"calc(100% - 5px - 2em - "+e+"px)"}return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedHtml",{get:function(){return this.getLocalizableStringText("completedHtml")},set:function(e){this.setLocalizableStringText("completedHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCompletedHtml",{get:function(){return this.getLocalizableString("completedHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedHtmlOnCondition",{get:function(){return this.getPropertyValue("completedHtmlOnCondition")},set:function(e){this.setPropertyValue("completedHtmlOnCondition",e)},enumerable:!1,configurable:!0}),t.prototype.runExpression=function(e){if(!e)return null;var t=this.getFilteredValues(),n=this.getFilteredProperties();return new v.b(e).run(t,n)},t.prototype.runCondition=function(e){if(!e)return!1;var t=this.getFilteredValues(),n=this.getFilteredProperties();return new v.a(e).run(t,n)},t.prototype.runTriggers=function(){this.checkTriggers(this.getFilteredValues(),!1)},Object.defineProperty(t.prototype,"renderedCompletedHtml",{get:function(){var e=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return e?e.html:this.completedHtml},enumerable:!1,configurable:!0}),t.prototype.getExpressionItemOnRunCondition=function(e){if(0==e.length)return null;for(var t=this.getFilteredValues(),n=this.getFilteredProperties(),r=0;r<e.length;r++)if(e[r].runCondition(t,n))return e[r];return null},Object.defineProperty(t.prototype,"completedBeforeHtml",{get:function(){return this.getLocalizableStringText("completedBeforeHtml")},set:function(e){this.setLocalizableStringText("completedBeforeHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCompletedBeforeHtml",{get:function(){return this.getLocalizableString("completedBeforeHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingHtml",{get:function(){return this.getLocalizableStringText("loadingHtml")},set:function(e){this.setLocalizableStringText("loadingHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLoadingHtml",{get:function(){return this.getLocalizableString("loadingHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startSurveyText",{get:function(){return this.getLocalizableStringText("startSurveyText",this.getLocString("startSurveyText"))},set:function(e){this.setLocalizableStringText("startSurveyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locStartSurveyText",{get:function(){return this.getLocalizableString("startSurveyText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pagePrevText",{get:function(){return this.getLocalizableStringText("pagePrevText",this.getLocString("pagePrevText"))},set:function(e){this.setLocalizableStringText("pagePrevText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPagePrevText",{get:function(){return this.getLocalizableString("pagePrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageNextText",{get:function(){return this.getLocalizableStringText("pageNextText",this.getLocString("pageNextText"))},set:function(e){this.setLocalizableStringText("pageNextText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPageNextText",{get:function(){return this.getLocalizableString("pageNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completeText",{get:function(){return this.getLocalizableStringText("completeText",this.getLocString("completeText"))},set:function(e){this.setLocalizableStringText("completeText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCompleteText",{get:function(){return this.getLocalizableString("completeText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previewText",{get:function(){return this.getLocalizableStringText("previewText",this.getLocString("previewText"))},set:function(e){this.setLocalizableStringText("previewText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPreviewText",{get:function(){return this.getLocalizableString("previewText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editText",{get:function(){return this.getLocalizableStringText("editText",this.getLocString("editText"))},set:function(e){this.setLocalizableStringText("editText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locEditText",{get:function(){return this.getLocalizableString("editText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionTitlePattern",{get:function(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")},set:function(e){"numRequireTitle"!==e&&"requireNumTitle"!==e&&"numTitle"!=e&&(e="numTitleRequire"),this.setPropertyValue("questionTitlePattern",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionTitlePatternOptions=function(){var e=new Array,t=this.getLocString("questionTitlePatternText"),n=this.questionStartIndex?this.questionStartIndex:"1.";return e.push({value:"numTitleRequire",text:n+" "+t+" "+this.requiredText}),e.push({value:"numRequireTitle",text:n+" "+this.requiredText+" "+t}),e.push({value:"requireNumTitle",text:this.requiredText+" "+n+" "+t}),e.push({value:"numTitle",text:n+" "+t}),e},Object.defineProperty(t.prototype,"questionTitleTemplate",{get:function(){return this.getLocalizableStringText("questionTitleTemplate")},set:function(e){this.setLocalizableStringText("questionTitleTemplate",e),this.questionTitlePattern=this.getNewTitlePattern(e),this.questionStartIndex=this.getNewQuestionTitleElement(e,"no",this.questionStartIndex,"1"),this.requiredText=this.getNewQuestionTitleElement(e,"require",this.requiredText,"*")},enumerable:!1,configurable:!0}),t.prototype.getNewTitlePattern=function(e){if(e){for(var t=[];e.indexOf("{")>-1;){var n=(e=e.substr(e.indexOf("{")+1)).indexOf("}");if(n<0)break;t.push(e.substr(0,n)),e=e.substr(n+1)}if(t.length>1){if("require"==t[0])return"requireNumTitle";if("require"==t[1]&&3==t.length)return"numRequireTitle";if(t.indexOf("require")<0)return"numTitle"}if(1==t.length&&"title"==t[0])return"numTitle"}return"numTitleRequire"},t.prototype.getNewQuestionTitleElement=function(e,t,n,r){if(t="{"+t+"}",!e||e.indexOf(t)<0)return n;for(var o=e.indexOf(t),i="",a="",s=o-1;s>=0&&"}"!=e[s];s--);for(s<o-1&&(i=e.substr(s+1,o-s-1)),s=o+=t.length;s<e.length&&"{"!=e[s];s++);for(s>o&&(a=e.substr(o,s-o)),s=0;s<i.length&&i.charCodeAt(s)<33;)s++;for(i=i.substr(s),s=a.length-1;s>=0&&a.charCodeAt(s)<33;)s--;return a=a.substr(0,s+1),i||a?i+(n||r)+a:n},Object.defineProperty(t.prototype,"locQuestionTitleTemplate",{get:function(){return this.getLocalizableString("questionTitleTemplate")},enumerable:!1,configurable:!0}),t.prototype.getUpdatedQuestionTitle=function(e,t){if(this.onGetQuestionTitle.isEmpty)return t;var n={question:e,title:t};return this.onGetQuestionTitle.fire(this,n),n.title},t.prototype.getUpdatedQuestionNo=function(e,t){if(this.onGetQuestionNo.isEmpty)return t;var n={question:e,no:t};return this.onGetQuestionNo.fire(this,n),n.no},Object.defineProperty(t.prototype,"showPageNumbers",{get:function(){return this.getPropertyValue("showPageNumbers",!1)},set:function(e){e!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",e),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){(e="onpage"===(e=e.toLowerCase())?"onPage":e)!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",e),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showProgressBar",{get:function(){return this.getPropertyValue("showProgressBar")},set:function(e){this.setPropertyValue("showProgressBar",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressBarType",{get:function(){return this.getPropertyValue("progressBarType")},set:function(e){this.setPropertyValue("progressBarType",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowProgressBarOnTop",{get:function(){return!!this.canShowProresBar()&&("top"===this.showProgressBar||"both"===this.showProgressBar)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowProgressBarOnBottom",{get:function(){return!!this.canShowProresBar()&&("bottom"===this.showProgressBar||"both"===this.showProgressBar)},enumerable:!1,configurable:!0}),t.prototype.canShowProresBar=function(){return!this.isShowingPreview||"showAllQuestions"!=this.showPreviewBeforeComplete},Object.defineProperty(t.prototype,"processedTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase()),this.isLoadingFromJson||this.updateElementCss()},enumerable:!1,configurable:!0}),t.prototype.updateElementCss=function(){for(var e=this.visiblePages,t=0;t<e.length;t++)e[t].updateElementCss()},Object.defineProperty(t.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(e){this.setPropertyValue("questionErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionDescriptionLocation",{get:function(){return this.getPropertyValue("questionDescriptionLocation")},set:function(e){this.setPropertyValue("questionDescriptionLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this.getPropertyValue("mode")},set:function(e){(e=e.toLowerCase())!=this.mode&&("edit"!=e&&"display"!=e||this.setPropertyValue("mode",e))},enumerable:!1,configurable:!0}),t.prototype.onModeChanged=function(){for(var e=0;e<this.pages.length;e++){var t=this.pages[e];t.setPropertyValue("isReadOnly",t.isReadOnly)}},Object.defineProperty(t.prototype,"data",{get:function(){for(var e={},t=this.getValuesKeys(),n=0;n<t.length;n++){var r=t[n],o=this.getDataValueCore(this.valuesHash,r);void 0!==o&&(e[r]=o)}return this.setCalcuatedValuesIntoResult(e),e},set:function(e){this.valuesHash={},this.setDataCore(e)},enumerable:!1,configurable:!0}),t.prototype.mergeData=function(e){e&&this.setDataCore(e)},t.prototype.setDataCore=function(e){if(e)for(var t in e)this.setDataValueCore(this.valuesHash,t,e[t]);this.updateAllQuestionsValue(),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions()},Object.defineProperty(t.prototype,"editingObj",{get:function(){return this.editingObjValue},set:function(e){var t=this;if(this.editingObj!=e){if(this.editingObj&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=e,!e)for(var n=this.getAllQuestions(),r=0;r<n.length;r++)n[r].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=function(e,n){t.updateOnSetValue(n.name,n.newValue,n.oldValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEditingSurveyElement",{get:function(){return!!this.editingObj},enumerable:!1,configurable:!0}),t.prototype.setCalcuatedValuesIntoResult=function(e){for(var t=0;t<this.calculatedValues.length;t++){var n=this.calculatedValues[t];n.includeIntoResult&&n.name&&void 0!==this.getVariable(n.name)&&(e[n.name]=this.getVariable(n.name))}},t.prototype.getAllValues=function(){return this.data},t.prototype.getPlainData=function(e){void 0===e&&(e={includeEmpty:!0,includeQuestionTypes:!1});var t=[];return this.getAllQuestions().forEach((function(n){var r=n.getPlainData(e);r&&t.push(r)})),t},t.prototype.getFilteredValues=function(){var e={};for(var t in this.variablesHash)e[t]=this.variablesHash[t];this.addCalculatedValuesIntoFilteredValues(e);for(var n=this.getValuesKeys(),r=0;r<n.length;r++)e[t=n[r]]=this.getDataValueCore(this.valuesHash,t);return e},t.prototype.addCalculatedValuesIntoFilteredValues=function(e){for(var t=this.calculatedValues,n=0;n<t.length;n++)e[t[n].name]=t[n].value},t.prototype.getFilteredProperties=function(){return{survey:this}},t.prototype.getValuesKeys=function(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var e=i.k.getPropertiesByObj(this.editingObj),t=[],n=0;n<e.length;n++)t.push(e[n].name);return t},t.prototype.getDataValueCore=function(e,t){if(this.editingObj){var n=i.k.findProperty(this.editingObj.getType(),t);return n&&n.isLocalizable&&n.isArray?this.editingObj[t]:this.editingObj.getPropertyValue(t)}return e[t]},t.prototype.setDataValueCore=function(e,t,n){if(this.editingObj){var r=i.k.findProperty(this.editingObj.getType(),t);r&&r.isLocalizable?this.editingObj[t]=n:this.editingObj.setPropertyValue(t,n)}else e[t]=n},t.prototype.deleteDataValueCore=function(e,t){this.editingObj?this.editingObj[t]=null:delete e[t]},Object.defineProperty(t.prototype,"comments",{get:function(){for(var e={},t=this.getValuesKeys(),n=0;n<t.length;n++){var r=t[n];r.indexOf(this.commentPrefix)>0&&(e[r]=this.getDataValueCore(this.valuesHash,r))}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePages",{get:function(){if(this.isDesignMode)return this.pages;for(var e=new Array,t=0;t<this.pages.length;t++)this.pages[t].isVisible&&e.push(this.pages[t]);return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0==this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCount",{get:function(){return this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePageCount",{get:function(){return this.visiblePages.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startedPage",{get:function(){var e=this.firstPageIsStarted&&this.pages.length>0?this.pages[0]:null;return e&&(e.onFirstRendering(),e.setWasShown(!0)),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPage",{get:function(){var e=this.visiblePages;return null!=this.currentPageValue&&e.indexOf(this.currentPageValue)<0&&(this.onContainsPageCallback&&this.onContainsPageCallback(this.currentPageValue)||(this.currentPage=null)),null==this.currentPageValue&&e.length>0&&(this.currentPage=e[0]),this.currentPageValue},set:function(e){var t=this.getPageByObject(e);if(!e||t){var n=this.visiblePages;if(!(null!=t&&n.indexOf(t)<0)&&t!=this.currentPageValue){var r=this.currentPageValue;this.currentPageChanging(t,r)&&(this.currentPageValue=t,t&&(t.onFirstRendering(),t.updateCustomWidgets(),t.setWasShown(!0)),this.locStrsChanged(),this.currentPageChanged(t,r))}}},enumerable:!1,configurable:!0}),t.prototype.getPageByObject=function(e){if(!e)return null;if(e.getType&&"page"==e.getType())return e;if("string"==typeof e||e instanceof String)return this.getPageByName(String(e));if(!isNaN(e)){var t=Number(e),n=this.visiblePages;return e<0||e>=n.length?null:n[t]}return e},Object.defineProperty(t.prototype,"currentPageNo",{get:function(){return this.visiblePages.indexOf(this.currentPage)},set:function(e){var t=this.visiblePages;e<0||e>=t.length||(this.currentPage=t[e])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(e){this.setPropertyValue("questionsOrder",e)},enumerable:!1,configurable:!0}),t.prototype.focusFirstQuestion=function(){var e=this.currentPage;e&&(e.scrollToTop(),e.focusFirstQuestion())},t.prototype.scrollToTopOnPageChange=function(){var e=this.currentPage;e&&(e.scrollToTop(),this.focusFirstQuestionAutomatic&&e.focusFirstQuestion())},Object.defineProperty(t.prototype,"state",{get:function(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startedPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompleted",{get:function(){return this.getPropertyValue("isCompleted",!1)},set:function(e){this.setPropertyValue("isCompleted",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowingPreview",{get:function(){return this.getPropertyValue("isShowingPreview",!1)},set:function(e){this.isShowingPreview!=e&&(this.setPropertyValue("isShowingPreview",e),this.onShowingPreviewChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStartedState",{get:function(){return this.getPropertyValue("isStartedState",!1)},set:function(e){this.setPropertyValue("isStartedState",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompletedBefore",{get:function(){return this.getPropertyValue("isCompletedBefore",!1)},set:function(e){this.setPropertyValue("isCompletedBefore",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this.getPropertyValue("isLoading",!1)},set:function(e){this.setPropertyValue("isLoading",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedState",{get:function(){return this.completedStateValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedStateText",{get:function(){return this.completedStateTextValue},enumerable:!1,configurable:!0}),t.prototype.setCompletedState=function(e,t){this.completedStateValue=e,t||("saving"==e&&(t=this.getLocString("savingData")),"error"==e&&(t=this.getLocString("savingDataError")),"success"==e&&(t=this.getLocString("savingDataSuccess"))),this.completedStateTextValue=t},t.prototype.clear=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),e&&(this.data=null,this.variablesHash={}),this.timeSpent=0;for(var n=0;n<this.pages.length;n++)this.pages[n].timeSpent=0,this.pages[n].setWasShown(!1),this.pages[n].passed=!1;this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.isStartedState=this.firstPageIsStarted,t&&this.visiblePageCount>0&&(this.currentPage=this.visiblePages[0]),e&&this.updateValuesWithDefaults()},t.prototype.mergeValues=function(e,t){if(t&&e)for(var n in e){var r=e[n];r&&"object"==typeof r?(t[n]||(t[n]={}),this.mergeValues(r,t[n])):t[n]=r}},t.prototype.updateValuesWithDefaults=function(){if(!this.isDesignMode&&!this.isLoading)for(var e=0;e<this.pages.length;e++)for(var t=this.pages[e].questions,n=0;n<t.length;n++)t[n].updateValueWithDefaults()},t.prototype.updateCustomWidgets=function(e){e&&e.updateCustomWidgets()},t.prototype.currentPageChanging=function(e,t){var n={oldCurrentPage:t,newCurrentPage:e,allowChanging:!0,isNextPage:this.isNextPage(e,t),isPrevPage:this.isPrevPage(e,t)};return this.onCurrentPageChanging.fire(this,n),n.allowChanging},t.prototype.currentPageChanged=function(e,t){var n=this.isNextPage(e,t);n&&(t.passed=!0),this.onCurrentPageChanged.fire(this,{oldCurrentPage:t,newCurrentPage:e,isNextPage:n,isPrevPage:this.isPrevPage(e,t)})},t.prototype.isNextPage=function(e,t){return!(!e||!t)&&e.visibleIndex==t.visibleIndex+1},t.prototype.isPrevPage=function(e,t){return!(!e||!t)&&e.visibleIndex+1==t.visibleIndex},t.prototype.getProgress=function(){if(null==this.currentPage)return 0;if("pages"!==this.progressBarType){var e=this.getProgressInfo();return"requiredQuestions"===this.progressBarType?e.requiredQuestionCount>1?Math.ceil(100*e.requiredAnsweredQuestionCount/e.requiredQuestionCount):100:e.questionCount>1?Math.ceil(100*e.answeredQuestionCount/e.questionCount):100}var t=this.visiblePages.indexOf(this.currentPage)+1;return Math.ceil(100*t/this.visiblePageCount)},Object.defineProperty(t.prototype,"progressValue",{get:function(){return this.getPropertyValue("progressValue",0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNavigationButtonsShowing",{get:function(){if(this.isDesignMode)return"none";var e=this.currentPage;return e?"show"===e.navigationButtonsVisibility?"bottom":"hide"===e.navigationButtonsVisibility?"none":this.showNavigationButtons:"none"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEditMode",{get:function(){return"edit"==this.mode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompleteButtonVisible",{get:function(){return this.isEditMode&&(!this.isShowPreviewBeforeComplete||"preview"==this.state)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPreviewButtonVisible",{get:function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&"running"==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCancelPreviewButtonVisible",{get:function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&"preview"==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDisplayMode",{get:function(){return"display"==this.mode||"preview"==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUpdateValueTextOnTyping",{get:function(){return"onTyping"==this.textUpdateMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDesignMode",{get:function(){return this._isDesignMode},enumerable:!1,configurable:!0}),t.prototype.setDesignMode=function(e){this._isDesignMode=e,this.onQuestionsOnPageModeChanged("standard")},Object.defineProperty(t.prototype,"showInvisibleElements",{get:function(){return this.getPropertyValue("showInvisibleElements",!1)},set:function(e){var t=this.visiblePages;this.setPropertyValue("showInvisibleElements",e),this.isLoadingFromJson||(this.runConditions(),this.updateAllElementsVisibility(t))},enumerable:!1,configurable:!0}),t.prototype.updateAllElementsVisibility=function(e){for(var t=0;t<this.pages.length;t++){var n=this.pages[t];n.updateElementVisibility(),e.indexOf(n)>-1!=n.isVisible&&this.onPageVisibleChanged.fire(this,{page:n,visible:n.isVisible})}},Object.defineProperty(t.prototype,"areInvisibleElementsShowing",{get:function(){return this.isDesignMode||this.showInvisibleElements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"areEmptyElementsHidden",{get:function(){return this.isShowingPreview&&"showAnsweredQuestions"==this.showPreviewBeforeComplete},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCookie",{get:function(){if(!this.cookieName||"undefined"==typeof document)return!1;var e=document.cookie;return e&&e.indexOf(this.cookieName+"=true")>-1},enumerable:!1,configurable:!0}),t.prototype.setCookie=function(){this.cookieName&&"undefined"!=typeof document&&(document.cookie=this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")},t.prototype.deleteCookie=function(){this.cookieName&&(document.cookie=this.cookieName+"=;")},t.prototype.nextPage=function(){return!this.isLastPage&&this.doCurrentPageComplete(!1)},t.prototype.hasErrorsOnNavigate=function(e){if(this.ignoreValidation||!this.isEditMode)return!1;if("onComplete"===this.checkErrorsMode){if(!this.isLastPage)return!1;if(this.hasErrors(!0,!0))return!0}else if(this.isCurrentPageHasErrors)return!0;return this.checkForAsyncQuestionValidation(e)},t.prototype.checkForAsyncQuestionValidation=function(e){var t=this;this.clearAsyncValidationQuesitons();for(var n=this.currentPage.questions,r=0;r<n.length;r++)n[r].isRunningValidators&&(n[r].onCompletedAsyncValidators=function(n){t.onCompletedAsyncQuestionValidators(e,n)},this.asyncValidationQuesitons.push(n[r]));return this.asyncValidationQuesitons.length>0},t.prototype.clearAsyncValidationQuesitons=function(){if(this.asyncValidationQuesitons)for(var e=this.asyncValidationQuesitons,t=0;t<e.length;t++)e[t].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]},t.prototype.onCompletedAsyncQuestionValidators=function(e,t){if(t)this.clearAsyncValidationQuesitons();else{for(var n=this.asyncValidationQuesitons,r=0;r<n.length;r++)if(n[r].isRunningValidators)return;this.doCurrentPageCompleteCore(e)}},Object.defineProperty(t.prototype,"isCurrentPageHasErrors",{get:function(){return this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),t.prototype.hasErrors=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);for(var n=this.visiblePages,r=null,o=!1,i=0;i<n.length;i++)n[i].hasErrors(e,!1)&&(r||(r=n[i]),o=!0);if(t&&r){this.currentPage=r;var a=r.questions;for(i=0;i<a.length;i++)if(a[i].errors.length>0){a[i].focus(!0);break}}return o},t.prototype.ensureUniqueNames=function(e){if(void 0===e&&(e=null),null==e)for(var t=0;t<this.pages.length;t++)this.ensureUniqueName(this.pages[t]);else this.ensureUniqueName(e)},t.prototype.ensureUniqueName=function(e){if(e.isPage&&this.ensureUniquePageName(e),e.isPanel&&this.ensureUniquePanelName(e),e.isPage||e.isPanel)for(var t=e.elements,n=0;n<t.length;n++)this.ensureUniqueNames(t[n]);else this.ensureUniqueQuestionName(e)},t.prototype.ensureUniquePageName=function(e){var t=this;return this.ensureUniqueElementName(e,(function(e){return t.getPageByName(e)}))},t.prototype.ensureUniquePanelName=function(e){var t=this;return this.ensureUniqueElementName(e,(function(e){return t.getPanelByName(e)}))},t.prototype.ensureUniqueQuestionName=function(e){var t=this;return this.ensureUniqueElementName(e,(function(e){return t.getQuestionByName(e)}))},t.prototype.ensureUniqueElementName=function(e,t){var n=t(e.name);if(n&&n!=e){for(var r=this.getNewName(e.name);t(r);)r=this.getNewName(e.name);e.name=r}},t.prototype.getNewName=function(e){for(var t=e.length;t>0&&e[t-1]>="0"&&e[t-1]<="9";)t--;var n=e.substr(0,t),r=0;return t<e.length&&(r=parseInt(e.substr(t))),n+ ++r},t.prototype.checkIsCurrentPageHasErrors=function(e){return void 0===e&&(e=void 0),this.checkIsPageHasErrors(this.currentPage,e)},t.prototype.checkIsPageHasErrors=function(e,t){if(void 0===t&&(t=void 0),void 0===t&&(t=this.focusOnFirstError),!e)return!0;var n=e.hasErrors(!0,t);return this.fireValidatedErrorsOnPage(e),n},t.prototype.fireValidatedErrorsOnPage=function(e){if(!this.onValidatedErrorsOnCurrentPage.isEmpty&&e){for(var t=e.questions,n=new Array,r=new Array,o=0;o<t.length;o++){var i=t[o];if(i.errors.length>0){n.push(i);for(var a=0;a<i.errors.length;a++)r.push(i.errors[a])}}this.onValidatedErrorsOnCurrentPage.fire(this,{questions:n,errors:r,page:e})}},t.prototype.prevPage=function(){if(this.isFirstPage)return!1;this.resetNavigationButton();var e=this.visiblePages,t=e.indexOf(this.currentPage);this.currentPage=e[t-1]},t.prototype.completeLastPage=function(){var e=this.doCurrentPageComplete(!0);return e&&this.cancelPreview(),e},t.prototype.navigationMouseDown=function(){return this.isNavigationButtonPressed=!0,!0},t.prototype.resetNavigationButton=function(){this.isNavigationButtonPressed=!1},t.prototype.showPreview=function(){return this.resetNavigationButton(),!this.hasErrorsOnNavigate(!0)&&!this.doServerValidation(!0,!0)&&(this.isShowingPreview=!0,!0)},t.prototype.cancelPreview=function(e){void 0===e&&(e=null),this.isShowingPreview&&(this.isShowingPreview=!1,o.a.isValueEmpty(e)&&this.visiblePageCount>0&&(e=this.visiblePageCount-1),null!==e&&(this.currentPage=e))},t.prototype.cancelPreviewByPage=function(e){this.cancelPreview(e.originalPage)},t.prototype.doCurrentPageComplete=function(e){return!this.isValidatingOnServer&&(this.resetNavigationButton(),!this.hasErrorsOnNavigate(e)&&this.doCurrentPageCompleteCore(e))},t.prototype.doCurrentPageCompleteCore=function(e){return!this.doServerValidation(e)&&(e?(this.currentPage.passed=!0,this.doComplete()):this.doNextPage(),!0)},Object.defineProperty(t.prototype,"isSinglePage",{get:function(){return"singlePage"==this.questionsOnPageMode},set:function(e){this.questionsOnPageMode=e?"singlePage":"standard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionsOnPageMode",{get:function(){return this.getPropertyValue("questionsOnPageMode","standard")},set:function(e){this.setPropertyValue("questionsOnPageMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstPageIsStarted",{get:function(){return this.getPropertyValue("firstPageIsStarted",!1)},set:function(e){this.setPropertyValue("firstPageIsStarted",e)},enumerable:!1,configurable:!0}),t.prototype.isPageStarted=function(e){return this.firstPageIsStarted&&this.pages.length>0&&this.pages[0]===e},Object.defineProperty(t.prototype,"showPreviewBeforeComplete",{get:function(){return this.getPropertyValue("showPreviewBeforeComplete","noPreview")},set:function(e){this.setPropertyValue("showPreviewBeforeComplete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowPreviewBeforeComplete",{get:function(){var e=this.showPreviewBeforeComplete;return"showAllQuestions"==e||"showAnsweredQuestions"==e},enumerable:!1,configurable:!0}),t.prototype.onFirstPageIsStartedChanged=function(){0!=this.pages.length&&(this.isStartedState=this.firstPageIsStarted,this.pageVisibilityChanged(this.pages[0],!this.firstPageIsStarted))},t.prototype.onShowingPreviewChanged=function(){this.isDesignMode||(this.isShowingPreview?(this.runningPages=this.pages.slice(0,this.pages.length),this.setupPagesForPageModes(!0)):(this.runningPages&&this.restoreOrigionalPages(this.runningPages),this.runningPages=null),this.runConditions(),this.updateAllElementsVisibility(this.pages),this.updateVisibleIndexes(),this.currentPageNo=0)},t.prototype.onQuestionsOnPageModeChanged=function(e){this.isShowingPreview||("standard"==this.questionsOnPageMode||this.isDesignMode?(this.origionalPages&&this.restoreOrigionalPages(this.origionalPages),this.origionalPages=null):(e&&"standard"!=e||(this.origionalPages=this.pages.slice(0,this.pages.length)),this.setupPagesForPageModes(this.isSinglePage)),this.runConditions(),this.updateVisibleIndexes())},t.prototype.restoreOrigionalPages=function(e){this.questionHashesClear(),this.pages.splice(0,this.pages.length);for(var t=0;t<e.length;t++)this.pages.push(e[t])},t.prototype.setupPagesForPageModes=function(t){this.questionHashesClear();var n=this.firstPageIsStarted?1:0;e.prototype.startLoadingFromJson.call(this);var r=this.createPagesForQuestionOnPageMode(t,n),o=this.pages.length-n;this.pages.splice(n,o);for(var i=0;i<r.length;i++)this.pages.push(r[i]);for(e.prototype.endLoadingFromJson.call(this),i=0;i<r.length;i++)r[i].endLoadingFromJson(),r[i].setSurveyImpl(this);this.doElementsOnLoad()},t.prototype.createPagesForQuestionOnPageMode=function(e,t){return e?[this.createSinglePage(t)]:this.createPagesForEveryQuestion(t)},t.prototype.createSinglePage=function(e){var t=this.createNewPage("all");t.setSurveyImpl(this);for(var n=e;n<this.pages.length;n++){var r=this.pages[n],o=i.k.createClass("panel");o.originalPage=r,t.addPanel(o);var a=(new i.g).toJsonObject(r);(new i.g).toObject(a,o),this.showPageTitles||(o.title="")}return t},t.prototype.createPagesForEveryQuestion=function(e){for(var t=[],n=e;n<this.pages.length;n++){var r=this.pages[n];r.setWasShown(!0);for(var o=0;o<r.elements.length;o++){var a=r.elements[o],s=i.k.createClass(a.getType());if(s){var u=new i.g;u.lightSerializing=!0;var l=u.toJsonObject(r),c=i.k.createClass(r.getType());c.fromJSON(l),c.name="page"+(t.length+1),c.setSurveyImpl(this),t.push(c);var p=(new i.g).toJsonObject(a);(new i.g).toObject(p,s),c.addElement(s);for(var d=0;d<c.questions.length;d++)this.questionHashesAdded(c.questions[d])}}}return t},Object.defineProperty(t.prototype,"isFirstPage",{get:function(){return null==this.currentPage||0==this.visiblePages.indexOf(this.currentPage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowPrevButton",{get:function(){if(this.isFirstPage||!this.showPrevButton)return!1;var e=this.visiblePages[this.currentPageNo-1];return this.getPageMaxTimeToFinish(e)<=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLastPage",{get:function(){if(null==this.currentPage)return!0;var e=this.visiblePages;return e.indexOf(this.currentPage)==e.length-1},enumerable:!1,configurable:!0}),t.prototype.doComplete=function(e){void 0===e&&(e=!1);var t={allowComplete:!0,isCompleteOnTrigger:e};if(this.onCompleting.fire(this,t),t.allowComplete){var n=this.hasCookie;this.stopTimer(),this.setCompleted(),this.clearUnusedValues(),this.setCookie();var r=this,o=!1,i={isCompleteOnTrigger:e,showDataSaving:function(e){o=!0,r.setCompletedState("saving",e)},showDataSavingError:function(e){r.setCompletedState("error",e)},showDataSavingSuccess:function(e){r.setCompletedState("success",e),r.navigateTo()},showDataSavingClear:function(e){r.setCompletedState("","")}};this.onComplete.fire(this,i),!n&&this.surveyPostId&&this.sendResult(),o||this.navigateTo()}},t.prototype.start=function(){return!!this.firstPageIsStarted&&!this.checkIsPageHasErrors(this.startedPage,!0)&&(this.isStartedState=!1,this.startTimerFromUI(),this.onStarted.fire(this,{}),!0)},Object.defineProperty(t.prototype,"isValidatingOnServer",{get:function(){return this.getPropertyValue("isValidatingOnServer",!1)},enumerable:!1,configurable:!0}),t.prototype.setIsValidatingOnServer=function(e){e!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",e),this.onIsValidatingOnServerChanged())},t.prototype.onIsValidatingOnServerChanged=function(){},t.prototype.doServerValidation=function(e,t){if(void 0===t&&(t=!1),!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty)return!1;if(!e&&"onComplete"===this.checkErrorsMode)return!1;var n=this,r={data:{},errors:{},survey:this,complete:function(){n.completeServerValidation(r,t)}};if(e&&"onComplete"===this.checkErrorsMode)r.data=this.data;else for(var o=0;o<this.currentPage.questions.length;o++){var i=this.currentPage.questions[o];if(i.visible){var a=this.getValue(i.getValueName());this.isValueEmpty(a)||(r.data[i.getValueName()]=a)}}return this.setIsValidatingOnServer(!0),"function"==typeof this.onServerValidateQuestions?this.onServerValidateQuestions(this,r):this.onServerValidateQuestions.fire(this,r),!0},t.prototype.completeServerValidation=function(e,t){if(this.setIsValidatingOnServer(!1),e||e.survey){var n=e.survey,r=!1;if(e.errors){var o=this.focusOnFirstError;for(var i in e.errors){var a=n.getQuestionByName(i);a&&a.errors&&(r=!0,a.addError(new h.a(e.errors[i],this)),o&&(o=!1,a.page&&(this.currentPage=a.page),a.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}r||(t?this.isShowingPreview=!0:n.isLastPage?n.doComplete():n.doNextPage())}},t.prototype.doNextPage=function(){var e=this.currentPage;if(this.checkOnPageTriggers(),this.isCompleted)this.doComplete(!0);else if(this.sendResultOnPageNext&&this.sendResult(this.surveyPostId,this.clientId,!0),e===this.currentPage){var t=this.visiblePages,n=t.indexOf(this.currentPage);this.currentPage=t[n+1]}},t.prototype.setCompleted=function(){this.isCompleted=!0},Object.defineProperty(t.prototype,"processedCompletedHtml",{get:function(){var e=this.renderedCompletedHtml;return e?this.processHtml(e):"<h3>"+this.getLocString("completingSurvey")+"</h3>"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedCompletedBeforeHtml",{get:function(){return this.completedBeforeHtml?this.processHtml(this.completedBeforeHtml):"<h3>"+this.getLocString("completingSurveyBefore")+"</h3>"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedLoadingHtml",{get:function(){return this.loadingHtml?this.processHtml(this.loadingHtml):"<h3>"+this.getLocString("loadingSurvey")+"</h3>"},enumerable:!1,configurable:!0}),t.prototype.getProgressInfo=function(){return a.d.getProgressInfoByElements(this.visiblePages,!1)},Object.defineProperty(t.prototype,"progressText",{get:function(){var e=this.getPropertyValue("progressText","");return e||(this.updateProgressText(),e=this.getPropertyValue("progressText","")),e},enumerable:!1,configurable:!0}),t.prototype.updateProgressText=function(e){void 0===e&&(e=!1),this.isDesignMode||this.isCalculatingProgressText||e&&"pages"==this.progressBarType&&this.onProgressText.isEmpty||(this.isCalculatingProgressText=!0,this.setPropertyValue("progressText",this.getProgressText()),this.setPropertyValue("progressValue",this.getProgress()),this.isCalculatingProgressText=!1)},t.prototype.getProgressText=function(){if(this.isDesignMode||null==this.currentPage)return"";var e={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""},t=this.progressBarType.toLowerCase();if("questions"===t||"requiredquestions"===t||"correctquestions"===t||!this.onProgressText.isEmpty){var n=this.getProgressInfo();e.questionCount=n.questionCount,e.answeredQuestionCount=n.answeredQuestionCount,e.requiredQuestionCount=n.requiredQuestionCount,e.requiredAnsweredQuestionCount=n.requiredAnsweredQuestionCount}return e.text=this.getProgressTextCore(e),this.onProgressText.fire(this,e),e.text},t.prototype.getProgressTextCore=function(e){var t=this.progressBarType.toLowerCase();if("questions"===t)return this.getLocString("questionsProgressText").format(e.answeredQuestionCount,e.questionCount);if("requiredquestions"===t)return this.getLocString("questionsProgressText").format(e.requiredAnsweredQuestionCount,e.requiredQuestionCount);if("correctquestions"===t){var n=this.getCorrectedAnswerCount();return this.getLocString("questionsProgressText").format(n,e.questionCount)}var r=this.visiblePages,o=r.indexOf(this.currentPage)+1;return this.getLocString("progressText").format(o,r.length)},t.prototype.afterRenderSurvey=function(e){this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:e})},t.prototype.updateQuestionCssClasses=function(e,t){this.onUpdateQuestionCssClasses.fire(this,{question:e,cssClasses:t})},t.prototype.updatePanelCssClasses=function(e,t){this.onUpdatePanelCssClasses.fire(this,{panel:e,cssClasses:t})},t.prototype.updatePageCssClasses=function(e,t){this.onUpdatePageCssClasses.fire(this,{page:e,cssClasses:t})},t.prototype.afterRenderPage=function(e){this.onAfterRenderPage.isEmpty||this.onAfterRenderPage.fire(this,{page:this.currentPage,htmlElement:e})},t.prototype.afterRenderHeader=function(e){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:e})},t.prototype.afterRenderQuestion=function(e,t){this.onAfterRenderQuestion.fire(this,{question:e,htmlElement:t})},t.prototype.afterRenderQuestionInput=function(e,t){if(!this.onAfterRenderQuestionInput.isEmpty){var n=e.inputId;if(n&&t.id!==n&&"undefined"!=typeof document){var r=document.getElementById(n);r&&(t=r)}this.onAfterRenderQuestionInput.fire(this,{question:e,htmlElement:t})}},t.prototype.afterRenderPanel=function(e,t){this.onAfterRenderPanel.fire(this,{panel:e,htmlElement:t})},t.prototype.matrixBeforeRowAdded=function(e){this.onMatrixBeforeRowAdded.fire(this,e)},t.prototype.matrixRowAdded=function(e,t){this.onMatrixRowAdded.fire(this,{question:e,row:t})},t.prototype.getQuestionByValueNameFromArray=function(e,t,n){var r=this.getQuestionsByValueName(e);if(r){for(var o=0;o<r.length;o++){var i=r[o].getQuestionFromArray(t,n);if(i)return i}return null}},t.prototype.matrixRowRemoved=function(e,t,n){this.onMatrixRowRemoved.fire(this,{question:e,rowIndex:t,row:n})},t.prototype.matrixAllowRemoveRow=function(e,t,n){var r={question:e,rowIndex:t,row:n,allow:!0};return this.onMatrixAllowRemoveRow.fire(this,r),r.allow},t.prototype.matrixCellCreated=function(e,t){t.question=e,this.onMatrixCellCreated.fire(this,t)},t.prototype.matrixAfterCellRender=function(e,t){t.question=e,this.onMatrixAfterCellRender.fire(this,t)},t.prototype.matrixCellValueChanged=function(e,t){t.question=e,this.onMatrixCellValueChanged.fire(this,t)},t.prototype.matrixCellValueChanging=function(e,t){t.question=e,this.onMatrixCellValueChanging.fire(this,t)},Object.defineProperty(t.prototype,"isValidateOnValueChanging",{get:function(){return"onValueChanging"===this.checkErrorsMode},enumerable:!1,configurable:!0}),t.prototype.matrixCellValidate=function(e,t){return t.question=e,this.onMatrixCellValidate.fire(this,t),t.error?new h.a(t.error,this):null},t.prototype.dynamicPanelAdded=function(e){this.onDynamicPanelAdded.fire(this,{question:e})},t.prototype.dynamicPanelRemoved=function(e,t,n){for(var r=n?n.questions:[],o=0;o<r.length;o++)r[o].clearOnDeletingContainer();this.onDynamicPanelRemoved.fire(this,{question:e,panelIndex:t,panel:n})},t.prototype.dynamicPanelItemValueChanged=function(e,t){t.question=e,this.onDynamicPanelItemValueChanged.fire(this,t)},t.prototype.dragAndDropAllow=function(e){return e.allow=!0,this.onDragDropAllow.fire(this,e),e.allow},t.prototype.renderTitleActions=function(e){return e.isPanel?!this.onGetPanelTitleActions.isEmpty:e.isPage?!this.onGetPageTitleActions.isEmpty:!this.onGetQuestionTitleActions.isEmpty},t.prototype.elementContentVisibilityChanged=function(e){this.currentPageValue&&this.currentPageValue.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:e})},t.prototype.getUpdatedQuestionTitleActions=function(e,t){var n={question:e,titleActions:t};return this.onGetQuestionTitleActions.fire(this,n),n.titleActions},t.prototype.getUpdatedPanelTitleActions=function(e,t){var n={panel:e,titleActions:t};return this.onGetPanelTitleActions.fire(this,n),n.titleActions},t.prototype.getUpdatedPageTitleActions=function(e,t){var n={page:e,titleActions:t};return this.onGetPageTitleActions.fire(this,n),n.titleActions},t.prototype.scrollElementToTop=function(e,t,n,r){var o={element:e,question:t,page:n,elementId:r,cancel:!1};this.onScrollingElementToTop.fire(this,o),o.cancel||a.d.ScrollElementToTop(o.elementId)},t.prototype.uploadFiles=function(e,t,n,r){this.onUploadFiles.isEmpty?r("error",n):this.onUploadFiles.fire(this,{question:e,name:t,files:n||[],callback:r}),this.surveyPostId&&this.uploadFilesCore(t,n,r)},t.prototype.downloadFile=function(e,t,n){this.onDownloadFile.isEmpty&&n&&n("success",t.content||t),this.onDownloadFile.fire(this,{name:e,content:t.content||t,fileValue:t,callback:n})},t.prototype.clearFiles=function(e,t,n,r,o){this.onClearFiles.isEmpty&&o&&o("success",n),this.onClearFiles.fire(this,{question:e,name:t,value:n,fileName:r,callback:o})},t.prototype.updateChoicesFromServer=function(e,t,n){var r={question:e,choices:t,serverResult:n};return this.onLoadChoicesFromServer.fire(this,r),r.choices},t.prototype.createSurveyService=function(){return new p.a},t.prototype.uploadFilesCore=function(e,t,n){var r=this,o=[];t.forEach((function(e){n&&n("uploading",e),r.createSurveyService().sendFile(r.surveyPostId,e,(function(r,i){r?(o.push({content:i,file:e}),o.length===t.length&&n&&n("success",o)):n&&n("error",{response:i,file:e})}))}))},t.prototype.getPage=function(e){return this.pages[e]},t.prototype.addPage=function(e,t){void 0===t&&(t=-1),null!=e&&(t<0||t>=this.pages.length?this.pages.push(e):this.pages.splice(t,0,e))},t.prototype.addNewPage=function(e,t){void 0===e&&(e=null),void 0===t&&(t=-1);var n=this.createNewPage(e);return this.addPage(n,t),n},t.prototype.removePage=function(e){var t=this.pages.indexOf(e);t<0||(this.pages.splice(t,1),this.currentPageValue==e&&(this.currentPage=this.pages.length>0?this.pages[0]:null))},t.prototype.getQuestionByName=function(e,t){if(void 0===t&&(t=!1),!e)return null;t&&(e=e.toLowerCase());var n=(t?this.questionHashes.namesInsensitive:this.questionHashes.names)[e];return n?n[0]:null},t.prototype.getQuestionByValueName=function(e,t){void 0===t&&(t=!1);var n=this.getQuestionsByValueName(e,t);return n?n[0]:null},t.prototype.getQuestionsByValueName=function(e,t){void 0===t&&(t=!1);var n=(t?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames)[e];return n||null},t.prototype.getCalculatedValueByName=function(e){for(var t=0;t<this.calculatedValues.length;t++)if(e==this.calculatedValues[t].name)return this.calculatedValues[t];return null},t.prototype.getQuestionsByNames=function(e,t){void 0===t&&(t=!1);var n=[];if(!e)return n;for(var r=0;r<e.length;r++)if(e[r]){var o=this.getQuestionByName(e[r],t);o&&n.push(o)}return n},t.prototype.getPageByElement=function(e){for(var t=0;t<this.pages.length;t++){var n=this.pages[t];if(n.containsElement(e))return n}return null},t.prototype.getPageByQuestion=function(e){return this.getPageByElement(e)},t.prototype.getPageByName=function(e){for(var t=0;t<this.pages.length;t++)if(this.pages[t].name==e)return this.pages[t];return null},t.prototype.getPagesByNames=function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++)if(e[n]){var r=this.getPageByName(e[n]);r&&t.push(r)}return t},t.prototype.getAllQuestions=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var n=new Array,r=0;r<this.pages.length;r++)this.pages[r].addQuestionsToList(n,e,t);return n},t.prototype.getQuizQuestions=function(){for(var e=new Array,t=this.firstPageIsStarted?1:0;t<this.pages.length;t++)if(this.pages[t].isVisible)for(var n=this.pages[t].questions,r=0;r<n.length;r++){var o=n[r];o.quizQuestionCount>0&&e.push(o)}return e},t.prototype.getPanelByName=function(e,t){void 0===t&&(t=!1);var n=this.getAllPanels();t&&(e=e.toLowerCase());for(var r=0;r<n.length;r++){var o=n[r].name;if(t&&(o=o.toLowerCase()),o==e)return n[r]}return null},t.prototype.getAllPanels=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var n=new Array,r=0;r<this.pages.length;r++)this.pages[r].addPanelsIntoList(n,e,t);return n},t.prototype.createNewPage=function(e){return new u.a(e)},t.prototype.questionOnValueChanging=function(e,t){if(this.onValueChanging.isEmpty)return t;var n={name:e,question:this.getQuestionByValueName(e),value:this.getUnbindValue(t),oldValue:this.getValue(e)};return this.onValueChanging.fire(this,n),n.value},t.prototype.updateQuestionValue=function(e,t){if(!this.isLoadingFromJson){var n=this.getQuestionsByValueName(e);if(n)for(var r=0;r<n.length;r++){var o=n[r].value;(o===t&&Array.isArray(o)&&this.editingObj||!this.isTwoValueEquals(o,t))&&n[r].updateValueFromSurvey(t)}}},t.prototype.checkQuestionErrorOnValueChanged=function(e){!this.isNavigationButtonPressed&&("onValueChanged"===this.checkErrorsMode||e.errors.length>0)&&this.checkQuestionErrorOnValueChangedCore(e)},t.prototype.checkQuestionErrorOnValueChangedCore=function(e){var t=e.errors.length,n=e.hasErrors(!0,{isOnValueChanged:!this.isValidateOnValueChanging});return e.page&&(t>0||e.errors.length>0)&&this.fireValidatedErrorsOnPage(e.page),n},t.prototype.checkErrorsOnValueChanging=function(e,t){if(this.isLoadingFromJson)return!1;var n=this.getQuestionsByValueName(e);if(!n)return!1;for(var r=!1,o=0;o<n.length;o++){var i=n[o];this.isTwoValueEquals(i.valueForSurvey,t)||(i.value=t),this.checkQuestionErrorOnValueChangedCore(i)&&(r=!0),r=r||i.errors.length>0}return r},t.prototype.notifyQuestionOnValueChanged=function(e,t){if(!this.isLoadingFromJson){var n=this.getQuestionsByValueName(e);if(n)for(var r=0;r<n.length;r++){var o=n[r];this.checkQuestionErrorOnValueChanged(o),o.onSurveyValueChanged(t),this.onValueChanged.fire(this,{name:e,question:o,value:t})}else this.onValueChanged.fire(this,{name:e,question:null,value:t});for(r=0;r<this.pages.length;r++)this.pages[r].checkBindings(e,t);this.notifyElementsOnAnyValueOrVariableChanged(e)}},t.prototype.notifyElementsOnAnyValueOrVariableChanged=function(e){if("processing"!==this.isEndLoadingFromJson)if(this.isRunningConditions)this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0;else{for(var t=0;t<this.pages.length;t++)this.pages[t].onAnyValueChanged(e);this.isEndLoadingFromJson||this.locStrsChanged()}},t.prototype.updateAllQuestionsValue=function(){for(var e=this.getAllQuestions(),t=0;t<e.length;t++){var n=e[t],r=n.getValueName();n.updateValueFromSurvey(this.getValue(r)),n.requireUpdateCommentValue&&n.updateCommentFromSurvey(this.getComment(r))}},t.prototype.notifyAllQuestionsOnValueChanged=function(){for(var e=this.getAllQuestions(),t=0;t<e.length;t++)e[t].onSurveyValueChanged(this.getValue(e[t].getValueName()))},t.prototype.checkOnPageTriggers=function(){for(var e=this.getCurrentPageQuestions(!0),t={},n=0;n<e.length;n++){var r=e[n].getValueName();t[r]=this.getValue(r)}this.addCalculatedValuesIntoFilteredValues(t),this.checkTriggers(t,!0)},t.prototype.getCurrentPageQuestions=function(e){void 0===e&&(e=!1);var t=[],n=this.currentPage;if(!n)return t;for(var r=0;r<n.questions.length;r++){var o=n.questions[r];(e||o.visible)&&o.name&&t.push(o)}return t},t.prototype.checkTriggers=function(e,t){if(!this.isCompleted&&0!=this.triggers.length)if(this.isTriggerIsRunning)for(var n in this.triggerValues=this.getFilteredValues(),e)this.triggerKeys[n]=e[n];else{this.isTriggerIsRunning=!0,this.triggerKeys=e,this.triggerValues=this.getFilteredValues();for(var r=this.getFilteredProperties(),o=0;o<this.triggers.length;o++){var i=this.triggers[o];i.isOnNextPage==t&&i.checkExpression(this.triggerKeys,this.triggerValues,r)}this.isTriggerIsRunning=!1}},t.prototype.doElementsOnLoad=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].onSurveyLoad()},Object.defineProperty(t.prototype,"isRunningConditions",{get:function(){return!!this.conditionValues},enumerable:!1,configurable:!0}),t.prototype.runConditions=function(){if(!this.isCompleted&&"processing"!==this.isEndLoadingFromJson&&!this.isRunningConditions){this.conditionValues=this.getFilteredValues();var e=this.getFilteredProperties(),t=this.pages.indexOf(this.currentPageValue);this.runConditionsCore(e),this.checkIfNewPagesBecomeVisible(t),this.conditionValues=null,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<y.a.maximumConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}},t.prototype.runConditionOnValueChanged=function(e,t){this.isRunningConditions?(this.conditionValues[e]=t,this.isValueChangedOnRunningCondition=!0):this.runConditions()},t.prototype.runConditionsCore=function(e){for(var t=this.pages,n=0;n<this.calculatedValues.length;n++)this.calculatedValues[n].resetCalculation();for(n=0;n<this.calculatedValues.length;n++)this.calculatedValues[n].doCalculation(this.calculatedValues,this.conditionValues,e);for(n=0;n<t.length;n++)t[n].runCondition(this.conditionValues,e)},t.prototype.checkIfNewPagesBecomeVisible=function(e){var t=this.pages.indexOf(this.currentPageValue);if(!(t<=e+1))for(var n=e+1;n<t;n++)if(this.pages[n].isVisible){this.currentPage=this.pages[n];break}},t.prototype.sendResult=function(e,t,n){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=!1),this.isEditMode&&(n&&this.onPartialSend&&this.onPartialSend.fire(this,null),!e&&this.surveyPostId&&(e=this.surveyPostId),e&&(t&&(this.clientId=t),!n||this.clientId))){var r=this;this.surveyShowDataSaving&&this.setCompletedState("saving",""),this.createSurveyService().sendResult(e,this.data,(function(e,t,n){r.surveyShowDataSaving&&(e?r.setCompletedState("success",""):r.setCompletedState("error",t)),r.onSendResult.fire(r,{success:e,response:t,request:n})}),this.clientId,n)}},t.prototype.getResult=function(e,t){var n=this;this.createSurveyService().getResult(e,t,(function(e,t,r,o){n.onGetResult.fire(n,{success:e,data:t,dataList:r,response:o})}))},t.prototype.loadSurveyFromService=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),e&&(this.surveyId=e),t&&(this.clientId=t);var n=this;this.isLoading=!0,this.onLoadingSurveyFromService(),t?this.createSurveyService().getSurveyJsonAndIsCompleted(this.surveyId,this.clientId,(function(e,t,r,o){n.isLoading=!1,e&&(n.isCompletedBefore="completed"==r,n.loadSurveyFromServiceJson(t))})):this.createSurveyService().loadSurvey(this.surveyId,(function(e,t,r){n.isLoading=!1,e&&n.loadSurveyFromServiceJson(t)}))},t.prototype.loadSurveyFromServiceJson=function(e){e&&(this.fromJSON(e),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))},t.prototype.onLoadingSurveyFromService=function(){},t.prototype.onLoadSurveyFromService=function(){},t.prototype.updateVisibleIndexes=function(){if(!this.isLoadingFromJson&&!this.isEndLoadingFromJson)if(this.isRunningConditions&&this.onVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty)this.conditionUpdateVisibleIndexes=!0;else{if(this.updatePageVisibleIndexes(this.showPageNumbers),"onPage"==this.showQuestionNumbers)for(var e=this.visiblePages,t=0;t<e.length;t++)e[t].setVisibleIndex(0);else{var n="on"==this.showQuestionNumbers?0:-1;for(t=0;t<this.pages.length;t++)n+=this.pages[t].setVisibleIndex(n)}this.updateProgressText(!0)}},t.prototype.updatePageVisibleIndexes=function(e){for(var t=0,n=0;n<this.pages.length;n++){var r=this.pages[n].isVisible;this.pages[n].visibleIndex=r?t++:-1,this.pages[n].num=e&&r?this.pages[n].visibleIndex+1:-1}},t.prototype.fromJSON=function(e){if(e){this.questionHashesClear(),this.jsonErrors=null;var t=new i.g;t.toObject(e,this),t.errors.length>0&&(this.jsonErrors=t.errors)}},t.prototype.setJsonObject=function(e){this.fromJSON(e)},t.prototype.endLoadingFromJson=function(){this.isEndLoadingFromJson="processing",this.isStartedState=this.firstPageIsStarted,this.onQuestionsOnPageModeChanged("standard"),e.prototype.endLoadingFromJson.call(this),this.hasCookie&&this.doComplete(),this.doElementsOnLoad(),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes()},t.prototype.onBeforeCreating=function(){},t.prototype.onCreating=function(){},t.prototype.getProcessedTextValue=function(e){if(this.getProcessedTextValueCore(e),!this.onProcessTextValue.isEmpty){var t=this.isValueEmpty(e.value);this.onProcessTextValue.fire(this,e),e.isExists=e.isExists||t&&!this.isValueEmpty(e.value)}},t.prototype.getProcessedTextValueCore=function(e){var t=e.name.toLocaleLowerCase();if(-1===["no","require","title"].indexOf(t))if("pageno"!==t){if("pagecount"===t)return e.isExists=!0,void(e.value=this.visiblePageCount);if("locale"===t)return e.isExists=!0,void(e.value=this.locale?this.locale:d.a.defaultLocale);if("correctedanswers"===t||"correctedanswercount"===t)return e.isExists=!0,void(e.value=this.getCorrectedAnswerCount());if("incorrectedanswers"===t||"incorrectedanswercount"===t)return e.isExists=!0,void(e.value=this.getInCorrectedAnswerCount());if("questioncount"===t)return e.isExists=!0,void(e.value=this.getQuizQuestionCount());var n=(new c.a).getFirstName(t,this.data),r=this.getVariable(t);if(void 0!==r)return e.isExists=!0,void(e.value=r);n&&(n=n.toLowerCase());var o=this.getQuestionByValueName(n,!0);if(o){e.isExists=!0,t=(t=o.getValueName()+t.substr(n.length)).toLocaleLowerCase();var i={};return i[n]=e.returnDisplayValue?o.getDisplayValue(!1,void 0):o.value,void(e.value=(new c.a).getValue(t,i))}var a=this.getValue(e.name);void 0!==a&&(e.isExists=!0,e.value=a)}else{e.isExists=!0;var s=this.currentPage;e.value=null!=s?this.visiblePages.indexOf(s)+1:0}},t.prototype.clearUnusedValues=function(){for(var e=this.getAllQuestions(),t=0;t<e.length;t++)e[t].clearUnusedValues();"none"!=this.clearInvisibleValues&&this.clearInvisibleQuestionValues()},t.prototype.hasVisibleQuestionByValueName=function(e){var t=this.getQuestionsByValueName(e);if(!t)return!1;for(var n=0;n<t.length;n++)if(t[n].isVisible)return!0;return!1},t.prototype.questionCountByValueName=function(e){var t=this.getQuestionsByValueName(e);return t?t.length:0},t.prototype.clearInvisibleQuestionValues=function(){for(var e=this.getAllQuestions(),t=0;t<e.length;t++)e[t].clearValueIfInvisible()},t.prototype.getVariable=function(e){if(!e)return null;e=e.toLowerCase();var t=this.variablesHash[e];return o.a.isValueEmpty(t)&&(e.indexOf(".")>-1||e.indexOf("[")>-1)&&(new c.a).hasValue(e,this.variablesHash)?(new c.a).getValue(e,this.variablesHash):t},t.prototype.setVariable=function(e,t){e&&(e=e.toLowerCase(),this.variablesHash[e]=t,this.notifyElementsOnAnyValueOrVariableChanged(e),this.runConditionOnValueChanged(e,t))},t.prototype.getVariableNames=function(){var e=[];for(var t in this.variablesHash)e.push(t);return e},t.prototype.getUnbindValue=function(e){return this.editingObj?e:o.a.getUnbindValue(e)},t.prototype.getValue=function(e){if(!e||0==e.length)return null;var t=this.getDataValueCore(this.valuesHash,e);return this.getUnbindValue(t)},t.prototype.setValue=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!0);var o=t;if(r&&(o=this.questionOnValueChanging(e,t)),(!this.isValidateOnValueChanging||!this.checkErrorsOnValueChanging(e,o))&&(this.editingObj||!this.isValueEqual(e,o)||!this.isTwoValueEquals(o,t))){var i=this.getValue(e);this.isValueEmpty(o)?this.deleteDataValueCore(this.valuesHash,e):(o=this.getUnbindValue(o),this.setDataValueCore(this.valuesHash,e,o)),this.updateOnSetValue(e,o,i,n,r)}},t.prototype.updateOnSetValue=function(e,t,n,r,o){if(void 0===r&&(r=!1),void 0===o&&(o=!0),this.updateQuestionValue(e,t),!0!==r){var i={};i[e]={newValue:t,oldValue:n},this.runConditionOnValueChanged(e,t),this.checkTriggers(i,!1),o&&this.notifyQuestionOnValueChanged(e,t),"text"!==r&&this.tryGoNextPageAutomatic(e),this.updateProgressText(!0)}},t.prototype.isValueEqual=function(e,t){""!==t&&void 0!==t||(t=null);var n=this.getValue(e);return""!==n&&void 0!==n||(n=null),null===t||null===n?t===n:this.isTwoValueEquals(t,n)},t.prototype.doOnPageAdded=function(e){e.setSurveyImpl(this),e.name||(e.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes();var t={page:e};this.onPageAdded.fire(this,t)},t.prototype.doOnPageRemoved=function(e){this.updateVisibleIndexes()},t.prototype.generateNewName=function(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].name]=!0;for(var o=1;n[t+o];)o++;return t+o},t.prototype.tryGoNextPageAutomatic=function(e){if(!this.isEndLoadingFromJson&&this.goNextPageAutomatic&&this.currentPage){var t=this.getQuestionByValueName(e);if(t&&(!t||t.visible&&t.supportGoNextPageAutomatic())&&(!t.hasErrors(!1)||t.supportGoNextPageError())){var n=this.getCurrentPageQuestions();if(!(n.indexOf(t)<0)){for(var r=0;r<n.length;r++)if(n[r].hasInput&&n[r].isEmpty())return;this.checkIsCurrentPageHasErrors(!1)||(this.isLastPage?!0===this.goNextPageAutomatic&&this.allowCompleteSurveyAutomatic&&this.completeLastPage():this.nextPage())}}}},t.prototype.getComment=function(e){var t=this.data[e+this.commentPrefix];return null==t&&(t=""),t},t.prototype.setComment=function(e,t,n){if(void 0===n&&(n=!1),t||(t=""),!o.a.isTwoValueEquals(t,this.getComment(e))){var r=e+this.commentPrefix;o.a.isValueEmpty(t)?this.deleteDataValueCore(this.valuesHash,r):this.setDataValueCore(this.valuesHash,r,t);var i=this.getQuestionsByValueName(e);if(i)for(var a=0;a<i.length;a++)i[a].updateCommentFromSurvey(t),this.checkQuestionErrorOnValueChanged(i[a]);"text"!==n&&this.tryGoNextPageAutomatic(e);var s=this.getQuestionByName(e);s&&this.onValueChanged.fire(this,{name:r,question:s,value:t})}},t.prototype.clearValue=function(e){this.setValue(e,null),this.setComment(e,null)},Object.defineProperty(t.prototype,"clearValueOnDisableItems",{get:function(){return this.getPropertyValue("clearValueOnDisableItems",!1)},set:function(e){this.setPropertyValue("clearValueOnDisableItems",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isClearValueOnHidden",{get:function(){return"onHidden"==this.clearInvisibleValues||this.isClearValueOnHiddenContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isClearValueOnHiddenContainer",{get:function(){return"onHiddenContainer"==this.clearInvisibleValues},enumerable:!1,configurable:!0}),t.prototype.questionVisibilityChanged=function(e,t){this.updateVisibleIndexes(),this.onVisibleChanged.fire(this,{question:e,name:e.name,visible:t})},t.prototype.pageVisibilityChanged=function(e,t){this.isLoadingFromJson||(t&&!this.currentPageValue&&(this.currentPageValue=this.currentPage),this.updateVisibleIndexes(),this.onPageVisibleChanged.fire(this,{page:e,visible:t}))},t.prototype.panelVisibilityChanged=function(e,t){this.updateVisibleIndexes(),this.onPanelVisibleChanged.fire(this,{panel:e,visible:t})},t.prototype.questionCreated=function(e){this.onQuestionCreated.fire(this,{question:e})},t.prototype.questionAdded=function(e,t,n,r){e.name||(e.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),e.page&&this.questionHashesAdded(e),this.updateVisibleIndexes(),this.onQuestionAdded.fire(this,{question:e,name:e.name,index:t,parentPanel:n,rootPanel:r})},t.prototype.questionRemoved=function(e){this.questionHashesRemoved(e,e.name,e.getValueName()),this.updateVisibleIndexes(),this.onQuestionRemoved.fire(this,{question:e,name:e.name})},t.prototype.questionRenamed=function(e,t,n){this.questionHashesRemoved(e,t,n),this.questionHashesAdded(e)},t.prototype.questionHashesClear=function(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}},t.prototype.questionHashesPanelAdded=function(e){if(!this.isLoadingFromJson)for(var t=e.questions,n=0;n<t.length;n++)this.questionHashesAdded(t[n])},t.prototype.questionHashesAdded=function(e){this.questionHashAddedCore(this.questionHashes.names,e,e.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,e,e.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,e,e.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,e,e.getValueName().toLowerCase())},t.prototype.questionHashesRemoved=function(e,t,n){t&&(this.questionHashRemovedCore(this.questionHashes.names,e,t),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,e,t.toLowerCase())),n&&(this.questionHashRemovedCore(this.questionHashes.valueNames,e,n),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,e,n.toLowerCase()))},t.prototype.questionHashAddedCore=function(e,t,n){var r;(r=e[n])?(r=e[n]).indexOf(t)<0&&r.push(t):e[n]=[t]},t.prototype.questionHashRemovedCore=function(e,t,n){var r=e[n];if(r){var o=r.indexOf(t);o>-1&&r.splice(o,1),0==r.length&&delete e[n]}},t.prototype.panelAdded=function(e,t,n,r){e.name||(e.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(),this.onPanelAdded.fire(this,{panel:e,name:e.name,index:t,parentPanel:n,rootPanel:r})},t.prototype.panelRemoved=function(e){this.updateVisibleIndexes(),this.onPanelRemoved.fire(this,{panel:e,name:e.name})},t.prototype.validateQuestion=function(e){if(this.onValidateQuestion.isEmpty)return null;var t={name:e.name,question:e,value:e.value,error:null};return this.onValidateQuestion.fire(this,t),t.error?new h.a(t.error,this):null},t.prototype.validatePanel=function(e){if(this.onValidatePanel.isEmpty)return null;var t={name:e.name,panel:e,error:null};return this.onValidatePanel.fire(this,t),t.error?new h.a(t.error,this):null},t.prototype.processHtml=function(e){var t={html:e};return this.onProcessHtml.fire(this,t),this.processText(t.html,!0)},t.prototype.processText=function(e,t){return this.processTextEx(e,t,!1).text},t.prototype.processTextEx=function(e,t,n){var r={text:this.processTextCore(e,t,n),hasAllValuesOnLastRun:!0};return r.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,r},t.prototype.processTextCore=function(e,t,n){return void 0===n&&(n=!1),this.isDesignMode?e:this.textPreProcessor.process(e,t,n)},t.prototype.getSurveyMarkdownHtml=function(e,t,n){var r={element:e,text:t,name:n,html:null};return this.onTextMarkdown.fire(this,r),r.html},t.prototype.getCorrectedAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},t.prototype.getQuizQuestionCount=function(){for(var e=this.getQuizQuestions(),t=0,n=0;n<e.length;n++)t+=e[n].quizQuestionCount;return t},t.prototype.getInCorrectedAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},t.prototype.getCorrectedAnswerCountCore=function(e){for(var t=this.getQuizQuestions(),n=0,r={question:null,result:!1,correctAnswers:0,incorrectAnswers:0},o=0;o<t.length;o++){var i=t[o],a=i.quizQuestionCount;if(r.question=i,r.correctAnswers=i.correctAnswerCount,r.incorrectAnswers=a-r.correctAnswers,r.result=r.question.isAnswerCorrect(),this.onIsAnswerCorrect.fire(this,r),e){if(r.result||r.correctAnswers<a){var s=r.correctAnswers;0==s&&r.result&&(s=1),n+=s}}else(!r.result||r.incorrectAnswers<a)&&(n+=r.incorrectAnswers)}return n},t.prototype.getCorrectedAnswers=function(){return this.getCorrectedAnswerCount()},t.prototype.getInCorrectedAnswers=function(){return this.getInCorrectedAnswerCount()},Object.defineProperty(t.prototype,"showTimerPanel",{get:function(){return this.getPropertyValue("showTimerPanel","none")},set:function(e){this.setPropertyValue("showTimerPanel",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTimerPanelShowingOnTop",{get:function(){return this.isTimerStarted&&"top"==this.showTimerPanel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTimerPanelShowingOnBottom",{get:function(){return this.isTimerStarted&&"bottom"==this.showTimerPanel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTimerPanelMode",{get:function(){return this.getPropertyValue("showTimerPanelMode","all")},set:function(e){this.setPropertyValue("showTimerPanelMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerInfoText",{get:function(){var e={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,e);var t=new f.a(this,!0);return t.text=e.text,t.textOrHtml},enumerable:!1,configurable:!0}),t.prototype.getTimerInfoText=function(){var e=this.currentPage;if(!e)return"";var t=this.getDisplayTime(e.timeSpent),n=this.getDisplayTime(this.timeSpent),r=this.getPageMaxTimeToFinish(e),o=this.getDisplayTime(r),i=this.getDisplayTime(this.maxTimeToFinish);return"page"==this.showTimerPanelMode?this.getTimerInfoPageText(e,t,o):"survey"==this.showTimerPanelMode?this.getTimerInfoSurveyText(n,i):"all"==this.showTimerPanelMode?r<=0&&this.maxTimeToFinish<=0?this.getLocString("timerSpentAll").format(t,n):r>0&&this.maxTimeToFinish>0?this.getLocString("timerLimitAll").format(t,o,n,i):this.getTimerInfoPageText(e,t,o)+" "+this.getTimerInfoSurveyText(n,i):""},t.prototype.getTimerInfoPageText=function(e,t,n){return this.getPageMaxTimeToFinish(e)>0?this.getLocString("timerLimitPage").format(t,n):this.getLocString("timerSpentPage").format(t,n)},t.prototype.getTimerInfoSurveyText=function(e,t){return this.maxTimeToFinish>0?this.getLocString("timerLimitSurvey").format(e,t):this.getLocString("timerSpentSurvey").format(e,t)},t.prototype.getDisplayTime=function(e){var t=Math.floor(e/60),n=e%60,r="";return t>0&&(r+=t+" "+this.getLocString("timerMin")),r&&0==n?r:(r&&(r+=" "),r+n+" "+this.getLocString("timerSec"))},t.prototype.startTimer=function(){if(!this.isTimerStarted&&!this.isDesignMode){var e=this;this.timerFunc=function(){e.doTimer()},this.isTimerStarted=!0,g.a.instance.start(this.timerFunc)}},t.prototype.startTimerFromUI=function(){"none"!=this.showTimerPanel&&"running"===this.state&&this.startTimer()},t.prototype.stopTimer=function(){this.isTimerStarted&&(this.isTimerStarted=!1,g.a.instance.stop(this.timerFunc))},Object.defineProperty(t.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(e){this.setPropertyValue("maxTimeToFinish",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTimeToFinishPage",{get:function(){return this.getPropertyValue("maxTimeToFinishPage",0)},set:function(e){this.setPropertyValue("maxTimeToFinishPage",e)},enumerable:!1,configurable:!0}),t.prototype.getPageMaxTimeToFinish=function(e){return!e||e.maxTimeToFinish<0?0:e.maxTimeToFinish>0?e.maxTimeToFinish:this.maxTimeToFinishPage},t.prototype.doTimer=function(){var e=this.currentPage;if(e&&(e.timeSpent=e.timeSpent+1),this.timeSpent=this.timeSpent+1,this.onTimer.fire(this,{}),this.maxTimeToFinish>0&&this.maxTimeToFinish==this.timeSpent&&this.completeLastPage(),e){var t=this.getPageMaxTimeToFinish(e);t>0&&t==e.timeSpent&&(this.isLastPage?this.completeLastPage():this.nextPage())}},t.prototype.getSurveyData=function(){return this},t.prototype.getSurvey=function(){return this},t.prototype.getTextProcessor=function(){return this},t.prototype.getObjects=function(e,t){var n=[];return Array.prototype.push.apply(n,this.getPagesByNames(e)),Array.prototype.push.apply(n,this.getQuestionsByNames(t)),n},t.prototype.setTriggerValue=function(e,t,n){if(e)if(n)this.setVariable(e,t);else{var r=this.getQuestionByName(e);if(r)r.value=t;else{var o=new c.a,i=o.getFirstName(e);if(i==e)this.setValue(e,t);else{if(!this.getQuestionByName(i))return;var a=this.getUnbindValue(this.getFilteredValues());o.setValue(a,e,t),this.setValue(i,a[i])}}}},t.prototype.copyTriggerValue=function(e,t){if(e&&t){var n=(new c.a).getValue(t,this.getFilteredValues());this.setTriggerValue(e,n,!1)}},t.prototype.focusQuestion=function(e){var t=this.getQuestionByName(e,!0);return!!(t&&t.isVisible&&t.page)&&(this.currentPage=t.page,setTimeout((function(){t.focus()})),!0)},t.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].dispose();this.pages.splice(0,this.pages.length)},t.stylesManager=null,t.platform="unknown",t}(a.a);i.k.addClass("survey",[{name:"locale",choices:function(){return d.a.getLocales(!0)},onGetValue:function(e){return e.locale==d.a.defaultLocale?null:e.locale}},{name:"title",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"logo",serializationProperty:"locLogo"},{name:"logoWidth:number",default:300,minValue:0},{name:"logoHeight:number",default:200,minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"focusFirstQuestionAutomatic:boolean",default:!0},{name:"focusOnFirstError:boolean",default:!0},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem"},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page"},{name:"questions",alternativeName:"elements",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(e){return null},onSetValue:function(e,t,n){var r=e.addNewPage("");n.toObject({questions:t},r)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue"},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName","sendResultOnPageNext:boolean",{name:"showNavigationButtons",default:"bottom",choices:["none","top","bottom","both"]},{name:"showPrevButton:boolean",default:!0},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletedPage:boolean",default:!0},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem"},{name:"questionsOrder",default:"initial",choices:["initial","random"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"on",choices:["on","onPage","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar",default:"off",choices:["off","top","bottom","both"]},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions","buttons"]},{name:"mode",default:"edit",choices:["edit","display"]},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxOthersLength:number",default:0,minValue:0},"goNextPageAutomatic:boolean",{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onValueChanging","onComplete"]},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"startSurveyText",serializationProperty:"locStartSurveyText"},{name:"pagePrevText",serializationProperty:"locPagePrevText"},{name:"pageNextText",serializationProperty:"locPageNextText"},{name:"completeText",serializationProperty:"locCompleteText"},{name:"previewText",serializationProperty:"locPreviewText"},{name:"editText",serializationProperty:"locEditText"},{name:"requiredText",default:"*"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:function(e){return!e||"off"!==e.showQuestionNumbers}},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredText"],choices:function(e){return e?e.getQuestionTitlePatternOptions():[]}},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStarted:boolean",default:!1},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["singlePage","standard","questionPerPage"]},{name:"showPreviewBeforeComplete",default:"noPreview",choices:["noPreview","showAllQuestions","showAnsweredQuestions"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"maxTimeToFinishPage:number",default:0,minValue:0},{name:"showTimerPanel",default:"none",choices:["none","top","bottom"]},{name:"showTimerPanelMode",default:"all",choices:["all","page","survey"]}])},function(e,t,n){"use strict";var r=n(7);n.d(t,"a",(function(){return a}));var o=function(e){return"undefined"==typeof window?0:window.setTimeout(e,1e3)},i=function(e){"undefined"!=typeof window&&window.clearTimeout(e)},a=function(){function e(){this.listenerCounter=0,this.timerId=-1,this.onTimer=new r.b}return Object.defineProperty(e,"instance",{get:function(){return e.instanceValue||(e.instanceValue=new e),e.instanceValue},enumerable:!1,configurable:!0}),e.prototype.start=function(e){var t=this;void 0===e&&(e=null),e&&this.onTimer.add(e),this.timerId<0&&(this.timerId=o((function(){t.doTimer()}))),this.listenerCounter++},e.prototype.stop=function(e){void 0===e&&(e=null),e&&this.onTimer.remove(e),this.listenerCounter--,0==this.listenerCounter&&this.timerId>-1&&(i(this.timerId),this.timerId=-1)},e.prototype.doTimer=function(){var e=this;this.timerId<0||(this.onTimer.fire(this,{}),this.timerId=o((function(){e.doTimer()})))},e.instanceValue=null,e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,o=!1,i=null;"undefined"!=typeof navigator&&"undefined"!=typeof window&&navigator&&window&&(i=navigator.userAgent||navigator.vendor||window.opera),(r=i)&&(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(o=!0);var a=o},function(e,t,n){"use strict";var r=n(0);n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var o=function(){function e(e,t,n){void 0===n&&(n=48),this.container=e,this.model=t,this.dotsItemSize=n,this.previousSpace=0,this.previousItemCount=Number.MAX_VALUE,this._itemSizes=void 0,this.getComputedStyle=window.getComputedStyle.bind(window)}return e.prototype.getAvailableSpace=function(){var e=this.getComputedStyle(this.container),t=this.container.offsetWidth-this.dotsItemSize;return"border-box"==e.boxSizing&&(t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)),t},e.prototype.getDimensions=function(e){return{scrollDimension:e.scrollWidth,offsetDimension:e.offsetWidth}},e.prototype.getItemsCount=function(e){for(var t=0,n=this.itemSizes,r=0;r<n.length&&e>=t;r++)t+=n[r];return r==this.itemSizes.length&&this.dotsItemSize>=this.itemSizes[0]?r:r-1},Object.defineProperty(e.prototype,"itemSizes",{get:function(){return this._itemSizes||(this._itemSizes=this.getItemSizes()),this._itemSizes},enumerable:!1,configurable:!0}),e.prototype.process=function(){if(this.container){var e=this.getDimensions(this.container),t=e.scrollDimension-e.offsetDimension;this.previousItemCount<Number.MAX_VALUE&&(t-=this.dotsItemSize);var n=this.getDimensions(this.container.parentElement).offsetDimension;if(n!=this.previousSpace){if(t>5){this.model.canShrink&&this.model.shrink();var r=this.getItemsCount(this.getAvailableSpace());this.previousItemCount!=r&&(this.model.showFirstN(r),this.previousItemCount=r)}else this.model.canGrow&&t<=0&&n-this.previousSpace>this.dotsItemSize&&this.model.grow(),this.model.showFirstN(Number.MAX_VALUE),this.previousItemCount=Number.MAX_VALUE;this.previousSpace=n}}},e}(),i=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return n.i(r.a)(t,e),t.prototype.getAvailableSpace=function(){var e=this.getComputedStyle(this.container),t=this.container.offsetHeight;return"border-box"==e.boxSizing&&(t-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)),t},t.prototype.getDimensions=function(){return{scrollDimension:this.container.scrollHeight,offsetDimension:this.container.offsetHeight}},t}(o)},function(e,t,n){"use strict";var r=n(61);n.d(t,"a",(function(){return r.a}));var o=n(33);n.d(t,"b",(function(){return o.a})),n.d(t,"c",(function(){return o.b}));var i=n(26);n.d(t,"d",(function(){return i.a}));var a=n(65);n.d(t,"e",(function(){return a.a}));var s=n(62);n.d(t,"f",(function(){return s.a}));var u=n(59);n.d(t,"g",(function(){return u.a}));var l=n(66);n.d(t,"h",(function(){return l.a}));var c=n(24);n.d(t,"i",(function(){return c.a}));var p=n(149);n.d(t,"j",(function(){return p.a}));var d=n(20);n.d(t,"k",(function(){return d.a})),n.d(t,"l",(function(){return d.b})),n.d(t,"m",(function(){return d.c}));var h=n(4);n.d(t,"n",(function(){return h.a})),n.d(t,"o",(function(){return h.b}));var f=n(21);n.d(t,"p",(function(){return f.a})),n.d(t,"q",(function(){return f.b}));var m=n(63);n.d(t,"r",(function(){return m.a})),n.d(t,"s",(function(){return m.b}));var g=n(166);n.d(t,"t",(function(){return g.a})),n.d(t,"u",(function(){return g.b}));var v=n(156);n.d(t,"v",(function(){return v.a}));var y=n(161);n.d(t,"w",(function(){return y.a})),n.d(t,"x",(function(){return y.b}));var b=n(160);n.d(t,"y",(function(){return b.a}));var x=n(159);n.d(t,"z",(function(){return x.a}));var w=n(164);n.d(t,"A",(function(){return w.a}));var C=n(64);n.d(t,"B",(function(){return C.a}));var _=n(168);n.d(t,"C",(function(){return _.a}));var P=n(51);n.d(t,"D",(function(){return P.a}));var E=n(144);n.d(t,"E",(function(){return E.a}));var S=n(157);n.d(t,"F",(function(){return S.a}));var k=n(32);n.d(t,"G",(function(){return k.a}));var T=n(162);n.d(t,"H",(function(){return T.a}));var R=n(163);n.d(t,"I",(function(){return R.a}));var O=n(165);n.d(t,"J",(function(){return O.a}));var I=n(152);n.d(t,"K",(function(){return I.a}));var V=n(153);n.d(t,"L",(function(){return V.a}));var A=n(167);n.d(t,"M",(function(){return A.a}));var D=n(158);n.d(t,"N",(function(){return D.a}));var N=n(154);n.d(t,"O",(function(){return N.a}));var L=n(6);n.d(t,"P",(function(){return L.a}));var F=n(9);n.d(t,"Q",(function(){return F.a}));var M=n(151);n.d(t,"R",(function(){return M.a}));var q=n(150);n.d(t,"S",(function(){return q.a}));var j=n(169);n.d(t,"T",(function(){return j.a}));var B=n(155);n.d(t,"U",(function(){return B.a})),n.d(t,"V",(function(){return B.b}));var z=n(146);n.d(t,"W",(function(){return z.a}));var U=n(55);n.d(t,"X",(function(){return U.a}));var W=n(147);n.d(t,"Y",(function(){return W.a}));var H=n(56);n.d(t,"Z",(function(){return H.a}));var Q=n(54);n.d(t,"_0",(function(){return Q.a}));var G=n(31);n.d(t,"_1",(function(){return G.a}));var $=n(67);n.d(t,"_2",(function(){return $.a}));var K=n(170);n.d(t,"_3",(function(){return K.a}));var J=n(72);n.d(t,"_5",(function(){return J.a})),n.d(t,"_6",(function(){return J.b}));var X=n(18);n.d(t,"_4",(function(){return X.a}))},function(e,t){},function(e,t,n){"use strict";
/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function r(e,t,n){this.x=e,this.y=t,this.time=n||(new Date).getTime()}function o(e,t,n,r){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=r}function i(e,t){var n=this,r=t||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=function(e,t,n){var r,o,i,a=null,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),a=null,i=e.apply(r,o),a||(r=o=null)};return function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=t-(l-s);return r=this,o=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),s=l,i=e.apply(r,o),a||(r=o=null)):a||!1===n.trailing||(a=setTimeout(u,c)),i}}(i.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=i.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(n._mouseButtonDown=!0,n._strokeBegin(e))},this._handleMouseMove=function(e){n._mouseButtonDown&&n._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){var t=e.changedTouches[0];n._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];n._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){e.target===n._canvas&&(e.preventDefault(),n._strokeEnd(e))},this.on()}r.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},r.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},r.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},o.prototype.length=function(){for(var e=0,t=void 0,n=void 0,r=0;r<=10;r+=1){var o=r/10,i=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var s=i-t,u=a-n;e+=Math.sqrt(s*s+u*u)}t=i,n=a}return e},o.prototype._point=function(e,t,n,r,o){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*r*(1-e)*e*e+o*e*e*e},i.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},i.prototype.fromDataURL=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Image,o=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/o,a=n.height||this._canvas.height/o;this._reset(),r.src=e,r.onload=function(){t._ctx.drawImage(r,0,0,i,a)},this._isEmpty=!1},i.prototype.toDataURL=function(e){var t;switch(e){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this._canvas).toDataURL.apply(t,[e].concat(r))}},i.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},i.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},i.prototype.isEmpty=function(){return this._isEmpty},i.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},i.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,r=this._createPoint(t,n),o=this._data[this._data.length-1],i=o&&o[o.length-1],a=i&&r.distanceTo(i)<this.minDistance;if(!i||!a){var s=this._addPoint(r),u=s.curve,l=s.widths;u&&l&&this._drawCurve(u,l.start,l.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}},i.prototype._strokeEnd=function(e){var t=this.points.length>2,n=this.points[0];if(!t&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],o=r[r.length-1];n.equals(o)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(e)},i.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},i.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},i.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},i.prototype._createPoint=function(e,t,n){var o=this._canvas.getBoundingClientRect();return new r(e-o.left,t-o.top,n||(new Date).getTime())},i.prototype._addPoint=function(e){var t=this.points;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);var n=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,r=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,i=new o(t[1],n,r,t[2]),a=this._calculateCurveWidths(i);return t.shift(),{curve:i,widths:a}}return{}},i.prototype._calculateCurveControlPoints=function(e,t,n){var o=e.x-t.x,i=e.y-t.y,a=t.x-n.x,s=t.y-n.y,u=(e.x+t.x)/2,l=(e.y+t.y)/2,c=(t.x+n.x)/2,p=(t.y+n.y)/2,d=Math.sqrt(o*o+i*i),h=Math.sqrt(a*a+s*s),f=h/(d+h),m=c+(u-c)*f,g=p+(l-p)*f,v=t.x-m,y=t.y-g;return{c1:new r(u+v,l+y),c2:new r(c+v,p+y)}},i.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,r={start:null,end:null},o=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(o);return r.start=this._lastWidth,r.end=i,this._lastVelocity=o,this._lastWidth=i,r},i.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},i.prototype._drawPoint=function(e,t,n){var r=this._ctx;r.moveTo(e,t),r.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},i.prototype._drawCurve=function(e,t,n){var r=this._ctx,o=n-t,i=Math.floor(e.length());r.beginPath();for(var a=0;a<i;a+=1){var s=a/i,u=s*s,l=u*s,c=1-s,p=c*c,d=p*c,h=d*e.startPoint.x;h+=3*p*s*e.control1.x,h+=3*c*u*e.control2.x,h+=l*e.endPoint.x;var f=d*e.startPoint.y;f+=3*p*s*e.control1.y,f+=3*c*u*e.control2.y,f+=l*e.endPoint.y;var m=t+l*o;this._drawPoint(h,f,m)}r.closePath(),r.fill()},i.prototype._drawDot=function(e){var t=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},i.prototype._fromData=function(e,t,n){for(var o=0;o<e.length;o+=1){var i=e[o];if(i.length>1)for(var a=0;a<i.length;a+=1){var s=i[a],u=new r(s.x,s.y,s.time),l=s.color;if(0===a)this.penColor=l,this._reset(),this._addPoint(u);else if(a!==i.length-1){var c=this._addPoint(u),p=c.curve,d=c.widths;p&&d&&t(p,d,l)}}else this._reset(),n(i[0])}},i.prototype._toSVG=function(){var e=this,t=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),o=n.width/r,i=n.height/r,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"width",n.width),a.setAttributeNS(null,"height",n.height),this._fromData(t,(function(e,t,n){var r=document.createElement("path");if(!(isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y))){var o="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3);r.setAttribute("d",o),r.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),r.setAttribute("stroke",n),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),a.appendChild(r)}}),(function(t){var n=document.createElement("circle"),r="function"==typeof e.dotSize?e.dotSize():e.dotSize;n.setAttribute("r",r),n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("fill",t.color),a.appendChild(n)}));var s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+i+'" width="'+o+'" height="'+i+'">',u=a.innerHTML;if(void 0===u){var l=document.createElement("dummy"),c=a.childNodes;l.innerHTML="";for(var p=0;p<c.length;p+=1)l.appendChild(c[p].cloneNode(!0));u=l.innerHTML}return"data:image/svg+xml;base64,"+btoa(s+u+"</svg>")},i.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,(function(e,n){return t._drawCurve(e,n.start,n.end)}),(function(e){return t._drawDot(e)})),this._data=e},i.prototype.toData=function(){return this._data},t.a=i},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(3),a=n(41),s=n(45),u=n(18);n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return p}));var l=function(e){function t(t){var n=e.call(this)||this;return Object.assign(n,t),n}return n.i(r.a)(t,e),n.i(r.c)([n.i(i.l)()],t.prototype,"id",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"visible",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"title",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"tooltip",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"enabled",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"showTitle",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"action",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"css",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"innerCss",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"data",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"popupModel",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"needSeparator",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"active",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"template",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"component",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"iconName",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"items",void 0),t}(o.a),c=function(e){function t(t,n){var r=e.call(this)||this;return r.owner=t,r.item=n,r.needSeparator=n.needSeparator,r}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"wrappedItem",{get:function(){return this.item},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.item.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return n.i(u.a)(this.item.visible)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return n.i(u.a)(this.item.title)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return n.i(u.a)(this.item.tooltip)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return n.i(u.a)(this.item.enabled)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){var e=this.enabled;return void 0!==e&&e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTitle",{get:function(){return this.owner.showTitles&&(this.item.showTitle||void 0===this.item.showTitle)},enumerable:!1,configurable:!0}),t.prototype.action=function(e){this.item.action&&this.item.action(e)},Object.defineProperty(t.prototype,"css",{get:function(){return n.i(u.a)(this.item.css)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerCss",{get:function(){return n.i(u.a)(this.item.innerCss)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return n.i(u.a)(this.item.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupModel",{get:function(){return n.i(u.a)(this.item.popupModel)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return n.i(u.a)(this.item.active)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return this.item.template},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return n.i(u.a)(this.item.component)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconName",{get:function(){return n.i(u.a)(this.item.iconName)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return n.i(u.a)(this.item.items)},enumerable:!1,configurable:!0}),n.i(r.c)([n.i(i.l)({defaultValue:!0})],t.prototype,"isVisible",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"needSeparator",void 0),t}(o.a),p=function(e){function t(){var t=e.call(this)||this;return t.invisibleItemsListModel=new a.a([],(function(e){t.invisibleItemSelected(e),t.dotsItemPopupModel.toggleVisibility()}),!1),t.canGrow=!0,t.dotsItemPopupModel=new s.a("sv-list",t.invisibleItemsListModel),t.dotsItem=new c(t,new l({id:"dotsItem-id",component:"sv-action-bar-item-dropdown",css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-dots",action:function(e){t.dotsItemPopupModel.toggleVisibility()},popupModel:t.dotsItemPopupModel})),t}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"hasItems",{get:function(){return(this.items||[]).length>0},enumerable:!1,configurable:!0}),t.prototype.invisibleItemSelected=function(e){e&&"function"==typeof e.action&&e.action()},t.prototype.showFirstN=function(e){var t=this,n=e,r=[];this.items.forEach((function(e){e!==t.dotsItem&&(e.isVisible=n>0,n<=0&&r.push(e),n--)})),this.invisibleItems=r;var o=this.items.indexOf(this.dotsItem);-1!==o&&this.items.splice(o,1),e<this.items.length&&this.items.splice(e,0,this.dotsItem)},Object.defineProperty(t.prototype,"canShrink",{get:function(){return this.showTitles},enumerable:!1,configurable:!0}),t.prototype.shrink=function(){this.showTitles=!1},t.prototype.grow=function(){this.showTitles=!0},n.i(r.c)([n.i(i.l)({defaultValue:!0})],t.prototype,"showTitles",void 0),n.i(r.c)([n.i(i.m)()],t.prototype,"items",void 0),n.i(r.c)([n.i(i.m)({onSet:function(e,t){t.invisibleItemsListModel.items=t.invisibleItems}})],t.prototype,"invisibleItems",void 0),t}(o.a)},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(7),a=n(14),s=n(3);n.d(t,"a",(function(){return u}));var u=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.call(this)||this;return r.expressionIsRunning=!1,r.isCalculated=!1,t&&(r.name=t),n&&(r.expression=n),r}return n.i(r.a)(t,e),t.prototype.setOwner=function(e){this.data=e,this.rerunExpression()},t.prototype.getType=function(){return"calculatedvalue"},t.prototype.getSurvey=function(){return this.data&&this.data.getSurvey?this.data.getSurvey():null},Object.defineProperty(t.prototype,"owner",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(e){this.setPropertyValue("name",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"includeIntoResult",{get:function(){return this.getPropertyValue("includeIntoResult",!1)},set:function(e){this.setPropertyValue("includeIntoResult",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e),this.rerunExpression()},enumerable:!1,configurable:!0}),t.prototype.locCalculation=function(){this.expressionIsRunning=!0},t.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},t.prototype.resetCalculation=function(){this.isCalculated=!1},t.prototype.doCalculation=function(e,t,n){this.isCalculated||(this.runExpressionCore(e,t,n),this.isCalculated=!0)},t.prototype.runExpression=function(e,t){this.runExpressionCore(null,e,t)},Object.defineProperty(t.prototype,"value",{get:function(){if(this.data)return this.data.getVariable(this.name)},enumerable:!1,configurable:!0}),t.prototype.setValue=function(e){this.data&&this.data.setVariable(this.name,e)},Object.defineProperty(t.prototype,"canRunExpression",{get:function(){return!(!this.data||this.isLoadingFromJson||!this.expression||this.expressionIsRunning||!this.name)},enumerable:!1,configurable:!0}),t.prototype.rerunExpression=function(){this.canRunExpression&&this.runExpression(this.data.getFilteredValues(),this.data.getFilteredProperties())},t.prototype.runExpressionCore=function(e,t,n){this.canRunExpression&&(this.ensureExpression(t),this.locCalculation(),e&&this.runDependentExpressions(e,t,n),this.expressionRunner.run(t,n))},t.prototype.runDependentExpressions=function(e,t,n){var r=this.expressionRunner.getVariables();if(r)for(var o=0;o<e.length;o++){var i=e[o];i===this||r.indexOf(i.name)<0||(i.doCalculation(e,t,n),t[i.name]=i.value)}},t.prototype.ensureExpression=function(e){var t=this;this.expressionRunner||(this.expressionRunner=new a.b(this.expression),this.expressionRunner.onRunComplete=function(e){o.a.isTwoValueEquals(e,t.value)||t.setValue(e),t.unlocCalculation()})},t}(i.a);s.k.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],(function(){return new u}),"base")},function(e,t,n){"use strict";var r=n(17);n.d(t,"a",(function(){return o}));var o={root:"sv_main sv_bootstrap_css",container:"sv_container",header:"panel-heading card-header",body:"panel-body card-block mt-4",bodyEmpty:"panel-body card-block mt-4 sv_body_empty",footer:"panel-footer card-footer",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"",completedPage:"",navigation:{complete:"btn sv_complete_btn",prev:"btn sv_prev_btn",next:"btn sv_next_btn",start:"btn sv_start_btn",preview:"btn sv_preview_btn",edit:"btn sv_edit_btn"},progress:"progress center-block mx-auto mb-4",progressBar:"progress-bar",progressTextUnderBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"",title:"",description:"small"},pageTitle:"",pageDescription:"small",row:"sv_row",question:{mainRoot:"sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",title:"",titleExpandable:"sv_q_title_expandable",number:"sv_q_num",description:"small",descriptionUnderInput:"small",requiredText:"sv_q_required_text",comment:"form-control",required:"",titleRequired:"",hasError:"has-error",indent:20,formGroup:"form-group"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"small sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"alert alert-danger",icon:"glyphicon glyphicon-exclamation-sign",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qbln form-inline checkbox",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",materialDecorator:"sv-item__decorator sv-boolean__decorator ",itemDecorator:"sv-item__svg  sv-boolean__svg",checkedPath:"sv-boolean__checked-path",uncheckedPath:"sv-boolean__unchecked-path",indeterminatePath:"sv-boolean__indeterminate-path"},checkbox:{root:"sv_qcbc sv_qcbx form-inline",item:"checkbox",itemChecked:"checked",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemInline:"sv_q_checkbox_inline",itemControl:"",itemDecorator:"sv-hidden",label:"",labelChecked:"",controlLabel:"",materialDecorator:"checkbox-material",other:"sv_q_checkbox_other form-control",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemText:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},comment:"form-control",dropdown:{root:"",control:"form-control",other:"sv_q_dd_other form-control"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image"},matrix:{root:"table sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected bg-primary",cellLabel:"sv_q_m_cell_label"},matrixdropdown:{root:"table",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel"},matrixdynamic:{root:"table",button:"button",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:""},paneldynamic:{root:"",navigation:"sv-paneldynamic__navigation",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",title:"sv-title sv-question__title",button:"button",buttonAdd:"button sv-paneldynamic__add-btn",buttonRemove:"button sv-paneldynamic__remove-btn",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text"},multipletext:{root:"table",itemTitle:"",itemValue:"sv_q_mt_item_value form-control"},radiogroup:{root:"sv_qcbc form-inline",item:"radio",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",label:"",labelChecked:"",itemControl:"",itemDecorator:"sv-hidden",controlLabel:"",materialDecorator:"circle",other:"sv_q_radiogroup_other form-control",clearButton:"sv_q_radiogroup_clear button",column:"sv_q_select_column"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",itemInline:"sv_q_imagepicker_inline",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear"},rating:{root:"btn-group",item:"btn btn-default btn-secondary",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",disabled:""},text:"form-control",expression:"form-control",file:{root:"sv_q_file",placeholderInput:"sv_q_file_placeholder",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv_q_file_input",removeFile:"sv_q_file_remove",removeFileSvg:"sv-hidden",fileDecorator:"sv-hidden",fileSignBottom:"sv-hidden",removeButtonBottom:"sv-hidden"},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"alert alert-info",error:"alert alert-danger",success:"alert alert-success",saveAgainButton:""},window:{root:"modal-content",body:"modal-body",header:{root:"modal-header panel-title",title:"pull-left",button:"glyphicon pull-right",buttonExpanded:"glyphicon pull-right glyphicon-chevron-up",buttonCollapsed:"glyphicon pull-right glyphicon-chevron-down"}}};r.b.bootstrap=o},function(e,t,n){"use strict";var r=n(17);n.d(t,"a",(function(){return o}));var o={root:"sv_main sv_bootstrapmaterial_css",container:"sv_container",header:"card-heading",body:"card-body",bodyEmpty:"card-body sv_body_empty",footer:"card-footer",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"",completedPage:"",navigation:{complete:"btn sv_complete_btn btn-primary",prev:"btn sv_prev_btn btn-primary",next:"btn sv_next_btn btn-primary",start:"btn sv_start_btn btn-primary",preview:"btn sv_preview_btn btn-primary",edit:"btn sv_edit_btn btn-primary"},progress:"progress center-block mx-auto mb-4",progressBar:"progress-bar",progressTextUnderBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"",title:"",description:"small"},pageTitle:"",pageDescription:"small",row:"sv_row",question:{mainRoot:"sv_qstn form-group bmd-form-group",flowRoot:"sv_q_flow form-group bmd-form-group",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"",titleExpandable:"sv_q_title_expandable",number:"sv_q_num",description:"small",descriptionUnderInput:"small",comment:"form-control",required:"",titleRequired:"",hasError:"has-error",indent:20,formGroup:"form-group bmd-form-group"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"small sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"alert alert-danger",icon:"glyphicon glyphicon-exclamation-sign",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qbln checkbox",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",materialDecorator:"sv-item__decorator sv-boolean__decorator ",itemDecorator:"sv-item__svg  sv-boolean__svg",checkedPath:"sv-boolean__checked-path",uncheckedPath:"sv-boolean__unchecked-path",indeterminatePath:"sv-boolean__indeterminate-path"},checkbox:{root:"sv_qcbx",item:"checkbox",itemChecked:"checked",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemInline:"sv_q_checkbox_inline",itemDecorator:"sv-hidden",itemControl:"",label:"",labelChecked:"",controlLabel:"",materialDecorator:"checkbox-decorator",other:"sv_q_checkbox_other form-control",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemText:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},comment:"form-control",dropdown:{root:"",control:"form-control",other:"sv_q_dd_other form-control"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image"},matrix:{root:"table sv_q_matrix",row:"form-group bmd-form-group",label:"sv_q_m_label radio-inline",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected bg-primary",cellLabel:"sv_q_m_cell_label",itemValue:"form-control",itemChecked:"checked",itemDecorator:"sv-hidden",materialDecorator:"bmd-radio"},matrixdropdown:{root:"table",itemValue:"form-group bmd-form-group",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel"},matrixdynamic:{mainRoot:"sv_qstn",flowRoot:"sv_q_flow",root:"table",button:"btn btn-primary",itemValue:"form-group bmd-form-group",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:""},paneldynamic:{root:"",navigation:"sv-paneldynamic__navigation",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",title:"sv-title sv-question__title",button:"button",buttonAdd:"button sv-paneldynamic__add-btn btn btn-primary",buttonRemove:"button sv-paneldynamic__remove-btn btn btn-primary",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text"},multipletext:{root:"table",itemTitle:"",row:"form-group bmd-form-group",itemValue:"sv_q_mt_item_value form-control"},radiogroup:{root:"",item:"radio",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"",labelChecked:"",itemControl:"",controlLabel:"sv_q_radiogroup_control_label",materialDecorator:"bmd-radio",other:"sv_q_radiogroup_other form-control",clearButton:"sv_q_radiogroup_clear button btn btn-primary",column:"sv_q_select_column"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",itemInline:"sv_q_imagepicker_inline",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear"},rating:{root:"btn-group",item:"btn btn-default btn-secondary",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",disabled:""},text:"form-control",expression:"form-control",file:{root:"form-group bmd-form-group is-fileinput sv_q_file",placeholderInput:"",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv_q_file_input",removeFile:"sv_q_file_remove",removeFileSvg:"sv-hidden",fileDecorator:"sv-hidden",fileSignBottom:"sv-hidden",removeButtonBottom:"sv-hidden"},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"alert alert-info",error:"alert alert-danger",success:"alert alert-success",saveAgainButton:""},window:{root:"modal-content",body:"modal-body",header:{root:"modal-header card-title",title:"pull-left",button:"glyphicon pull-right",buttonExpanded:"glyphicon pull-right glyphicon-chevron-up",buttonCollapsed:"glyphicon pull-right glyphicon-chevron-down"}}};r.b.bootstrapmaterial=o},function(e,t,n){"use strict";var r=n(17);n.d(t,"a",(function(){return o}));var o={root:"sv-root-modern",container:"sv-container-modern",header:"sv-title sv-container-modern__title",body:"sv-body",bodyEmpty:"sv-body sv-body--empty",footer:"sv-footer sv-body__footer sv-clearfix",title:"",description:"",logo:"sv-logo",logoImage:"sv-logo__image",headerText:"sv-header__text",navigationButton:"",completedPage:"sv-completedpage",navigation:{complete:"sv-btn sv-footer__complete-btn",prev:"sv-btn sv-footer__prev-btn",next:"sv-btn sv-footer__next-btn",start:"sv-btn sv-footer__start-btn",preview:"sv-btn sv-footer__preview-btn",edit:"sv-btn sv-footer__edit-btn"},panel:{title:"sv-title sv-panel__title",titleExpandable:"sv-panel__title--expandable",titleOnError:"sv-panel__title--error",description:"sv-description sv-panel__description",container:"sv-panel sv-row__panel",content:"sv-panel__content",icon:"sv-panel__icon",iconExpanded:"sv-panel__icon--expanded",footer:"sv-panel__footer",requiredText:"sv-panel__required-text",number:"sv-question__num"},paneldynamic:{root:"sv-paneldynamic",navigation:"sv-paneldynamic__navigation",title:"sv-title sv-question__title",button:"sv-btn",buttonRemove:"sv-paneldynamic__remove-btn",buttonAdd:"sv-paneldynamic__add-btn",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",separator:"sv-paneldynamic__separator"},progress:"sv-progress sv-body__progress",progressBar:"sv-progress__bar",progressText:"sv-progress__text",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv-page sv-body__page",title:"sv-title sv-page__title",description:"sv-description sv-page__description"},pageTitle:"sv-title sv-page__title",pageDescription:"sv-description sv-page__description",row:"sv-row sv-clearfix",question:{mainRoot:"sv-question sv-row__question",flowRoot:"sv-question sv-row__question sv-row__question--flow",asCell:"sv-table__cell",header:"sv-question__header",headerLeft:"sv-question__header--location--left",headerTop:"sv-question__header--location--top",headerBottom:"sv-question__header--location--bottom",content:"sv-question__content",contentLeft:"sv-question__content--left",titleLeftRoot:"",titleOnAnswer:"sv-question__title--answer",titleOnError:"sv-question__title--error",title:"sv-title sv-question__title",titleExpandable:"sv-question__title--expandable",icon:"sv-question__icon",iconExpanded:"sv-question__icon--expanded",requiredText:"sv-question__required-text",number:"sv-question__num",description:"sv-description sv-question__description",descriptionUnderInput:"sv-description sv-question__description",comment:"sv-comment",required:"sv-question--required",titleRequired:"sv-question__title--required",indent:20,footer:"sv-question__footer",formGroup:"sv-question__form-group",hasError:"",disabled:"sv-question--disabled"},image:{root:"sv-image",image:"sv_image_image"},error:{root:"sv-question__erbox",icon:"",item:"",locationTop:"sv-question__erbox--location--top",locationBottom:"sv-question__erbox--location--bottom"},checkbox:{root:"sv-selectbase",item:"sv-item sv-checkbox sv-selectbase__item",itemSelectAll:"sv-checkbox--selectall",itemNone:"sv-checkbox--none",itemDisabled:"sv-item--disabled sv-checkbox--disabled",itemChecked:"sv-checkbox--checked",itemHover:"sv-checkbox--allowhover",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-checkbox__svg",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-checkbox__decorator",other:"sv-comment sv-question__other",column:"sv-selectbase__column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemText:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag"},radiogroup:{root:"sv-selectbase",item:"sv-item sv-radio sv-selectbase__item",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemDisabled:"sv-item--disabled sv-radio--disabled",itemChecked:"sv-radio--checked",itemHover:"sv-radio--allowhover",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-radio__svg",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-radio__decorator",other:"sv-comment sv-question__other",clearButton:"sv-btn sv-selectbase__clear-btn",column:"sv-selectbase__column"},boolean:{root:"sv_qbln",small:"sv-row__question--small",item:"sv-boolean sv-item",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-item--disabled sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",materialDecorator:"sv-item__decorator sv-boolean__decorator ",itemDecorator:"sv-item__svg  sv-boolean__svg",checkedPath:"sv-boolean__checked-path",uncheckedPath:"sv-boolean__unchecked-path",indeterminatePath:"sv-boolean__indeterminate-path"},text:{root:"sv-text",small:"sv-row__question--small",onError:"sv-text--error"},multipletext:{root:"sv-multipletext",item:"sv-multipletext__item",itemTitle:"sv-multipletext__item-title",row:"sv-multipletext__row",cell:"sv-multipletext__cell"},dropdown:{root:"",small:"sv-row__question--small",control:"sv-dropdown",selectWrapper:"",other:"sv-comment sv-question__other",onError:"sv-dropdown--error"},imagepicker:{root:"sv-imagepicker",item:"sv-imagepicker__item",itemInline:"sv-imagepicker__item--inline",itemChecked:"sv-imagepicker__item--checked",itemDisabled:"sv-imagepicker__item--disabled",itemHover:"sv-imagepicker__item--allowhover",label:"sv-imagepicker__label",itemControl:"sv-imagepicker__control",image:"sv-imagepicker__image",itemText:"sv-imagepicker__text",clearButton:"sv-btn",other:"sv-comment sv-question__other"},matrix:{tableWrapper:"sv-matrix",root:"sv-table",rowError:"sv-matrix__row--error",cell:"sv-table__cell sv-matrix__cell",headerCell:"sv-table__cell sv-table__cell--header",label:"sv-item sv-radio sv-matrix__label",itemValue:"sv-visuallyhidden sv-item__control sv-radio__control",itemChecked:"sv-radio--checked",itemDisabled:"sv-item--disabled sv-radio--disabled",itemHover:"sv-radio--allowhover",materialDecorator:"sv-item__decorator sv-radio__decorator",itemDecorator:"sv-item__svg sv-radio__svg",cellText:"sv-matrix__text",cellTextSelected:"sv-matrix__text--checked",cellTextDisabled:"sv-matrix__text--disabled"},matrixdropdown:{root:"sv-table",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",row:"sv-table__row",detailRow:"sv-table__row sv-table__row--detail",detailRowText:"sv-table__cell--detail-rowtext",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel"},matrixdynamic:{root:"sv-table sv-matrixdynamic",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",button:"sv-btn",buttonAdd:"sv-matrixdynamic__add-btn",buttonRemove:"sv-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",row:"sv-table__row",detailRow:"sv-table__row sv-table__row--detail",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",emptyRowsSection:"sv-table__empty--rows--section",emptyRowsText:"sv-table__empty--rows--text",emptyRowsButton:""},rating:{root:"sv-rating",item:"sv-rating__item",selected:"sv-rating__item--selected",minText:"sv-rating__min-text",itemText:"sv-rating__item-text",maxText:"sv-rating__max-text",disabled:"sv-rating--disabled"},comment:{root:"sv-comment",small:"sv-row__question--small"},expression:"",file:{root:"sv-file",other:"sv-comment sv-question__other",placeholderInput:"sv-visuallyhidden",preview:"sv-file__preview",fileSign:"sv-hidden",fileSignBottom:"sv-file__sign",fileDecorator:"sv-file__decorator",fileInput:"sv-visuallyhidden",noFileChosen:"sv-description sv-file__no-file-chosen",chooseFile:"sv-btn sv-file__choose-btn",disabled:"sv-file__choose-btn--disabled",removeButton:"sv-hidden",removeButtonBottom:"sv-btn sv-file__clean-btn",removeFile:"sv-hidden",removeFileSvg:"sv-file__remove-svg",wrapper:"sv-file__wrapper"},signaturepad:{root:"sv-signaturepad sjs_sp_container",small:"sv-row__question--small",controls:"sjs_sp_controls",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"",error:"",success:"",saveAgainButton:""},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}}};r.b.modern=o},function(e,t,n){"use strict";n(87),n(88),n(89),n(90),n(91),n(92),n(93),n(94),n(95),n(96),n(97),n(98),n(99),n(100),n(101),n(102),n(103),n(104),n(105),n(106),n(107),n(108),n(109),n(110),n(111),n(112),n(114),n(113),n(115),n(116),n(117),n(118),n(120),n(122),n(124),n(123),n(125),n(121),n(119),n(126)},function(e,t,n){"use strict";var r=n(74),o=(n.n(r),n(11));n.d(t,"b",(function(){return o.a}));var i=n(5);n.d(t,"c",(function(){return i.a}));var a=n(35);n.d(t,"d",(function(){return a.a})),n.d(t,"e",(function(){return a.b})),n.d(t,"f",(function(){return a.c})),n.d(t,"g",(function(){return a.d})),n.d(t,"h",(function(){return a.e})),n.d(t,"i",(function(){return a.f})),n.d(t,"j",(function(){return a.g})),n.d(t,"k",(function(){return a.h})),n.d(t,"l",(function(){return a.i}));var s=n(15);n.d(t,"m",(function(){return s.a}));var u=n(7);n.d(t,"n",(function(){return u.a})),n.d(t,"o",(function(){return u.b})),n.d(t,"p",(function(){return u.c})),n.d(t,"q",(function(){return u.d})),n.d(t,"r",(function(){return u.e}));var l=n(77);n.d(t,"s",(function(){return l.a}));var c=n(13);n.d(t,"t",(function(){return c.a})),n.d(t,"u",(function(){return c.b})),n.d(t,"v",(function(){return c.c})),n.d(t,"w",(function(){return c.d})),n.d(t,"x",(function(){return c.e}));var p=n(16);n.d(t,"y",(function(){return p.a})),n.d(t,"z",(function(){return p.b}));var d=n(84);n.d(t,"A",(function(){return d.a})),n.d(t,"B",(function(){return d.b}));var h=n(38);n.d(t,"C",(function(){return h.a}));var f=n(28);n.d(t,"D",(function(){return f.a})),n.d(t,"E",(function(){return f.b}));var m=n(14);n.d(t,"F",(function(){return m.a})),n.d(t,"G",(function(){return m.b}));var g=n(27);n.d(t,"H",(function(){return g.a})),n.d(t,"I",(function(){return g.b})),n.d(t,"J",(function(){return g.c})),n.d(t,"K",(function(){return g.d})),n.d(t,"L",(function(){return g.e})),n.d(t,"M",(function(){return g.f}));var v=n(39);n.d(t,"N",(function(){return v.a}));var y=n(19);n.d(t,"O",(function(){return y.a}));var b=n(3);n.d(t,"P",(function(){return b.a})),n.d(t,"Q",(function(){return b.b})),n.d(t,"R",(function(){return b.c})),n.d(t,"S",(function(){return b.d})),n.d(t,"T",(function(){return b.e})),n.d(t,"U",(function(){return b.f})),n.d(t,"V",(function(){return b.g})),n.d(t,"W",(function(){return b.h})),n.d(t,"X",(function(){return b.i})),n.d(t,"Y",(function(){return b.j})),n.d(t,"Z",(function(){return b.k})),n.d(t,"_0",(function(){return b.l})),n.d(t,"_1",(function(){return b.m}));var x=n(29);n.d(t,"_2",(function(){return x.a})),n.d(t,"_3",(function(){return x.b})),n.d(t,"_4",(function(){return x.c})),n.d(t,"_5",(function(){return x.d})),n.d(t,"_6",(function(){return x.e})),n.d(t,"_7",(function(){return x.f})),n.d(t,"_8",(function(){return x.g})),n.d(t,"_9",(function(){return x.h}));var w=n(136);n.d(t,"_10",(function(){return w.a})),n.d(t,"_11",(function(){return w.b}));var C=n(137);n.d(t,"_12",(function(){return C.a})),n.d(t,"_13",(function(){return C.b}));var _=n(135);n.d(t,"_14",(function(){return _.a})),n.d(t,"_15",(function(){return _.b})),n.d(t,"_16",(function(){return _.c}));var P=n(138);n.d(t,"_17",(function(){return P.a})),n.d(t,"_18",(function(){return P.b}));var E=n(22);n.d(t,"_19",(function(){return E.a})),n.d(t,"_20",(function(){return E.b})),n.d(t,"_21",(function(){return E.c}));var S=n(86);n.d(t,"_22",(function(){return S.a}));var k=n(44);n.d(t,"_23",(function(){return k.a}));var T=n(12);n.d(t,"_24",(function(){return T.a}));var R=n(30);n.d(t,"_25",(function(){return R.a}));var O=n(130);n.d(t,"_26",(function(){return O.a}));var I=n(23);n.d(t,"_27",(function(){return I.a})),n.d(t,"_28",(function(){return I.b}));var V=n(47);n.d(t,"_29",(function(){return V.a}));var A=n(141);n.d(t,"_30",(function(){return A.a}));var D=n(128);n.d(t,"_31",(function(){return D.a}));var N=n(48);n.d(t,"_32",(function(){return N.a}));var L=n(8);n.d(t,"_33",(function(){return L.a})),n.d(t,"_34",(function(){return L.b}));var F=n(131);n.d(t,"_35",(function(){return F.a}));var M=n(132);n.d(t,"_36",(function(){return M.a}));var q=n(140);n.d(t,"_37",(function(){return q.a}));var j=n(142);n.d(t,"_38",(function(){return j.a}));var B=n(49);n.d(t,"_39",(function(){return B.a}));var z=n(50);n.d(t,"_40",(function(){return z.a}));var U=n(127);n.d(t,"_41",(function(){return U.a}));var W=n(134);n.d(t,"_42",(function(){return W.a}));var H=n(133);n.d(t,"_43",(function(){return H.a}));var Q=n(143);n.d(t,"_44",(function(){return Q.a}));var G=n(139);n.d(t,"_45",(function(){return G.a})),n.d(t,"_46",(function(){return G.b}));var $=n(70);n.d(t,"_47",(function(){return $.a}));var K=n(171);n.d(t,"_48",(function(){return K.a}));var J=n(69);n.d(t,"_49",(function(){return J.a}));var X=n(173);n.d(t,"_50",(function(){return X.a})),n.d(t,"_51",(function(){return X.b})),n.d(t,"_52",(function(){return X.c})),n.d(t,"_53",(function(){return X.d})),n.d(t,"_54",(function(){return X.e})),n.d(t,"_55",(function(){return X.f})),n.d(t,"_56",(function(){return X.g}));var Y=n(172);n.d(t,"_57",(function(){return Y.a}));var Z=n(25);n.d(t,"_58",(function(){return Z.a}));var ee=n(40);n.d(t,"_59",(function(){return ee.a}));var te=n(42);n.d(t,"_60",(function(){return te.a}));var ne=n(1);n.d(t,"_61",(function(){return ne.a})),n.d(t,"_62",(function(){return ne.b}));var re=n(46);n.d(t,"_63",(function(){return re.a})),n.d(t,"_64",(function(){return re.b}));var oe=n(129);n.d(t,"_65",(function(){return oe.a})),n.d(t,"_66",(function(){return oe.b})),n.d(t,"_67",(function(){return oe.c})),n.d(t,"_68",(function(){return oe.d}));var ie=n(68);n.d(t,"_69",(function(){return ie.a}));var ae=n(76);n.d(t,"_70",(function(){return ae.a})),n.d(t,"_71",(function(){return ae.b})),n.d(t,"_72",(function(){return ae.c}));var se=n(41);n.d(t,"_73",(function(){return se.a}));var ue=n(45);n.d(t,"_74",(function(){return ue.a})),n.d(t,"_75",(function(){return ue.b}));var le=n(71);n.d(t,"_76",(function(){return le.a}));var ce=n(18);n.d(t,"_77",(function(){return ce.b})),n.d(t,"_78",(function(){return ce.c})),n.d(t,"_79",(function(){return ce.d})),n.d(t,"_80",(function(){return ce.e}));var pe,de=n(17);n.d(t,"_81",(function(){return de.b})),n.d(t,"a",(function(){return pe})),pe="1.8.34"},function(e,t,n){"use strict";var r=n(82);n.d(t,"f",(function(){return r.a})),n.d(t,"g",(function(){return r.b})),n.d(t,"h",(function(){return r.c})),n.d(t,"i",(function(){return r.d})),n.d(t,"j",(function(){return r.e})),n.d(t,"k",(function(){return r.f})),n.d(t,"l",(function(){return r.g})),n.d(t,"m",(function(){return r.h})),n.d(t,"n",(function(){return r.i})),n.d(t,"o",(function(){return r.j})),n.d(t,"p",(function(){return r.k})),n.d(t,"q",(function(){return r.l})),n.d(t,"r",(function(){return r.m})),n.d(t,"s",(function(){return r.n})),n.d(t,"t",(function(){return r.o})),n.d(t,"u",(function(){return r.p})),n.d(t,"v",(function(){return r.q})),n.d(t,"w",(function(){return r.r})),n.d(t,"x",(function(){return r.s})),n.d(t,"y",(function(){return r.t})),n.d(t,"z",(function(){return r.u})),n.d(t,"A",(function(){return r.v})),n.d(t,"B",(function(){return r.w})),n.d(t,"C",(function(){return r.x})),n.d(t,"D",(function(){return r.y})),n.d(t,"E",(function(){return r.z})),n.d(t,"F",(function(){return r.A})),n.d(t,"G",(function(){return r.B})),n.d(t,"H",(function(){return r.C})),n.d(t,"I",(function(){return r.D})),n.d(t,"J",(function(){return r.E})),n.d(t,"K",(function(){return r.F})),n.d(t,"L",(function(){return r.G})),n.d(t,"M",(function(){return r.H})),n.d(t,"N",(function(){return r.I})),n.d(t,"O",(function(){return r.J})),n.d(t,"P",(function(){return r.K})),n.d(t,"Q",(function(){return r.L})),n.d(t,"R",(function(){return r.M})),n.d(t,"S",(function(){return r.N})),n.d(t,"T",(function(){return r.O})),n.d(t,"U",(function(){return r.P})),n.d(t,"V",(function(){return r.Q})),n.d(t,"W",(function(){return r.R})),n.d(t,"X",(function(){return r.S})),n.d(t,"Y",(function(){return r.T})),n.d(t,"Z",(function(){return r.U})),n.d(t,"_0",(function(){return r.V})),n.d(t,"_1",(function(){return r.W})),n.d(t,"_2",(function(){return r.X})),n.d(t,"_3",(function(){return r.Y})),n.d(t,"_4",(function(){return r.Z})),n.d(t,"_5",(function(){return r._0})),n.d(t,"_6",(function(){return r._1})),n.d(t,"_7",(function(){return r._2})),n.d(t,"_8",(function(){return r._3})),n.d(t,"_9",(function(){return r._4})),n.d(t,"_10",(function(){return r._5})),n.d(t,"_11",(function(){return r._6})),n.d(t,"_12",(function(){return r._7})),n.d(t,"_13",(function(){return r._8})),n.d(t,"_14",(function(){return r._9})),n.d(t,"_15",(function(){return r._10})),n.d(t,"_16",(function(){return r._11})),n.d(t,"_17",(function(){return r._12})),n.d(t,"_18",(function(){return r._13})),n.d(t,"_19",(function(){return r._14})),n.d(t,"_20",(function(){return r._15})),n.d(t,"_21",(function(){return r._16})),n.d(t,"_22",(function(){return r._17})),n.d(t,"_23",(function(){return r._18})),n.d(t,"_24",(function(){return r._19})),n.d(t,"_25",(function(){return r._20})),n.d(t,"_26",(function(){return r._21})),n.d(t,"_27",(function(){return r._22})),n.d(t,"_28",(function(){return r._23})),n.d(t,"_29",(function(){return r._24})),n.d(t,"_30",(function(){return r._25})),n.d(t,"_31",(function(){return r._26})),n.d(t,"_32",(function(){return r._27})),n.d(t,"_33",(function(){return r._28})),n.d(t,"_34",(function(){return r._29})),n.d(t,"_35",(function(){return r._30})),n.d(t,"_36",(function(){return r._31})),n.d(t,"_37",(function(){return r._32})),n.d(t,"_38",(function(){return r._33})),n.d(t,"_39",(function(){return r._34})),n.d(t,"_40",(function(){return r._35})),n.d(t,"_41",(function(){return r._36})),n.d(t,"_42",(function(){return r._37})),n.d(t,"_43",(function(){return r._38})),n.d(t,"_44",(function(){return r._39})),n.d(t,"_45",(function(){return r._40})),n.d(t,"_46",(function(){return r._41})),n.d(t,"_47",(function(){return r._42})),n.d(t,"_48",(function(){return r._43})),n.d(t,"_49",(function(){return r._44})),n.d(t,"_50",(function(){return r._45})),n.d(t,"_51",(function(){return r._46})),n.d(t,"_52",(function(){return r._47})),n.d(t,"_53",(function(){return r._48})),n.d(t,"_54",(function(){return r._49})),n.d(t,"_55",(function(){return r._50})),n.d(t,"_56",(function(){return r._51})),n.d(t,"_57",(function(){return r._52})),n.d(t,"_58",(function(){return r._53})),n.d(t,"_59",(function(){return r._54})),n.d(t,"_60",(function(){return r._55})),n.d(t,"_61",(function(){return r._56})),n.d(t,"_62",(function(){return r._57})),n.d(t,"_63",(function(){return r._58})),n.d(t,"_64",(function(){return r._59})),n.d(t,"_65",(function(){return r._60})),n.d(t,"_66",(function(){return r._61})),n.d(t,"_67",(function(){return r._62})),n.d(t,"_68",(function(){return r._63})),n.d(t,"_69",(function(){return r._64})),n.d(t,"_70",(function(){return r._65})),n.d(t,"_71",(function(){return r._66})),n.d(t,"_72",(function(){return r._67})),n.d(t,"_73",(function(){return r._68})),n.d(t,"_74",(function(){return r._69})),n.d(t,"_75",(function(){return r._70})),n.d(t,"_76",(function(){return r._71})),n.d(t,"_77",(function(){return r._72})),n.d(t,"_78",(function(){return r._73})),n.d(t,"_79",(function(){return r._74})),n.d(t,"_80",(function(){return r._75})),n.d(t,"_81",(function(){return r._76})),n.d(t,"_82",(function(){return r._77})),n.d(t,"_83",(function(){return r._78})),n.d(t,"_84",(function(){return r._79})),n.d(t,"_85",(function(){return r._80})),n.d(t,"_86",(function(){return r._81})),n(81);var o=n(0);n.d(t,"_87",(function(){return o.b})),n.d(t,"_88",(function(){return o.a})),n.d(t,"_89",(function(){return o.c})),n.d(t,"_90",(function(){return o.d})),n.d(t,"_91",(function(){return o.e}));var i=n(17);n.d(t,"a",(function(){return i.a}));var a=n(78);n.d(t,"b",(function(){return a.a}));var s=n(79);n.d(t,"c",(function(){return s.a}));var u=n(80);n.d(t,"d",(function(){return u.a}));var l=n(72);n.d(t,"_92",(function(){return l.a})),n.d(t,"_93",(function(){return l.b}));var c=n(18);n.d(t,"e",(function(){return c.a}));var p=n(34);n.d(t,"_94",(function(){return p.a}))},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(7),a=n(14);n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var s=function(e){function t(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.createLocalizableString("html",n),n.expression=t,n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"expressionitem"},t.prototype.runCondition=function(e,t){return!!this.expression&&new a.a(this.expression).run(e,t)},Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,t){return this.locOwner?this.locOwner.getMarkdownHtml(e,t):null},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},t}(i.a),u=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.call(this,t)||this;return r.createLocalizableString("html",r),r.html=n,r}return n.i(r.a)(t,e),t.prototype.getType=function(){return"htmlconditionitem"},Object.defineProperty(t.prototype,"html",{get:function(){return this.getLocalizableStringText("html")},set:function(e){this.setLocalizableStringText("html",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),t}(s),l=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.call(this,t)||this;return r.createLocalizableString("url",r),r.url=n,r}return n.i(r.a)(t,e),t.prototype.getType=function(){return"urlconditionitem"},Object.defineProperty(t.prototype,"url",{get:function(){return this.getLocalizableStringText("url")},set:function(e){this.setLocalizableStringText("url",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locUrl",{get:function(){return this.getLocalizableString("url")},enumerable:!1,configurable:!0}),t}(s);o.k.addClass("expressionitem",["expression:condition"],(function(){return new s}),"base"),o.k.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],(function(){return new u}),"expressionitem"),o.k.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],(function(){return new l}),"expressionitem")},function(e,t,n){"use strict";var r=n(0),o=n(27);n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var i=function(e){function t(n,r,o,i){var a=e.call(this)||this;return a.message=n,a.expected=r,a.found=o,a.location=i,a.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,t),a}return n.i(r.a)(t,e),t.buildMessage=function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){switch(e.type){case"literal":return'"'+r(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,n,r=e.map(i);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+((a=t)?'"'+r(a)+'"':"end of input")+" found.";var a},t}(Error),a=function(e,t){t=void 0!==t?t:{};var n,r={},a={Expression:Be},s=Be,u=function(e,t){return pt(e,t,!0)},l=De("||",!1),c=De("or",!0),p=De("&&",!1),d=De("and",!0),h=function(e,t){return pt(e,t)},f=De("<=",!1),m=De("lessorequal",!0),g=De(">=",!1),v=De("greaterorequal",!0),y=De("=",!1),b=De("equal",!0),x=De("!=",!1),w=De("notequal",!0),C=De("<",!1),_=De("less",!0),P=De(">",!1),E=De("greater",!0),S=De("+",!1),k=De("-",!1),T=De("*",!1),R=De("/",!1),O=De("%",!1),I=De("^",!1),V=De("power",!0),A=De("*=",!1),D=De("contains",!0),N=De("contain",!0),L=De("notcontains",!0),F=De("notcontain",!0),M=De("anyof",!0),q=De("allof",!0),j=De("(",!1),B=De(")",!1),z=De("!",!1),U=De("negate",!0),W=De("empty",!0),H=De("notempty",!0),Q=De("undefined",!1),G=De("null",!1),$=De("{",!1),K=De("}",!1),J=De("'",!1),X=function(e){return"'"+e+"'"},Y=De('"',!1),Z=De("[",!1),ee=De("]",!1),te=De(",",!1),ne=De("true",!0),re=De("false",!0),oe=De("0x",!1),ie=/^[\-]/,ae=Ne(["-"],!1,!1),se=De(".",!1),ue=De("0",!1),le=function(e){return e.join("")},ce=De("\\'",!1),pe=De('\\"',!1),de=/^[^"']/,he=Ne(['"',"'"],!0,!1),fe=function(){return Ae()},me=/^[^{}]/,ge=Ne(["{","}"],!0,!1),ve=/^[0-9]/,ye=Ne([["0","9"]],!1,!1),be=/^[1-9]/,xe=Ne([["1","9"]],!1,!1),we=/^[a-zA-Z]/,Ce=Ne([["a","z"],["A","Z"]],!1,!1),_e=Le("whitespace"),Pe=/^[ \t\n\r]/,Ee=Ne([" ","\t","\n","\r"],!1,!1),Se=0,ke=0,Te=[{line:1,column:1}],Re=0,Oe=[],Ie=0,Ve={};if(void 0!==t.startRule){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=a[t.startRule]}function Ae(){return e.substring(ke,Se)}function De(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ne(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Le(e){return{type:"other",description:e}}function Fe(t){var n,r=Te[t];if(r)return r;for(n=t-1;!Te[n];)n--;for(r={line:(r=Te[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Te[t]=r,r}function Me(e,t){var n=Fe(e),r=Fe(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function qe(e){Se<Re||(Se>Re&&(Re=Se,Oe=[]),Oe.push(e))}function je(e,t,n){return new i(i.buildMessage(e,t),e,t,n)}function Be(){var e,t,n,o,i,a,s,l,c=34*Se+0,p=Ve[c];if(p)return Se=p.nextPos,p.result;if(e=Se,ct()!==r)if((t=Ue())!==r){for(n=[],o=Se,(i=ct())!==r&&(a=ze())!==r&&(s=ct())!==r&&(l=Ue())!==r?o=i=[i,a,s,l]:(Se=o,o=r);o!==r;)n.push(o),o=Se,(i=ct())!==r&&(a=ze())!==r&&(s=ct())!==r&&(l=Ue())!==r?o=i=[i,a,s,l]:(Se=o,o=r);n!==r&&(o=ct())!==r?(ke=e,e=u(t,n)):(Se=e,e=r)}else Se=e,e=r;else Se=e,e=r;return Ve[c]={nextPos:Se,result:e},e}function ze(){var t,n,o=34*Se+1,i=Ve[o];return i?(Se=i.nextPos,i.result):(t=Se,"||"===e.substr(Se,2)?(n="||",Se+=2):(n=r,0===Ie&&qe(l)),n===r&&("or"===e.substr(Se,2).toLowerCase()?(n=e.substr(Se,2),Se+=2):(n=r,0===Ie&&qe(c))),n!==r&&(ke=t,n="or"),t=n,Ve[o]={nextPos:Se,result:t},t)}function Ue(){var e,t,n,o,i,a,s,l,c=34*Se+2,p=Ve[c];if(p)return Se=p.nextPos,p.result;if(e=Se,(t=He())!==r){for(n=[],o=Se,(i=ct())!==r&&(a=We())!==r&&(s=ct())!==r&&(l=He())!==r?o=i=[i,a,s,l]:(Se=o,o=r);o!==r;)n.push(o),o=Se,(i=ct())!==r&&(a=We())!==r&&(s=ct())!==r&&(l=He())!==r?o=i=[i,a,s,l]:(Se=o,o=r);n!==r?(ke=e,e=t=u(t,n)):(Se=e,e=r)}else Se=e,e=r;return Ve[c]={nextPos:Se,result:e},e}function We(){var t,n,o=34*Se+3,i=Ve[o];return i?(Se=i.nextPos,i.result):(t=Se,"&&"===e.substr(Se,2)?(n="&&",Se+=2):(n=r,0===Ie&&qe(p)),n===r&&("and"===e.substr(Se,3).toLowerCase()?(n=e.substr(Se,3),Se+=3):(n=r,0===Ie&&qe(d))),n!==r&&(ke=t,n="and"),t=n,Ve[o]={nextPos:Se,result:t},t)}function He(){var e,t,n,o,i,a,s,u,l=34*Se+4,c=Ve[l];if(c)return Se=c.nextPos,c.result;if(e=Se,(t=Ge())!==r){for(n=[],o=Se,(i=ct())!==r&&(a=Qe())!==r&&(s=ct())!==r&&(u=Ge())!==r?o=i=[i,a,s,u]:(Se=o,o=r);o!==r;)n.push(o),o=Se,(i=ct())!==r&&(a=Qe())!==r&&(s=ct())!==r&&(u=Ge())!==r?o=i=[i,a,s,u]:(Se=o,o=r);n!==r?(ke=e,e=t=h(t,n)):(Se=e,e=r)}else Se=e,e=r;return Ve[l]={nextPos:Se,result:e},e}function Qe(){var t,n,o=34*Se+5,i=Ve[o];return i?(Se=i.nextPos,i.result):(t=Se,"<="===e.substr(Se,2)?(n="<=",Se+=2):(n=r,0===Ie&&qe(f)),n===r&&("lessorequal"===e.substr(Se,11).toLowerCase()?(n=e.substr(Se,11),Se+=11):(n=r,0===Ie&&qe(m))),n!==r&&(ke=t,n="lessorequal"),(t=n)===r&&(t=Se,">="===e.substr(Se,2)?(n=">=",Se+=2):(n=r,0===Ie&&qe(g)),n===r&&("greaterorequal"===e.substr(Se,14).toLowerCase()?(n=e.substr(Se,14),Se+=14):(n=r,0===Ie&&qe(v))),n!==r&&(ke=t,n="greaterorequal"),(t=n)===r&&(t=Se,61===e.charCodeAt(Se)?(n="=",Se++):(n=r,0===Ie&&qe(y)),n===r&&("equal"===e.substr(Se,5).toLowerCase()?(n=e.substr(Se,5),Se+=5):(n=r,0===Ie&&qe(b))),n!==r&&(ke=t,n="equal"),(t=n)===r&&(t=Se,"!="===e.substr(Se,2)?(n="!=",Se+=2):(n=r,0===Ie&&qe(x)),n===r&&("notequal"===e.substr(Se,8).toLowerCase()?(n=e.substr(Se,8),Se+=8):(n=r,0===Ie&&qe(w))),n!==r&&(ke=t,n="notequal"),(t=n)===r&&(t=Se,60===e.charCodeAt(Se)?(n="<",Se++):(n=r,0===Ie&&qe(C)),n===r&&("less"===e.substr(Se,4).toLowerCase()?(n=e.substr(Se,4),Se+=4):(n=r,0===Ie&&qe(_))),n!==r&&(ke=t,n="less"),(t=n)===r&&(t=Se,62===e.charCodeAt(Se)?(n=">",Se++):(n=r,0===Ie&&qe(P)),n===r&&("greater"===e.substr(Se,7).toLowerCase()?(n=e.substr(Se,7),Se+=7):(n=r,0===Ie&&qe(E))),n!==r&&(ke=t,n="greater"),t=n))))),Ve[o]={nextPos:Se,result:t},t)}function Ge(){var e,t,n,o,i,a,s,l,c=34*Se+6,p=Ve[c];if(p)return Se=p.nextPos,p.result;if(e=Se,(t=Ke())!==r){for(n=[],o=Se,(i=ct())!==r&&(a=$e())!==r&&(s=ct())!==r&&(l=Ke())!==r?o=i=[i,a,s,l]:(Se=o,o=r);o!==r;)n.push(o),o=Se,(i=ct())!==r&&(a=$e())!==r&&(s=ct())!==r&&(l=Ke())!==r?o=i=[i,a,s,l]:(Se=o,o=r);n!==r?(ke=e,e=t=u(t,n)):(Se=e,e=r)}else Se=e,e=r;return Ve[c]={nextPos:Se,result:e},e}function $e(){var t,n,o=34*Se+7,i=Ve[o];return i?(Se=i.nextPos,i.result):(t=Se,43===e.charCodeAt(Se)?(n="+",Se++):(n=r,0===Ie&&qe(S)),n!==r&&(ke=t,n="plus"),(t=n)===r&&(t=Se,45===e.charCodeAt(Se)?(n="-",Se++):(n=r,0===Ie&&qe(k)),n!==r&&(ke=t,n="minus"),t=n),Ve[o]={nextPos:Se,result:t},t)}function Ke(){var e,t,n,o,i,a,s,l,c=34*Se+8,p=Ve[c];if(p)return Se=p.nextPos,p.result;if(e=Se,(t=Xe())!==r){for(n=[],o=Se,(i=ct())!==r&&(a=Je())!==r&&(s=ct())!==r&&(l=Xe())!==r?o=i=[i,a,s,l]:(Se=o,o=r);o!==r;)n.push(o),o=Se,(i=ct())!==r&&(a=Je())!==r&&(s=ct())!==r&&(l=Xe())!==r?o=i=[i,a,s,l]:(Se=o,o=r);n!==r?(ke=e,e=t=u(t,n)):(Se=e,e=r)}else Se=e,e=r;return Ve[c]={nextPos:Se,result:e},e}function Je(){var t,n,o=34*Se+9,i=Ve[o];return i?(Se=i.nextPos,i.result):(t=Se,42===e.charCodeAt(Se)?(n="*",Se++):(n=r,0===Ie&&qe(T)),n!==r&&(ke=t,n="mul"),(t=n)===r&&(t=Se,47===e.charCodeAt(Se)?(n="/",Se++):(n=r,0===Ie&&qe(R)),n!==r&&(ke=t,n="div"),(t=n)===r&&(t=Se,37===e.charCodeAt(Se)?(n="%",Se++):(n=r,0===Ie&&qe(O)),n!==r&&(ke=t,n="mod"),t=n)),Ve[o]={nextPos:Se,result:t},t)}function Xe(){var e,t,n,o,i,a,s,l,c=34*Se+10,p=Ve[c];if(p)return Se=p.nextPos,p.result;if(e=Se,(t=Ze())!==r){for(n=[],o=Se,(i=ct())!==r&&(a=Ye())!==r&&(s=ct())!==r&&(l=Ze())!==r?o=i=[i,a,s,l]:(Se=o,o=r);o!==r;)n.push(o),o=Se,(i=ct())!==r&&(a=Ye())!==r&&(s=ct())!==r&&(l=Ze())!==r?o=i=[i,a,s,l]:(Se=o,o=r);n!==r?(ke=e,e=t=u(t,n)):(Se=e,e=r)}else Se=e,e=r;return Ve[c]={nextPos:Se,result:e},e}function Ye(){var t,n,o=34*Se+11,i=Ve[o];return i?(Se=i.nextPos,i.result):(t=Se,94===e.charCodeAt(Se)?(n="^",Se++):(n=r,0===Ie&&qe(I)),n===r&&("power"===e.substr(Se,5).toLowerCase()?(n=e.substr(Se,5),Se+=5):(n=r,0===Ie&&qe(V))),n!==r&&(ke=t,n="power"),t=n,Ve[o]={nextPos:Se,result:t},t)}function Ze(){var e,t,n,o,i,a,s,u,l=34*Se+12,c=Ve[l];if(c)return Se=c.nextPos,c.result;if(e=Se,(t=tt())!==r){for(n=[],o=Se,(i=ct())!==r&&(a=et())!==r&&(s=ct())!==r?((u=tt())===r&&(u=null),u!==r?o=i=[i,a,s,u]:(Se=o,o=r)):(Se=o,o=r);o!==r;)n.push(o),o=Se,(i=ct())!==r&&(a=et())!==r&&(s=ct())!==r?((u=tt())===r&&(u=null),u!==r?o=i=[i,a,s,u]:(Se=o,o=r)):(Se=o,o=r);n!==r?(ke=e,e=t=h(t,n)):(Se=e,e=r)}else Se=e,e=r;return Ve[l]={nextPos:Se,result:e},e}function et(){var t,n,o=34*Se+13,i=Ve[o];return i?(Se=i.nextPos,i.result):(t=Se,"*="===e.substr(Se,2)?(n="*=",Se+=2):(n=r,0===Ie&&qe(A)),n===r&&("contains"===e.substr(Se,8).toLowerCase()?(n=e.substr(Se,8),Se+=8):(n=r,0===Ie&&qe(D)),n===r&&("contain"===e.substr(Se,7).toLowerCase()?(n=e.substr(Se,7),Se+=7):(n=r,0===Ie&&qe(N)))),n!==r&&(ke=t,n="contains"),(t=n)===r&&(t=Se,"notcontains"===e.substr(Se,11).toLowerCase()?(n=e.substr(Se,11),Se+=11):(n=r,0===Ie&&qe(L)),n===r&&("notcontain"===e.substr(Se,10).toLowerCase()?(n=e.substr(Se,10),Se+=10):(n=r,0===Ie&&qe(F))),n!==r&&(ke=t,n="notcontains"),(t=n)===r&&(t=Se,"anyof"===e.substr(Se,5).toLowerCase()?(n=e.substr(Se,5),Se+=5):(n=r,0===Ie&&qe(M)),n!==r&&(ke=t,n="anyof"),(t=n)===r&&(t=Se,"allof"===e.substr(Se,5).toLowerCase()?(n=e.substr(Se,5),Se+=5):(n=r,0===Ie&&qe(q)),n!==r&&(ke=t,n="allof"),t=n))),Ve[o]={nextPos:Se,result:t},t)}function tt(){var t,n,i,a,s=34*Se+14,u=Ve[s];return u?(Se=u.nextPos,u.result):(t=Se,40===e.charCodeAt(Se)?(n="(",Se++):(n=r,0===Ie&&qe(j)),n!==r&&ct()!==r&&(i=Be())!==r&&ct()!==r?(41===e.charCodeAt(Se)?(a=")",Se++):(a=r,0===Ie&&qe(B)),a===r&&(a=null),a!==r?(ke=t,t=n=i):(Se=t,t=r)):(Se=t,t=r),t===r&&(t=function(){var t,n,i,a,s,u,l,c=34*Se+15,p=Ve[c];return p?(Se=p.nextPos,p.result):(t=Se,(n=st())!==r?(40===e.charCodeAt(Se)?(i="(",Se++):(i=r,0===Ie&&qe(j)),i!==r&&(a=rt())!==r?(41===e.charCodeAt(Se)?(s=")",Se++):(s=r,0===Ie&&qe(B)),s===r&&(s=null),s!==r?(ke=t,u=n,l=a,n=new o.e(u,l),t=n):(Se=t,t=r)):(Se=t,t=r)):(Se=t,t=r),Ve[c]={nextPos:Se,result:t},t)}())===r&&(t=function(){var t,n,i,a,s=34*Se+16,u=Ve[s];return u?(Se=u.nextPos,u.result):(t=Se,33===e.charCodeAt(Se)?(n="!",Se++):(n=r,0===Ie&&qe(z)),n===r&&("negate"===e.substr(Se,6).toLowerCase()?(n=e.substr(Se,6),Se+=6):(n=r,0===Ie&&qe(U))),n!==r&&ct()!==r&&(i=Be())!==r?(ke=t,a=i,n=new o.h(a,"negate"),t=n):(Se=t,t=r),t===r&&(t=Se,(n=nt())!==r&&ct()!==r&&(i=function(){var t,n,o=34*Se+17,i=Ve[o];return i?(Se=i.nextPos,i.result):(t=Se,"empty"===e.substr(Se,5).toLowerCase()?(n=e.substr(Se,5),Se+=5):(n=r,0===Ie&&qe(W)),n!==r&&(ke=t,n="empty"),(t=n)===r&&(t=Se,"notempty"===e.substr(Se,8).toLowerCase()?(n=e.substr(Se,8),Se+=8):(n=r,0===Ie&&qe(H)),n!==r&&(ke=t,n="notempty"),t=n),Ve[o]={nextPos:Se,result:t},t)}())!==r?(ke=t,n=function(e,t){return new o.h(e,t)}(n,i),t=n):(Se=t,t=r)),Ve[s]={nextPos:Se,result:t},t)}())===r&&(t=nt())===r&&(t=function(){var t,n,o,i,a=34*Se+20,s=Ve[a];return s?(Se=s.nextPos,s.result):(t=Se,91===e.charCodeAt(Se)?(n="[",Se++):(n=r,0===Ie&&qe(Z)),n!==r&&(o=rt())!==r?(93===e.charCodeAt(Se)?(i="]",Se++):(i=r,0===Ie&&qe(ee)),i!==r?(ke=t,t=n=o):(Se=t,t=r)):(Se=t,t=r),Ve[a]={nextPos:Se,result:t},t)}()),Ve[s]={nextPos:Se,result:t},t)}function nt(){var t,n,i,a,s,u=34*Se+18,l=Ve[u];return l?(Se=l.nextPos,l.result):(t=Se,ct()!==r?("undefined"===e.substr(Se,9)?(n="undefined",Se+=9):(n=r,0===Ie&&qe(Q)),n===r&&("null"===e.substr(Se,4)?(n="null",Se+=4):(n=r,0===Ie&&qe(G))),n!==r?(ke=t,t=null):(Se=t,t=r)):(Se=t,t=r),t===r&&(t=Se,ct()!==r&&(n=function(){var t,n,o,i,a=34*Se+19,s=Ve[a];return s?(Se=s.nextPos,s.result):(t=Se,(n=function(){var t,n,o=34*Se+22,i=Ve[o];return i?(Se=i.nextPos,i.result):(t=Se,"true"===e.substr(Se,4).toLowerCase()?(n=e.substr(Se,4),Se+=4):(n=r,0===Ie&&qe(ne)),n!==r&&(ke=t,n=!0),(t=n)===r&&(t=Se,"false"===e.substr(Se,5).toLowerCase()?(n=e.substr(Se,5),Se+=5):(n=r,0===Ie&&qe(re)),n!==r&&(ke=t,n=!1),t=n),Ve[o]={nextPos:Se,result:t},t)}())!==r&&(ke=t,n=n),(t=n)===r&&(t=Se,(n=function(){var t,n,o,i,a=34*Se+23,s=Ve[a];return s?(Se=s.nextPos,s.result):(t=Se,"0x"===e.substr(Se,2)?(n="0x",Se+=2):(n=r,0===Ie&&qe(oe)),n!==r&&(o=ut())!==r?(ke=t,n=parseInt(Ae(),16),t=n):(Se=t,t=r),t===r&&(t=Se,ie.test(e.charAt(Se))?(n=e.charAt(Se),Se++):(n=r,0===Ie&&qe(ae)),n===r&&(n=null),n!==r&&(o=function(){var t,n,o,i=34*Se+24,a=Ve[i];return a?(Se=a.nextPos,a.result):(t=Se,(n=ut())!==r?(46===e.charCodeAt(Se)?(o=".",Se++):(o=r,0===Ie&&qe(se)),o!==r&&ut()!==r?(ke=t,n=parseFloat(Ae()),t=n):(Se=t,t=r)):(Se=t,t=r),t===r&&(t=Se,(n=function(){var t,n,o=34*Se+31,i=Ve[o];if(i)return Se=i.nextPos,i.result;if(t=[],be.test(e.charAt(Se))?(n=e.charAt(Se),Se++):(n=r,0===Ie&&qe(xe)),n!==r)for(;n!==r;)t.push(n),be.test(e.charAt(Se))?(n=e.charAt(Se),Se++):(n=r,0===Ie&&qe(xe));else t=r;return Ve[o]={nextPos:Se,result:t},t}())!==r?((o=ut())===r&&(o=null),o!==r?(ke=t,n=parseInt(Ae(),10),t=n):(Se=t,t=r)):(Se=t,t=r),t===r&&(t=Se,48===e.charCodeAt(Se)?(n="0",Se++):(n=r,0===Ie&&qe(ue)),n!==r&&(ke=t,n=0),t=n)),Ve[i]={nextPos:Se,result:t},t)}())!==r?(ke=t,i=o,t=n=null==n?i:-i):(Se=t,t=r)),Ve[a]={nextPos:Se,result:t},t)}())!==r&&(ke=t,n=n),(t=n)===r&&(t=Se,(n=st())!==r&&(ke=t,n=n),(t=n)===r&&(t=Se,39===e.charCodeAt(Se)?(n="'",Se++):(n=r,0===Ie&&qe(J)),n!==r&&(o=ot())!==r?(39===e.charCodeAt(Se)?(i="'",Se++):(i=r,0===Ie&&qe(J)),i!==r?(ke=t,n=X(o),t=n):(Se=t,t=r)):(Se=t,t=r),t===r&&(t=Se,34===e.charCodeAt(Se)?(n='"',Se++):(n=r,0===Ie&&qe(Y)),n!==r&&(o=ot())!==r?(34===e.charCodeAt(Se)?(i='"',Se++):(i=r,0===Ie&&qe(Y)),i!==r?(ke=t,n=X(o),t=n):(Se=t,t=r)):(Se=t,t=r))))),Ve[a]={nextPos:Se,result:t},t)}())!==r?(ke=t,s=n,t=new o.b(s)):(Se=t,t=r),t===r&&(t=Se,ct()!==r?(123===e.charCodeAt(Se)?(n="{",Se++):(n=r,0===Ie&&qe($)),n!==r&&(i=function(){var e,t,n,o=34*Se+25,i=Ve[o];if(i)return Se=i.nextPos,i.result;if(e=Se,t=[],(n=at())!==r)for(;n!==r;)t.push(n),n=at();else t=r;return t!==r&&(ke=e,t=le(t)),e=t,Ve[o]={nextPos:Se,result:e},e}())!==r?(125===e.charCodeAt(Se)?(a="}",Se++):(a=r,0===Ie&&qe(K)),a!==r?(ke=t,t=function(e){return new o.d(e)}(i)):(Se=t,t=r)):(Se=t,t=r)):(Se=t,t=r))),Ve[u]={nextPos:Se,result:t},t)}function rt(){var t,n,i,a,s,u,l,c,p=34*Se+21,d=Ve[p];if(d)return Se=d.nextPos,d.result;if(t=Se,(n=Be())===r&&(n=null),n!==r){for(i=[],a=Se,(s=ct())!==r?(44===e.charCodeAt(Se)?(u=",",Se++):(u=r,0===Ie&&qe(te)),u!==r&&(l=ct())!==r&&(c=Be())!==r?a=s=[s,u,l,c]:(Se=a,a=r)):(Se=a,a=r);a!==r;)i.push(a),a=Se,(s=ct())!==r?(44===e.charCodeAt(Se)?(u=",",Se++):(u=r,0===Ie&&qe(te)),u!==r&&(l=ct())!==r&&(c=Be())!==r?a=s=[s,u,l,c]:(Se=a,a=r)):(Se=a,a=r);i!==r?(ke=t,t=n=function(e,t){if(null==e)return new o.f([]);var n=[e];if(Array.isArray(t))for(var r=function(e){return[].concat.apply([],e)}(t),i=3;i<r.length;i+=4)n.push(r[i]);return new o.f(n)}(n,i)):(Se=t,t=r)}else Se=t,t=r;return Ve[p]={nextPos:Se,result:t},t}function ot(){var e,t,n,o=34*Se+26,i=Ve[o];if(i)return Se=i.nextPos,i.result;if(e=Se,t=[],(n=it())!==r)for(;n!==r;)t.push(n),n=it();else t=r;return t!==r&&(ke=e,t=le(t)),e=t,Ve[o]={nextPos:Se,result:e},e}function it(){var t,n,o=34*Se+27,i=Ve[o];return i?(Se=i.nextPos,i.result):(t=Se,"\\'"===e.substr(Se,2)?(n="\\'",Se+=2):(n=r,0===Ie&&qe(ce)),n!==r&&(ke=t,n="'"),(t=n)===r&&(t=Se,'\\"'===e.substr(Se,2)?(n='\\"',Se+=2):(n=r,0===Ie&&qe(pe)),n!==r&&(ke=t,n='"'),(t=n)===r&&(t=Se,de.test(e.charAt(Se))?(n=e.charAt(Se),Se++):(n=r,0===Ie&&qe(he)),n!==r&&(ke=t,n=fe()),t=n)),Ve[o]={nextPos:Se,result:t},t)}function at(){var t,n,o=34*Se+28,i=Ve[o];return i?(Se=i.nextPos,i.result):(t=Se,me.test(e.charAt(Se))?(n=e.charAt(Se),Se++):(n=r,0===Ie&&qe(ge)),n!==r&&(ke=t,n=fe()),t=n,Ve[o]={nextPos:Se,result:t},t)}function st(){var e,t,n,o,i,a,s=34*Se+29,u=Ve[s];if(u)return Se=u.nextPos,u.result;if(e=Se,lt()!==r){if(t=[],n=Se,(o=ut())!==r){for(i=[],a=lt();a!==r;)i.push(a),a=lt();i!==r?n=o=[o,i]:(Se=n,n=r)}else Se=n,n=r;for(;n!==r;)if(t.push(n),n=Se,(o=ut())!==r){for(i=[],a=lt();a!==r;)i.push(a),a=lt();i!==r?n=o=[o,i]:(Se=n,n=r)}else Se=n,n=r;t!==r?(ke=e,e=fe()):(Se=e,e=r)}else Se=e,e=r;return Ve[s]={nextPos:Se,result:e},e}function ut(){var t,n,o=34*Se+30,i=Ve[o];if(i)return Se=i.nextPos,i.result;if(t=[],ve.test(e.charAt(Se))?(n=e.charAt(Se),Se++):(n=r,0===Ie&&qe(ye)),n!==r)for(;n!==r;)t.push(n),ve.test(e.charAt(Se))?(n=e.charAt(Se),Se++):(n=r,0===Ie&&qe(ye));else t=r;return Ve[o]={nextPos:Se,result:t},t}function lt(){var t,n,o=34*Se+32,i=Ve[o];if(i)return Se=i.nextPos,i.result;if(t=[],we.test(e.charAt(Se))?(n=e.charAt(Se),Se++):(n=r,0===Ie&&qe(Ce)),n!==r)for(;n!==r;)t.push(n),we.test(e.charAt(Se))?(n=e.charAt(Se),Se++):(n=r,0===Ie&&qe(Ce));else t=r;return Ve[o]={nextPos:Se,result:t},t}function ct(){var t,n,o=34*Se+33,i=Ve[o];if(i)return Se=i.nextPos,i.result;for(Ie++,t=[],Pe.test(e.charAt(Se))?(n=e.charAt(Se),Se++):(n=r,0===Ie&&qe(Ee));n!==r;)t.push(n),Pe.test(e.charAt(Se))?(n=e.charAt(Se),Se++):(n=r,0===Ie&&qe(Ee));return Ie--,t===r&&(n=r,0===Ie&&qe(_e)),Ve[o]={nextPos:Se,result:t},t}function pt(e,t,n){return void 0===n&&(n=!1),t.reduce((function(e,t){return new o.c(t[1],e,t[3],n)}),e)}if((n=s())!==r&&Se===e.length)return n;throw n!==r&&Se<e.length&&qe({type:"end"}),je(Oe,Re<e.length?e.charAt(Re):null,Re<e.length?Me(Re,Re+1):Me(Re,Re))}},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(22);n.d(t,"a",(function(){return a}));var a=function(e){function t(t){void 0===t&&(t="");var n=e.call(this,t)||this;n.createLocalizableString("content",n,!0);var r=n;return n.registerFunctionOnPropertyValueChanged("content",(function(){r.onContentChanged()})),n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"flowpanel"},t.prototype.getChildrenLayoutType=function(){return"flow"},t.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.onContentChanged()},Object.defineProperty(t.prototype,"content",{get:function(){return this.getLocalizableStringText("content")},set:function(e){this.setLocalizableStringText("content",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locContent",{get:function(){return this.getLocalizableString("content")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.getPropertyValue("html","")},set:function(e){this.setPropertyValue("html",e)},enumerable:!1,configurable:!0}),t.prototype.onContentChanged=function(){var e="";e=this.onCustomHtmlProducing?this.onCustomHtmlProducing():this.produceHtml(),this.html=e,this.contentChangedCallback&&this.contentChangedCallback()},t.prototype.produceHtml=function(){for(var e=[],t=/{(.*?(element:)[^$].*?)}/g,n=this.content,r=0,o=null;null!==(o=t.exec(n));){o.index>r&&(e.push(n.substr(r,o.index-r)),r=o.index);var i=this.getQuestionFromText(o[0]);i?e.push(this.getHtmlForQuestion(i)):e.push(n.substr(r,o.index+o[0].length-r)),r=o.index+o[0].length}return r<n.length&&e.push(n.substr(r,n.length-r)),e.join("").replace(new RegExp("<br>","g"),"<br/>")},t.prototype.getQuestionFromText=function(e){return e=(e=e.substr(1,e.length-2)).replace(t.contentElementNamePrefix,"").trim(),this.getQuestionByName(e)},t.prototype.getHtmlForQuestion=function(e){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(e):""},t.prototype.getQuestionHtmlId=function(e){return this.name+"_"+e.id},t.prototype.onAddElement=function(t,n){e.prototype.onAddElement.call(this,t,n),this.addElementToContent(t),t.renderWidth=""},t.prototype.onRemoveElement=function(t){var n=this.getElementContentText(t);this.content=this.content.replace(n,""),e.prototype.onRemoveElement.call(this,t)},t.prototype.dragDropMoveElement=function(e,t,n){},t.prototype.addElementToContent=function(e){if(!this.isLoadingFromJson){var t=this.getElementContentText(e);this.insertTextAtCursor(t)||(this.content=this.content+t)}},t.prototype.insertTextAtCursor=function(e,t){if(void 0===t&&(t=null),!this.isDesignMode||"undefined"==typeof document||!window.getSelection)return!1;var n=window.getSelection();if(n.getRangeAt&&n.rangeCount){var r=n.getRangeAt(0);if(r.deleteContents(),r.insertNode(document.createTextNode(e)),this.getContent){var o=this.getContent(t);this.content=o}return!0}return!1},t.prototype.getElementContentText=function(e){return"{"+t.contentElementNamePrefix+e.name+"}"},t.contentElementNamePrefix="element:",t}(i.a);o.k.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],(function(){return new a}),"panel")},function(e,t,n){"use strict";var r=n(1);r.a.locales.ar={pagePrevText:"السابق",pageNextText:"التالي",completeText:"إرسال البيانات",previewText:"معاينة",editText:"تعديل",startSurveyText:"بداية",otherItemText:"نص آخر",noneItemText:"لا شيء",selectAllItemText:"اختر الكل",progressText:"{1} صفحة {0} من",panelDynamicProgressText:"سجل {0} من {1}",questionsProgressText:"تمت الإجابة على أسئلة {0} / {1}",emptySurvey:"لا توجد صفحة مرئية أو سؤال في النموذج",completingSurvey:"شكرا لكم لاستكمال النموذج!",completingSurveyBefore:"تظهر سجلاتنا أنك قد أكملت هذا الاستطلاع بالفعل.",loadingSurvey:"...يتم تحميل النموذج",optionsCaption:"...اختر",value:"القيمة",requiredError:".يرجى الإجابة على السؤال",requiredErrorInPanel:"الرجاء الإجابة على سؤال واحد على الأقل.",requiredInAllRowsError:"يرجى الإجابة على الأسئلة في جميع الصفوف",numericError:"يجب أن تكون القيمة رقمية.",textMinLength:"الرجاء إدخال ما لا يقل عن {0} حروف",textMaxLength:"الرجاء إدخال أقل من {0} حروف",textMinMaxLength:"يرجى إدخال أكثر من {0} وأقل من {1} حروف",minRowCountError:"يرجى ملء ما لا يقل عن {0} الصفوف",minSelectError:"يرجى تحديد ما لا يقل عن {0} المتغيرات",maxSelectError:"يرجى تحديد ما لا يزيد عن {0} المتغيرات",numericMinMax:"و'{0}' يجب أن تكون مساوية أو أكثر من {1} وتساوي أو أقل من {2}ا",numericMin:"و'{0}' يجب أن تكون مساوية أو أكثر من {1}ا",numericMax:"و'{0}' يجب أن تكون مساوية أو أقل من {1}ا",invalidEmail:"الرجاء إدخال بريد الكتروني صحيح",invalidExpression:"يجب أن يعرض التعبير: {0} 'صواب'.",urlRequestError:"طلب إرجاع خطأ '{0}'. {1}ا",urlGetChoicesError:"عاد طلب البيانات فارغ أو 'المسار' غير صحيح ",exceedMaxSize:"ينبغي ألا يتجاوز حجم الملف {0}ا",otherRequiredError:"الرجاء إدخال قيمة أخرى",uploadingFile:"تحميل الملف الخاص بك. يرجى الانتظار عدة ثوان والمحاولة لاحقًا",loadingFile:"جار التحميل...",chooseFile:"اختر الملفات...",noFileChosen:"لم تقم باختيار ملف",confirmDelete:"هل تريد حذف السجل؟",keyDuplicationError:"يجب أن تكون هذه القيمة فريدة.",addColumn:"أضف العمود",addRow:"اضافة صف",removeRow:"إزالة صف",addPanel:"اضف جديد",removePanel:"إزالة",choices_Item:"بند",matrix_column:"عمود",matrix_row:"صف",savingData:"يتم حفظ النتائج على الخادم ...",savingDataError:"حدث خطأ ولم نتمكن من حفظ النتائج.",savingDataSuccess:"تم حفظ النتائج بنجاح!",saveAgainButton:"حاول مجددا",timerMin:"دقيقة",timerSec:"ثانية",timerSpentAll:"لقد أنفقت {0} على هذه الصفحة و {1} إجمالاً.",timerSpentPage:"لقد أنفقت {0} على هذه الصفحة.",timerSpentSurvey:"لقد أنفقت {0} إجمالاً.",timerLimitAll:"لقد أنفقت {0} من {1} في هذه الصفحة و {2} من إجمالي {3}.",timerLimitPage:"لقد أنفقت {0} من {1} في هذه الصفحة.",timerLimitSurvey:"لقد أنفقت {0} من إجمالي {1}.",cleanCaption:"نظيف",clearCaption:"واضح",chooseFileCaption:"اختر ملف",removeFileCaption:"قم بإزالة هذا الملف",booleanCheckedLabel:"نعم",booleanUncheckedLabel:"لا",confirmRemoveFile:"هل أنت متأكد أنك تريد إزالة هذا الملف: {0}؟",confirmRemoveAllFiles:"هل أنت متأكد أنك تريد إزالة كافة الملفات؟",questionTitlePatternText:"عنوان السؤال"},r.a.localeNames.ar="العربية"},function(e,t,n){"use strict";var r=n(1);r.a.locales.bg={pagePrevText:"Назад",pageNextText:"Напред",completeText:"Край",previewText:"Визуализация",editText:"редактиране",startSurveyText:"Начало",otherItemText:"Друго (опишете)",noneItemText:"Нито един",selectAllItemText:"Всички",progressText:"стр. {0}, общо стр. {1}",panelDynamicProgressText:"Запис {0} от {1}",questionsProgressText:"Отговорени на {0} / {1} въпроса",emptySurvey:"Анкетата не съдържа видими страници или въпроси.",completingSurvey:"Благодарим ви за участието в анкетата!",completingSurveyBefore:"Изглежда, че вие вече сте попълнили анкетата.",loadingSurvey:"Зареждане на анкетата...",optionsCaption:"Изберете...",value:"value",requiredError:"Моля, отговорете на следния въпрос.",requiredErrorInPanel:"Моля, отговорете поне на един от въпросите.",requiredInAllRowsError:"Моля, отговорете на въпросите на всички редове.",numericError:"Стойността следва да бъде число.",textMinLength:"Моля, използвайте поне {0} символа.",textMaxLength:"Моля, използвайте не повече от {0} символа.",textMinMaxLength:"Моля, използвайте повече от {0} и по-малко от {1} символа.",minRowCountError:"Моля, попълнете поне {0} реда.",minSelectError:"Моля, изберете поне {0} варианта.",maxSelectError:"Моля, изберете не повече от {0} варианта.",numericMinMax:"Стойността '{0}' следва да бъде равна или по-голяма от {1} и равна или по-малка от {2}",numericMin:"Стойността '{0}' следва да бъде равна или по-голяма от {1}",numericMax:"Стойността '{0}' следва да бъде равна или по-малка от {1}",invalidEmail:"Моля, въведете валиден адрес на електронна поща.",invalidExpression:"Изразът: {0} трябва да дава резултат 'true' (истина).",urlRequestError:"Заявката води до грешка '{0}'. {1}",urlGetChoicesError:"Заявката не връща данни или частта 'path' (път до търсения ресурс на сървъра) е неправилно зададена",exceedMaxSize:"Размерът на файла следва да не превишава {0}.",otherRequiredError:"Моля, въведете другата стойност.",uploadingFile:"Вашит файл се зарежда на сървъра. Моля, изчакайте няколко секунди и тогава опитвайте отново.",loadingFile:"Зареждане...",chooseFile:"Изберете файл(ове)...",noFileChosen:"Няма избран файл",confirmDelete:"Желаете ли да изтриете записа?",keyDuplicationError:"Стойността следва да бъде уникална.",addColumn:"Добавяне на колона",addRow:"Добавяне на ред",removeRow:"Премахване на ред",addPanel:"Добавяне на панел",removePanel:"Премахване на панел",choices_Item:"елемент",matrix_column:"Колона",matrix_row:"Ред",savingData:"Резултатите се запазват на сървъра...",savingDataError:"Поради възникнала грешка резултатите не можаха да бъдат запазени.",savingDataSuccess:"Резултатите бяха запазени успешно!",saveAgainButton:"Нов опит",timerMin:"мин",timerSec:"сек",timerSpentAll:"Вие използвахте {0} на тази страница и общо {1}.",timerSpentPage:"Вие използвахте {0} на тази страница.",timerSpentSurvey:"Вие използвахте общо {0}.",timerLimitAll:"Вие изпозвахте {0} от {1} на тази страница и общо {2} от {3}.",timerLimitPage:"Вие използвахте {0} от {1} на тази страница.",timerLimitSurvey:"Вие използвахте общо {0} от {1}.",cleanCaption:"Изчистване",clearCaption:"Начално състояние",chooseFileCaption:"Изберете файл",removeFileCaption:"Премахване на файла",booleanCheckedLabel:"Да",booleanUncheckedLabel:"Не",confirmRemoveFile:"Наистина ли искате да премахнете този файл: {0}?",confirmRemoveAllFiles:"Наистина ли искате да премахнете всички файлове?",questionTitlePatternText:"Заглавие на въпроса"},r.a.localeNames.bg="български"},function(e,t,n){"use strict";var r=n(1);r.a.locales.ca={pagePrevText:"Anterior",pageNextText:"Següent",completeText:"Complet",otherItemText:"Un altre (descrigui)",progressText:"Pàgina {0} de {1}",emptySurvey:"No hi ha cap pàgina visible o pregunta a l'enquesta.",completingSurvey:"Gràcies per completar l'enquesta!",loadingSurvey:"L'enquesta s'està carregant ...",optionsCaption:"Selecciona ...",requiredError:"Si us plau contesti la pregunta.",requiredInAllRowsError:"Si us plau contesti les preguntes de cada filera.",numericError:"L'estimació ha de ser numèrica.",textMinLength:"Si us plau entre almenys {0} símbols.",textMaxLength:"Si us plau entre menys de {0} símbols.",textMinMaxLength:"Si us plau entre més de {0} i menys de {1} símbols.",minRowCountError:"Si us plau ompli almenys {0} fileres.",minSelectError:"Si us plau seleccioni almenys {0} variants.",maxSelectError:"Si us plau seleccioni no més de {0} variants.",numericMinMax:"El '{0}' deu ser igual o més de {1} i igual o menys de {2}",numericMin:"El '{0}' ha de ser igual o més de {1}",numericMax:"El '{0}' ha de ser igual o menys de {1}",invalidEmail:"Si us plau afegiu un correu electrònic vàlid.",urlRequestError:"La sol·licitud va tornar error '{0}'. {1}",urlGetChoicesError:"La sol·licitud va tornar buida de dates o la propietat 'trajectòria' no és correcta",exceedMaxSize:"La mida de l'arxiu no pot excedir {0}.",otherRequiredError:"Si us plau afegiu l'altra estimació.",uploadingFile:"El seu arxiu s'està pujant. Si us plau esperi uns segons i intenteu-ho de nou.",addRow:"Afegiu una filera",removeRow:"Eliminar una filera",choices_firstItem:"primer article",choices_secondItem:"segon article",choices_thirdItem:"tercer article",matrix_column:"Columna",matrix_row:"Filera"},r.a.localeNames.ca="català"},function(e,t,n){"use strict";var r=n(1);r.a.locales.hr={pagePrevText:"Prethodni",pageNextText:"Sljedeći",completeText:"Kompletan",previewText:"Pregled",editText:"Uređivanje",startSurveyText:"Početak",otherItemText:"Ostali (opis)",noneItemText:"Nitko",selectAllItemText:"Select All",progressText:"Stranica {0} od {1}",panelDynamicProgressText:"Zapisa {0} od {1}",questionsProgressText:"Odgovorio na {0}/{1} pitanja",emptySurvey:"U anketi nema vidljive stranice ili pitanja.",completingSurvey:"Hvala vam što ste završili anketu!",completingSurveyBefore:"Naši zapisi pokazuju da ste već završili ovu anketu.",loadingSurvey:"Anketa o učitavanje...",optionsCaption:"Odaberite...",value:"vrijednost",requiredError:"Molim vas odgovorite na pitanje.",requiredErrorInPanel:"Molim vas odgovorite na barem jedno pitanje.",requiredInAllRowsError:"Odgovorite na pitanja u svim redovima.",numericError:"Vrijednost bi trebala biti brojčana.",textMinLength:"Unesite najmanje {0} znak(ova).",textMaxLength:"Unesite manje od {0} znak(ova).",textMinMaxLength:"Unesite više od {0} i manje od {1} znakova.",minRowCountError:"Molimo ispunite najmanje {0} redaka.",minSelectError:"Odaberite barem {0} varijante.",maxSelectError:"Odaberite ne više od {0} varijanti.",numericMinMax:"'{0}'bi trebao biti jednak ili više od {1} i jednak ili manji od {2}.",numericMin:"'{0}' bi trebao biti jednak ili više od {1}.",numericMax:"'{0}' bi trebao biti jednak ili manji od {1}",invalidEmail:"Unesite valjanu e-mail adresu.",invalidExpression:"Izraz: {0} treba vratiti 'true'.",urlRequestError:"Zahtjev vratio pogrešku '{0}'. {1}",urlGetChoicesError:"Zahtjev je vratio prazne podatke ili je 'path' svojstvo netočna.",exceedMaxSize:"Veličina datoteke ne smije prelaziti {0}.",otherRequiredError:"Unesite drugu vrijednost.",uploadingFile:"Vaša datoteka se prenosi. Pričekajte nekoliko sekundi i pokušajte ponovno.",loadingFile:"Učitavanje...",chooseFile:"Odaberite datoteku...",noFileChosen:"Nije odabrana datoteka",confirmDelete:"Želite li izbrisati zapis?",keyDuplicationError:"Ta bi vrijednost trebala biti jedinstvena.",addColumn:"Dodavanje stupca",addRow:"Dodavanje redaka",removeRow:"Ukloniti",addPanel:"Dodavanje novih",removePanel:"Ukloniti",choices_Item:"stavku",matrix_column:"Stupca",matrix_row:"Redak",savingData:"Rezultati se spremaju na poslužitelju...",savingDataError:"Došlo je do pogreške i nismo mogli spremiti rezultate.",savingDataSuccess:"Rezultati su uspješno spremljeni!",saveAgainButton:"Pokušaj ponovo",timerMin:"min",timerSec:"sec",timerSpentAll:"Vi ste proveli {0} na ovoj stranici i {1} ukupno.",timerSpentPage:"Potrošili ste {0} na ovu stranicu.",timerSpentSurvey:"You have spent {0} in total. {0}.",timerLimitAll:"Vi ste proveli {0} od {1} na ovoj stranici i {2} od {3} ukupno.",timerLimitPage:"Potrošio si {0} od {1} na ovoj stranici.",timerLimitSurvey:"Ukupno ste potrošili {0} od {1}.",cleanCaption:"Očistiti",clearCaption:"Očistiti",chooseFileCaption:"Odaberite datoteku",removeFileCaption:"Uklonite ovu datoteku",booleanCheckedLabel:"Da",booleanUncheckedLabel:"Ne",confirmRemoveFile:"Jeste li sigurni da želite ukloniti ovu datoteku: {0}?",confirmRemoveAllFiles:"Jeste li sigurni da želite ukloniti sve datoteke?",questionTitlePatternText:"Naslov pitanja",modalCancelButtonText:"Otkazati",modalApplyButtonText:"Primijeniti"},r.a.localeNames.hr="hrvatski"},function(e,t,n){"use strict";var r=n(1);r.a.locales.cs={pagePrevText:"Předchozí",pageNextText:"Další",completeText:"Hotovo",previewText:"Náhled",editText:"Upravit",startSurveyText:"Start",otherItemText:"Jiná odpověď (napište)",noneItemText:"Žádný",selectAllItemText:"Vybrat vše",progressText:"Strana {0} z {1}",panelDynamicProgressText:"Záznam {0} z {1}",questionsProgressText:"Zodpovězené otázky: {0} / {1}",emptySurvey:"Průzkumu neobsahuje žádné otázky.",completingSurvey:"Děkujeme za vyplnění průzkumu!",completingSurveyBefore:"Naše záznamy ukazují, že jste tento průzkum již dokončili.",loadingSurvey:"Probíhá načítání průzkumu...",optionsCaption:"Vyber...",value:"hodnota",requiredError:"Odpovězte prosím na otázku.",requiredErrorInPanel:"Please answer at least one question.",requiredInAllRowsError:"Odpovězte prosím na všechny otázky.",numericError:"V tomto poli lze zadat pouze čísla.",textMinLength:"Zadejte prosím alespoň {0} znaků.",textMaxLength:"Zadejte prosím méně než {0} znaků.",textMinMaxLength:"Zadejte prosím více než {0} a méně než {1} znaků.",minRowCountError:"Vyplňte prosím alespoň {0} řádků.",minSelectError:"Vyberte prosím alespoň {0} varianty.",maxSelectError:"Nevybírejte prosím více než {0} variant.",numericMinMax:"Odpověď '{0}' by mělo být větší nebo rovno {1} a menší nebo rovno {2}",numericMin:"Odpověď '{0}' by mělo být větší nebo rovno {1}",numericMax:"Odpověď '{0}' by mělo být menší nebo rovno {1}",invalidEmail:"Zadejte prosím platnou e-mailovou adresu.",invalidExpression:"Výraz: {0} by měl vrátit hodnotu „true“.",urlRequestError:"Požadavek vrátil chybu '{0}'. {1}",urlGetChoicesError:"Požadavek nevrátil data nebo cesta je neplatná",exceedMaxSize:"Velikost souboru by neměla být větší než {0}.",otherRequiredError:"Zadejte prosím jinou hodnotu.",uploadingFile:"Váš soubor se nahrává. Zkuste to prosím za několik sekund.",loadingFile:"Načítání...",chooseFile:"Vyberte soubory ...",noFileChosen:"Není zvolený žádný soubor",confirmDelete:"Chcete smazat záznam?",keyDuplicationError:"Tato hodnota by měla být jedinečná.",addColumn:"Přidat sloupec",addRow:"Přidat řádek",removeRow:"Odstranit",addPanel:"Přidat nový",removePanel:"Odstranit",choices_Item:"položka",matrix_column:"Sloupec",matrix_row:"Řádek",savingData:"Výsledky se ukládají na server ...",savingDataError:"Došlo k chybě a výsledky jsme nemohli uložit.",savingDataSuccess:"Výsledky byly úspěšně uloženy!",saveAgainButton:"Zkus to znovu",timerMin:"min",timerSec:"sek",timerSpentAll:"Na této stránce jste utratili celkem {0} a celkem {1}.",timerSpentPage:"Na této stránce jste utratili {0}.",timerSpentSurvey:"Celkem jste utratili {0}.",timerLimitAll:"Na této stránce jste utratili {0} z {1} a celkem {2} z {3}.",timerLimitPage:"Na této stránce jste strávili {0} z {1}.",timerLimitSurvey:"Celkově jste utratili {0} z {1}.",cleanCaption:"Čistý",clearCaption:"Průhledná",chooseFileCaption:"Vyberte soubor",removeFileCaption:"Odeberte tento soubor",booleanCheckedLabel:"Ano",booleanUncheckedLabel:"Ne",confirmRemoveFile:"Opravdu chcete odebrat tento soubor: {0}?",confirmRemoveAllFiles:"Opravdu chcete odstranit všechny soubory?",questionTitlePatternText:"Název otázky"},r.a.localeNames.cs="čeština"},function(e,t,n){"use strict";var r=n(1);r.a.locales.da={pagePrevText:"Tilbage",pageNextText:"Videre",completeText:"Færdig",previewText:"Forpremiere",editText:"Redigér",startSurveyText:"Start",otherItemText:"Valgfrit svar...",noneItemText:"Ingen",selectAllItemText:"Vælg alle",progressText:"Side {0} af {1}",panelDynamicProgressText:"Optag {0} af {1}",questionsProgressText:"Besvarede {0} / {1} spørgsmål",emptySurvey:"Der er ingen synlige spørgsmål.",completingSurvey:"Mange tak for din besvarelse!",completingSurveyBefore:"Vores data viser at du allerede har gennemført dette spørgeskema.",loadingSurvey:"Spørgeskemaet hentes fra serveren...",optionsCaption:"Vælg...",value:"værdi",requiredError:"Besvar venligst spørgsmålet.",requiredErrorInPanel:"Besvar venligst mindst ét spørgsmål.",requiredInAllRowsError:"Besvar venligst spørgsmål i alle rækker.",numericError:"Angiv et tal.",textMinLength:"Angiv mindst {0} tegn.",textMaxLength:"Please enter less than {0} characters.",textMinMaxLength:"Angiv mere end {0} og mindre end {1} tegn.",minRowCountError:"Udfyld mindst {0} rækker.",minSelectError:"Vælg venligst mindst {0} svarmulighed(er).",maxSelectError:"Vælg venligst færre {0} svarmuligheder(er).",numericMinMax:"'{0}' skal være lig med eller større end {1} og lig med eller mindre end {2}",numericMin:"'{0}' skal være lig med eller større end {1}",numericMax:"'{0}' skal være lig med eller mindre end {1}",invalidEmail:"Angiv venligst en gyldig e-mail adresse.",invalidExpression:"Udtrykket: {0} skal returnere 'true'.",urlRequestError:"Forespørgslen returnerede fejlen '{0}'. {1}",urlGetChoicesError:"Forespørgslen returnerede ingen data eller 'path' parameteren er forkert",exceedMaxSize:"Filstørrelsen må ikke overstige {0}.",otherRequiredError:"Angiv en værdi for dit valgfrie svar.",uploadingFile:"Din fil bliver uploadet. Vent nogle sekunder og prøv eventuelt igen.",loadingFile:"Indlæser...",chooseFile:"Vælg fil(er)...",noFileChosen:"Ingen fil er valgt",confirmDelete:"Vil du fjerne den?",keyDuplicationError:"Denne værdi skal være unik.",addColumn:"Tilføj kolonne",addRow:"Tilføj række",removeRow:"Fjern",addPanel:"Tilføj ny",removePanel:"Fjern",choices_Item:"valg",matrix_column:"Kolonne",matrix_row:"Række",savingData:"Resultaterne bliver gemt på serveren...",savingDataError:"Der opstod en fejl og vi kunne ikke gemme resultatet.",savingDataSuccess:"Resultatet blev gemt!",saveAgainButton:"Prøv igen",timerMin:"min",timerSec:"sek",timerSpentAll:"Du har brugt {0} på denne side og {1} i alt.",timerSpentPage:"Du har brugt {0} på denne side.",timerSpentSurvey:"Du har brugt {0} i alt.",timerLimitAll:"Du har brugt {0} af {1} på denne side og {2} af {3} i alt.",timerLimitPage:"Du har brugt {0} af {1} på denne side.",timerLimitSurvey:"Du har brugt {0} af {1} i alt.",cleanCaption:"Rens",clearCaption:"Fjern",chooseFileCaption:"Vælg fil",removeFileCaption:"Fjern denne fil",booleanCheckedLabel:"Ja",booleanUncheckedLabel:"Ingen",confirmRemoveFile:"Er du sikker på, at du vil fjerne denne fil: {0}?",confirmRemoveAllFiles:"Er du sikker på, at du vil fjerne alle filer?",questionTitlePatternText:"Spørgsmåls titel"},r.a.localeNames.da="dansk"},function(e,t,n){"use strict";var r=n(1);r.a.locales.nl={pagePrevText:"Vorige",pageNextText:"Volgende",completeText:"Verzenden",previewText:"Voorbeeld",editText:"Bewerk",startSurveyText:"Begin met",otherItemText:"Anders, nl.",noneItemText:"Geen",selectAllItemText:"Selecteer Alles",progressText:"Pagina {0} van {1}",panelDynamicProgressText:"Record {0} of {1}",questionsProgressText:"Geantwoord {0}/{1} vragen",emptySurvey:"Er is geen zichtbare pagina of vraag in deze vragenlijst",completingSurvey:"Bedankt voor het invullen van de vragenlijst",completingSurveyBefore:"Onze gegevens tonen aan dat je deze vragenlijst reeds beantwoord hebt.",loadingSurvey:"De vragenlijst is aan het laden...",optionsCaption:"Kies...",value:"waarde",requiredError:"Dit is een vereiste vraag",requiredErrorInPanel:"Gelieve ten minste een vraag te beantwoorden.",requiredInAllRowsError:"Deze vraag vereist één antwoord per rij",numericError:"Het antwoord moet een getal zijn",textMinLength:"Vul minstens {0} karakters in",textMaxLength:"Gelieve minder dan {0} karakters in te vullen.",textMinMaxLength:"Gelieve meer dan {0} en minder dan {1} karakters in te vullen.",minRowCountError:"Gelieve ten minste {0} rijen in te vullen.",minSelectError:"Selecteer minimum {0} antwoorden",maxSelectError:"Selecteer niet meer dan {0} antwoorden",numericMinMax:"Uw antwoord '{0}' moet groter of gelijk zijn aan {1} en kleiner of gelijk aan {2}",numericMin:"Uw antwoord '{0}' moet groter of gelijk zijn aan {1}",numericMax:"Uw antwoord '{0}' moet groter of gelijk zijn aan {1}",invalidEmail:"Vul een geldig e-mailadres in",invalidExpression:"De uitdrukking: {0} moet 'waar' teruggeven.",urlRequestError:"De vraag keerde een fout terug '{0}'. {1}",urlGetChoicesError:"De vraag gaf een leeg antwoord terug of de 'pad' eigenschap is niet correct",exceedMaxSize:"De grootte van het bestand mag niet groter zijn dan {0}",otherRequiredError:"Vul het veld 'Anders, nl.' in",uploadingFile:"Uw bestand wordt opgeladen. Gelieve enkele seconden te wachten en opnieuw te proberen.",loadingFile:"Opladen...",chooseFile:"Kies uw bestand(en)...",noFileChosen:"Geen bestand gekozen",confirmDelete:"Wil je deze gegevens verwijderen?",keyDuplicationError:"Deze waarde moet uniek zijn.",addColumn:"Voeg kolom toe",addRow:"Voeg rij toe",removeRow:"Verwijder",addPanel:"Nieuwe toevoegen",removePanel:"Verwijder",choices_Item:"onderwerp",matrix_column:"Kolom",matrix_row:"Rij",savingData:"De resultaten worden bewaard op de server...",savingDataError:"Er was een probleem en we konden de resultaten niet bewaren.",savingDataSuccess:"De resultaten werden succesvol bewaard!",saveAgainButton:"Probeer opnieuw",timerMin:"minimum",timerSec:"sec",timerSpentAll:"U heeft {0} gespendeerd op deze pagina en {1} in totaal.",timerSpentPage:"U heeft {0} op deze pagina gespendeerd.",timerSpentSurvey:"U heeft in totaal {0} gespendeerd.",timerLimitAll:"U heeft {0} van {1} op deze pagina gespendeerd en {2} van {3} in totaal.",timerLimitPage:"U heeft {0} van {1} gespendeerd op deze pagina.",timerLimitSurvey:"U heeft {0} van {1} in het totaal.",cleanCaption:"Kuis op",clearCaption:"Kuis op",chooseFileCaption:"Gekozen bestand",removeFileCaption:"Verwijder deze file",booleanCheckedLabel:"Ja",booleanUncheckedLabel:"Neen",confirmRemoveFile:"Bent u zeker dat u deze file wilt verwijderen: {0}?",confirmRemoveAllFiles:"Bent u zeker dat u al deze files wilt verwijderen?",questionTitlePatternText:"Titel van de vraag"},r.a.localeNames.nl="nederlands"},function(e,t,n){"use strict";var r=n(1);r.a.locales.et={pagePrevText:"Tagasi",pageNextText:"Edasi",completeText:"Lõpeta",previewText:"Eelvaade",editText:"Muuda",startSurveyText:"Alusta",otherItemText:"Muu (täpsusta)",noneItemText:"Mitte midagi",selectAllItemText:"Vali kõik",progressText:"Lehekülg {0}/{1}",panelDynamicProgressText:"Kirje {0}/{1}",questionsProgressText:"Vastatud {0} küsimust {1}-st",emptySurvey:"Selles uuringus ei ole ühtki nähtavat lehekülge või küsimust.",completingSurvey:"Aitäh, et vastasid ankeedile!",completingSurveyBefore:"Meie andmetel oled sa sellele ankeedile juba vastanud.",loadingSurvey:"Laen ankeeti...",optionsCaption:"Vali...",value:"väärtus",requiredError:"Palun vasta küsimusele.",requiredErrorInPanel:"Palun vasta vähemalt ühele küsimusele.",requiredInAllRowsError:"Palun anna vastus igal real.",numericError:"See peaks olema numbriline väärtus.",textMinLength:"Palun sisesta vähemalt {0} tähemärki.",textMaxLength:"Palun ära sisesta rohkem kui {0} tähemärki.",textMinMaxLength:"Sisesta palun {0} - {1} tähemärki.",minRowCountError:"Sisesta plaun vähemalt {0} rida.",minSelectError:"Palun vali vähemalt {0} varianti.",maxSelectError:"Palun vali kõige rohkem {0} varianti.",numericMinMax:"'{0}' peaks olema võrdne või suurem kui {1} ja võrdne või väiksem kui {2}",numericMin:"'{0}' peaks olema võrdne või suurem kui {1}",numericMax:"'{0}' peaks olema võrnde või väiksem kui {1}",invalidEmail:"Sisesta palun korrektne e-posti aadress.",invalidExpression:"Avaldis: {0} peaks tagastama tõese.",urlRequestError:"Taotlus tagastas vea „{0}”. {1}",urlGetChoicesError:"Taotlus tagastas tühjad andmed või atribuut 'path' on vale",exceedMaxSize:"Faili suurus ei tohi ületada {0}.",otherRequiredError:"Sisesta palun muu vastus.",uploadingFile:"Sinu fail laeb üles. Palun oota mõned sekundid ning proovi seejärel uuesti.",loadingFile:"Laen...",chooseFile:"Vali fail(id)...",noFileChosen:"Faili pole valitud",confirmDelete:"Kas tahad kirje kustutada?",keyDuplicationError:"See väärtus peab olema unikaalne.",addColumn:"Lisa veerg",addRow:"Lisa rida",removeRow:"Eemalda",addPanel:"Lisa uus",removePanel:"Eemalda",choices_Item:"üksus",matrix_column:"Veerg",matrix_row:"Rida",savingData:"Salvestan andmed serveris...",savingDataError:"Tekkis viga ning me ei saanud vastuseid salvestada.",savingDataSuccess:"Vastuste salvestamine õnnestus!",saveAgainButton:"Proovi uuesti",timerMin:"min",timerSec:"sek",timerSpentAll:"Oled veetnud {0} sellel lehel ning kokku {1}.",timerSpentPage:"Oled veetnud {0} sellel lehel.",timerSpentSurvey:"Oled veetnud {0} kokku.",timerLimitAll:"Oled kulutanud {0} võimalikust {1} sellel lehel ning {2} võimalikust {3} kokku.",timerLimitPage:"Oled kulutanud {0} võimalikust {1} sellel lehel.",timerLimitSurvey:"Oled kulutanud {0} võimalikust {1} koguajast.",cleanCaption:"Puhasta",clearCaption:"Puhasta",chooseFileCaption:"Vali fail",removeFileCaption:"Eemalda see fail",booleanCheckedLabel:"Jah",booleanUncheckedLabel:"Ei",confirmRemoveFile:"Oled sa kindel, et soovid selle faili eemaldada: {0}?",confirmRemoveAllFiles:"Oled sa kindel, et soovid eemaldada kõik failid?",questionTitlePatternText:"Küsimuse pealkiri"},r.a.localeNames.et="eesti keel"},function(e,t,n){"use strict";var r=n(1);r.a.locales.fi={pagePrevText:"Edellinen",pageNextText:"Seuraava",completeText:"Valmis",previewText:"Esikatselu",editText:"Muokkaa",startSurveyText:"Aloita",otherItemText:"Muu (tarkenna)",noneItemText:"Ei mitään",selectAllItemText:"Valitse kaikki",progressText:"Sivu {0} / {1}",panelDynamicProgressText:"Osio {0} / {1}",questionsProgressText:"Olet vastannut {0} / {1} kysymykseen.",emptySurvey:"Tässä kyselyssä ei ole yhtään näkyvillä olevaa sivua tai kysymystä.",completingSurvey:"Kiitos kyselyyn vastaamisesta!",completingSurveyBefore:"Tietojemme mukaan olet jo suorittanut tämän kyselyn.",loadingSurvey:"Kyselyä ladataan palvelimelta...",optionsCaption:"Valitse...",value:"arvo",requiredError:"Vastaa kysymykseen, kiitos.",requiredErrorInPanel:"Vastaa ainakin yhteen kysymykseen.",requiredInAllRowsError:"Vastaa kysymyksiin kaikilla riveillä.",numericError:"Arvon tulee olla numeerinen.",textMinLength:"Syötä vähintään {0} merkkiä.",textMaxLength:"Älä syötä yli {0} merkkiä.",textMinMaxLength:"Syötä vähintään {0} ja enintään {1} merkkiä.",minRowCountError:"Täytä vähintään {0} riviä.",minSelectError:"Valitse vähintään {0} vaihtoehtoa.",maxSelectError:"Valitse enintään {0} vaihtoehtoa.",numericMinMax:"Luvun '{0}' tulee olla vähintään {1} ja korkeintaan {2}.",numericMin:"Luvun '{0}' tulee olla vähintään {1}.",numericMax:"Luvun '{0}' tulee olla korkeintaan {1}.",invalidEmail:"Syötä validi sähköpostiosoite.",invalidExpression:"Lausekkeen: {0} pitäisi palauttaa 'true'.",urlRequestError:"Pyyntö palautti virheen {0}. {1}",urlGetChoicesError:"Pyyntö palautti tyhjän tiedoston tai 'path'-asetus on väärä",exceedMaxSize:"Tiedoston koko ei saa olla suurempi kuin {0}.",otherRequiredError:"Tarkenna vastaustasi tekstikenttään.",uploadingFile:"Tiedostoa lähetetään. Odota muutama sekunti ja yritä uudelleen.",loadingFile:"Ladataan...",chooseFile:"Valitse tiedosto(t)...",noFileChosen:"Ei tiedostoa valittuna",confirmDelete:"Haluatko poistaa osion?",keyDuplicationError:"Tämä arvo on jo käytössä. Syötä toinen arvo.",addColumn:"Lisää sarake",addRow:"Lisää rivi",removeRow:"Poista",emptyRowsText:"Ei rivejä",addPanel:"Lisää uusi",removePanel:"Poista",choices_Item:"kohde",matrix_column:"Sarake",matrix_row:"Rivi",savingData:"Tietoja tallennetaan palvelimelle...",savingDataError:"Tapahtui virhe, emmekä voineet tallentaa kyselyn tietoja.",savingDataSuccess:"Tiedot tallennettiin onnistuneesti!",saveAgainButton:"Yritä uudelleen",timerMin:"min",timerSec:"sek",timerSpentAll:"Olet käyttänyt {0} tällä sivulla ja yhteensä {1}.",timerSpentPage:"Olet käyttänyt {0} tällä sivulla.",timerSpentSurvey:"Olet käyttänyt yhteensä {0}.",timerLimitAll:"Olet käyttänyt tällä sivulla {0} / {1} ja yhteensä {2} / {3}.",timerLimitPage:"Olet käyttänyt {0} / {1} tällä sivulla.",timerLimitSurvey:"Olet käyttänyt yhteensä {0} / {1}.",cleanCaption:"Pyyhi",clearCaption:"Tyhjennä",chooseFileCaption:"Valitse tiedosto",removeFileCaption:"Poista tämä tiedosto",booleanCheckedLabel:"Kyllä",booleanUncheckedLabel:"Ei",confirmRemoveFile:"Haluatko varmasti poistaa tämän tiedoston: {0}?",confirmRemoveAllFiles:"Haluatko varmasti poistaa kaikki tiedostot?",questionTitlePatternText:"Kysymyksen otsikko",modalCancelButtonText:"Peruuta",modalApplyButtonText:"Käytä"},r.a.localeNames.fi="suomi"},function(e,t,n){"use strict";var r=n(1);r.a.locales.fr={pagePrevText:"Précédent",pageNextText:"Suivant",completeText:"Terminer",previewText:"Aperçu",editText:"Éditer",startSurveyText:"Commencer",otherItemText:"Autre (préciser)",noneItemText:"Aucun",selectAllItemText:"Tout sélectionner",progressText:"Page {0} sur {1}",panelDynamicProgressText:"Enregistrement {0} sur {1}",questionsProgressText:"{0}/{1} question(s) répondue(s)",emptySurvey:"Il n'y a ni page visible ni question visible dans ce questionnaire",completingSurvey:"Merci d'avoir répondu au questionnaire !",completingSurveyBefore:"Nos données indiquent que vous avez déjà rempli ce questionnaire.",loadingSurvey:"Le questionnaire est en cours de chargement...",optionsCaption:"Choisissez...",value:"valeur",requiredError:"La réponse à cette question est obligatoire.",requiredErrorInPanel:"Merci de répondre au moins à une question.",requiredInAllRowsError:"Toutes les lignes sont obligatoires",numericError:"La réponse doit être un nombre.",textMinLength:"Merci de saisir au moins {0} caractères.",textMaxLength:"Merci de saisir moins de {0} caractères.",textMinMaxLength:"Merci de saisir entre {0} et {1} caractères.",minRowCountError:"Merci de compléter au moins {0} lignes.",minSelectError:"Merci de sélectionner au minimum {0} réponses.",maxSelectError:"Merci de sélectionner au maximum {0} réponses.",numericMinMax:"Votre réponse '{0}' doit être supérieure ou égale à {1} et inférieure ou égale à {2}",numericMin:"Votre réponse '{0}' doit être supérieure ou égale à {1}",numericMax:"Votre réponse '{0}' doit être inférieure ou égale à {1}",invalidEmail:"Merci d'entrer une adresse mail valide.",invalidExpression:"L'expression: {0} doit retourner 'true'.",urlRequestError:"La requête a renvoyé une erreur '{0}'. {1}",urlGetChoicesError:"La requête a renvoyé des données vides ou la propriété 'path' est incorrecte",exceedMaxSize:"La taille du fichier ne doit pas excéder {0}.",otherRequiredError:"Merci de préciser le champ 'Autre'.",uploadingFile:"Votre fichier est en cours de chargement. Merci d'attendre quelques secondes et de réessayer.",loadingFile:"Chargement...",chooseFile:"Ajouter des fichiers...",noFileChosen:"Aucun fichier ajouté",confirmDelete:"Voulez-vous supprimer cet enregistrement ?",keyDuplicationError:"Cette valeur doit être unique.",addColumn:"Ajouter une colonne",addRow:"Ajouter une ligne",removeRow:"Supprimer",addPanel:"Ajouter",removePanel:"Supprimer",choices_Item:"item",matrix_column:"Colonne",matrix_row:"Ligne",savingData:"Les résultats sont en cours de sauvegarde sur le serveur...",savingDataError:"Une erreur est survenue et a empêché la sauvegarde des résultats.",savingDataSuccess:"Les résultats ont bien été enregistrés !",saveAgainButton:"Réessayer",timerMin:"min",timerSec:"sec",timerSpentAll:"Vous avez passé {0} sur cette page et {1} au total.",timerSpentPage:"Vous avez passé {0} sur cette page.",timerSpentSurvey:"Vous avez passé {0} au total.",timerLimitAll:"Vous avez passé {0} sur {1} sur cette page et {2} sur {3} au total.",timerLimitPage:"Vous avez passé {0} sur {1} sur cette page.",timerLimitSurvey:"Vous avez passé {0} sur {1} au total.",cleanCaption:"Nettoyer",clearCaption:"Vider",chooseFileCaption:"Ajouter un fichier",removeFileCaption:"Enlever ce fichier",booleanCheckedLabel:"Oui",booleanUncheckedLabel:"Non",confirmRemoveFile:"Êtes-vous certains de vouloir supprimer ce fichier : {0}?",confirmRemoveAllFiles:"Êtes-vous certains de vouloir supprimer tous les fichiers?",questionTitlePatternText:"Titre de la question"},r.a.localeNames.fr="français"},function(e,t,n){"use strict";var r=n(1);r.a.locales.ka={pagePrevText:"უკან",pageNextText:"შემდეგ",completeText:"დასრულება",progressText:"გვერდი {0} / {1}",emptySurvey:"არცერთი კითხვა არ არის.",completingSurvey:"გმადლობთ კითხვარის შევსებისთვის!",loadingSurvey:"ჩატვირთვა სერვერიდან...",otherItemText:"სხვა (გთხოვთ მიუთითეთ)",optionsCaption:"არჩევა...",requiredError:"გთხოვთ უპასუხეთ კითხვას.",numericError:"პასუხი უნდა იყოს რიცხვი.",textMinLength:"გთხოვთ შეიყვანეთ არანაკლებ {0} სიმბოლო.",minSelectError:"გთხოვთ აირჩიეთ არანაკლებ {0} ვარიანტი.",maxSelectError:"გთხოვთ აირჩიეთ არაუმეტეს {0} ვარიანტი.",numericMinMax:"'{0}' უნდა იყოს მეტი ან ტოლი, ვიდრე {1}, და ნაკლები ან ტოლი ვიდრე {2}",numericMin:"'{0}' უნდა იყოს მეტი ან ტოლი ვიდრე {1}",numericMax:"'{0}' უნდა იყოს ნაკლები ან ტოლი ვიდრე {1}",invalidEmail:"გთხოვთ შეიყვანოთ ელ. ფოსტის რეალური მისამართი.",otherRequiredEror:"გთხოვთ შეავსეთ ველი 'სხვა'"},r.a.localeNames.ka="ქართული"},function(e,t,n){"use strict";var r=n(1);r.a.locales.de={pagePrevText:"Zurück",pageNextText:"Weiter",completeText:"Abschließen",previewText:"Vorschau",editText:"Bearbeiten",startSurveyText:"Start",otherItemText:"Sonstiges (Bitte angeben)",noneItemText:"Nichts trifft zu",selectAllItemText:"Alles auswählen",progressText:"Seite {0} von {1}",panelDynamicProgressText:"Eintrag {0} von {1}",questionsProgressText:"{0}/{1} Fragen beantwortet",emptySurvey:"Es sind keine Fragen vorhanden.",completingSurvey:"Vielen Dank, dass Sie die Umfrage abgeschlossen haben!",completingSurveyBefore:"Wir haben festgestellt, dass Sie diese Umfrage bereits abgeschlossen haben.",loadingSurvey:"Umfrage wird geladen...",optionsCaption:"Bitte auswählen...",value:"Wert",requiredError:"Bitte beantworten Sie diese Frage.",requiredErrorInPanel:"Bitte beantworten Sie mindestens eine Frage.",requiredInAllRowsError:"Bitte beantworten Sie alle Fragen.",numericError:"Der Wert muss eine Zahl sein.",textMinLength:"Bitte geben Sie mindestens {0} Zeichen ein.",textMaxLength:"Bitte geben Sie nicht mehr als {0} Zeichen ein.",textMinMaxLength:"Bitte geben Sie mindestens {0} und maximal {1} Zeichen ein.",minRowCountError:"Bitte machen Sie in mindestens {0} Zeilen eine Eingabe.",minSelectError:"Bitte wählen Sie mindestens {0} Antwort(en) aus.",maxSelectError:"Bitte wählen Sie nicht mehr als {0} Antwort(en) aus.",numericMinMax:"'{0}' muss größer oder gleich {1} und kleiner oder gleich {2} sein",numericMin:"'{0}' muss größer oder gleich {1} sein",numericMax:"'{0}' muss kleiner oder gleich {1} sein",invalidEmail:"Bitte geben Sie eine gültige E-Mail-Adresse ein.",invalidExpression:"Der Ausdruck: {0} muss den Wert 'wahr' zurückgeben.",urlRequestError:"Ein Netzwerkdienst hat folgenden Fehler zurückgegeben '{0}'. {1}",urlGetChoicesError:"Eine Netzwerkdienst hat ungültige Daten zurückgegeben",exceedMaxSize:"Die Datei darf nicht größer als {0} sein.",otherRequiredError:"Bitte geben Sie einen Wert an.",uploadingFile:"Bitte warten Sie bis der Upload Ihrer Dateien abgeschlossen ist.",loadingFile:"Wird hochgeladen...",chooseFile:"Datei(en) auswählen...",noFileChosen:"Keine Datei ausgewählt",confirmDelete:"Wollen Sie den Eintrag löschen?",keyDuplicationError:"Dieser Wert muss einmalig sein.",addColumn:"Spalte hinzufügen",addRow:"Zeile hinzufügen",removeRow:"Entfernen",addPanel:"Neu hinzufügen",removePanel:"Entfernen",choices_Item:"Element",matrix_column:"Spalte",matrix_row:"Zeile",savingData:"Die Ergebnisse werden auf dem Server gespeichert...",savingDataError:"Es ist ein Fehler aufgetreten. Die Ergebnisse konnten nicht gespeichert werden.",savingDataSuccess:"Die Ergebnisse wurden gespeichert!",saveAgainButton:"Erneut absenden",timerMin:"Min.",timerSec:"Sek.",timerSpentAll:"Sie waren {0} auf dieser Seite und brauchten insgesamt {1}.",timerSpentPage:"Sie waren {0} auf dieser Seite.",timerSpentSurvey:"Sie haben insgesamt {0} gebraucht.",timerLimitAll:"Sie waren {0} von {1} auf dieser Seite und brauchten insgesamt {2} von {3}.",timerLimitPage:"Sie waren {0} von {1} auf dieser Seite.",timerLimitSurvey:"Sie haben insgesamt {0} von {1} gebraucht.",cleanCaption:"Alles löschen",clearCaption:"Auswahl entfernen",chooseFileCaption:"Datei auswählen",removeFileCaption:"Datei löschen",booleanCheckedLabel:"Ja",booleanUncheckedLabel:"Nein",confirmRemoveFile:"Sind Sie sicher, dass Sie diese Datei löschen möchten: {0}?",confirmRemoveAllFiles:"Sind Sie sicher, dass Sie alle Dateien löschen möchten?",questionTitlePatternText:"Fragentitel"},r.a.localeNames.de="deutsch"},function(e,t,n){"use strict";var r=n(1);r.a.locales.gr={pagePrevText:"Προηγούμενο",pageNextText:"Επόμενο",completeText:"Ολοκλήρωση",previewText:"Προεπισκόπηση",editText:"Επεξεργασία",startSurveyText:"Αρχή",otherItemText:"Άλλο (παρακαλώ διευκρινίστε)",noneItemText:"Κανένας",selectAllItemText:"Επιλογή όλων",progressText:"Σελίδα {0} από {1}",panelDynamicProgressText:"Εγγραφή {0} από {1}",questionsProgressText:"Απαντήθηκαν {0} / {1} ερωτήσεις",emptySurvey:"Δεν υπάρχει καμία ορατή σελίδα ή ορατή ερώτηση σε αυτό το ερωτηματολόγιο.",completingSurvey:"Ευχαριστούμε για την συμπλήρωση αυτού του ερωτηματολογίου!",completingSurveyBefore:"Τα αρχεία μας δείχνουν ότι έχετε ήδη ολοκληρώσει αυτήν την έρευνα.",loadingSurvey:"Το ερωτηματολόγιο φορτώνεται απο το διακομιστή...",optionsCaption:"Επιλέξτε...",value:"αξία",requiredError:"Παρακαλώ απαντήστε στην ερώτηση.",requiredErrorInPanel:"Απαντήστε σε τουλάχιστον μία ερώτηση.",requiredInAllRowsError:"Παρακαλώ απαντήστε στις ερωτήσεις σε όλες τις γραμμές.",numericError:"Η τιμή πρέπει να είναι αριθμητική.",textMinLength:"Παρακαλώ συμπληρώστε τουλάχιστον {0} σύμβολα.",textMaxLength:"Εισαγάγετε λιγότερους από {0} χαρακτήρες.",textMinMaxLength:"Εισαγάγετε περισσότερους από {0} και λιγότερους από {1} χαρακτήρες.",minRowCountError:"Παρακαλώ συμπληρώστε τουλάχιστον {0} γραμμές.",minSelectError:"Παρακαλώ επιλέξτε τουλάχιστον {0} παραλλαγές.",maxSelectError:"Παρακαλώ επιλέξτε όχι παραπάνω απο {0} παραλλαγές.",numericMinMax:"Το '{0}' θα πρέπει να είναι ίσο ή μεγαλύτερο απο το {1} και ίσο ή μικρότερο απο το {2}",numericMin:"Το '{0}' πρέπει να είναι μεγαλύτερο ή ισο με το {1}",numericMax:"Το '{0}' πρέπει να είναι μικρότερο ή ίσο απο το {1}",invalidEmail:"Παρακαλώ δώστε μια αποδεκτή διεύθυνση e-mail.",invalidExpression:"Η έκφραση: {0} θα πρέπει να επιστρέψει 'true'.",urlRequestError:"Η αίτηση επέστρεψε σφάλμα '{0}'. {1}",urlGetChoicesError:"Η αίτηση επέστρεψε κενά δεδομένα ή η ιδιότητα 'μονοπάτι/path' είναι εσφαλμένη",exceedMaxSize:"Το μέγεθος δεν μπορεί να υπερβαίνει τα {0}.",otherRequiredError:"Παρακαλώ συμπληρώστε την τιμή για το πεδίο 'άλλο'.",uploadingFile:"Το αρχείο σας ανεβαίνει. Παρακαλώ περιμένετε καποια δευτερόλεπτα και δοκιμάστε ξανά.",loadingFile:"Φόρτωση...",chooseFile:"Επιλογή αρχείων ...",noFileChosen:"Δεν έχει επιλεγεί αρχείο",confirmDelete:"Θέλετε να διαγράψετε την εγγραφή;",keyDuplicationError:"Αυτή η τιμή πρέπει να είναι μοναδική.",addColumn:"Προσθήκη στήλης",addRow:"Προσθήκη γραμμής",removeRow:"Αφαίρεση",addPanel:"Προσθεσε νεο",removePanel:"Αφαιρώ",choices_Item:"είδος",matrix_column:"Στήλη",matrix_row:"Σειρά",savingData:"Τα αποτελέσματα αποθηκεύονται στον διακομιστή ...",savingDataError:"Παρουσιάστηκε σφάλμα και δεν ήταν δυνατή η αποθήκευση των αποτελεσμάτων.",savingDataSuccess:"Τα αποτελέσματα αποθηκεύτηκαν με επιτυχία!",saveAgainButton:"Προσπάθησε ξανά",timerMin:"ελάχ",timerSec:"δευτ",timerSpentAll:"Έχετε δαπανήσει {0} σε αυτήν τη σελίδα και {1} συνολικά.",timerSpentPage:"Έχετε ξοδέψει {0} σε αυτήν τη σελίδα.",timerSpentSurvey:"Έχετε ξοδέψει συνολικά {0}.",timerLimitAll:"Έχετε δαπανήσει {0} από {1} σε αυτήν τη σελίδα και {2} από {3} συνολικά.",timerLimitPage:"Έχετε ξοδέψει {0} από {1} σε αυτήν τη σελίδα.",timerLimitSurvey:"Έχετε ξοδέψει {0} από {1} συνολικά.",cleanCaption:"ΚΑΘΑΡΗ",clearCaption:"Σαφή",chooseFileCaption:"Επιλέξτε το αρχείο",removeFileCaption:"Καταργήστε αυτό το αρχείο",booleanCheckedLabel:"Ναί",booleanUncheckedLabel:"Οχι",confirmRemoveFile:"Είστε βέβαιοι ότι θέλετε να καταργήσετε αυτό το αρχείο: {0};",confirmRemoveAllFiles:"Είστε βέβαιοι ότι θέλετε να καταργήσετε όλα τα αρχεία;",questionTitlePatternText:"Τίτλος ερώτησης"},r.a.localeNames.gr="ελληνικά"},function(e,t,n){"use strict";var r=n(1);r.a.locales.he={pagePrevText:"אחורה",pageNextText:"קדימה",completeText:"סיום",previewText:"תצוגה מקדימה",editText:"לַעֲרוֹך",startSurveyText:"הַתחָלָה",otherItemText:"אחר (נא לתאר)",noneItemText:"אף אחד",selectAllItemText:"בחר הכל",progressText:"דף {1} מתוך {0}",panelDynamicProgressText:"הקלטה {0} מתוך {1}",questionsProgressText:"ענה על שאלות",emptySurvey:"אין שאלות",completingSurvey:"תודה על מילוי השאלון!",completingSurveyBefore:"הרשומות שלנו מראות שכבר סיימת את הסקר הזה.",loadingSurvey:"טעינה מהשרת...",optionsCaption:"בחר...",value:"ערך",requiredError:"אנא השב על השאלה",requiredErrorInPanel:"אנא ענה לפחות על שאלה אחת.",requiredInAllRowsError:"אנא ענה על שאלות בכל השורות.",numericError:"התשובה צריכה להיות מספר.",textMinLength:"הזן לפחות {0} תווים.",textMaxLength:"הזן פחות מ- {0} תווים.",textMinMaxLength:"הזן יותר מ- {0} ופחות מ- {1} תווים.",minRowCountError:"אנא מלא לפחות {0} שורות.",minSelectError:"בחר לפחות {0} אפשרויות.",maxSelectError:"בחר עד {0} אפשרויות.",numericMinMax:"'{0}' חייב להיות שווה או גדול מ {1}, ושווה ל- {2} או פחות מ- {}}",numericMin:"'{0}' חייב להיות שווה או גדול מ {1}",numericMax:"'{0}' חייב להיות שווה או קטן מ {1}",invalidEmail:'הזן כתובת דוא"ל חוקית.',invalidExpression:"הביטוי: {0} צריך להחזיר 'אמת'.",urlRequestError:"הבקשה החזירה את השגיאה '{0}'. {1}",urlGetChoicesError:"הבקשה החזירה נתונים ריקים או שהמאפיין 'נתיב' שגוי",exceedMaxSize:"גודל הקובץ לא יעלה על {0}.",otherRequiredError:'נא להזין נתונים בשדה "אחר"',uploadingFile:"הקובץ שלך נטען. המתן מספר שניות ונסה שוב.",loadingFile:"טוען...",chooseFile:"לבחור קבצים...",noFileChosen:"לא נבחר קובץ",confirmDelete:"האם אתה רוצה למחוק את הרשומה?",keyDuplicationError:"ערך זה צריך להיות ייחודי.",addColumn:"הוסף עמודה",addRow:"להוסיף שורה",removeRow:"לְהַסִיר",addPanel:"הוסף חדש",removePanel:"לְהַסִיר",choices_Item:"פריט",matrix_column:"טור",matrix_row:"שׁוּרָה",savingData:"התוצאות נשמרות בשרת ...",savingDataError:"אירעה שגיאה ולא הצלחנו לשמור את התוצאות.",savingDataSuccess:"התוצאות נשמרו בהצלחה!",saveAgainButton:"נסה שוב",timerMin:"דקה",timerSec:"שניות",timerSpentAll:"הוצאת {0} בדף זה ובסך הכל {1}.",timerSpentPage:"הוצאת {0} בדף זה.",timerSpentSurvey:"הוצאת סכום כולל של {0}.",timerLimitAll:"הוצאת {0} מתוך {1} בדף זה ו- {2} מתוך {3} בסך הכל.",timerLimitPage:"הוצאת {0} מתוך {1} בדף זה.",timerLimitSurvey:"הוצאת סכום כולל של {0} מתוך {1}.",cleanCaption:"לְנַקוֹת",clearCaption:"ברור",chooseFileCaption:"בחר קובץ",removeFileCaption:"הסר קובץ זה",booleanCheckedLabel:"כן",booleanUncheckedLabel:"לא",confirmRemoveFile:"האם אתה בטוח שברצונך להסיר קובץ זה: {0}?",confirmRemoveAllFiles:"האם אתה בטוח שברצונך להסיר את כל הקבצים?",questionTitlePatternText:"כותרת שאלה"},r.a.localeNames.he="עברית"},function(e,t,n){"use strict";var r=n(1);r.a.locales.hu={pagePrevText:"Vissza",pageNextText:"Tovább",completeText:"Kész",previewText:"Előnézet",editText:"Szerkesztés",startSurveyText:"Rajt",otherItemText:"Egyéb (adja meg)",noneItemText:"Egyik sem",selectAllItemText:"Mindet kiválaszt",progressText:"{0}./{1} oldal",panelDynamicProgressText:"{0} / {1} rekord",questionsProgressText:"Válaszolt kérdések: {0} / {1}",emptySurvey:"There is no visible page or question in the survey.",completingSurvey:"Köszönjük, hogy kitöltötte felmérésünket!",completingSurveyBefore:"Már kitöltötte a felmérést.",loadingSurvey:"Felmérés betöltése...",optionsCaption:"Válasszon...",value:"érték",requiredError:"Kérjük, válaszolja meg ezt a kérdést!",requiredErrorInPanel:"Kérjük, válaszoljon legalább egy kérdésre.",requiredInAllRowsError:"Kérjük adjon választ minden sorban!",numericError:"Az érték szám kell, hogy legyen!",textMinLength:"Adjon meg legalább {0} karaktert!",textMaxLength:"Legfeljebb {0} karaktert adjon meg!",textMinMaxLength:"Adjon meg legalább {0}, de legfeljebb {1} karaktert!",minRowCountError:"Töltsön ki minimum {0} sort!",minSelectError:"Válasszon ki legalább {0} lehetőséget!",maxSelectError:"Ne válasszon többet, mint {0} lehetőség!",numericMinMax:"'{0}' legyen nagyobb, vagy egyenlő, mint {1} és kisebb, vagy egyenlő, mint {2}!",numericMin:"'{0}' legyen legalább {1}!",numericMax:"The '{0}' ne legyen nagyobb, mint {1}!",invalidEmail:"Adjon meg egy valós email címet!",invalidExpression:"A következő kifejezés: {0} vissza kell adnia az „igaz” értéket.",urlRequestError:"A lekérdezés hibával tért vissza: '{0}'. {1}",urlGetChoicesError:"A lekérdezés üres adattal tért vissza, vagy a 'path' paraméter helytelen.",exceedMaxSize:"A méret nem lehet nagyobb, mint {0}.",otherRequiredError:"Adja meg az egyéb értéket!",uploadingFile:"Feltöltés folyamatban. Várjon pár másodpercet, majd próbálja újra.",loadingFile:"Betöltés...",chooseFile:"Fájlok kiválasztása ...",noFileChosen:"Nincs kiválasztva fájl",confirmDelete:"Törli ezt a rekordot?",keyDuplicationError:"Az értéknek egyedinek kell lennie.",addColumn:"Oszlop hozzáadása",addRow:"Sor hozzáadása",removeRow:"Eltávolítás",addPanel:"Új hozzáadása",removePanel:"Eltávolítás",choices_Item:"elem",matrix_column:"Oszlop",matrix_row:"Sor",savingData:"Eredmény mentése a szerverre...",savingDataError:"Egy hiba folytán nem tudtuk elmenteni az eredményt.",savingDataSuccess:"Eredmény sikeresen mentve!",saveAgainButton:"Próbálja újra",timerMin:"min",timerSec:"sec",timerSpentAll:"Ön {0} összeget költött ezen az oldalon, és összesen {1}.",timerSpentPage:"{0} összeget költött ezen az oldalon.",timerSpentSurvey:"Összesen {0} költött.",timerLimitAll:"Ön {0} / {1} összeget költött ezen az oldalon, és összesen {2} / {3}.",timerLimitPage:"Ön {0} / {1} összeget költött ezen az oldalon.",timerLimitSurvey:"Összesen {0} / {1} összeget költött el.",cleanCaption:"Tiszta",clearCaption:"Egyértelmű",chooseFileCaption:"Válassz fájlt",removeFileCaption:"Távolítsa el ezt a fájlt",booleanCheckedLabel:"Igen",booleanUncheckedLabel:"Nem",confirmRemoveFile:"Biztosan eltávolítja ezt a fájlt: {0}?",confirmRemoveAllFiles:"Biztosan el akarja távolítani az összes fájlt?",questionTitlePatternText:"Kérdés címe"},r.a.localeNames.hu="magyar"},function(e,t,n){"use strict";var r=n(1);r.a.locales.is={pagePrevText:"Tilbaka",pageNextText:"Áfram",completeText:"Lokið",previewText:"Forskoða",editText:"Breyta",startSurveyText:"Byrjaðu",otherItemText:"Hinn (skýring)",noneItemText:"Enginn",selectAllItemText:"Velja allt",progressText:"Síða {0} of {1}",panelDynamicProgressText:"Taka upp {0} af {1}",questionsProgressText:"Svarað {0} / {1} spurningum",emptySurvey:"Það er enginn síða eða spurningar í þessari könnun.",completingSurvey:"Takk fyrir að fyllja út þessa könnun!",completingSurveyBefore:"Skrár okkar sýna að þú hefur þegar lokið þessari könnun.",loadingSurvey:"Könnunin er að hlaða...",optionsCaption:"Veldu...",value:"gildi",requiredError:"Vinsamlegast svarið spurningunni.",requiredErrorInPanel:"Vinsamlegast svaraðu að minnsta kosti einni spurningu.",requiredInAllRowsError:"Vinsamlegast svarið spurningum í öllum röðum.",numericError:"Þetta gildi verður að vera tala.",textMinLength:"Það ætti að vera minnst {0} tákn.",textMaxLength:"Það ætti að vera mest {0} tákn.",textMinMaxLength:"Það ætti að vera fleiri en {0} og færri en {1} tákn.",minRowCountError:"Vinsamlegast fyllið úr að minnsta kosti {0} raðir.",minSelectError:"Vinsamlegast veljið að minnsta kosti {0} möguleika.",maxSelectError:"Vinsamlegast veljið ekki fleiri en {0} möguleika.",numericMinMax:"'{0}' ætti að vera meira en eða jafnt og {1} minna en eða jafnt og {2}",numericMin:"{0}' ætti að vera meira en eða jafnt og {1}",numericMax:"'{0}' ætti að vera minna en eða jafnt og {1}",invalidEmail:"Vinsamlegast sláið inn gilt netfang.",invalidExpression:"Tjáningin: {0} ætti að skila 'satt'.",urlRequestError:"Beiðninn skilaði eftirfaranadi villu '{0}'. {1}",urlGetChoicesError:"Beiðninng skilaði engum gögnum eða slóðinn var röng",exceedMaxSize:"Skráinn skal ekki vera stærri en {0}.",otherRequiredError:"Vinamlegast fyllið út hitt gildið.",uploadingFile:"Skráinn þín var send. Vinsamlegast bíðið í nokkrar sekúndur og reynið aftur.",loadingFile:"Hleður ...",chooseFile:"Veldu skrár ...",noFileChosen:"Engin skrá valin",confirmDelete:"Viltu eyða skránni?",keyDuplicationError:"Þetta gildi ætti að vera einstakt.",addColumn:"Bæta við dálki",addRow:"Bæta við röð",removeRow:"Fjarlægja",addPanel:"Bæta við nýju",removePanel:"Fjarlægðu",choices_Item:"hlutur",matrix_column:"Dálkur",matrix_row:"Röð",savingData:"Niðurstöðurnar eru að spara á netþjóninum ... ",savingDataError:"Villa kom upp og við gátum ekki vistað niðurstöðurnar.",savingDataSuccess:"Árangurinn var vistaður með góðum árangri!",saveAgainButton:"Reyndu aftur",timerMin:"mín",timerSec:"sek",timerSpentAll:"Þú hefur eytt {0} á þessari síðu og {1} samtals.",timerSpentPage:"Þú hefur eytt {0} á þessari síðu.",timerSpentSurvey:"Þú hefur eytt {0} samtals.",timerLimitAll:"Þú hefur eytt {0} af {1} á þessari síðu og {2} af {3} samtals.",timerLimitPage:"Þú hefur eytt {0} af {1} á þessari síðu.",timerLimitSurvey:"Þú hefur eytt {0} af {1} samtals.",cleanCaption:"Hreint",clearCaption:"Hreinsa",chooseFileCaption:"Veldu skrá",removeFileCaption:"Fjarlægðu þessa skrá",booleanCheckedLabel:"Já",booleanUncheckedLabel:"Nei",confirmRemoveFile:"Ertu viss um að þú viljir fjarlægja þessa skrá: {0}?",confirmRemoveAllFiles:"Ertu viss um að þú viljir fjarlægja allar skrár?",questionTitlePatternText:"Spurningartitill"},r.a.localeNames.is="íslenska"},function(e,t,n){"use strict";var r=n(1);r.a.locales.id={pagePrevText:"Sebelumnya",pageNextText:"Selanjutnya",completeText:"Selesai",previewText:"Pratinjau",editText:"Sunting",startSurveyText:"Mulai",otherItemText:"Lainnya (jelaskan)",noneItemText:"Tidak Ada",selectAllItemText:"Pilih Semua",progressText:"Halaman {0} dari {1}",panelDynamicProgressText:"Rekam {0} dari {1}",questionsProgressText:"Menjawab pertanyaan {0} / {1}",emptySurvey:"Tidak ada halaman atau pertanyaan dalam survei.",completingSurvey:"Terima kasih telah menyelesaikan survei!",completingSurveyBefore:"Catatan kami menunjukkan bahwa Anda telah menyelesaikan survei ini.",loadingSurvey:"Memuat survei...",optionsCaption:"Pilih...",value:"nilai",requiredError:"Silahkan jawab pertanyaan berikut.",requiredErrorInPanel:"Silahkan jawab setidaknya satu petanyaan.",requiredInAllRowsError:"Silahkan jawab pertanyaan pada semua baris.",numericError:"Nilai harus berupa angka.",textMinLength:"Silahkan masukkan setidaknya {0} karakter.",textMaxLength:"Silahkan masukkan kurang {0} karakter.",textMinMaxLength:"PSilahkan masukkan lebih dari {0} dan kurang dari {1} karakter.",minRowCountError:"Silahkan isi setidaknya {0} baris.",minSelectError:"Silahkan pilih setidaknya {0} varian.",maxSelectError:"Silahkan pilih tidak lebih dari {0} varian.",numericMinMax:"'{0}' harus sama dengan atau lebih dari {1} dan harus sama dengan atau kurang dari {2}",numericMin:"'{0}' harus sama dengan atau lebih dari {1}",numericMax:"'{0}' harus sama dengan atau kurang dari {1}",invalidEmail:"Silahkan masukkan e-mail yang benar.",invalidExpression:"Ekspresi: {0} harus mengembalikan 'benar'.",urlRequestError:"Permintaan mengembalikan kesalahan '{0}'. {1}",urlGetChoicesError:"Permintaan mengembalikan data kosong atau properti 'path' salah.",exceedMaxSize:"Ukuran berkas tidak boleh melebihi {0}.",otherRequiredError:"Silahkan masukkan nilai lainnnya.",uploadingFile:"Berkas Anda sedang diunggah. Silahkan tunggu beberapa saat atau coba lagi.",loadingFile:"Memuat...",chooseFile:"Pilih berkas...",noFileChosen:"Tidak ada file yang dipilih",confirmDelete:"Apakah Anda ingin menghapus catatan?",keyDuplicationError:"Nilai harus unik.",addColumn:"Tambah kolom",addRow:"Tambah baris",removeRow:"Hapus",addPanel:"Tambah baru",removePanel:"Hapus",choices_Item:"item",matrix_column:"Kolom",matrix_row:"Baris",savingData:"Hasil sedang disimpan pada server...",savingDataError:"Kesalahan terjadi dan kami tidak dapat menyimpan hasil.",savingDataSuccess:"Hasil telah sukses disimpan!",saveAgainButton:"Coba lagi",timerMin:"menit",timerSec:"detik",timerSpentAll:"Anda telah menghabiskan {0} pada halaman ini dan {1} secara keseluruhan.",timerSpentPage:"YAnda telah menghabiskan {0} pada halaman ini.",timerSpentSurvey:"Anda telah menghabiskan {0} secara keseluruhan.",timerLimitAll:"Anda telah menghabiskan {0} dari {1} pada halaman ini dan {2} dari {3} secara keseluruhan.",timerLimitPage:"Anda telah menghabiskan {0} dari {1} pada halaman ini.",timerLimitSurvey:"Anda telah menghabiskan {0} dari {1} secara keseluruhan.",cleanCaption:"Bersihkan",clearCaption:"Bersihkan",chooseFileCaption:"Pilih File",removeFileCaption:"Hapus berkas ini",booleanCheckedLabel:"Iya",booleanUncheckedLabel:"Tidak",confirmRemoveFile:"Anda yakin ingin menghapus file ini: {0}?",confirmRemoveAllFiles:"Anda yakin ingin menghapus semua file?",questionTitlePatternText:"Judul pertanyaan"},r.a.localeNames.id="bahasa Indonesia"},function(e,t,n){"use strict";var r=n(1);r.a.locales.it={pagePrevText:"Precedente",pageNextText:"Successivo",completeText:"Salva",previewText:"Anteprima",editText:"Modifica",startSurveyText:"Inizio",otherItemText:"Altro (descrivi)",noneItemText:"Nessuno",selectAllItemText:"Seleziona tutti",progressText:"Pagina {0} di {1}",panelDynamicProgressText:"Record di {0} di {1}",questionsProgressText:"Risposte a {0}/{1} domande",emptySurvey:"Non ci sono pagine o domande visibili nel questionario.",completingSurvey:"Grazie per aver completato il questionario!",completingSurveyBefore:"I nostri records mostrano che hai già completato questo questionario.",loadingSurvey:"Caricamento del questionario in corso...",optionsCaption:"Scegli...",value:"valore",requiredError:"Campo obbligatorio",requiredErrorInPanel:"Per Favore, rispondi ad almeno una domanda.",requiredInAllRowsError:"Completare tutte le righe",numericError:"Il valore deve essere numerico",textMinLength:"Inserire almeno {0} caratteri",textMaxLength:"Lunghezza massima consentita {0} caratteri",textMinMaxLength:"Inserire una stringa con minimo {0} e massimo {1} caratteri",minRowCountError:"Completare almeno {0} righe.",minSelectError:"Selezionare almeno {0} varianti.",maxSelectError:"Selezionare massimo {0} varianti.",numericMinMax:"'{0}' deve essere uguale o superiore a {1} e uguale o inferiore a {2}",numericMin:"'{0}' deve essere uguale o superiore a {1}",numericMax:"'{0}' deve essere uguale o inferiore a {1}",invalidEmail:"Inserire indirizzo mail valido",invalidExpression:"L'espressione: {0} dovrebbe tornare 'vero'.",urlRequestError:"La richiesta ha risposto con un errore '{0}'. {1}",urlGetChoicesError:"La richiesta ha risposto null oppure il percorso non è corretto",exceedMaxSize:"Il file non può eccedere {0}",otherRequiredError:"Inserire il valore 'altro'",uploadingFile:"File in caricamento. Attendi alcuni secondi e riprova",loadingFile:"Caricamento...",chooseFile:"Selezionare file(s)...",noFileChosen:"Nessun file selezionato",confirmDelete:"Sei sicuro di voler elminare il record?",keyDuplicationError:"Questo valore deve essere univoco.",addColumn:"Aggiungi colonna",addRow:"Aggiungi riga",removeRow:"Rimuovi riga",addPanel:"Aggiungi riga",removePanel:"Elimina",choices_Item:"Elemento",matrix_column:"Colonna",matrix_row:"Riga",savingData:"Salvataggio dati sul server...",savingDataError:"Si è verificato un errore e non è stato possibile salvare i risultati.",savingDataSuccess:"I risultati sono stati salvati con successo!",saveAgainButton:"Riprova",timerMin:"min",timerSec:"sec",timerSpentAll:"Hai impiegato {0} su questa pagina e {1} in totale.",timerSpentPage:"Hai impiegato {0} su questa pagina.",timerSpentSurvey:"Hai impiegato {0} in totale.",timerLimitAll:"Hai impiegato {0} di {1} su questa pagina e {2} di {3} in totale.",timerLimitPage:"Hai impiegato {0} di {1} su questa pagina.",timerLimitSurvey:"Hai impiegato {0} di {1} in totale.",cleanCaption:"Pulisci",clearCaption:"Cancella",chooseFileCaption:"Scegliere il file",removeFileCaption:"Rimuovere questo file",booleanCheckedLabel:"Sì",booleanUncheckedLabel:"No",confirmRemoveFile:"Sei sicuro di voler elminare questo file: {0}?",confirmRemoveAllFiles:"Sei sicuro di voler elminare tutti i files?",questionTitlePatternText:"Titolo della domanda"},r.a.localeNames.it="italiano"},function(e,t,n){"use strict";var r=n(1);r.a.locales.ja={pagePrevText:"前へ",pageNextText:"次へ",completeText:"完了",previewText:"プレビュー",editText:"編集",startSurveyText:"スタート",otherItemText:"その他（説明）",noneItemText:"なし",selectAllItemText:"すべて選択",progressText:"{0}/{1}頁",panelDynamicProgressText:"{1}の{0}を記録する",questionsProgressText:"{0}/{1}の質問に回答しました。",emptySurvey:"この調査に表示できるページや質問はありません",completingSurvey:"調査を完了してくれてありがとうございました",completingSurveyBefore:"当社の記録によると、この調査はすでに完了しています。",loadingSurvey:"調査をダウンロード中",optionsCaption:"選択",value:"値打ち",requiredError:"質問にお答え下さい",requiredErrorInPanel:"最低でも1つの質問に答えてください。",requiredInAllRowsError:"質問には全列で回答してください。",numericError:"数字でご記入下さい",textMinLength:"{0} 文字以上で入力して下さい",textMaxLength:"{0}文字以下で入力してください。",textMinMaxLength:"{0}以上{1}未満の文字を入力してください。",minRowCountError:"{0}行以上で入力して下さい",minSelectError:"{0}種類以上を選択して下さい",maxSelectError:"{0}以上のバリアントを選択しないでください。",numericMinMax:"{0}は{1}以上であり、{2}以下であることが望ましい。",numericMin:"'{0}' は同等か{1}より大きくなければなりません",numericMax:"'{0}' は同等か{1}より小さくなければなりません",invalidEmail:"有効なメールアドレスをご記入下さい",invalidExpression:"式は {0}は'true'を返すべきです。",urlRequestError:"リクエストはエラー '{0}' を返しました。{1}",urlGetChoicesError:"リクエストが空のデータを返したか、'path' プロパティが正しくありません。",exceedMaxSize:"ファイルのサイズは{0}を超えてはいけません",otherRequiredError:"その他の値を入力してください。",uploadingFile:"ファイルをアップロード中です。しばらくしてから再度お試し下さい",loadingFile:"読み込み中",chooseFile:"ファイルを選択",noFileChosen:"選択されたファイルはありません",confirmDelete:"レコードを削除しますか？",keyDuplicationError:"この値は一意でなければなりません。",addColumn:"列の追加",addRow:"追加行",removeRow:"除去",addPanel:"新規追加",removePanel:"除去",choices_Item:"品目",matrix_column:"コラム",matrix_row:"行",savingData:"結果はサーバーに保存されています...。",savingDataError:"エラーが発生し、結果を保存できませんでした。",savingDataSuccess:"結果は無事に保存されました",saveAgainButton:"もう一度試してみてください。",timerMin:"僅少",timerSec:"セック",timerSpentAll:"あなたはこのページに{0}を費やし、合計で{1}を費やしました。",timerSpentPage:"あなたはこのページに{0}を費やしました。",timerSpentSurvey:"合計で{0}を使ったことになります。",timerLimitAll:"このページに{1}のうち{0}を費やし、{3}のうち{2}を合計で費やしました。",timerLimitPage:"このページで{1}の{0}を使ったことがあります。",timerLimitSurvey:"合計で{1}の{0}を使ったことがあります。",cleanCaption:"削除",clearCaption:"空白",chooseFileCaption:"ファイルを選択",removeFileCaption:"このファイルを削除",booleanCheckedLabel:"噫",booleanUncheckedLabel:"否",confirmRemoveFile:"このファイルを削除してもよろしいですか？{0}?",confirmRemoveAllFiles:"すべてのファイルを削除してもよろしいですか？",questionTitlePatternText:"質問名"},r.a.localeNames.ja="日本語"},function(e,t,n){"use strict";var r=n(1);r.a.locales.ko={pagePrevText:"이전",pageNextText:"다음",completeText:"완료",previewText:"시사",editText:"편집하다",startSurveyText:"시작",otherItemText:"기타(설명)",noneItemText:"없음",selectAllItemText:"모두 선택",progressText:"페이지 {1} 중 {0}",panelDynamicProgressText:"{0} / {1} 기록",questionsProgressText:"{0} / {1} 개의 질문에 답변 함",emptySurvey:"설문지에 보여지는 페이지나 질문이 없습니다",completingSurvey:"설문 조사를 완료해 주셔서 감사합니다!",completingSurveyBefore:"기록에 따르면 이미 설문 조사를 마치셨습니다.",loadingSurvey:"설문조사가 로드중입니다...",optionsCaption:"선택하십시오...",value:"값",requiredError:"질문에 답하시오.",requiredErrorInPanel:"하나 이상의 질문에 답하십시오.",requiredInAllRowsError:"모든 행에 있는 질문에 답하십시오.",numericError:"값은 숫자여야 합니다.",textMinLength:"답변의 길이는 최소 {0}자여야 입니다.",textMaxLength:"답변의 길이는 {0}자를 초과 할 수 없습니다.",textMinMaxLength:"답변의 길이는 {0} - {1}자 사이여야 합니다.",minRowCountError:"최소 {0}개의 행을 채우십시오",minSelectError:"최소 {0}개의 변수를 선택하십시오.",maxSelectError:"최대 {0}개의 변수를 선택하십시오.",numericMinMax:"'{0}'은 {1}보다 크거나 같고 {2}보다 작거나 같아야합니다.",numericMin:"'{0}'은 {1}보다 크거나 같아야합니다.",numericMax:"'{0}'은 {1}보다 작거나 같아야합니다.",invalidEmail:"올바른 이메일 주소를 입력하십시오.",invalidExpression:"표현식: {0}은 '참'이어야 합니다.",urlRequestError:"'{0}'으로 잘못된 요청입니다. {1}",urlGetChoicesError:"비어있는 데이터를 요청했거나 잘못된 속성의 경로입니다.",exceedMaxSize:"파일 크기가 {0}을 초과 할 수 없습니다.",otherRequiredError:"다른 질문을 작성하십시오.",uploadingFile:"파일 업로드 중입니다. 잠시 후 다시 시도하십시오.",loadingFile:"로드 중...",chooseFile:"파일 선택...",noFileChosen:"선택된 파일이 없습니다",confirmDelete:"기록을 삭제하시겠습니까?",keyDuplicationError:" 이 값은 고유해야합니다.",addColumn:"열 추가",addRow:"행 추가",removeRow:"제거",addPanel:"새롭게 추가",removePanel:"제거",choices_Item:"항목",matrix_column:"열",matrix_row:"행",savingData:"결과가 서버에 저장 중입니다...",savingDataError:"오류가 발생하여 결과를 저장할 수 없습니다.",savingDataSuccess:"결과가 성공적으로 저장되었습니다!",saveAgainButton:"다시 시도하십시오",timerMin:"분",timerSec:"초",timerSpentAll:"현재 페이지에서 {0}을 소요해 총 {1}이 걸렸습니다.",timerSpentPage:"현재 페이지에서 {0]이 걸렸습니다",timerSpentSurvey:"총 {0}이 걸렸습니다.",timerLimitAll:"현재 페이지에서 {0}/{1}을 소요해 총 {2}/{3}이 걸렸습니다.",timerLimitPage:"현재 페이지에서 {0}/{1}이 걸렸습니다.",timerLimitSurvey:"총 {0}/{1}이 걸렸습니다.",cleanCaption:"닦기",clearCaption:"지우기",chooseFileCaption:"파일을 선택",removeFileCaption:"이 파일 제거",booleanCheckedLabel:"예",booleanUncheckedLabel:"아니",confirmRemoveFile:"{0} 파일을 제거 하시겠습니까?",confirmRemoveAllFiles:"모든 파일을 제거 하시겠습니까?",questionTitlePatternText:"질문 제목"},r.a.localeNames.ko="한국어"},function(e,t,n){"use strict";var r=n(1);r.a.locales.lv={pagePrevText:"Atpakaļ",pageNextText:"Tālāk",completeText:"Pabeigt",previewText:"Priekšskatījums",editText:"Rediģēt",startSurveyText:"Sākt",otherItemText:"Cits (lūdzu, aprakstiet!)",noneItemText:"Nav",selectAllItemText:"Izvēlēties visus",progressText:"Lappuse {0} no {1}",panelDynamicProgressText:"Ierakstīt {0} no {1}",questionsProgressText:"Atbildēja uz jautājumiem {0} / {1}",emptySurvey:"Nav neviena jautājuma.",completingSurvey:"Pateicamies Jums par anketas aizpildīšanu!",completingSurveyBefore:"Mūsu ieraksti liecina, ka jūs jau esat aizpildījis šo aptauju.",loadingSurvey:"Ielāde no servera...",optionsCaption:"Izvēlēties...",value:"value",requiredError:"Lūdzu, atbildiet uz jautājumu!",requiredErrorInPanel:"Lūdzu, atbildiet uz vismaz vienu jautājumu.",requiredInAllRowsError:"Lūdzu, atbildiet uz jautājumiem visās rindās.",numericError:"Atbildei ir jābūt skaitlim.",textMinLength:"Lūdzu, ievadiet vismaz {0} simbolus.",textMaxLength:"Lūdzu, ievadiet mazāk nekā {0} rakstzīmes.",textMinMaxLength:"Lūdzu, ievadiet vairāk nekā {0} rakstzīmes un mazāk nekā {1} rakstzīmes.",minRowCountError:"Lūdzu, aizpildiet vismaz {0} rindas.",minSelectError:"Lūdzu, izvēlieties vismaz {0} variantu.",maxSelectError:"Lūdzu, izvēlieties ne vairak par {0} variantiem.",numericMinMax:"'{0}' jābūt vienādam vai lielākam nekā {1}, un vienādam vai mazākam, nekā {2}",numericMin:"'{0}' jābūt vienādam vai lielākam {1}",numericMax:"'{0}' jābūt vienādam vai lielākam {1}",invalidEmail:"Lūdzu, ievadiet patiesu e-pasta adresi!",invalidExpression:"Izteicienam: {0} jāatgriež “true”.",urlRequestError:"Pieprasījumā tika atgriezta kļūda “{0}”. {1}",urlGetChoicesError:"Pieprasījums atgrieza tukšus datus vai rekvizīts “path” ir nepareizs",exceedMaxSize:"Faila lielums nedrīkst pārsniegt {0}.",otherRequiredError:"Lūdzu, ievadiet datus laukā 'Cits'",uploadingFile:"Jūsu fails tiek augšupielādēts. Lūdzu, uzgaidiet vairākas sekundes un mēģiniet vēlreiz.",loadingFile:"Notiek ielāde ...",chooseFile:"Izvēlieties failus ...",noFileChosen:"Nav izvēlēts neviens fails",confirmDelete:"Vai vēlaties izdzēst ierakstu?",keyDuplicationError:"Šai vērtībai jābūt unikālai.",addColumn:"Pievienot kolonnu",addRow:"Pievienot rindu",removeRow:"Noņemt",addPanel:"Pievieno jaunu",removePanel:"Noņemt",choices_Item:"lieta",matrix_column:"Sleja",matrix_row:"Rinda",savingData:"Rezultāti tiek saglabāti serverī ...",savingDataError:"Radās kļūda, un mēs nevarējām saglabāt rezultātus.",savingDataSuccess:"Rezultāti tika veiksmīgi saglabāti!",saveAgainButton:"Mēģini vēlreiz",timerMin:"min",timerSec:"sek",timerSpentAll:"Šajā lapā esat iztērējis {0} un kopā {1}.",timerSpentPage:"Šajā lapā esat iztērējis {0}.",timerSpentSurvey:"Kopā esat iztērējis {0}.",timerLimitAll:"Šajā lapā esat iztērējis {0} no {1} un kopā {2} no {3}.",timerLimitPage:"Šajā lapā esat iztērējis {0} no {1}.",timerLimitSurvey:"Kopā esat iztērējis {0} no {1}.",cleanCaption:"Tīrs",clearCaption:"Skaidrs",chooseFileCaption:"Izvēlēties failu",removeFileCaption:"Noņemiet šo failu",booleanCheckedLabel:"Jā",booleanUncheckedLabel:"Nē",confirmRemoveFile:"Vai tiešām vēlaties noņemt šo failu: {0}?",confirmRemoveAllFiles:"Vai tiešām vēlaties noņemt visus failus?",questionTitlePatternText:"Jautājuma nosaukums"},r.a.localeNames.lv="latviešu"},function(e,t,n){"use strict";var r=n(1);r.a.locales.lt={pagePrevText:"Atgal",pageNextText:"Toliau",completeText:"Baigti",previewText:"Peržiūra",editText:"Redaguoti",startSurveyText:"Pradėti",otherItemText:"Kita (įvesti)",noneItemText:"Nėra",selectAllItemText:"Pasirinkti visus",progressText:"Puslapis {0} iš {1}",panelDynamicProgressText:"Įrašyti {0} iš {1}",questionsProgressText:"Atsakė į {0} / {1} klausimus",emptySurvey:"Apklausoje nėra matomo puslapio ar klausimo.",completingSurvey:"Dėkojame už dalyvavimą apklausoje!",completingSurveyBefore:"Mūsų įrašai rodo, kad jau atlikote šią apklausą.",loadingSurvey:"Prašome palaukti...",optionsCaption:"Pasirinkti...",value:"reikšmė",requiredError:"Būtina atsakyti į šį klausimą.",requiredErrorInPanel:"Būtina atsakyti bent į vieną klausimą.",requiredInAllRowsError:"Prašome atsakyti į klausimus visose eilutėse.",numericError:"Turi būti skaičiai.",textMinLength:"Prašome suvesti bent {0} simbolius.",textMaxLength:"Prašome suvesti mažiau nei {0} simbolių.",textMinMaxLength:"Prašome suvesti daugiau nei {0} ir mažiau nei {1} simbolių.",minRowCountError:"Prašome suvesti ne mažiau nei {0} eilučių.",minSelectError:"Prašome pasirinkti bent {0} variantų.",maxSelectError:"Pasirinkite ne daugiau kaip {0} variantus.",numericMinMax:"'{0}' turi būti lygus arba didesnis nei {1} ir lygus arba mažesnis nei {2}",numericMin:"'{0}' turėtų būti lygus arba didesnis nei {1}",numericMax:"'{0}' turėtų būti lygus ar mažesnis už {1}",invalidEmail:"Prašome įvesti galiojantį elektroninio pašto adresą.",invalidExpression:"Reikšmė: {0} turi grąžinti 'true'.",urlRequestError:"Užklausa grąžino klaidą'{0}'. {1}",urlGetChoicesError:"Užklausa grąžino tuščius duomenis arba 'path' savybė yra neteisinga",exceedMaxSize:"Failo dydis neturi viršyti {0}.",otherRequiredError:"Įveskite kitą reikšmę.",uploadingFile:"Jūsų failas yra keliamas. Palaukite keletą sekundžių ir bandykite dar kartą.",loadingFile:"Prašome palaukti...",chooseFile:"Pasirinkti failą(us)...",noFileChosen:"Nepasirinktas joks failas",confirmDelete:"Ar norite ištrinti įrašą?",keyDuplicationError:"Ši reikšmė turėtų būti unikali.",addColumn:"Pridėti stulpelį",addRow:"Pridėti eilutę",removeRow:"Ištrinti",addPanel:"Pridėti naują",removePanel:"Ištrinti",choices_Item:"elementas",matrix_column:"Stulpelis",matrix_row:"Eilutė",savingData:"Rezultatai saugomi serveryje...",savingDataError:"Įvyko klaida ir mes negalėjome išsaugoti rezultatų.",savingDataSuccess:"Rezultatai buvo išsaugoti sėkmingai!",saveAgainButton:"Bandyti dar kartą",timerMin:"min",timerSec:"sek",timerSpentAll:"Praleidote {0} šiame puslapyje ir {1} iš viso.",timerSpentPage:"Praleidote {0} šiame puslapyje.",timerSpentSurvey:"Praleidote {0} iš viso.",timerLimitAll:"Praleidote {0} iš {1} šiame puslapyje ir {2} iš {3} iš viso.",timerLimitPage:"Praleidote {0} iš {1} šiame puslapyje.",timerLimitSurvey:"Praleidote {0} iš {1} iš viso.",cleanCaption:"Išvalyti",clearCaption:"Valyti",chooseFileCaption:"Pasirinkti failą",removeFileCaption:"Ištrinti šį failą",booleanCheckedLabel:"Taip",booleanUncheckedLabel:"Ne",confirmRemoveFile:"Ar tikrai norite pašalinti šį failą: {0}?",confirmRemoveAllFiles:"Ar tikrai norite pašalinti visus failus?",questionTitlePatternText:"Klausimo pavadinimas"},r.a.localeNames.lt="lietuvių"},function(e,t,n){"use strict";var r=n(1);r.a.locales.mk={pagePrevText:"Претходна",pageNextText:"Следно",completeText:"Заврши",previewText:"Преглед",editText:"Уредување",startSurveyText:"Започнете",otherItemText:"Друго (опиши)",noneItemText:"Ништо",selectAllItemText:"Селектирај се",progressText:"Страница {0} од {1}",panelDynamicProgressText:"Сними {0} од {1}",questionsProgressText:"Одговорени на {0} / {1} прашања",emptySurvey:"Нема видлива страница или прашање во истражувањето.",completingSurvey:"Ви благодариме што го завршивте истражувањето!",completingSurveyBefore:"Нашите записи покажуваат дека веќе сте го завршиле ова истражување.",loadingSurvey:"Анкетата се вчитува ...",optionsCaption:"Изберете ...",value:"вредност",requiredError:"Ве молам, одговорете на прашањето.",requiredErrorInPanel:"Ве молам, одговорете барем на едно прашање.",requiredInAllRowsError:"Ве молиме, одговорете на прашања во сите редови.",numericError:"Вредноста треба да биде нумеричка.",minError:"Вредноста не треба да биде помала од {0}",maxError:"Вредноста не треба да биде поголема од {0}",textMinLength:"Внесете најмалку {0} знак/ци.",textMaxLength:"Внесете не повеќе од {0} знак/ци.",textMinMaxLength:"Внесете најмалку {0} и не повеќе од {1} знаци.",minRowCountError:"Пополнете најмалку {0} ред(ови).",minSelectError:"Ве молиме изберете најмалку {0} варијанта(и).",maxSelectError:"Изберете не повеќе од {0} варијанта(и).",numericMinMax:"'{0}' треба да биде најмалку {1} и најмногу {2}",numericMin:"'{0}' треба да биде најмалку {1}",numericMax:"'{0}' треба да биде најмногу {1}",invalidEmail:"Ве молиме внесете валидна е-маил адреса.",invalidExpression:"Изразот: {0} треба да се врати 'true'.",urlRequestError:"Барањето врати грешка '{0}'. {1} ",urlGetChoicesError:"Барањето врати празни податоци или својството 'path' е неточно",exceedMaxSize:"Големината на датотеката не треба да надминува {0}.",otherRequiredError:"Внесете ја другата вредност.",uploadingFile:"Вашата датотека се поставува. Ве молиме почекајте неколку секунди и обидете се повторно.",loadingFile:"Се вчитува ...",chooseFile:"Изберете датотека (и) ...",noFileChosen:"Не се избрани датотеки",confirmDelete:"Дали сакате да го избришете записот?",keyDuplicationError:"Оваа вредност треба да биде единствена.",addColumn:"Додај колона",addRow:"Додади ред",removeRow:"Отстрани",emptyRowsText:"Нема редови.",addPanel:"Додади ново",removePanel:"Отстрани",choices_Item:"ставка",matrix_column:"Колона",matrix_row:"Ред",savingData:"Резултатите се зачувуваат на серверот ...",savingDataError:"Настана грешка и не можевме да ги зачуваме резултатите.",savingDataSuccess:"Резултатите беа успешно зачувани!",saveAgainButton:"Обиди се повторно",timerMin:"мин",timerSec:"сек",timerSpentAll:"Поминавте {0} на оваа страница и вкупно {1}.",timerSpentPage:"Поминавте {0} на оваа страница.",timerSpentSurvey:"Вие потрошивте вкупно {0}.",timerLimitAll:"Поминавте {0} од {1} на оваа страница и {2} од {3} вкупно.",timerLimitPage:"Поминавте {0} од {1} на оваа страница.",timerLimitSurvey:"Вие потрошивте вкупно {0} од {1}.",cleanCaption:"Чисти",clearCaption:"Да расчисти",chooseFileCaption:"Изберете датотека",removeFileCaption:"Отстранете ја оваа датотека",booleanCheckedLabel:"Да",booleanUncheckedLabel:"Не",confirmRemoveFile:"Дали сте сигурни дека сакате да ја отстраните оваа датотека: {0}?",confirmRemoveAllFiles:"Дали сте сигурни дека сакате да ги отстраните сите датотеки?",questionTitlePatternText:"Наслов на прашањето",modalCancelButtonText:"Откажи",modalApplyButtonText:"Аплицирај"},r.a.localeNames.mk="Македонски"},function(e,t,n){"use strict";var r=n(1);r.a.locales.no={pagePrevText:"Forrige",pageNextText:"Neste",completeText:"Fullfør",previewText:"Forhåndsvisning",editText:"Redigere",startSurveyText:"Start",otherItemText:"Annet (beskriv)",noneItemText:"Ingen",selectAllItemText:"Velg alle",progressText:"Side {0} av {1}",panelDynamicProgressText:"Ta opp {0} av {1}",questionsProgressText:"Besvarte {0} / {1} spørsmål",emptySurvey:"Det er ingen synlig side eller spørsmål i undersøkelsen.",completingSurvey:"Takk for at du fullførte undersøkelsen!",completingSurveyBefore:"Våre data viser at du allerede har gjennomført denne undersøkelsen.",loadingSurvey:"Undersøkelsen laster...",optionsCaption:"Velg...",value:"verdi",requiredError:"Vennligst svar på spørsmålet.",requiredErrorInPanel:"Vennligst svar på minst ett spørsmål.",requiredInAllRowsError:"Vennligst svar på spørsmål i alle rader.",numericError:"Verdien skal være numerisk.",textMinLength:"Vennligst skriv inn minst {0} tegn.",textMaxLength:"Vennligst skriv inn mindre enn {0} tegn.",textMinMaxLength:"Vennligst skriv inn mer enn {0} og mindre enn {1} tegn.",minRowCountError:"Vennligst fyll inn minst {0} rader.",minSelectError:"Vennligst velg minst {0} varianter.",maxSelectError:"Vennligst ikke velg mer enn {0} varianter.",numericMinMax:"'{0}' bør være lik eller mer enn {1} og lik eller mindre enn {2}",numericMin:"'{0}' bør være lik eller mer enn {1}",numericMax:"'{0}' bør være lik eller mindre enn {1}",invalidEmail:"Vennligst skriv inn en gyldig e-post adresse.",invalidExpression:"Uttrykket: {0} skal returnere 'sant'.",urlRequestError:"Forespørselen returnerte feilen '{0}'. {1}",urlGetChoicesError:"Forespørselen returnerte tomme data, eller 'sti' -egenskapen er feil",exceedMaxSize:"Filstørrelsen bør ikke overstige {0}.",otherRequiredError:"Vennligst skriv inn den andre verdien.",uploadingFile:"Filen din lastes opp. Vennligst vent noen sekunder og prøv igjen.",loadingFile:"Laster inn ...",chooseFile:"Velg fil (er) ...",noFileChosen:"Ingen fil valgt",confirmDelete:"Ønsker du å slette posten?",keyDuplicationError:"Denne verdien skal være unik.",addColumn:"Legg til kolonne",addRow:"Legg til rad",removeRow:"Fjern",addPanel:"Legg til ny",removePanel:"Fjerne",choices_Item:"element",matrix_column:"Kolonne",matrix_row:"Rad",savingData:"Resultatene lagres på serveren ...",savingDataError:"Det oppsto en feil, og vi kunne ikke lagre resultatene.",savingDataSuccess:"Resultatene ble lagret!",saveAgainButton:"Prøv igjen",timerMin:"min",timerSec:"sek",timerSpentAll:"Du har tilbrakt {0} på denne siden og {1} totalt.",timerSpentPage:"Du har tilbrakt {0} på denne siden.",timerSpentSurvey:"Du har tilbrakt {0} totalt.",timerLimitAll:"Du har tilbrakt {0} av {1} på denne siden og totalt {2} av {3}.",timerLimitPage:"Du har tilbrakt {0} av {1} på denne siden.",timerLimitSurvey:"Du har tilbrakt {0} av {1} totalt.",cleanCaption:"Rens",clearCaption:"Klar",chooseFileCaption:"Velg Fil",removeFileCaption:"Fjern denne filen",booleanCheckedLabel:"Ja",booleanUncheckedLabel:"Nei",confirmRemoveFile:"Er du sikker på at du vil fjerne denne filen: {0}?",confirmRemoveAllFiles:"Er du sikker på at du vil fjerne alle filene?",questionTitlePatternText:"Spørsmålstittel"},r.a.localeNames.no="norsk"},function(e,t,n){"use strict";var r=n(1);r.a.locales.fa={pagePrevText:"قبلی",pageNextText:"بعدی",completeText:"تکمیل",previewText:"پیش نمایش",editText:"ویرایش",startSurveyText:"شروع",otherItemText:"دیگر(توضیح)",noneItemText:"هیچ",selectAllItemText:"انتخاب همه",progressText:"صفحه {0} از {1}",panelDynamicProgressText:"مورد {0} از {1}",questionsProgressText:"تعداد پاسخ {0}/{1} سوال",emptySurvey:"صفحه ای یا گزینه ای برای این پرسشنامه موجود نیست.",completingSurvey:"از شما بابت تکمیل این پرسشنامه متشکریم",completingSurveyBefore:"به نظر می رسد هم هم اکنون پرسشنامه را تکمیل کرده اید.",loadingSurvey:"درحال ایجاد پرسشنامه",optionsCaption:"انتخاب کنید...",value:"مقدار",requiredError:"لطفا به سوال پاسخ دهید",requiredErrorInPanel:"لطفا حداقل به یک سوال پاسخ دهید.",requiredInAllRowsError:"لطفا سوالات تمام سطرها را پاسخ دهید.",numericError:"مقدار باید عددی باشد",textMinLength:"لطفا حداقل  {0} حرف وارد کنید",textMaxLength:"لطفا کمتر از  {0} حرف وارد کنید.",textMinMaxLength:"لطفا بیشتر از  {0} حرف و کمتر از {1} حرف وارد کنید.",minRowCountError:"لطفا حداقل {0} سطر وارد کنید.",minSelectError:"حداقل {0} انتخاب کنید.",maxSelectError:"لطفا بیشتر از  {0} انتخاب کنید.",numericMinMax:"'{0}' باید بین {1} و {2} باشد",numericMin:"'{0}' بزرگتر مساوی {1} باشد",numericMax:"'{0}' باید کوچکتر یا مساوی {1} باشد",invalidEmail:"لطفا ایمیل صحیح درج کنید",invalidExpression:"عبارت: {0} پاسخ باید 'true' باشد.",urlRequestError:"درخواست با خطا روبرو شد: '{0}'. {1}",urlGetChoicesError:"درخواست مسیری خالی بازگشت داده یا مسیر درست تنظیم نشده",exceedMaxSize:"بیشترین حجم مجاز فایل: {0}",otherRequiredError:"مقدار 'دیگر' را وارد کنید",uploadingFile:"فایل در حال آیلود است. لطفا صبر کنید.",loadingFile:"بارگیری...",chooseFile:"انتخاب فایل(ها)...",noFileChosen:"هیچ فایلی انتخاب نشده",confirmDelete:"آیا مایل به حذف این ردیف هستید؟",keyDuplicationError:"این مقدار باید غیر تکراری باشد",addColumn:"ستون جدید",addRow:"سطر جدید",removeRow:"حذف",addPanel:"جدید",removePanel:"حذف",choices_Item:"آیتم",matrix_column:"ستون",matrix_row:"سطر",savingData:"نتایج در حال ذخیره سازی در سرور است",savingDataError:"خطایی در ذخیره سازی نتایج رخ داده است",savingDataSuccess:"نتایج با موفقیت ذخیره شد",saveAgainButton:"مجدد تلاش کنید",timerMin:"دقیقه",timerSec:"ثانیه",timerSpentAll:"شما مدت {0} در این صفحه و مدت {1} را در مجموع سپری کرده اید.",timerSpentPage:"شما مدت {0} را در این صفحه سپری کرده اید.",timerSpentSurvey:"شما مدت {0} را در مجموع سپری کرده اید.",timerLimitAll:"شما مدت {0} از {1} در این صفحه و مدت {2} از {3} را در مجموع سپری کرده اید.",timerLimitPage:"شما مدت {0} از {1} را در این صفحه سپری کرده اید.",timerLimitSurvey:"شما مدت {0} از {1} را در مجموع سپری کرده اید.",cleanCaption:"پاکسازی",clearCaption:"خالی کردن",chooseFileCaption:"انتخاب فایل",removeFileCaption:"حذف این فایل",booleanCheckedLabel:"بله",booleanUncheckedLabel:"خیر",confirmRemoveFile:"آیا میخواهید این فایل را پاک کنید: {0}?",confirmRemoveAllFiles:"آیا میخواهید تمام فایل ها را پاک کنید?",questionTitlePatternText:"عنوان سوال"},r.a.localeNames.fa="فارْسِى"},function(e,t,n){"use strict";var r=n(1);r.a.locales.pl={pagePrevText:"Wstecz",pageNextText:"Dalej",completeText:"Gotowe",previewText:"Premiera",editText:"Edycja",startSurveyText:"Start",otherItemText:"Inna odpowiedź (wpisz)",noneItemText:"Brak",selectAllItemText:"Wybierz wszystkie",progressText:"Strona {0} z {1}",panelDynamicProgressText:"Zapis {0} z {1}",questionsProgressText:"Odpowiedzi na {0}/{1} pytania",emptySurvey:"Nie ma widocznych pytań.",completingSurvey:"Dziękujemy za wypełnienie ankiety!",completingSurveyBefore:"Z naszych zapisów wynika, że wypełniłeś już tę ankietę.",loadingSurvey:"Trwa wczytywanie ankiety...",optionsCaption:"Wybierz...",value:"Wartość",requiredError:"Proszę odpowiedzieć na to pytanie.",requiredErrorInPanel:"Proszę odpowiedzieć na co najmniej jedno pytanie.",requiredInAllRowsError:"Proszę odpowiedzieć na wszystkie pytania.",numericError:"W tym polu można wpisać tylko liczby.",textMinLength:"Proszę wpisać co najmniej {0} znaków.",textMaxLength:"Proszę wpisać mniej niż {0} znaków.",textMinMaxLength:"Proszę wpisać więcej niż {0} i mniej niż {1} znaków.",minRowCountError:"Proszę uzupełnić przynajmniej {0} wierszy.",minSelectError:"Proszę wybrać co najmniej {0} pozycji.",maxSelectError:"Proszę wybrać nie więcej niż {0} pozycji.",numericMinMax:"Odpowiedź '{0}' powinna być większa lub równa {1} oraz mniejsza lub równa {2}",numericMin:"Odpowiedź '{0}' powinna być większa lub równa {1}",numericMax:"Odpowiedź '{0}' powinna być mniejsza lub równa {1}",invalidEmail:"Proszę podać prawidłowy adres email.",invalidExpression:"Wyrażenie: {0} powinno wracać 'prawdziwe'.",urlRequestError:"Żądanie zwróciło błąd '{0}'. {1}",urlGetChoicesError:"Żądanie nie zwróciło danych albo ścieżka jest nieprawidłowa",exceedMaxSize:"Rozmiar przesłanego pliku nie może przekraczać {0}.",otherRequiredError:"Proszę podać inną odpowiedź.",uploadingFile:"Trwa przenoszenie Twojego pliku, proszę spróbować ponownie za kilka sekund.",loadingFile:"Ładowanie...",chooseFile:"Wybierz plik(i)...",noFileChosen:"Nie wybrano żadnego pliku",confirmDelete:"Chcesz skasować nagranie?",keyDuplicationError:"Ta wartość powinna być wyjątkowa.",addColumn:"Dodaj kolumnę",addRow:"Dodaj wiersz",removeRow:"Usuń",addPanel:"Dodaj panel",removePanel:"Usuń",choices_Item:"element",matrix_column:"Kolumna",matrix_row:"Wiersz",savingData:"Zapisuję wyniki ankiety na serwerze...",savingDataError:"Wystąpił błąd i wyniki nie mogły zostać zapisane.",savingDataSuccess:"Wyniki zostały poprawnie zapisane!",saveAgainButton:"Spróbuj ponownie",timerMin:"min",timerSec:"sek",timerSpentAll:"Spędziłeś {0} na tej stronie a w sumie {1}.",timerSpentPage:"Spędziłeś {0} na tej stronie.",timerSpentSurvey:"Spędziłeś w sumie {0}.",timerLimitAll:"Spędziłeś {0} z {1} na tej stronie a w sumie {2} z {3}.",timerLimitPage:"Spędziłeś {0} z {1} na tej stronie",timerLimitSurvey:"Spędziłeś {0} z {1}.",cleanCaption:"Wyczyść",clearCaption:"Jasne",chooseFileCaption:"Wybierz plik",removeFileCaption:"Usuń ten plik",booleanCheckedLabel:"Tak",booleanUncheckedLabel:"Nie",confirmRemoveFile:"Jesteś pewien, że chcesz usunąć ten plik: {0}?",confirmRemoveAllFiles:"Jesteś pewien, że chcesz usunąć wszystkie pliki?",questionTitlePatternText:"Tytuł pytania"},r.a.localeNames.pl="polski"},function(e,t,n){"use strict";var r=n(1);r.a.locales["pt-br"]={pagePrevText:"Anterior",pageNextText:"Próximo",completeText:"Finalizar",previewText:"Pré-visualização",editText:"Editar",startSurveyText:"Começar",otherItemText:"Outros (descrever)",noneItemText:"Nenhum",selectAllItemText:"Selecionar Todos",progressText:"Página {0} de {1}",panelDynamicProgressText:"Registro {0} de {1}",questionsProgressText:"Respostas {0}/{1} perguntas",emptySurvey:"Não há página visível ou pergunta na pesquisa.",completingSurvey:"Obrigado por finalizar a pesquisa!",completingSurveyBefore:"Nossos registros mostram que você já finalizou a pesquisa.",loadingSurvey:"A pesquisa está carregando...",optionsCaption:"Selecione...",value:"valor",requiredError:"Por favor, responda a pergunta.",requiredErrorInPanel:"Por favor, responda pelo menos uma pergunta.",requiredInAllRowsError:"Por favor, responda as perguntas em todas as linhas.",numericError:"O valor deve ser numérico.",textMinLength:"Por favor, insira pelo menos {0} caracteres.",textMaxLength:"Por favor, insira menos de {0} caracteres.",textMinMaxLength:"Por favor, insira mais de {0} e menos de {1} caracteres.",minRowCountError:"Preencha pelo menos {0} linhas.",minSelectError:"Selecione pelo menos {0} opções.",maxSelectError:"Por favor, selecione não mais do que {0} opções.",numericMinMax:"O '{0}' deve ser igual ou superior a {1} e igual ou menor que {2}",numericMin:"O '{0}' deve ser igual ou superior a {1}",numericMax:"O '{0}' deve ser igual ou inferior a {1}",invalidEmail:"Por favor, informe um e-mail válido.",invalidExpression:"A expressão: {0} deve retornar 'verdadeiro'.",urlRequestError:"A requisição retornou o erro '{0}'. {1}",urlGetChoicesError:"A requisição não retornou dados ou o 'caminho' da requisição não está correto",exceedMaxSize:"O tamanho do arquivo não deve exceder {0}.",otherRequiredError:"Por favor, informe o outro valor.",uploadingFile:"Seu arquivo está sendo carregado. Por favor, aguarde alguns segundos e tente novamente.",loadingFile:"Carregando...",chooseFile:"Selecione o(s) arquivo(s)...",noFileChosen:"Nenhum arquivo escolhido",confirmDelete:"Tem certeza que deseja deletar?",keyDuplicationError:"Esse valor deve ser único.",addColumn:"Adicionar coluna",addRow:"Adicionar linha",removeRow:"Remover linha",addPanel:"Adicionar novo",removePanel:"Remover",choices_Item:"item",matrix_column:"Coluna",matrix_row:"Linha",savingData:"Os resultados esto sendo salvos no servidor...",savingDataError:"Ocorreu um erro e não foi possível salvar os resultados.",savingDataSuccess:"Os resultados foram salvos com sucesso!",saveAgainButton:"Tente novamente",timerMin:"min",timerSec:"seg",timerSpentAll:"Você gastou {0} nesta página e {1} no total.",timerSpentPage:"Você gastou {0} nesta página.",timerSpentSurvey:"Você gastou {0} no total.",timerLimitAll:"Você gastou {0} de {1} nesta página e {2} de {3} no total.",timerLimitPage:"Você gastou {0} de {1} nesta página.",timerLimitSurvey:"Você gastou {0} de {1} no total.",cleanCaption:"Limpar",clearCaption:"Limpar",chooseFileCaption:"Escolher arquivo",removeFileCaption:"Remover este arquivo",booleanCheckedLabel:"Sim",booleanUncheckedLabel:"Não",confirmRemoveFile:"Tem certeza que deseja remover este arquivo: {0}?",confirmRemoveAllFiles:"Tem certeza que deseja remover todos os arquivos?",questionTitlePatternText:"Título da questão"},r.a.localeNames["pt-br"]="português brasileiro"},function(e,t,n){"use strict";var r=n(1);r.a.locales.pt={pagePrevText:"Anterior",pageNextText:"Próximo",completeText:"Finalizar",previewText:"Pré-visualização",editText:"Editar",startSurveyText:"Começar",otherItemText:"Outros (descrever)",noneItemText:"Nenhum",selectAllItemText:"Selecionar Todos",progressText:"Página {0} de {1}",panelDynamicProgressText:"Registro {0} de {1}",questionsProgressText:"Respostas {0}/{1} perguntas",emptySurvey:"Não há página visível ou pergunta na pesquisa.",completingSurvey:"Obrigado por finalizar a pesquisa!",completingSurveyBefore:"Nossos registros mostram que você já finalizou a pesquisa.",loadingSurvey:"A pesquisa está carregando...",optionsCaption:"Selecione...",value:"valor",requiredError:"Por favor, responda a pergunta.",requiredErrorInPanel:"Por favor, responda pelo menos uma pergunta.",requiredInAllRowsError:"Por favor, responda as perguntas em todas as linhas.",numericError:"O valor deve ser numérico.",textMinLength:"Por favor, insira pelo menos {0} caracteres.",textMaxLength:"Por favor, insira menos de {0} caracteres.",textMinMaxLength:"Por favor, insira mais de {0} e menos de {1} caracteres.",minRowCountError:"Preencha pelo menos {0} linhas.",minSelectError:"Selecione pelo menos {0} opções.",maxSelectError:"Por favor, selecione não mais do que {0} opções.",numericMinMax:"O '{0}' deve ser igual ou superior a {1} e igual ou menor que {2}",numericMin:"O '{0}' deve ser igual ou superior a {1}",numericMax:"O '{0}' deve ser igual ou inferior a {1}",invalidEmail:"Por favor, informe um e-mail válido.",invalidExpression:"A expressão: {0} deve retornar 'verdadeiro'.",urlRequestError:"A requisição retornou o erro '{0}'. {1}",urlGetChoicesError:"A requisição não retornou dados ou o 'caminho' da requisição não está correto",exceedMaxSize:"O tamanho do arquivo não deve exceder {0}.",otherRequiredError:"Por favor, informe o outro valor.",uploadingFile:"Seu arquivo está sendo carregado. Por favor, aguarde alguns segundos e tente novamente.",loadingFile:"Carregando...",chooseFile:"Selecione o(s) arquivo(s)...",noFileChosen:"Nenhum ficheiro escolhido",confirmDelete:"Tem certeza que deseja deletar?",keyDuplicationError:"Esse valor deve ser único.",addColumn:"Adicionar coluna",addRow:"Adicionar linha",removeRow:"Remover linha",addPanel:"Adicionar novo",removePanel:"Remover",choices_Item:"item",matrix_column:"Coluna",matrix_row:"Linha",savingData:"Os resultados esto sendo salvos no servidor...",savingDataError:"Ocorreu um erro e não foi possível salvar os resultados.",savingDataSuccess:"Os resultados foram salvos com sucesso!",saveAgainButton:"Tente novamente",timerMin:"min",timerSec:"seg",timerSpentAll:"Você gastou {0} nesta página e {1} no total.",timerSpentPage:"Você gastou {0} nesta página.",timerSpentSurvey:"Você gastou {0} no total.",timerLimitAll:"Você gastou {0} de {1} nesta página e {2} de {3} no total.",timerLimitPage:"Você gastou {0} de {1} nesta página.",timerLimitSurvey:"Você gastou {0} de {1} no total.",cleanCaption:"Limpar",clearCaption:"Limpar",chooseFileCaption:"Escolher ficheiro",removeFileCaption:"Remover este arquivo",booleanCheckedLabel:"Sim",booleanUncheckedLabel:"Não",confirmRemoveFile:"Tem certeza que deseja remover este arquivo: {0}?",confirmRemoveAllFiles:"Tem certeza que deseja remover todos os arquivos?",questionTitlePatternText:"Título da questão"},r.a.localeNames.pt="português"},function(e,t,n){"use strict";var r=n(1);r.a.locales.ro={pagePrevText:"Precedent",pageNextText:"Următor",completeText:"Finalizare",previewText:"previzualizare",editText:"Editați",startSurveyText:"start",otherItemText:"Altul(precizaţi)",noneItemText:"Nici unul",selectAllItemText:"Selectează tot",progressText:"Pagina {0} din {1}",panelDynamicProgressText:"Înregistrare {0} din {1}",questionsProgressText:"Răspunsuri la {0} / {1} întrebări",emptySurvey:"Nu sunt întrebări pentru acest chestionar",completingSurvey:"Vă mulţumim pentru timpul acordat!",completingSurveyBefore:"Din înregistrările noastre reiese că ați completat deja acest chestionar.",loadingSurvey:"Chestionarul se încarcă...",optionsCaption:"Alegeţi...",value:"valoare",requiredError:"Răspunsul la această întrebare este obligatoriu.",requiredErrorInPanel:"Vă rugăm să răspundeți la cel puțin o întrebare.",requiredInAllRowsError:"Toate răspunsurile sunt obligatorii",numericError:"Răspunsul trebuie să fie numeric.",textMinLength:"Trebuie să introduceți minim {0} caractere.",textMaxLength:"Trebuie să introduceți maxim {0} caractere.",textMinMaxLength:"Trebuie să introduceți mai mult de {0} și mai puțin de {1} caractere.",minRowCountError:"Trebuie să completați minim {0} rânduri.",minSelectError:"Trebuie să selectați minim {0} opţiuni.",maxSelectError:"Trebuie să selectați maxim {0} opţiuni.",numericMinMax:"Răspunsul '{0}' trebuie să fie mai mare sau egal ca {1} şî mai mic sau egal cu {2}",numericMin:"Răspunsul '{0}' trebuie să fie mai mare sau egal ca {1}",numericMax:"Răspunsul '{0}' trebuie să fie mai mic sau egal ca {1}",invalidEmail:"Trebuie să introduceţi o adresa de email validă.",invalidExpression:"Expresia: {0} ar trebui să returneze „adevărat”.",urlRequestError:"Request-ul a returnat eroarea '{0}'. {1}",urlGetChoicesError:"Request-ul nu a returnat date sau proprietatea 'path' este incorectă",exceedMaxSize:"Dimensiunea fişierului nu trebuie să depăşească {0}.",otherRequiredError:"Trebuie să completați câmpul 'Altul'.",uploadingFile:"Fișierul dumneavoastră este în curs de încărcare. Vă rugăm așteptați câteva secunde și reveniți apoi.",loadingFile:"Se încarcă...",chooseFile:"Alege fisierele...",noFileChosen:"Niciun fișier ales",confirmDelete:"Sunteți sigur că doriți să ștergeți înregistrarea?",keyDuplicationError:"Valoarea trebuie să fie unică.",addColumn:"Adăugați coloană",addRow:"Adăugare rând",removeRow:"Ștergere",addPanel:"Adăugare",removePanel:"Ștergere",choices_Item:"opțiune",matrix_column:"Coloană",matrix_row:"Rând",savingData:"Rezultatele sunt în curs de salvare...",savingDataError:"A intervenit o eroare, rezultatele nu au putut fi salvate.",savingDataSuccess:"Rezultatele au fost salvate cu succes!",saveAgainButton:"Încercați din nou",timerMin:"min",timerSec:"sec",timerSpentAll:"Ați petrecut {0} pe această pagină și {1} în total.",timerSpentPage:"Ați petrecut {0} pe această pagină.",timerSpentSurvey:"Ați petrecut {0} în total.",timerLimitAll:"Ați petrecut {0} din {1} pe această pagină și {2} din {3} în total.",timerLimitPage:"Ați petrecut {0} din {1} pe această pagină.",timerLimitSurvey:"Ați petrecut {0} din {1} în total.",cleanCaption:"Curat",clearCaption:"clar",chooseFileCaption:"Alege fișierul",removeFileCaption:"Eliminați acest fișier",booleanCheckedLabel:"da",booleanUncheckedLabel:"Nu",confirmRemoveFile:"Sigur doriți să eliminați acest fișier: {0}?",confirmRemoveAllFiles:"Sigur doriți să eliminați toate fișierele?",questionTitlePatternText:"Titlul intrebarii"},r.a.localeNames.ro="română"},function(e,t,n){"use strict";var r=n(1);r.a.locales.ru={pagePrevText:"Назад",pageNextText:"Далее",completeText:"Готово",previewText:"Предварительный просмотр",editText:"Редактирование",startSurveyText:"Начать",otherItemText:"Другое (пожалуйста, опишите)",noneItemText:"Нет",selectAllItemText:"Выбрать всё",progressText:"Страница {0} из {1}",panelDynamicProgressText:"Запись {0} из {1}",questionsProgressText:"Ответы на {0}/{1}вопросы",emptySurvey:"Нет ни одного вопроса.",completingSurvey:"Благодарим Вас за заполнение анкеты!",completingSurveyBefore:"Вы уже проходили этот опрос.",loadingSurvey:"Загрузка с сервера...",optionsCaption:"Выбрать...",value:"значение",requiredError:"Пожалуйста, ответьте на вопрос.",requiredErrorInPanel:"Пожалуйста, ответьте по крайней мере на один вопрос.",requiredInAllRowsError:"Пожалуйста, ответьте на вопросы в каждой строке.",numericError:"Ответ должен быть числом.",textMinLength:"Пожалуйста введите больше {0} символов.",textMaxLength:"Пожалуйста введите меньше {0} символов.",textMinMaxLength:"Пожалуйста введите больше {0} и меньше {1} символов.",minRowCountError:"Пожалуйста, заполните не меньше {0} строк.",minSelectError:"Пожалуйста, выберите хотя бы {0} вариантов.",maxSelectError:"Пожалуйста, выберите не более {0} вариантов.",numericMinMax:"'{0}' должно быть не меньше чем {1}, и не больше чем {2}",numericMin:"'{0}' должно быть не меньше чем {1}",numericMax:"'{0}' должно быть не больше чем {1}",invalidEmail:"Пожалуйста, введите действительный адрес электронной почты.",invalidExpression:"Выражение {0} должно возвращать 'true'.",urlRequestError:"Запрос вернул ошибку '{0}'. {1}",urlGetChoicesError:"Ответ на запрос пришел пустой или свойство 'path' указано неверно",exceedMaxSize:"Размер файла не должен превышать {0}.",otherRequiredError:"Пожалуйста, введите данные в поле 'Другое'",uploadingFile:"Ваш файл загружается. Подождите несколько секунд и попробуйте снова.",loadingFile:"Загрузка...",chooseFile:"Выберите файл(ы)...",noFileChosen:"Файл не выбран",confirmDelete:"Вы точно хотите удалить запись?",keyDuplicationError:"Это значение должно быть уникальным.",addColumn:"Добавить колонку",addRow:"Добавить строку",removeRow:"Удалить",addPanel:"Добавить новую",removePanel:"Удалить",choices_Item:"Вариант",matrix_column:"Колонка",matrix_row:"Строка",savingData:"Результаты сохраняются на сервер...",savingDataError:"Произошла ошибка, результат не был сохранён.",savingDataSuccess:"Результат успешно сохранён!",saveAgainButton:"Попробовать снова",timerMin:"мин",timerSec:"сек",timerSpentAll:"Вы потратили {0} на этой странице и {1} всего.",timerSpentPage:"Вы потратили {0} на этой странице.",timerSpentSurvey:"Вы потратили {0} в течение теста.",timerLimitAll:"Вы потратили {0} из {1} на этой странице и {2} из {3} для всего теста.",timerLimitPage:"Вы потратили {0} из {1} на этой странице.",timerLimitSurvey:"Вы потратили {0} из {1} для всего теста.",cleanCaption:"Очистить",clearCaption:"Очистить",chooseFileCaption:"Выберите файл",removeFileCaption:"Удалить файл",booleanCheckedLabel:"Да",booleanUncheckedLabel:"Нет",confirmRemoveFile:"Вы уверены, что хотите удалить этот файл: {0}?",confirmRemoveAllFiles:"Вы уверены, что хотите удалить все файлы?",questionTitlePatternText:"Название вопроса"},r.a.localeNames.ru="русский"},function(e,t,n){"use strict";var r=n(1);r.a.locales["zh-cn"]={pagePrevText:"上一页",pageNextText:"下一页",completeText:"提交问卷",previewText:"预览",editText:"编辑",startSurveyText:"开始问卷",otherItemText:"填写其他答案",noneItemText:"无",selectAllItemText:"选择全部",progressText:"第 {0} 页, 共 {1} 页",panelDynamicProgressText:"{0} of {1}",questionsProgressText:"第 {0}/{1} 题",emptySurvey:"问卷中没有问题或页面",completingSurvey:"感谢您的参与!",completingSurveyBefore:"你已完成问卷.",loadingSurvey:"问卷正在加载中...",optionsCaption:"请选择...",value:"值",requiredError:"请填写此问题",requiredErrorInPanel:"至少回答一题.",requiredInAllRowsError:"请填写所有行中问题",numericError:"答案必须是个数字",textMinLength:"答案长度至少 {0} 个字符",textMaxLength:"答案长度不能超过 {0} 个字符",textMinMaxLength:"答案长度必须在 {0} - {1} 个字符之间",minRowCountError:"最少需要填写 {0} 行答案",minSelectError:"最少需要选择 {0} 项答案",maxSelectError:"最多只能选择 {0} 项答案",numericMinMax:"答案 '{0}' 必须大于等于 {1} 且小于等于 {2}",numericMin:"答案 '{0}' 必须大于等于 {1}",numericMax:"答案 '{0}' 必须小于等于 {1}",invalidEmail:"请输入有效的 Email 地址",invalidExpression:"公式: {0} 无效.",urlRequestError:"载入选项时发生错误 '{0}': {1}",urlGetChoicesError:"未能载入有效的选项或请求参数路径有误",exceedMaxSize:"文件大小不能超过 {0}",otherRequiredError:"请完成其他问题",uploadingFile:"文件上传中... 请耐心等待几秒后重试",loadingFile:"加载...",chooseFile:"选择文件...",noFileChosen:"未选择文件",confirmDelete:"删除记录?",keyDuplicationError:"主键不能重复",addColumn:"添加列",addRow:"添加行",removeRow:"删除答案",addPanel:"新添",removePanel:"删除",choices_Item:"选项",matrix_column:"列",matrix_row:"行",savingData:"正在将结果保存到服务器...",savingDataError:"在保存结果过程中发生了错误，结果未能保存",savingDataSuccess:"结果保存成功!",saveAgainButton:"请重试",timerMin:"分",timerSec:"秒",timerSpentAll:"本页用时 {0} 总计用时{1} .",timerSpentPage:"本页用时{0} .",timerSpentSurvey:"总计用时 {0} .",timerLimitAll:"本页用时 {0} 共 {1}， 总计用时 {2} 共 {3} .",timerLimitPage:"本页用时 {0} 共 {1} .",timerLimitSurvey:"总计用时 {0} 共 {1}.",cleanCaption:"清理",clearCaption:"清除",chooseFileCaption:"选择文件",removeFileCaption:"移除文件",booleanCheckedLabel:"是",booleanUncheckedLabel:"否",confirmRemoveFile:"删除文件: {0}?",confirmRemoveAllFiles:"删除所有文件?",questionTitlePatternText:"标题"},r.a.localeNames["zh-cn"]="简体中文"},function(e,t,n){"use strict";var r=n(1);r.a.locales.es={pagePrevText:"Anterior",pageNextText:"Siguiente",completeText:"Completar",previewText:"Vista previa",editText:"Edita",startSurveyText:"Comienza",otherItemText:"Otro (describa)",noneItemText:"Ninguno",selectAllItemText:"Seleccionar todo",progressText:"Página {0} de {1}",panelDynamicProgressText:"Registro {0} de {1}",questionsProgressText:"Respondió a {0}/{1} preguntas",emptySurvey:"No hay página visible o pregunta en la encuesta.",completingSurvey:"Gracias por completar la encuesta!",completingSurveyBefore:"Nuestros registros muestran que ya ha completado esta encuesta.",loadingSurvey:"La encuesta está cargando...",optionsCaption:"Seleccione...",value:"valor",requiredError:"Por favor conteste la pregunta.",requiredErrorInPanel:"Por favor, responda al menos una pregunta.",requiredInAllRowsError:"Por favor conteste las preguntas en cada hilera.",numericError:"La estimación debe ser numérica.",textMinLength:"Por favor entre por lo menos {0} símbolos.",textMaxLength:"Por favor entre menos de {0} símbolos.",textMinMaxLength:"Por favor entre más de {0} y menos de {1} símbolos.",minRowCountError:"Por favor llene por lo menos {0} hileras.",minSelectError:"Por favor seleccione por lo menos {0} variantes.",maxSelectError:"Por favor seleccione no más de {0} variantes.",numericMinMax:"El '{0}' debe de ser igual o más de {1} y igual o menos de {2}",numericMin:"El '{0}' debe ser igual o más de {1}",numericMax:"El '{0}' debe ser igual o menos de {1}",invalidEmail:"Por favor agregue un correo electrónico válido.",invalidExpression:"La expresión: {0} debería devolver 'verdadero'.",urlRequestError:"La solicitud regresó error '{0}'. {1}",urlGetChoicesError:"La solicitud regresó vacío de data o la propiedad 'trayectoria' no es correcta",exceedMaxSize:"El tamaño del archivo no debe de exceder {0}.",otherRequiredError:"Por favor agregue la otra estimación.",uploadingFile:"Su archivo se está subiendo. Por favor espere unos segundos e intente de nuevo.",loadingFile:"Cargando...",chooseFile:"Elija archivo(s)...",noFileChosen:"No se ha elegido ningún archivo",confirmDelete:"¿Quieres borrar el registro?",keyDuplicationError:"Este valor debe ser único.",addColumn:"Añadir columna",addRow:"Agregue una hilera",removeRow:"Eliminar una hilera",addPanel:"Añadir nuevo",removePanel:"Retire",choices_Item:"artículo",matrix_column:"Columna",matrix_row:"Hilera",savingData:"Los resultados se están guardando en el servidor...",savingDataError:"Los resultados se están guardando en el servidor...",savingDataSuccess:"¡Los resultados se guardaron con éxito!",saveAgainButton:"Inténtalo de nuevo.",timerMin:"min",timerSec:"sec",timerSpentAll:"Has gastado {0} en esta página y {1} en total.",timerSpentPage:"Usted ha pasado {0} en esta página.",timerSpentSurvey:"Has gastado en total.",timerLimitAll:"Has gastado {0} de {1} en esta página y {2} de {3} en total.",timerLimitPage:"Has gastado {0} de {1} en esta página.",timerLimitSurvey:"Usted ha gastado {0} de {1} en total.",cleanCaption:"Limpia",clearCaption:"Despejen",chooseFileCaption:"Elija el archivo",removeFileCaption:"Elimina este archivo",booleanCheckedLabel:"Sí",booleanUncheckedLabel:"No",confirmRemoveFile:"¿Estás seguro de que quieres eliminar este archivo: {0}?",confirmRemoveAllFiles:"¿Estás seguro de que quieres eliminar todos los archivos?",questionTitlePatternText:"Título de la pregunta"},r.a.localeNames.es="español"},function(e,t,n){"use strict";var r=n(1);r.a.locales.sw={pagePrevText:"Iliyotangulia",pageNextText:"Ifuatayo",completeText:"Kamili",previewText:"Hakiki",editText:"Hariri",startSurveyText:"Anza",otherItemText:"Nyingine (eleza)",noneItemText:"Hakuna",selectAllItemText:"Chagua Zote",progressText:"Ukurasa {0} wa {1}",panelDynamicProgressText:"Rekodi {0} ya {1}",questionsProgressText:"Yaliyojibiwa {0}/{1} maswali",emptySurvey:"Hakuna ukurasa unaoonekana au swali katika utafiti.",completingSurvey:"Asanti kwa kukamilisha utafiti!",completingSurveyBefore:"Recodi zetu zinatuonyesha tayari umekamilisha utafiti.",loadingSurvey:"Tunaandaa utafiti...",optionsCaption:"Chagua...",value:"thamani",requiredError:"Tafadhali jibu hili swali.",requiredErrorInPanel:"Tafadhali jibu swali angalau moja.",requiredInAllRowsError:"Tafadhali jibu maswali katika safu zote.",numericError:"Thamani inapaswa kuwa ya nambari.",textMinLength:"Tafadhali ingiza angalau{0} husika.",textMaxLength:"Tafadhali ingiza isiozidi {0} husika.",textMinMaxLength:"Tafadhali ingiza kiwango zaidi ya {0} na kisichopungua {1} husika.",minRowCountError:"Tafadhali jaza isiopungua {0} safu.",minSelectError:"Tafadhali chagua angalau {0} lahaja.",maxSelectError:"Tafadhali changua isiozidi {0} lahaja.",numericMinMax:" '{0}' inapaswa kuwa sawa au zaidi ya {1} na sawa au chini ya {2}",numericMin:" '{0}'inapaswa kuwa sawa au zaidi ya {1}",numericMax:" '{0}'inapaswa kuwa sawa au chini ya {1}",invalidEmail:"Tafadhali ingiza anwani halali ya barua-pepe.",invalidExpression:"Usemi:{0} inapaswa kurudi 'kweli'.",urlRequestError:"Ombi lina kosa '{0}'. {1}",urlGetChoicesError:"Ombi lilirudisha data tupu au the 'path' mali ya njia sio sahihi",exceedMaxSize:"Saizi ya faili haipaswi kuzidi {0}.",otherRequiredError:"Tafadhali ingiza thamani nyingine.",uploadingFile:"Faili yako inapakia.Tafadhali subiri sekunde kadhaa na ujaribu tena.",loadingFile:"Inapakia...",chooseFile:"Chagua faili...",noFileChosen:"Hujachagua faili",confirmDelete:"Je! Unataka kufuta rekodi?",keyDuplicationError:"Thamani hii inapaswa kuwa ya kipekee.",addColumn:"Ongeza Kolamu",addRow:"Ongeza safu",removeRow:"Toa",addPanel:"Ongeza mpya",removePanel:"Toa",choices_Item:"kitu",matrix_column:"Kolamu",matrix_row:"Safu",savingData:"Matokeo yamehifadhiwa kwa seva...",savingDataError:"Kosa limetokea na hatukuweza kuhifadhi matokeo.",savingDataSuccess:"Matokeo yamehifadhiwa!",saveAgainButton:"Jaribu tena",timerMin:"dakika",timerSec:"sekunde",timerSpentAll:"Umetumia {0} kwenye ukurasa huu na {1} kwa jumla.",timerSpentPage:"Umetumia {0} kwenye ukurasa huu.",timerSpentSurvey:"Umetumia {0} kwa jumla.",timerLimitAll:"Umetumia {0} ya {1} kwenye ukurasa huu {2} wa {3} kwa jumla.",timerLimitPage:"Umetumia {0} ya {1} kwenye ukurasa huu.",timerLimitSurvey:"Umetumia {0} ya {1} kwa jumla.",cleanCaption:"Safisha",clearCaption:"Ondoa",chooseFileCaption:"Chagua faili",removeFileCaption:"Ondoa faili",booleanCheckedLabel:"Ndio",booleanUncheckedLabel:"Hapana",confirmRemoveFile:"Je! Una uhakika kuwa unataka kuondoa faili hii: {0}?",confirmRemoveAllFiles:"Je! Una uhakika kuwa unataka kuondoa faili zote?",questionTitlePatternText:"Kichwa cha Swali"},r.a.localeNames.sw="swahili"},function(e,t,n){"use strict";var r=n(1);r.a.locales.sv={pagePrevText:"Föregående",pageNextText:"Nästa",completeText:"Färdig",previewText:"Förhandsvisning",editText:"Redigera",startSurveyText:"Start",otherItemText:"Annat (beskriv)",noneItemText:"Ingen",selectAllItemText:"Välj alla",progressText:"Sida {0} av {1}",panelDynamicProgressText:"Spela in {0} av {1}",questionsProgressText:"Besvarade {0} / {1} frågor",emptySurvey:"Det finns ingen synlig sida eller fråga i enkäten.",completingSurvey:"Tack för att du genomfört enkäten!!",completingSurveyBefore:"Våra register visar att du redan har slutfört denna undersökning.",loadingSurvey:"Enkäten laddas...",optionsCaption:"Välj...",value:"värde",requiredError:"Var vänlig besvara frågan.",requiredErrorInPanel:"Vänligen svara på minst en fråga.",requiredInAllRowsError:"Var vänlig besvara frågorna på alla rader.",numericError:"Värdet ska vara numeriskt.",textMinLength:"Var vänlig ange minst {0} tecken.",textMaxLength:"Ange färre än {0} tecken.",textMinMaxLength:"Ange mer än {0} och färre än {1} tecken.",minRowCountError:"Var vänlig fyll i minst {0} rader.",minSelectError:"Var vänlig välj åtminstone {0} varianter.",maxSelectError:"Var vänlig välj inte fler än {0} varianter.",numericMinMax:"'{0}' ska vara lika med eller mer än {1} samt lika med eller mindre än {2}",numericMin:"'{0}' ska vara lika med eller mer än {1}",numericMax:"'{0}' ska vara lika med eller mindre än {1}",invalidEmail:"Var vänlig ange en korrekt e-postadress.",invalidExpression:"Uttrycket: {0} ska returnera 'true'.",urlRequestError:"Förfrågan returnerade felet '{0}'. {1}",urlGetChoicesError:"Antingen returnerade förfrågan ingen data eller så är egenskapen 'path' inte korrekt",exceedMaxSize:"Filstorleken får ej överstiga {0}.",otherRequiredError:"Var vänlig ange det andra värdet.",uploadingFile:"Din fil laddas upp. Var vänlig vänta några sekunder och försök sedan igen.",loadingFile:"Läser in...",chooseFile:"Välj fil (er) ...",noFileChosen:"Ingen fil vald",confirmDelete:"Vill du radera posten?",keyDuplicationError:"Detta värde ska vara unikt.",addColumn:"Lägg till kolumn",addRow:"Lägg till rad",removeRow:"Ta bort",addPanel:"Lägg till ny",removePanel:"Ta bort",choices_Item:"Artikel",matrix_column:"Kolumn",matrix_row:"Rad",savingData:"Resultaten sparas på servern ...",savingDataError:"Ett fel inträffade och vi kunde inte spara resultaten.",savingDataSuccess:"Resultaten sparades framgångsrikt!",saveAgainButton:"Försök igen",timerMin:"min",timerSec:"sek",timerSpentAll:"Du har spenderat {0} på den här sidan och {1} totalt.",timerSpentPage:"Du har spenderat {0} på den här sidan.",timerSpentSurvey:"Du har spenderat {0} totalt.",timerLimitAll:"Du har spenderat {0} av {1} på den här sidan och {2} av {3} totalt.",timerLimitPage:"Du har spenderat {0} av {1} på den här sidan.",timerLimitSurvey:"Du har spenderat {0} av {1} totalt.",cleanCaption:"Rena",clearCaption:"Klar",chooseFileCaption:"Välj FIL",removeFileCaption:"Ta bort den här filen",booleanCheckedLabel:"Ja",booleanUncheckedLabel:"Nej",confirmRemoveFile:"Är du säker på att du vill ta bort den här filen: {0}?",confirmRemoveAllFiles:"Är du säker på att du vill ta bort alla filer?",questionTitlePatternText:"Frågetitel"},r.a.localeNames.sv="svenska"},function(e,t,n){"use strict";var r=n(1);r.a.locales.tg={pagePrevText:"Бозгашт",pageNextText:"Оянда",completeText:"Иҷро шуд",startSurveyText:"Оғоз",otherItemText:"Дигар (лутфан тавсиф кунед)",noneItemText:"Не",selectAllItemText:"Ҳамаро интихоб кардан",progressText:"Саҳифаи {0} аз {1}",emptySurvey:"Ягон савол вуҷуд надорад.",completingSurvey:"Ташаккур барои пур кардани саволнома!",completingSurveyBefore:"Шумо аллакай ин пурсишро анҷом додаед.",loadingSurvey:"Боргирӣ аз сервер...",optionsCaption:"Интихоб кардан...",value:"қиммат",requiredError:"Илтимос, ба савол ҷавоб диҳед.",requiredErrorInPanel:"Илтимос, ақалан ба як савол ҷавоб диҳед.",requiredInAllRowsError:"Илтимос, ба ҳамаи саволҳо дар ҳамаи сатрҳо ҷавоб диҳед.",numericError:"Ҷавоб бояд рақам бошад.",textMinLength:"Илтимос, аз {0} зиёдтар рамз ворид кунед.",textMaxLength:"Илтимос, аз {0} камтар рамз ворид кунед.",textMinMaxLength:"Илтимос, аз {0} зиёдтар ва аз {1} камтар рамз ворид кунед.",minRowCountError:"Илтимос, на камтар аз {0} сатр пур кунед.",minSelectError:"Илтимос, ақалан {0} вариант интихоб кунед.",maxSelectError:"Илтимос, на зиёдтар аз {0} вариант интихоб кунед.",numericMinMax:"'{0}' бояд на кам аз {1} ва на бисёр аз {2} бошад",numericMin:"'{0}' бояд на кам аз {1} бошад",numericMax:"'{0}' бояд на зиёд аз {1} бошад",invalidEmail:"Илтимос, почтаи электронии воқеиро ворид кунед.",invalidExpression:"Ифодаи {0} бояд 'true' баргардонад.",urlRequestError:"Дархост хатогӣ бозгардонд '{0}'. {1}",urlGetChoicesError:"Ҷавоб ба дархост холӣ омад ё хосияти 'path' нодуруст муайян карда шудааст",exceedMaxSize:"Андозаи файл бояд на калон аз {0} бошад.",otherRequiredError:"Илтимос, ба майдони 'Дигар' додаҳоро ворид кунед",uploadingFile:"Файли шумо бор шуда истодааст. Якчанд сония интизор шавед ва бори дигар кӯшиш кунед.",loadingFile:"Боркунӣ...",chooseFile:"Файл(ҳо)-ро интихоб кунед...",confirmDelete:"Шумо мутмаин ҳастед, ки мехоҳед воридро тоза кунед?",keyDuplicationError:"Ин арзиш бояд беназир бошад.",addColumn:"Иловаи сутун",addRow:"Иловаи сатр",removeRow:"Нест кардан",addPanel:"Илова кардан",removePanel:"Нест кардан",choices_Item:"Вариант",matrix_column:"Сутун",matrix_row:"Сатр",savingData:"Натиҷа ба сервер сабт шуда истодаанд...",savingDataError:"Хатогӣ ба амал омад, натиҷа сабт нашуд.",savingDataSuccess:"Натиҷа бомуваффакият сабт шуд!",saveAgainButton:"Бори дигар кӯшиш карданд",timerMin:"дақ",timerSec:"сон",timerSpentAll:"Шумо {0} дар ин саҳифа ва {1} дар умум сарф кардед.",timerSpentPage:"Шумо {0} дар ин саҳифа сарф кардед.",timerSpentSurvey:"Шумо {0} дар ин тест сарф намудед.",timerLimitAll:"Шумо {0} аз {1} дар ин саҳифа ва {2} аз {3} дар умум сарф кардед дар дохили ин тест.",timerLimitPage:"Шумо {0} аз {1} дар ин саҳифа сарф кардед.",timerLimitSurvey:"Шумо {0} аз {1} дар ҳамаи тест сарф кардед.",cleanCaption:"Тоза кардан",clearCaption:"Тоза кардан",removeFileCaption:"Файлро нест кардан"},r.a.localeNames.tg="тоҷикӣ"},function(e,t,n){"use strict";var r=n(1);r.a.locales.th={pagePrevText:"ก่อนหน้า",pageNextText:"ถัดไป",completeText:"สำเร็จ",previewText:"ดูตัวอย่าง",editText:"แก้ไข",startSurveyText:"เริ่ม",otherItemText:"อื่นๆ (โปรดระบุ)",noneItemText:"ไม่มี",selectAllItemText:"เลือกทั้งหมด",progressText:"หน้าที่ {0} จาก {1}",panelDynamicProgressText:"รายการที่ {0} จาก {1}",questionsProgressText:"คำตอบที่ {0}/{1} จำนวนคำถาม",emptySurvey:"ไม่มีหน้าเพจที่มองเห็น หรือ คำถามใน survey นี้",completingSurvey:"ขอบคุณที่ทำ survey จนเสร็จ",completingSurveyBefore:"รายการของเราแสดงว่าคุณได้ทำ survey เสร็จเรียบร้อยแล้ว",loadingSurvey:"กำลังโหลด Survey...",optionsCaption:"เลือก...",value:"ข้อมูล",requiredError:"กรุณาตอบคำถาม",requiredErrorInPanel:"กรุณาตอบขั้นต่ำหนึ่งคำถาม",requiredInAllRowsError:"กรุณาตอบคำถามในทุกๆแถว",numericError:"ข้อมูลที่ใส่ต้องเป็นตัวเลข",textMinLength:"กรุณาใส่ขั้นต่ำจำนวน {0} ตัวอักษร",textMaxLength:"กรุณาใส่ไม่เกินจำนวน {0} ตัวอักษร",textMinMaxLength:"กรุณาใส่ขั้นต่ำจำนวน {0} และไม่เกินจำนวน {1} ตัวอักษร",minRowCountError:"กรุณาใส่ขั้นต่ำจำนวน {0} แถว",minSelectError:"กรุณาเลือกอย่างน้อย {0} รายการ",maxSelectError:"กรุณาเลือกไม่เกิน {0} รายการ",numericMinMax:"'{0}' ต้องมากกว่าหรือเท่ากับ {1} และน้อยกว่าหรือเท่ากับ {2}",numericMin:"'{0}' ต้องมากกว่าหรือเท่ากับ {1}",numericMax:"'{0}' น้อยกว่าหรือเท่ากับ {1}",invalidEmail:"กรุณาใส่อีเมล์แอดเดรสที่ถูกต้อง",invalidExpression:"The expression: {0} ต้องรีเทิร์น 'true'.",urlRequestError:"รีเควสรีเทิร์น error '{0}'. {1}",urlGetChoicesError:"รีเควสรีเทิร์นข้อมูลว่างเปล่า หรือ 'path' property ไม่ถูกต้อง",exceedMaxSize:"ขนาดไฟล์ต้องไม่เกิน {0}.",otherRequiredError:"กรุณาใส่ค่าอื่น",uploadingFile:"ไฟล์ของคุณกำลังอัพโหลดอยู่. กรุณารอสักครู่แล้วทำการลองอีกครั้ง",loadingFile:"กำลังโหลด...",chooseFile:"เลือกไฟล์...",noFileChosen:"ไม่ไฟล์ที่เลือก",confirmDelete:"คุณต้องการลบรายการนี้จริงหรือไม่?",keyDuplicationError:"ข้อมูลนี้ต้องเป็น unique.",addColumn:"เพิ่มคอลัมน์",addRow:"เพิ่มแถว",removeRow:"ลบ",addPanel:"เพิ่ม",removePanel:"ลบ",choices_Item:"ชิ้น",matrix_column:"คอลัมน์",matrix_row:"แถว",savingData:"ผลลัพท์กำลังบันทึกลงที่เซิร์ฟเวอร์...",savingDataError:"มีความผิดพลาดเกิดขึ้นส่งผลให้ไม่สามารถบันทึกผลได้",savingDataSuccess:"บันทึกสำเร็จแล้ว",saveAgainButton:"รบกวนลองอีกครั้ง",timerMin:"นาที",timerSec:"วินาที",timerSpentAll:"คุณใช้เวลา {0} บนหน้านี้และ {1} รวมทั้งหมด",timerSpentPage:"คุณใช้เวลา {0} บนหน้านี้",timerSpentSurvey:"คุณใช้เวลา {0} รวมทั้งหมด",timerLimitAll:"คุณใช้เวลา {0} ของ {1} บนหน้านี้และ {2} ของ {3} รวมทั้งหมด",timerLimitPage:"คุณใช้เวลา {0} ของ {1} บนหน้านี้",timerLimitSurvey:"คุณใช้เวลา {0} ของ {1} รวมทั้งหมด",cleanCaption:"คลีน",clearCaption:"เคลียร์",chooseFileCaption:"เลือกไฟล์",removeFileCaption:"นำไฟล์นี้ออก",booleanCheckedLabel:"ใช่",booleanUncheckedLabel:"ไม่ใช่",confirmRemoveFile:"คุณแน่ใจที่จะนำไฟล์นี้ออกใช่หรือไม่: {0}?",confirmRemoveAllFiles:"คุณแน่ใจที่จะนำไฟล์ทั้งหมดออกใช่หรือไม่",questionTitlePatternText:"ชื่อคำถาม"},r.a.localeNames.th="ไทย"},function(e,t,n){"use strict";var r=n(1);r.a.locales["zh-tw"]={pagePrevText:"上一頁",pageNextText:"下一頁",completeText:"提交問卷",otherItemText:"填寫其他答案",progressText:"第 {0} 頁, 共 {1} 頁",emptySurvey:"問卷中沒有問題或頁面",completingSurvey:"感謝您的參與!",loadingSurvey:"問卷載入中...",optionsCaption:"請選擇...",requiredError:"請填寫此問題",requiredInAllRowsError:"請填寫所有行中問題",numericError:"答案必須是個數字",textMinLength:"答案長度至少 {0} 個字元",textMaxLength:"答案長度不能超過 {0} 個字元",textMinMaxLength:"答案長度必須在 {0} - {1} 個字元之間",minRowCountError:"最少需要填寫 {0} 行答案",minSelectError:"最少需要選擇 {0} 項答案",maxSelectError:"最多只能選擇 {0} 項答案",numericMinMax:"答案 '{0}' 必須大於等於 {1} 且小於等於 {2}",numericMin:"答案 '{0}' 必須大於等於 {1}",numericMax:"答案 '{0}' 必須小於等於 {1}",invalidEmail:"請輸入有效的 Email 地址",urlRequestError:"載入選項時發生錯誤 '{0}': {1}",urlGetChoicesError:"未能載入有效的選項或請求參數路徑有誤",exceedMaxSize:"文件大小不能超過 {0}",otherRequiredError:"請完成其他問題",uploadingFile:"文件上傳中... 請耐心等待幾秒後重試",addRow:"添加答案",removeRow:"刪除答案",choices_Item:"選項",matrix_column:"列",matrix_row:"行",savingData:"正在將結果保存到服務器...",savingDataError:"在保存結果過程中發生了錯誤，結果未能保存",savingDataSuccess:"結果保存成功!",saveAgainButton:"請重試"},r.a.localeNames["zh-tw"]="繁體中文"},function(e,t,n){"use strict";var r=n(1);r.a.locales.tr={pagePrevText:"Geri",pageNextText:"İleri",completeText:"Anketi Tamamla",previewText:"Ön izleme",editText:"Düzenle",startSurveyText:"Başlat",otherItemText:"Diğer (açıklayınız)",noneItemText:"Yok",selectAllItemText:"Hepsini seç",progressText:"Sayfa {0} / {1}",panelDynamicProgressText:"Kayıt {0} / {1}",questionsProgressText:"Soruları cevapladı {0} / {1}",emptySurvey:"Ankette görüntülenecek sayfa ya da soru mevcut değil.",completingSurvey:"Anketimizi tamamladığınız için teşekkür ederiz.",completingSurveyBefore:"Kayıtlarımız, bu anketi zaten tamamladığınızı gösteriyor.",loadingSurvey:"Anket sunucudan yükleniyor ...",optionsCaption:"Seçiniz ...",value:"değer",requiredError:"Lütfen soruya cevap veriniz",requiredErrorInPanel:"Lütfen en az bir soruyu yanıtlayın.",requiredInAllRowsError:"Lütfen tüm satırlardaki soruları cevaplayınız.",numericError:"Girilen değer numerik olmalıdır",textMinLength:"En az {0} sembol giriniz.",textMaxLength:"Lütfen {0} karakterden az girin.",textMinMaxLength:"Lütfen {0} ’den fazla ve {1} ’den az karakter girin.",minRowCountError:"Lütfen en az {0} satırı doldurun.",minSelectError:"Lütfen en az {0} seçeneği seçiniz.",maxSelectError:"Lütfen {0} adetten fazla seçmeyiniz.",numericMinMax:"The '{0}' should be equal or more than {1} and equal or less than {2}",numericMin:"'{0}' değeri {1} değerine eşit veya büyük olmalıdır",numericMax:"'{0}' değeri {1} değerine eşit ya da küçük olmalıdır.",invalidEmail:"Lütfen geçerli bir eposta adresi giriniz.",invalidExpression:"İfade: {0} 'true' döndürmelidir.",urlRequestError:"Talebi şu hatayı döndü '{0}'. {1}",urlGetChoicesError:"Talep herhangi bir veri dönmedi ya da 'path' özelliği hatalı.",exceedMaxSize:"Dosya boyutu {0} değerini geçemez.",otherRequiredError:"Lütfen diğer değerleri giriniz.",uploadingFile:"Dosyanız yükleniyor. LÜtfen birkaç saniye bekleyin ve tekrar deneyin.",loadingFile:"Yükleniyor...",chooseFile:"Dosyaları seçin ...",noFileChosen:"Dosya seçili değil",confirmDelete:"Kaydı silmek istiyor musunuz?",keyDuplicationError:"Bu değer benzersiz olmalıdır.",addColumn:"Sütun ekleyin",addRow:"Satır Ekle",removeRow:"Kaldır",addPanel:"Yeni ekle",removePanel:"Kaldırmak",choices_Item:"eşya",matrix_column:"Sütun",matrix_row:"Kürek çekmek",savingData:"Sonuçlar sunucuya kaydediliyor ...",savingDataError:"Bir hata oluştu ve sonuçları kaydedemedik.",savingDataSuccess:"Sonuçlar başarıyla kaydedildi!",saveAgainButton:"Tekrar deneyin",timerMin:"min",timerSec:"saniye",timerSpentAll:"Bu sayfada {0} ve toplamda {1} harcadınız.",timerSpentPage:"Bu sayfaya {0} harcadınız.",timerSpentSurvey:"Toplamda {0} harcadınız.",timerLimitAll:"Bu sayfaya {0} / {1} ve toplamda {2} / {3} harcadınız.",timerLimitPage:"Bu sayfaya {0} / {1} harcadınız.",timerLimitSurvey:"Toplamda {0} / {1} harcadınız.",cleanCaption:"Temiz",clearCaption:"Açık",chooseFileCaption:"Dosya seçin",removeFileCaption:"Bu dosyayı kaldır",booleanCheckedLabel:"Evet",booleanUncheckedLabel:"Hayır",confirmRemoveFile:"Bu dosyayı kaldırmak istediğinizden emin misiniz: {0}?",confirmRemoveAllFiles:"Tüm dosyaları kaldırmak istediğinizden emin misiniz?",questionTitlePatternText:"Soru başlığı"},r.a.localeNames.tr="türkçe"},function(e,t,n){"use strict";var r=n(1);r.a.locales.ua={pagePrevText:"Назад",pageNextText:"Далі",completeText:"Завершити",previewText:"Попередній перегляд",editText:"Редагувати",startSurveyText:"Почати",otherItemText:"Інше (будь ласка, опишіть)",noneItemText:"Жоден",selectAllItemText:"Вибрати все",progressText:"Сторінка {0} з {1}",panelDynamicProgressText:"Запис {0} із {1}",questionsProgressText:"Відповіли на {0}/{1} питань",emptySurvey:"Немає жодного питання.",completingSurvey:"Дякуємо Вам за заповнення анкети!",completingSurveyBefore:"Ви вже проходили це опитування.",loadingSurvey:"Завантаження опитування...",optionsCaption:"Вибрати...",value:"значення",requiredError:"Будь ласка, дайте відповідь.",requiredErrorInPanel:"Будь ласка, дайте відповідь хоча б на одне питання.",requiredInAllRowsError:"Будь ласка, дайте відповідь на питання в кожному рядку.",numericError:"Відповідь повинна бути числом.",textMinLength:"Будь ласка введіть більше {0} символів.",textMaxLength:"Будь ласка введіть менше {0} символів.",textMinMaxLength:"Будь ласка введіть більше {0} и менше {1} символів.",minRowCountError:"Будь ласка, заповніть не менше {0} рядків.",minSelectError:"Будь ласка, виберіть хоча б {0} варіантів.",maxSelectError:"Будь ласка, виберіть не більше {0} варіантів.",numericMinMax:"'{0}' повинно бути не менше ніж {1}, і не більше ніж {2}",numericMin:"'{0}' повинно бути не менше ніж {1}",numericMax:"'{0}' повинно бути не більше ніж {1}",invalidEmail:"Будь ласка, введіть дійсну адресу електронної пошти.",invalidExpression:"Вираз {0} повинен повертати 'true'.",urlRequestError:"Запит повернув помилку '{0}'. {1}",urlGetChoicesError:"Відповідь на запит повернулась порожньою або властивіть 'path' вказано невірно",exceedMaxSize:"Розмір файлу не повинен перевищувати {0}.",otherRequiredError:"Будь ласка, введіть дані в поле 'Інше'",uploadingFile:"Ваш файл завантажується. Зачекайте декілька секунд і спробуйте знову.",loadingFile:"Завантаження...",chooseFile:"Виберіть файл(и)...",noFileChosen:"Файл не вибрано",confirmDelete:"Ви хочете видалити запис?",keyDuplicationError:"Це значення повинно бути унікальним.",addColumn:"Додати колонку",addRow:"Додати рядок",removeRow:"Видалити",addPanel:"Додати нову",removePanel:"Видалити",choices_Item:"Варіант",matrix_column:"Колонка",matrix_row:"Рядок",savingData:"Результати зберігаються на сервер...",savingDataError:"Відбулася помилка, результат не був збережений.",savingDataSuccess:"Резвультат успішно збережений!",saveAgainButton:"Спробувати знову",timerMin:"хв",timerSec:"сек",timerSpentAll:"Ви витратили {0} на цій сторінці і {1} загалом.",timerSpentPage:"Ви витратили {0} на цій сторінці.",timerSpentSurvey:"Ви витратили {0} протягом тесту.",timerLimitAll:"Ви витратили {0} з {1} на цій сторінці і {2} з {3} для всього тесту.",timerLimitPage:"Ви витратили {0} з {1} на цій сторінці.",timerLimitSurvey:"Ви витратили {0} з {1} для всього тесту.",cleanCaption:"Очистити",clearCaption:"Очистити",chooseFileCaption:"Виберіть файл",removeFileCaption:"Видалити файл",booleanCheckedLabel:"Так",booleanUncheckedLabel:"Ні",confirmRemoveFile:"Ви впевнені, що хочете видалити цей файл: {0}?",confirmRemoveAllFiles:"Ви впевнені, що хочете видалити всі файли?",questionTitlePatternText:"Назва запитання"},r.a.localeNames.ua="українська"},function(e,t,n){"use strict";var r=n(1);r.a.locales.cy={pagePrevText:"Blaenorol",pageNextText:"Nesaf",completeText:"Cwblhau",previewText:"Rhagolwg",editText:"Golygu",startSurveyText:"Dechrau",otherItemText:"Arall (disgrifiwch)",noneItemText:"Dim",selectAllItemText:"Dewis y Cyfan ",progressText:"Tudalen {0} o {1}",panelDynamicProgressText:"Cofnod {0} o {1}",questionsProgressText:"Wedi ateb {0}/{1} cwestiwn",emptySurvey:"Does dim modd gweld tudalen na chwestiwn yn yr arolwg.",completingSurvey:"Diolch am lenwi’r holiadur!",completingSurveyBefore:"Rydych chi wedi llenwi’r arolwg hwn yn barod yn ôl ein cofnodion.",loadingSurvey:"Wrthi’n Llwytho’r Arolwg...",optionsCaption:"Dewiswch...",value:"gwerth",requiredError:"Atebwch y cwestiwn.",requiredErrorInPanel:"Atebwch o leiaf un cwestiwn.",requiredInAllRowsError:"Atebwch y cwestiynau ym mhob rhes.",numericError:"Dylai’r gwerth fod yn rhif.",textMinLength:"Rhowch o leiaf {0} nod.",textMaxLength:"Rhowch lai na {0} nod.",textMinMaxLength:"Rhowch o leiaf {0} nod ond dim mwy na {1}.",minRowCountError:"Llenwch o leiaf {0} rhes.",minSelectError:"Dewiswch o leiaf {0} amrywiolyn.",maxSelectError:"Peidiwch â dewis mwy na {0} amrywiolyn.",numericMinMax:"Dylai’r '{0}' fod yr un fath â {1} neu’n fwy, a’r fath â {2} neu’n llai",numericMin:"Dylai’r '{0}' fod yr un fath â {1} neu’n fwy",numericMax:"Dylai’r '{0}' fod yr un fath â {1} neu’n llai",invalidEmail:"Rhowch gyfeiriad e-bost dilys.",invalidExpression:"Dylai’r mynegiad {0} arwain at 'true'.",urlRequestError:"Roedd y cais wedi arwain at y gwall '{0}'. {1}",urlGetChoicesError:"Roedd y cais wedi arwain at ddata gwag neu mae priodwedd y ‘path’ yn anghywir ",exceedMaxSize:"Ddylai’r ffeil ddim bod yn fwy na {0}.",otherRequiredError:"Rhowch y gwerth arall.",uploadingFile:"Mae eich ffeil wrthi’n llwytho i fyny. Arhoswch ychydig o eiliadau a rhoi cynnig arall arni.",loadingFile:"Wrthi’n llwytho...",chooseFile:"Dewiswch ffeil(iau)...",noFileChosen:"Heb ddewis ffeil ",confirmDelete:"Ydych chi am ddileu’r cofnod?",keyDuplicationError:"Dylai’r gwerth hwn fod yn unigryw.",addColumn:"Ychwanegu colofn ",addRow:"Ychwanegu rhes",removeRow:"Tynnu",addPanel:"Ychwanegu o’r newydd",removePanel:"Tynnu",choices_Item:"eitem",matrix_column:"Colofn",matrix_row:"Rhes",savingData:"Mae’r canlyniadau’n cael eu cadw ar y gweinydd...",savingDataError:"Roedd gwall a doedd dim modd cadw’r canlyniadau.",savingDataSuccess:"Wedi llwyddo i gadw’r canlyniadau!",saveAgainButton:"Rhowch gynnig arall arni",timerMin:"mun",timerSec:"eil",timerSpentAll:"Rydych chi wedi treulio {0} ar y dudalen hon a {1} gyda’i gilydd.",timerSpentPage:"Rydych chi wedi treulio {0} ar y dudalen hon.",timerSpentSurvey:"Rydych chi wedi treulio {0} gyda’i gilydd.",timerLimitAll:"Rydych chi wedi treulio {0} o {1} ar y dudalen hon a {2} o {3} gyda’i gilydd.",timerLimitPage:"Rydych chi wedi treulio {0} o {1} ar y dudalen hon.",timerLimitSurvey:"Rydych chi wedi treulio {0} o {1} gyda’i gilydd.",cleanCaption:"Glanhau",clearCaption:"Clirio",chooseFileCaption:"Dewiswch ffeil ",removeFileCaption:"Tynnu’r ffeil hon ",booleanCheckedLabel:"Iawn",booleanUncheckedLabel:"Na",confirmRemoveFile:"Ydych chi’n siŵr eich bod am dynnu’r ffeil hon: {0}?",confirmRemoveAllFiles:"Ydych chi’n siŵr eich bod am dynnu pob ffeil?",questionTitlePatternText:"Teitl y Cwestiwn "},r.a.localeNames.cy="cymraeg"},function(e,t,n){"use strict";var r=n(0),o=n(8),i=n(3),a=n(12),s=n(1);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.createLocalizableString("labelFalse",n,!0),n.createLocalizableString("labelTrue",n,!0),n.locLabelFalse.onGetTextCallback=function(e){return e||s.a.getString("booleanUncheckedLabel")},n.locLabelTrue.onGetTextCallback=function(e){return e||s.a.getString("booleanCheckedLabel")},n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"boolean"},t.prototype.isLayoutTypeSupported=function(e){return!0},Object.defineProperty(t.prototype,"isIndeterminate",{get:function(){return this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkedValue",{get:function(){return this.isEmpty()?null:this.value==this.getValueTrue()},set:function(e){this.isReadOnly||(this.isValueEmpty(e)?this.value=null:this.value=1==e?this.getValueTrue():this.getValueFalse())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(e){!0===e&&(e="true"),!1===e&&(e="false"),this.setPropertyValue("defaultValue",e),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),t.prototype.getDefaultValue=function(){return"indeterminate"==this.defaultValue||void 0===this.defaultValue?null:"true"==this.defaultValue?this.getValueTrue():this.getValueFalse()},Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.showTitle||this.isValueEmpty(this.locLabel.text)?this.getLocalizableString("title"):this.locLabel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDisplayLabel",{get:function(){return this.locLabel.text||this.showTitle?this.locLabel:this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelTrue",{get:function(){return this.getLocalizableStringText("labelTrue")},set:function(e){this.setLocalizableStringText("labelTrue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelTrue",{get:function(){return this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelFalse",{get:function(){return this.getLocalizableStringText("labelFalse")},set:function(e){this.setLocalizableStringText("labelFalse",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelFalse",{get:function(){return this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),t.prototype.getValueTrue=function(){return!this.valueTrue||this.valueTrue},t.prototype.getValueFalse=function(){return!!this.valueFalse&&this.valueFalse},t.prototype.setDefaultValue=function(){"true"==this.defaultValue&&(this.checkedValue=!0),"false"==this.defaultValue&&(this.checkedValue=!1),"indeterminate"==this.defaultValue&&(this.value=null)},n.i(r.c)([n.i(i.l)({localizable:!0})],t.prototype,"label",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"showTitle",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"valueTrue",void 0),n.i(r.c)([n.i(i.l)()],t.prototype,"valueFalse",void 0),t}(a.a);i.k.addClass("boolean",[{name:"label:text",serializationProperty:"locLabel"},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"showTitle:boolean","valueTrue","valueFalse",{name:"renderAs",default:"default",visible:!1}],(function(){return new u("")}),"question"),o.a.Instance.registerQuestion("boolean",(function(e){return new u(e)}))},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(3),a=n(8),s=n(5);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.createLocalizableString("placeHolder",n),n}return n.i(r.a)(t,e),t.prototype.isTextValue=function(){return!0},Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(e){this.setPropertyValue("maxLength",e)},enumerable:!1,configurable:!0}),t.prototype.getMaxLength=function(){return s.a.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)},Object.defineProperty(t.prototype,"placeHolder",{get:function(){return this.getLocalizableStringText("placeHolder")},set:function(e){this.setLocalizableStringText("placeHolder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceHolder",{get:function(){return this.getLocalizableString("placeHolder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(e){this.setPropertyValue("rows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this.getPropertyValue("cols")},set:function(e){this.setPropertyValue("cols",e)},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"comment"},t.prototype.isEmpty=function(){return e.prototype.isEmpty.call(this)||""===this.value},Object.defineProperty(t.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(e){this.setPropertyValue("textUpdateMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSurveyInputTextUpdate",{get:function(){return"default"==this.textUpdateMode?!!this.survey&&this.survey.isUpdateValueTextOnTyping:"onTyping"==this.textUpdateMode},enumerable:!1,configurable:!0}),t}(o.a);i.k.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50},{name:"rows:number",default:4},{name:"placeHolder",serializationProperty:"locPlaceHolder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]}],(function(){return new u("")}),"question"),a.a.Instance.registerQuestion("comment",(function(e){return new u(e)}))},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(3),a=n(7),s=n(5),u=n(25);n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var l=function(){function e(e,t){this.name=e,this.json=t;var n=this;i.k.addClass(e,[],(function(e){return c.Instance.createQuestion(e?e.name:"",n)}),"question"),this.onInit()}return e.prototype.onInit=function(){this.json.onInit&&this.json.onInit()},e.prototype.onCreated=function(e){this.json.onCreated&&this.json.onCreated(e)},e.prototype.onLoaded=function(e){this.json.onLoaded&&this.json.onLoaded(e)},e.prototype.onAfterRender=function(e,t){this.json.onAfterRender&&this.json.onAfterRender(e,t)},e.prototype.onAfterRenderContentElement=function(e,t,n){this.json.onAfterRenderContentElement&&this.json.onAfterRenderContentElement(e,t,n)},e.prototype.onPropertyChanged=function(e,t,n){this.json.onPropertyChanged&&this.json.onPropertyChanged(e,t,n)},e.prototype.onValueChanged=function(e,t,n){this.json.onValueChanged&&this.json.onValueChanged(e,t,n)},e.prototype.onItemValuePropertyChanged=function(e,t,n,r,o){this.json.onItemValuePropertyChanged&&this.json.onItemValuePropertyChanged(e,{obj:t,propertyName:n,name:r,newValue:o})},Object.defineProperty(e.prototype,"isComposite",{get:function(){return!!this.json.elementsJSON||!!this.json.createElements},enumerable:!1,configurable:!0}),e}(),c=function(){function e(){this.customQuestionValues=[]}return e.prototype.add=function(e){if(e){var t=e.name;if(!t)throw"Attribute name is missed";if(t=t.toLowerCase(),this.getCustomQuestionByName(t))throw"There is already registered custom question with name '"+t+"'";if(i.k.findClass(t))throw"There is already class with name '"+t+"'";var n=new l(t,e);this.onAddingJson&&this.onAddingJson(t,n.isComposite),this.customQuestionValues.push(n)}},Object.defineProperty(e.prototype,"items",{get:function(){return this.customQuestionValues},enumerable:!1,configurable:!0}),e.prototype.getCustomQuestionByName=function(e){for(var t=0;t<this.customQuestionValues.length;t++)if(this.customQuestionValues[t].name==e)return this.customQuestionValues[t];return null},e.prototype.clear=function(){for(var e=0;e<this.customQuestionValues.length;e++)i.k.removeClass(this.customQuestionValues[e].name);this.customQuestionValues=[]},e.prototype.createQuestion=function(e,t){return t.isComposite?this.createCompositeModel(e,t):this.createCustomModel(e,t)},e.prototype.createCompositeModel=function(e,t){return this.onCreateComposite?this.onCreateComposite(e,t):new f(e,t)},e.prototype.createCustomModel=function(e,t){return this.onCreateCustom?this.onCreateCustom(e,t):new d(e,t)},e.Instance=new e,e}(),p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.customQuestion=n,i.n.createProperties(r),a.d.CreateDisabledDesignElements=!0,r.createWrapper(),a.d.CreateDisabledDesignElements=!1,r.customQuestion&&r.customQuestion.onCreated(r),r}return n.i(r.a)(t,e),t.prototype.getType=function(){return this.customQuestion?this.customQuestion.name:"custom"},t.prototype.createWrapper=function(){},t.prototype.onPropertyValueChanged=function(t,n,r){e.prototype.onPropertyValueChanged.call(this,t,n,r),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,t,r)},t.prototype.itemValuePropertyChanged=function(t,n,r,o){e.prototype.itemValuePropertyChanged.call(this,t,n,r,o),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,t,t.ownerPropertyName,n,o)},t.prototype.onFirstRendering=function(){var t=this.getElement();t&&t.onFirstRendering(),e.prototype.onFirstRendering.call(this)},t.prototype.initElement=function(e){e&&(e.setSurveyImpl(this),e.disableDesignActions=!0)},t.prototype.setSurveyImpl=function(t){e.prototype.setSurveyImpl.call(this,t),this.initElement(this.getElement())},t.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))},t.prototype.afterRenderQuestionElement=function(e){},t.prototype.afterRender=function(t){e.prototype.afterRender.call(this,t),this.customQuestion&&this.customQuestion.onAfterRender(this,t)},t.prototype.setQuestionValue=function(t,n){void 0===n&&(n=!0),e.prototype.setQuestionValue.call(this,t,n),this.updateElementCss()},t.prototype.setNewValue=function(t){e.prototype.setNewValue.call(this,t),this.updateElementCss()},t.prototype.getSurveyData=function(){return this},t.prototype.getTextProcessor=function(){return this.textProcessor},t.prototype.getValue=function(e){return this.value},t.prototype.setValue=function(e,t,n,r){if(this.data){var o=this.convertDataName(e);this.data.setValue(o,this.convertDataValue(e,t),n,r),this.updateIsAnswered(),this.updateElementCss(),this.customQuestion&&this.customQuestion.onValueChanged(this,e,t)}},t.prototype.convertDataName=function(e){return this.getValueName()},t.prototype.convertDataValue=function(e,t){return t},t.prototype.getVariable=function(e){return this.data?this.data.getVariable(e):null},t.prototype.setVariable=function(e,t){this.data&&this.data.setVariable(e,t)},t.prototype.getComment=function(e){return this.data?this.data.getComment(this.getValueName()):""},t.prototype.setComment=function(e,t,n){this.data&&this.data.setComment(this.getValueName(),t,n)},t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():{}},t.prototype.getFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},t.prototype.getFilteredProperties=function(){return this.data?this.data.getFilteredProperties():{}},t.prototype.addElement=function(e,t){},t.prototype.removeElement=function(e){return!1},t.prototype.getQuestionTitleLocation=function(){return"left"},t.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},t.prototype.getChildrenLayoutType=function(){return"row"},t.prototype.elementWidthChanged=function(e){},Object.defineProperty(t.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return-1},t.prototype.ensureRowsVisibility=function(){},t}(o.a),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.i(r.a)(t,e),t.prototype.getTemplate=function(){return"custom"},t.prototype.createWrapper=function(){this.questionWrapper=this.createQuestion()},t.prototype.getElement=function(){return this.contentQuestion},t.prototype.onAnyValueChanged=function(t){e.prototype.onAnyValueChanged.call(this,t),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(t)},t.prototype.hasErrors=function(t,n){if(void 0===t&&(t=!0),void 0===n&&(n=null),!this.contentQuestion)return!1;var r=this.contentQuestion.hasErrors(t,n);this.errors=[];for(var o=0;o<this.contentQuestion.errors.length;o++)this.errors.push(this.contentQuestion.errors[o]);return r||(r=e.prototype.hasErrors.call(this,t,n)),this.updateElementCss(),r},t.prototype.focus=function(t){void 0===t&&(t=!1),this.contentQuestion?this.contentQuestion.focus(t):e.prototype.focus.call(this,t)},Object.defineProperty(t.prototype,"contentQuestion",{get:function(){return this.questionWrapper},enumerable:!1,configurable:!0}),t.prototype.createQuestion=function(){var e=this.customQuestion.json,t=null;if(e.questionJSON){var n=e.questionJSON.type;if(!n||!i.k.findClass(n))throw"type attribute in questionJSON is empty or incorrect";t=i.k.createClass(n),this.initElement(t),t.fromJSON(e.questionJSON)}else e.createQuestion&&(t=e.createQuestion(),this.initElement(t));return t&&!t.name&&(t.name="question"),t},t.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.contentQuestion.value)},t.prototype.runCondition=function(t,n){e.prototype.runCondition.call(this,t,n),this.contentQuestion&&this.contentQuestion.runCondition(t,n)},t.prototype.convertDataName=function(t){if(!this.contentQuestion)return e.prototype.convertDataName.call(this,t);var n=t.replace(this.contentQuestion.getValueName(),this.getValueName());return 0==n.indexOf(this.getValueName())?n:e.prototype.convertDataName.call(this,t)},t.prototype.convertDataValue=function(t,n){return this.convertDataName(t)==e.prototype.convertDataName.call(this,t)?this.contentQuestion.value:n},t.prototype.setQuestionValue=function(t,n){void 0===n&&(n=!0),e.prototype.setQuestionValue.call(this,t,n),this.contentQuestion&&!s.a.isTwoValueEquals(this.contentQuestion.value,t)&&(this.contentQuestion.value=t)},t.prototype.onSurveyValueChanged=function(t){e.prototype.onSurveyValueChanged.call(this,t),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(t)},t.prototype.getValueCore=function(){return this.contentQuestion?this.contentQuestion.value:e.prototype.getValueCore.call(this)},t.prototype.initElement=function(t){var n=this;e.prototype.initElement.call(this,t),t&&(t.parent=this,t.afterRenderQuestionCallback=function(e,t){n.customQuestion&&n.customQuestion.onAfterRenderContentElement(n,e,t)})},t.prototype.updateElementCssCore=function(t){this.contentQuestion&&(t=this.contentQuestion.cssClasses),e.prototype.updateElementCssCore.call(this,t)},t.prototype.getDisplayValueCore=function(t,n){return this.contentQuestion?this.contentQuestion.getDisplayValue(t,n):e.prototype.getDisplayValueCore.call(this,t,n)},t}(p),h=function(e){function t(t,n){var r=e.call(this,n)||this;return r.composite=t,r.variableName=n,r}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"survey",{get:function(){return this.composite.survey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panel",{get:function(){return this.composite.contentPanel},enumerable:!1,configurable:!0}),t}(u.b),f=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.customQuestion=r,o.settingNewValue=!1,o.textProcessing=new h(o,t.ItemVariableName),o}return n.i(r.a)(t,e),t.prototype.createWrapper=function(){this.panelWrapper=this.createPanel()},t.prototype.getTemplate=function(){return"composite"},t.prototype.getCssType=function(){return"composite"},t.prototype.getElement=function(){return this.contentPanel},Object.defineProperty(t.prototype,"contentPanel",{get:function(){return this.panelWrapper},enumerable:!1,configurable:!0}),t.prototype.hasErrors=function(t,n){void 0===t&&(t=!0),void 0===n&&(n=null);var r=e.prototype.hasErrors.call(this,t,n);return this.contentPanel&&this.contentPanel.hasErrors(t,!1,n)||r},t.prototype.updateElementCss=function(){e.prototype.updateElementCss.call(this),this.contentPanel&&this.contentPanel.updateElementCss()},t.prototype.getTextProcessor=function(){return this.textProcessing},t.prototype.clearValueIfInvisible=function(){e.prototype.clearValueIfInvisible.call(this);for(var t=this.contentPanel.questions,n=0;n<t.length;n++)t[n].clearValueIfInvisible()},t.prototype.onAnyValueChanged=function(t){e.prototype.onAnyValueChanged.call(this,t);for(var n=this.contentPanel.questions,r=0;r<n.length;r++)n[r].onAnyValueChanged(t)},t.prototype.createPanel=function(){var e=i.k.createClass("panel");e.showQuestionNumbers="off",e.renderWidth="100%";var t=this.customQuestion.json;return t.elementsJSON&&e.fromJSON({elements:t.elementsJSON}),t.createElements&&t.createElements(e,this),this.initElement(e),e.readOnly=this.isReadOnly,this.setAfterRenderCallbacks(e),e},t.prototype.onReadOnlyChanged=function(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),e.prototype.onReadOnlyChanged.call(this)},t.prototype.onSurveyLoad=function(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),e.prototype.onSurveyLoad.call(this)},t.prototype.setIsContentElement=function(e){e.isContentElement=!0;for(var t=e.elements,n=0;n<t.length;n++){var r=t[n];r.isPanel?this.setIsContentElement(r):r.isContentElement=!0}},t.prototype.setVisibleIndex=function(t){var n=e.prototype.setVisibleIndex.call(this,t);return this.isVisible&&this.contentPanel&&(n+=this.contentPanel.setVisibleIndex(t)),n},t.prototype.runCondition=function(n,r){if(e.prototype.runCondition.call(this,n,r),this.contentPanel){var o=n[t.ItemVariableName];n[t.ItemVariableName]=this.contentPanel.getValue(),this.contentPanel.runCondition(n,r),delete n[t.ItemVariableName],o&&(n[t.ItemVariableName]=o)}},t.prototype.getValue=function(e){var t=this.value;return t?t[e]:null},t.prototype.setValue=function(t,n,r,o){if(!this.settingNewValue&&(e.prototype.setValue.call(this,t,n,r,o),this.contentPanel)){var i=this.contentPanel.getQuestionByName(t);i&&!s.a.isTwoValueEquals(n,i.value)&&(this.settingNewValue=!0,i.value=n,this.settingNewValue=!1)}},t.prototype.addConditionObjectsByContext=function(e,t){if(this.contentPanel)for(var n=this.contentPanel.questions,r=this.name,o=this.title,i=0;i<n.length;i++)e.push({name:r+"."+n[i].name,text:o+"."+n[i].title,question:n[i]})},t.prototype.convertDataValue=function(e,t){var n=this.value;return n||(n={}),s.a.isValueEmpty(t)&&!this.isEditingSurveyElement(n)?delete n[e]:n[e]=t,n},t.prototype.setQuestionValue=function(t,n){void 0===n&&(n=!0),e.prototype.setQuestionValue.call(this,t,n),this.settingNewValue=!0;for(var r=this.contentPanel.questions,o=0;o<r.length;o++){var i=r[o].getValueName();r[o].value=t?t[i]:void 0}this.settingNewValue=!1},t.prototype.getDisplayValueCore=function(t,n){return this.contentPanel?this.contentPanel.getDisplayValue(t):e.prototype.getDisplayValueCore.call(this,t,n)},t.prototype.setAfterRenderCallbacks=function(e){var t=this;if(e&&this.customQuestion)for(var n=e.questions,r=0;r<n.length;r++)n[r].afterRenderQuestionCallback=function(e,n){t.customQuestion.onAfterRenderContentElement(t,e,n)}},t.ItemVariableName="composite",t}(p)},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(12);n.d(t,"a",(function(){return a}));var a=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.getType=function(){return"empty"},t}(i.a);o.k.addClass("empty",[],(function(){return new a("")}),"question")},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(3),a=n(8),s=n(7),u=n(13),l=n(1);n.d(t,"a",(function(){return c}));var c=function(e){function t(t){var n=e.call(this,t)||this;return n.isUploading=!1,n.onStateChanged=new s.b,n.previewValue=[],n.currentState="empty",n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"file"},t.prototype.clearOnDeletingContainer=function(){this.survey.clearFiles(this,this.name,this.value,null,(function(){}))},Object.defineProperty(t.prototype,"showPreview",{get:function(){return this.getPropertyValue("showPreview")},set:function(e){this.setPropertyValue("showPreview",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowMultiple",{get:function(){return this.getPropertyValue("allowMultiple",!1)},set:function(e){this.setPropertyValue("allowMultiple",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"acceptedTypes",{get:function(){return this.getPropertyValue("acceptedTypes")},set:function(e){this.setPropertyValue("acceptedTypes",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeDataAsText",{get:function(){return this.getPropertyValue("storeDataAsText")},set:function(e){this.setPropertyValue("storeDataAsText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"waitForUpload",{get:function(){return this.getPropertyValue("waitForUpload",!1)},set:function(e){this.setPropertyValue("waitForUpload",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowImagesPreview",{get:function(){return this.getPropertyValue("allowImagesPreview")},set:function(e){this.setPropertyValue("allowImagesPreview",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this.getPropertyValue("maxSize",0)},set:function(e){this.setPropertyValue("maxSize",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"needConfirmRemoveFile",{get:function(){return this.getPropertyValue("needConfirmRemoveFile")},set:function(e){this.setPropertyValue("needConfirmRemoveFile",e)},enumerable:!1,configurable:!0}),t.prototype.getConfirmRemoveMessage=function(e){return l.a.getString("confirmRemoveFile").format(e)},Object.defineProperty(t.prototype,"confirmRemoveAllMessage",{get:function(){return l.a.getString("confirmRemoveAllFiles")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noFileChosenCaption",{get:function(){return l.a.getString("noFileChosen")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chooseButtonCaption",{get:function(){return l.a.getString("chooseFileCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cleanButtonCaption",{get:function(){return l.a.getString("cleanCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"removeFileCaption",{get:function(){return l.a.getString("removeFileCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputTitle",{get:function(){return this.isUploading?l.a.getString("loadingFile"):this.isEmpty()?l.a.getString("chooseFile"):" "},enumerable:!1,configurable:!0}),t.prototype.clear=function(e){var t=this;this.survey.clearFiles(this,this.name,this.value,null,(function(n,r){"success"===n&&(t.value=void 0,t.errors=[],e&&e())}))},t.prototype.removeFile=function(e){var t=this;this.survey.clearFiles(this,this.name,this.value,e.name,(function(n,r){if("success"===n){var o=t.value;Array.isArray(o)?t.value=o.filter((function(t){return t.name!==e.name})):t.value=void 0}}))},t.prototype.loadFiles=function(e){var t=this;if(this.survey&&(this.errors=[],this.allFilesOk(e))){this.stateChanged("loading");var n=function(){var n=[];t.storeDataAsText?e.forEach((function(r){var o=new FileReader;o.onload=function(i){(n=n.concat([{name:r.name,type:r.type,content:o.result}])).length===e.length&&(t.value=(t.value||[]).concat(n))},o.readAsDataURL(r)})):t.survey.uploadFiles(t,t.name,e,(function(e,n){"error"===e&&t.stateChanged("error"),"success"===e&&(t.value=(t.value||[]).concat(n.map((function(e){return{name:e.file.name,type:e.file.type,content:e.content}}))))}))};this.allowMultiple?n():this.clear(n)}},t.prototype.canPreviewImage=function(e){return this.allowImagesPreview&&!!e&&this.isFileImage(e)},t.prototype.setQuestionValue=function(t,n){var r=this;void 0===n&&(n=!0),e.prototype.setQuestionValue.call(this,t,n),this.previewValue=[];var o=!Array.isArray(t)&&t||Array.isArray(t)&&t.length>0?this.showPreview?"loading":"loaded":"empty";if(this.stateChanged(o),this.showPreview&&t){var i=Array.isArray(t)?t:t?[t]:[];this.storeDataAsText?(i.forEach((function(e){var t=e.content||e;r.previewValue=r.previewValue.concat([{name:e.name,type:e.type,content:t}])})),"loading"===o&&this.stateChanged("loaded")):i.forEach((function(e){e.content,r.survey.downloadFile(r.name,e,(function(t,n){"success"===t?(r.previewValue=r.previewValue.concat([{content:n,name:e.name,type:e.type}]),r.previewValue.length===i.length&&r.stateChanged("loaded")):r.stateChanged("error")}))}))}},t.prototype.onCheckForErrors=function(t,n){e.prototype.onCheckForErrors.call(this,t,n),this.isUploading&&this.waitForUpload&&t.push(new u.g(l.a.getString("uploadingFile"),this))},t.prototype.stateChanged=function(e){"loading"===e&&(this.isUploading=!0),"loaded"===e&&(this.isUploading=!1),"error"===e&&(this.isUploading=!1),this.currentState=e,this.onStateChanged.fire(this,{state:e})},t.prototype.allFilesOk=function(e){var t=this,n=this.errors?this.errors.length:0;return(e||[]).forEach((function(e){t.maxSize>0&&e.size>t.maxSize&&t.errors.push(new u.e(t.maxSize,t))})),n===this.errors.length},t.prototype.isFileImage=function(e){if(!e)return!1;var t=e.content&&e.content.substr(0,"data:image".length);return"data:image"===(t=t&&t.toLowerCase())||!!e.type&&0===e.type.toLowerCase().indexOf("image/")},t.prototype.getPlainData=function(t){void 0===t&&(t={includeEmpty:!0});var n=e.prototype.getPlainData.call(this,t);if(n&&!this.isEmpty()){n.isNode=!1;var r=Array.isArray(this.value)?this.value:[this.value];n.data=r.map((function(e,t){return{name:t,title:"File",value:e.content&&e.content||e,displayValue:e.name&&e.name||e,getString:function(e){return"object"==typeof e?JSON.stringify(e):e},isNode:!1}}))}return n},t.prototype.supportComment=function(){return!0},t}(o.a);i.k.addClass("file",[{name:"hasComment:switch",layout:"row"},{name:"commentText",dependsOn:"hasComment",visibleIf:function(e){return e.hasComment},serializationProperty:"locCommentText",layout:"row"},{name:"showPreview:boolean",default:!0},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},"maxSize:number",{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean",visible:!0,default:!1}],(function(){return new c("")}),"question"),a.a.Instance.registerQuestion("file",(function(e){return new c(e)}))},function(e,t,n){"use strict";var r=n(0),o=n(30),i=n(3),a=n(8);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){var n=e.call(this,t)||this,r=n.createLocalizableString("html",n),o=n;return r.onGetTextCallback=function(e){return o.survey?o.survey.processHtml(e):e},n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"html"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.getLocalizableStringText("html","")},set:function(e){this.setLocalizableStringText("html",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedHtml",{get:function(){return this.survey?this.survey.processHtml(this.html):this.html},enumerable:!1,configurable:!0}),t}(o.a);i.k.addClass("html",[{name:"html:html",serializationProperty:"locHtml"}],(function(){return new s("")}),"nonvalue"),a.a.Instance.registerQuestion("html",(function(e){return new s(e)}))},function(e,t,n){"use strict";var r=n(0),o=n(30),i=n(3),a=n(8);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){var n=e.call(this,t)||this;return n.createLocalizableString("imageLink",n,!1),n.createLocalizableString("text",n,!1),n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"image"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(e){this.setLocalizableStringText("imageLink",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(e){this.setLocalizableStringText("text",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(e){this.setPropertyValue("imageFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(e){this.setPropertyValue("contentMode",e),"video"===e&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),t}(o.a);i.k.addClass("image",[{name:"imageLink",serializationProperty:"locImageLink"},{name:"text",serializationProperty:"locText"},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",default:150,minValue:0},{name:"imageWidth:number",default:200,minValue:0}],(function(){return new s("")}),"nonvalue"),a.a.Instance.registerQuestion("image",(function(e){return new s(e)}))},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(8),a=n(23),s=n(15),u=n(5);n.d(t,"a",(function(){return c}));var l=function(e){function t(t,n,r){void 0===n&&(n=null),void 0===r&&(r="imageitemvalue");var o=e.call(this,t,n,r)||this;return o.typeName=r,o.createLocalizableString("imageLink",o,!1),o}return n.i(r.a)(t,e),t.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},Object.defineProperty(t.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(e){this.setLocalizableStringText("imageLink",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,t){return this.locOwner?this.locOwner.getMarkdownHtml(e,t):e},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},t}(s.a),c=function(e){function t(t){var n=e.call(this,t)||this;return n.colCount=0,n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"imagepicker"},t.prototype.supportGoNextPageAutomatic=function(){return!0},Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getItemValueType=function(){return"imageitemvalue"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.supportOther=function(){return!1},Object.defineProperty(t.prototype,"multiSelect",{get:function(){return this.getPropertyValue("multiSelect",!1)},set:function(e){this.setPropertyValue("multiSelect",e)},enumerable:!1,configurable:!0}),t.prototype.isItemSelected=function(e){var t=this.value;if(u.a.isValueEmpty(t))return!1;if(!this.multiSelect)return u.a.isTwoValueEquals(t,e.value);if(!Array.isArray(t))return!1;for(var n=0;n<t.length;n++)if(u.a.isTwoValueEquals(t[n],e.value))return!0;return!1},t.prototype.clearIncorrectValues=function(){if(this.multiSelect){var t=this.value;if(!t)return;if(!Array.isArray(t)||0==t.length)return void this.clearValue();for(var n=[],r=0;r<t.length;r++)this.hasUnknownValue(t[r],!0)||n.push(t[r]);if(n.length==t.length)return;0==n.length?this.clearValue():this.value=n}else e.prototype.clearIncorrectValues.call(this)},Object.defineProperty(t.prototype,"showLabel",{get:function(){return this.getPropertyValue("showLabel",!1)},set:function(e){this.setPropertyValue("showLabel",e)},enumerable:!1,configurable:!0}),t.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value"))},t.prototype.getValueCore=function(){var t=e.prototype.getValueCore.call(this);return void 0!==t?t:this.multiSelect?[]:t},t.prototype.convertValToArrayForMultSelect=function(e){return this.multiSelect?u.a.isValueEmpty(e)||Array.isArray(e)?e:[e]:e},t.prototype.renderedValueFromDataCore=function(e){return this.convertValToArrayForMultSelect(e)},t.prototype.rendredValueToDataCore=function(e){return this.convertValToArrayForMultSelect(e)},Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(e){this.setPropertyValue("imageFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(e){this.setPropertyValue("contentMode",e),"video"===e&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),t.prototype.getItemClass=function(e){var t=this.cssClasses.item+(0===this.colCount?" "+this.cssClasses.itemInline:" sv-q-col-"+this.colCount),n=this.isItemSelected(e),r=this.isReadOnly||!e.isEnabled,o=!n&&!r;return n&&this.cssClasses.itemChecked&&(t+=" "+this.cssClasses.itemChecked),r&&this.cssClasses.itemDisabled&&(t+=" "+this.cssClasses.itemDisabled),o&&this.cssClasses.itemHover&&(t+=" "+this.cssClasses.itemHover),t},t.prototype.convertDefaultValue=function(e){return e},t}(a.a);o.k.addClass("imageitemvalue",[],(function(e){return new l(e)}),"itemvalue"),o.k.addProperty("imageitemvalue",{name:"imageLink",serializationProperty:"locImageLink"}),o.k.addClass("imagepicker",[{name:"hasOther",visible:!1},{name:"otherText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",default:150,minValue:0},{name:"imageWidth:number",default:200,minValue:0}],(function(){return new c("")}),"checkboxbase"),o.k.addProperty("imagepicker",{name:"showLabel:boolean",default:!1}),o.k.addProperty("imagepicker",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]}),o.k.addProperty("imagepicker",{name:"multiSelect:boolean",default:!1}),o.k.addProperty("imagepicker",{name:"choices:imageitemvalue[]"}),i.a.Instance.registerQuestion("imagepicker",(function(e){return new c(e)}))},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(15),a=n(43),s=n(3),u=n(7),l=n(1),c=n(13),p=n(8),d=n(16),h=n(48),f=n(11);n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return v}));var m=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.fullName=n,i.item=t,i.data=r,i.value=o,i.cellClick=function(e){i.value=e.value},i.registerFunctionOnPropertyValueChanged("value",(function(){i.data&&i.data.onMatrixRowChanged(i)})),i}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(e){e=this.data.getCorrectedRowValue(e),this.setPropertyValue("value",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowClasses",{get:function(){var e=this.data.cssClasses,t=e.row?e.row:"",n=e.rowError?e.rowError:"",r=!!this.data.getErrorByType("requiredinallrowserror"),i=t;return n&&r&&o.a.isValueEmpty(this.value)&&(i&&(i+=" "),i+=n),i},enumerable:!1,configurable:!0}),t}(u.a),g=function(){function e(e){this.cellsOwner=e,this.values={}}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0==Object.keys(this.values).length},enumerable:!1,configurable:!0}),e.prototype.setCellText=function(e,t,n){if(e=this.getCellRowColumnValue(e,this.rows),t=this.getCellRowColumnValue(t,this.columns),e&&t)if(n)this.values[e]||(this.values[e]={}),this.values[e][t]||(this.values[e][t]=this.createString()),this.values[e][t].text=n;else if(this.values[e]&&this.values[e][t]){var r=this.values[e][t];r.text="",r.isEmpty&&(delete this.values[e][t],0==Object.keys(this.values[e]).length&&delete this.values[e])}},e.prototype.setDefaultCellText=function(e,t){this.setCellText(f.a.matrixDefaultRowName,e,t)},e.prototype.getCellLocText=function(e,t){return e=this.getCellRowColumnValue(e,this.rows),t=this.getCellRowColumnValue(t,this.columns),e&&t&&this.values[e]&&this.values[e][t]?this.values[e][t]:null},e.prototype.getDefaultCellLocText=function(e,t){return this.getCellLocText(f.a.matrixDefaultRowName,e)},e.prototype.getCellDisplayLocText=function(e,t){var n=this.getCellLocText(e,t);return n&&!n.isEmpty||(n=this.getCellLocText(f.a.matrixDefaultRowName,t))&&!n.isEmpty?n:("number"==typeof t&&(t=t>=0&&t<this.columns.length?this.columns[t]:null),t&&t.locText?t.locText:null)},e.prototype.getCellText=function(e,t){var n=this.getCellLocText(e,t);return n?n.calculatedText:null},e.prototype.getDefaultCellText=function(e){var t=this.getCellLocText(f.a.matrixDefaultRowName,e);return t?t.calculatedText:null},e.prototype.getCellDisplayText=function(e,t){var n=this.getCellDisplayLocText(e,t);return n?n.calculatedText:null},Object.defineProperty(e.prototype,"rows",{get:function(){return this.cellsOwner?this.cellsOwner.getRows():[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this.cellsOwner?this.cellsOwner.getColumns():[]},enumerable:!1,configurable:!0}),e.prototype.getCellRowColumnValue=function(e,t){if(null==e)return null;if("number"==typeof e){if(e<0||e>=t.length)return null;e=t[e].value}return e.value?e.value:e},e.prototype.getJson=function(){if(this.isEmpty)return null;var e={};for(var t in this.values){var n={},r=this.values[t];for(var o in r)n[o]=r[o].getJson();e[t]=n}return e},e.prototype.setJson=function(e){if(this.values={},e)for(var t in e)if("pos"!=t){var n=e[t];for(var r in this.values[t]={},n)if("pos"!=r){var o=this.createString();o.setJson(n[r]),this.values[t][r]=o}}},e.prototype.createString=function(){return new d.a(this.cellsOwner,!0)},e}(),v=function(e){function t(t){var n=e.call(this,t)||this;n.isRowChanging=!1,n.emptyLocalizableString=new d.a(n),n.cellsValue=new g(n);var r=n;return n.registerFunctionOnPropertyValueChanged("columns",(function(){r.onColumnsChanged()})),n.registerFunctionOnPropertyValueChanged("rows",(function(){r.filterItems()||r.onRowsChanged()})),n.registerFunctionOnPropertyValueChanged("hideIfRowsEmpty",(function(){r.updateVisibilityBasedOnRows()})),n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"matrix"},Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllRowRequired",{get:function(){return this.getPropertyValue("isAllRowRequired",!1)},set:function(e){this.setPropertyValue("isAllRowRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasRows",{get:function(){return this.rows.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowsOrder",{get:function(){return this.getPropertyValue("rowsOrder")},set:function(e){(e=e.toLowerCase())!=this.rowsOrder&&(this.setPropertyValue("rowsOrder",e),this.onRowsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty",!1)},set:function(e){this.setPropertyValue("hideIfRowsEmpty",e)},enumerable:!1,configurable:!0}),t.prototype.getRows=function(){return this.rows},t.prototype.getColumns=function(){return this.visibleColumns},t.prototype.getItemClass=function(e,t){var n=e.value==t.value,r=this.isReadOnly,o=!n&&!r,i=this.hasCellText?this.cssClasses.cellTextDisabled:this.cssClasses.itemDisabled,a=this.hasCellText?this.cssClasses.cellTextSelected:this.cssClasses.itemChecked,s=this.hasCellText?"":this.cssClasses.itemHover,u=this.hasCellText?this.cssClasses.cellText:this.cssClasses.label,l=this.hasCellText&&this.cssClasses.cell?this.cssClasses.cell+" ":"";return l+=u+(n?" "+a:"")+(r?" "+i:"")+(o?" "+s:"")},t.prototype.getQuizQuestionCount=function(){for(var e=0,t=0;t<this.rows.length;t++)this.isValueEmpty(this.correctAnswer[this.rows[t].value])||e++;return e},t.prototype.getCorrectAnswerCount=function(){for(var e=0,t=this.value,n=0;n<this.rows.length;n++){var r=this.rows[n].value;!o.a.isValueEmpty(t[r])&&o.a.isTwoValueEquals(this.correctAnswer[r],t[r])&&e++}return e},t.prototype.getVisibleRows=function(){var e=new Array,t=this.value;t||(t={});for(var n=this.filteredRows?this.filteredRows:this.rows,r=0;r<n.length;r++){var o=n[r];this.isValueEmpty(o.value)||e.push(this.createMatrixRow(o,this.id+"_"+o.value.toString().replace(/\s/g,"_"),t[o.value]))}return 0!=e.length||this.filteredRows||e.push(this.createMatrixRow(new i.a(null),this.name.replace(/\s/g,"_"),t)),this.generatedVisibleRows=e,e},t.prototype.sortVisibleRows=function(e){return"random"===this.rowsOrder.toLowerCase()?o.a.randomizeArray(e):e},t.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),this.rows=this.sortVisibleRows(this.rows),this.updateVisibilityBasedOnRows()},t.prototype.processRowsOnSet=function(e){return this.sortVisibleRows(e)},Object.defineProperty(t.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this.cellsValue},set:function(e){this.cells.setJson(e&&e.getJson?e.getJson():null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCellText",{get:function(){return!this.cells.isEmpty},enumerable:!1,configurable:!0}),t.prototype.setCellText=function(e,t,n){this.cells.setCellText(e,t,n)},t.prototype.getCellText=function(e,t){return this.cells.getCellText(e,t)},t.prototype.setDefaultCellText=function(e,t){this.cells.setDefaultCellText(e,t)},t.prototype.getDefaultCellText=function(e){return this.cells.getDefaultCellText(e)},t.prototype.getCellDisplayText=function(e,t){return this.cells.getCellDisplayText(e,t)},t.prototype.getCellDisplayLocText=function(e,t){var n=this.cells.getCellDisplayLocText(e,t);return n||this.emptyLocalizableString},t.prototype.supportGoNextPageAutomatic=function(){return this.hasValuesInAllRows()},t.prototype.onCheckForErrors=function(t,n){e.prototype.onCheckForErrors.call(this,t,n),(!n||this.errors.length>0)&&this.hasErrorInRows()&&t.push(new c.i(null,this))},t.prototype.hasErrorInRows=function(){return!!this.isAllRowRequired&&!this.hasValuesInAllRows()},t.prototype.hasValuesInAllRows=function(){var e=this.generatedVisibleRows;if(e||(e=this.visibleRows),!e)return!0;for(var t=0;t<e.length;t++)if(o.a.isValueEmpty(e[t].value))return!1;return!0},t.prototype.getIsAnswered=function(){return e.prototype.getIsAnswered.call(this)&&this.hasValuesInAllRows()},t.prototype.createMatrixRow=function(e,t,n){var r=new m(e,t,this,n);return this.onMatrixRowCreated(r),r},t.prototype.onMatrixRowCreated=function(e){},t.prototype.setQuestionValue=function(t,n){if(void 0===n&&(n=!0),e.prototype.setQuestionValue.call(this,t,this.isRowChanging||n),this.generatedVisibleRows&&0!=this.generatedVisibleRows.length){this.isRowChanging=!0;var r=this.value;if(r||(r={}),0==this.rows.length)this.generatedVisibleRows[0].value=r;else for(var i=0;i<this.generatedVisibleRows.length;i++){var a=r[this.generatedVisibleRows[i].name];o.a.isValueEmpty(a)&&(a=null),this.generatedVisibleRows[i].value=a}this.updateIsAnswered(),this.isRowChanging=!1}},t.prototype.getDisplayValueCore=function(e,t){var n={};for(var r in t){var o=e?i.a.getTextOrHtmlByValue(this.rows,r):r;o||(o=r);var a=i.a.getTextOrHtmlByValue(this.columns,t[r]);a||(a=t[r]),n[o]=a}return n},t.prototype.getPlainData=function(t){var n=this;void 0===t&&(t={includeEmpty:!0});var r=e.prototype.getPlainData.call(this,t);if(r){var o=this.createValueCopy();r.isNode=!0,r.data=Object.keys(o||{}).map((function(e){var r=n.rows.filter((function(t){return t.value===e}))[0],a={name:e,title:r?r.text:"row",value:o[e],displayValue:i.a.getTextOrHtmlByValue(n.visibleColumns,o[e]),getString:function(e){return"object"==typeof e?JSON.stringify(e):e},isNode:!1},s=i.a.getItemByValue(n.visibleColumns,o[e]);return s&&(t.calculations||[]).forEach((function(e){a[e.propertyName]=s[e.propertyName]})),a}))}return r},t.prototype.addConditionObjectsByContext=function(e,t){for(var n=0;n<this.rows.length;n++){var r=this.rows[n];r.value&&e.push({name:this.getValueName()+"."+r.value,text:this.processedTitle+"."+r.calculatedText,question:this})}},t.prototype.getConditionJson=function(t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),!n)return e.prototype.getConditionJson.call(this);var r=new h.a(n);r.choices=this.columns;var o=(new s.g).toJsonObject(r);return o.type=r.getType(),o},t.prototype.clearValueIfInvisible=function(){e.prototype.clearValueIfInvisible.call(this),this.hasRows&&this.clearInvisibleValuesInRows()},t.prototype.getFirstInputElementId=function(){var t=this.generatedVisibleRows;return t||(t=this.visibleRows),t.length>0&&this.visibleColumns.length>0?this.inputId+"_"+t[0].name+"_0":e.prototype.getFirstInputElementId.call(this)},t.prototype.onRowsChanged=function(){this.updateVisibilityBasedOnRows(),e.prototype.onRowsChanged.call(this)},t.prototype.updateVisibilityBasedOnRows=function(){this.hideIfRowsEmpty&&(this.visible=this.rows.length>0&&(!this.filteredRows||this.filteredRows.length>0))},t.prototype.onMatrixRowChanged=function(e){if(!this.isRowChanging){if(this.isRowChanging=!0,this.hasRows){var t=this.value;t||(t={}),t[e.name]=e.value,this.setNewValue(t)}else this.setNewValue(e.value);this.isRowChanging=!1}},t.prototype.getCorrectedRowValue=function(e){for(var t=0;t<this.columns.length;t++)if(e===this.columns[t].value)return e;for(t=0;t<this.columns.length;t++)if(o.a.isTwoValueEquals(e,this.columns[t].value))return this.columns[t].value;return e},t}(a.a);s.k.addClass("matrix",[{name:"columns:itemvalue[]",baseValue:function(){return l.a.getString("matrix_column")}},{name:"rows:itemvalue[]",baseValue:function(){return l.a.getString("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowsOrder",default:"initial",choices:["initial","random"]},"isAllRowRequired:boolean","hideIfRowsEmpty:boolean"],(function(){return new v("")}),"matrixbase"),p.a.Instance.registerQuestion("matrix",(function(e){var t=new v(e);return t.rows=p.a.DefaultRows,t.columns=p.a.DefaultColums,t}))},function(e,t,n){"use strict";var r=n(0),o=n(29),i=n(3),a=n(15),s=n(8);n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var u=function(e){function t(t,n,r,o){var i=e.call(this,r,o)||this;return i.name=t,i.item=n,i.buildCells(o),i}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"rowName",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),t}(o.d),l=function(e){function t(t){var n=e.call(this,t)||this;n.createLocalizableString("totalText",n,!0);var r=n;return n.registerFunctionOnPropertyValueChanged("rows",(function(){r.clearGeneratedRows(),r.resetRenderedTable(),r.filterItems()})),n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"matrixdropdown"},Object.defineProperty(t.prototype,"totalText",{get:function(){return this.getLocalizableStringText("totalText","")},set:function(e){this.setLocalizableStringText("totalText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTotalText",{get:function(){return this.getLocalizableString("totalText")},enumerable:!1,configurable:!0}),t.prototype.getFooterText=function(){return this.locTotalText},Object.defineProperty(t.prototype,"rowTitleWidth",{get:function(){return this.getPropertyValue("rowTitleWidth","")},set:function(e){this.setPropertyValue("rowTitleWidth",e)},enumerable:!1,configurable:!0}),t.prototype.getRowTitleWidth=function(){return this.rowTitleWidth},t.prototype.getDisplayValueCore=function(e,t){var n=this.createValueCopy();if(!n)return n;for(var r=this.visibleRows,o={},i=0;i<r.length;i++){var s=this.rows[i].value,u=n[s];if(u){if(e){var l=a.a.getTextOrHtmlByValue(this.rows,s);l&&(s=l)}o[s]=this.getRowDisplayValue(r[i],u)}}return n},t.prototype.addConditionObjectsByContext=function(e,t){for(var n=!!t&&this.columns.indexOf(t)>-1,r=0;r<this.rows.length;r++){var o=this.rows[r];if(o.value)for(var i=this.getValueName()+"."+o.value+".",a=this.processedTitle+"."+o.calculatedText+".",s=0;s<this.columns.length;s++){var u=this.columns[s];e.push({name:i+u.name,text:a+u.fullTitle,question:this})}}if(n)for(r=0;r<this.columns.length;r++)(u=this.columns[r])!=t&&e.push({name:"row."+u.name,text:"row."+u.fullTitle,question:this})},t.prototype.clearIncorrectValues=function(){var t=this.value;if(t){var n=null,r=!1,o=this.filteredRows?this.filteredRows:this.rows;for(var i in t)a.a.getItemByValue(o,i)?(null==n&&(n={}),n[i]=t[i]):r=!0;r&&(this.value=n),e.prototype.clearIncorrectValues.call(this)}},t.prototype.clearValueIfInvisible=function(){e.prototype.clearValueIfInvisible.call(this),this.clearInvisibleValuesInRows()},t.prototype.generateRows=function(){var e=new Array,t=this.filteredRows?this.filteredRows:this.rows;if(!t||0===t.length)return e;var n=this.value;n||(n={});for(var r=0;r<t.length;r++)t[r].value&&e.push(this.createMatrixRow(t[r],n[t[r].value]));return e},t.prototype.createMatrixRow=function(e,t){return new u(e.value,e,this,t)},t}(o.e);i.k.addClass("matrixdropdown",[{name:"rows:itemvalue[]"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"}],(function(){return new l("")}),"matrixdropdownbase"),s.a.Instance.registerQuestion("matrixdropdown",(function(e){var t=new l(e);return t.choices=[1,2,3,4,5],t.rows=s.a.DefaultColums,o.e.addDefaultColumns(t),t}))},function(e,t,n){"use strict";var r=n(0),o=n(29),i=n(3),a=n(8),s=n(1),u=n(13),l=n(5),c=n(11),p=n(18);n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var d=function(e){function t(t,n,r){var o=e.call(this,n,r)||this;return o.index=t,o.buildCells(r),o}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"rowName",{get:function(){return this.id},enumerable:!1,configurable:!0}),t}(o.d),h=function(e){function t(t){var n=e.call(this,t)||this;return n.rowCounter=0,n.initialRowCount=2,n.setRowCountValueFromData=!1,n.createLocalizableString("confirmDeleteText",n),n.createLocalizableString("addRowText",n),n.createLocalizableString("removeRowText",n),n.createLocalizableString("emptyRowsText",n).onGetTextCallback=function(e){return e||s.a.getString("emptyRowsText")},n.registerFunctionOnPropertyValueChanged("hideColumnsIfEmpty",(function(){n.setShowColumnsIfEmpty()})),n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"matrixdynamic"},Object.defineProperty(t.prototype,"isRowsDynamic",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete",!1)},set:function(e){this.setPropertyValue("confirmDelete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(e){this.setPropertyValue("keyName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultRowValue",{get:function(){return this.getPropertyValue("defaultRowValue")},set:function(e){this.setPropertyValue("defaultRowValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueFromLastRow",{get:function(){return this.getPropertyValue("defaultValueFromLastRow",!1)},set:function(e){this.setPropertyValue("defaultValueFromLastRow",e)},enumerable:!1,configurable:!0}),t.prototype.isDefaultValueEmpty=function(){return e.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultRowValue)},t.prototype.valueFromData=function(t){if(this.minRowCount<1)return e.prototype.valueFromData.call(this,t);Array.isArray(t)||(t=[]);for(var n=t.length;n<this.minRowCount;n++)t.push({});return t},t.prototype.setDefaultValue=function(){if(!this.isValueEmpty(this.defaultRowValue)&&this.isValueEmpty(this.defaultValue)){if(this.isEmpty()&&0!=this.rowCount){for(var t=[],n=0;n<this.rowCount;n++)t.push(this.defaultRowValue);this.value=t}}else e.prototype.setDefaultValue.call(this)},t.prototype.isEditingSurveyElement=function(t){return!(!this.survey||!this.survey.isEditingSurveyElement)||e.prototype.isEditingSurveyElement.call(this,t)},Object.defineProperty(t.prototype,"rowCount",{get:function(){return this.rowCountValue},set:function(e){if(!(e<0||e>c.a.matrixMaximumRowCount)){this.setRowCountValueFromData=!1;var t=this.rowCountValue;if(this.rowCountValue=e,this.value&&this.value.length>e){var n=this.value;n.splice(e),this.value=n}if(this.isLoadingFromJson)this.initialRowCount=e;else{if(this.generatedVisibleRows||0==t){this.generatedVisibleRows||(this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(e);for(var r=t;r<e;r++){var o=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(o),this.onMatrixRowCreated(o)}}this.onRowsChanged()}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowCountValue",{get:function(){return this.getPropertyValue("rowCount",2)},set:function(e){this.setPropertyValue("rowCount",e)},enumerable:!1,configurable:!0}),t.prototype.getValueForNewRow=function(){var e=null;return this.onGetValueForNewRowCallBack&&(e=this.onGetValueForNewRowCallBack(this)),e},Object.defineProperty(t.prototype,"minRowCount",{get:function(){return this.getPropertyValue("minRowCount",0)},set:function(e){e<0&&(e=0),this.setPropertyValue("minRowCount",e),e>this.maxRowCount&&(this.maxRowCount=e),this.rowCount<e&&(this.rowCount=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxRowCount",{get:function(){return this.getPropertyValue("maxRowCount",c.a.matrixMaximumRowCount)},set:function(e){e<=0||(e>c.a.matrixMaximumRowCount&&(e=c.a.matrixMaximumRowCount),e!=this.maxRowCount&&(this.setPropertyValue("maxRowCount",e),e<this.minRowCount&&(this.minRowCount=e),this.rowCount>e&&(this.rowCount=e)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowAddRows",{get:function(){return this.getPropertyValue("allowAddRows",!0)},set:function(e){this.setPropertyValue("allowAddRows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowRemoveRows",{get:function(){return this.getPropertyValue("allowRemoveRows",!0)},set:function(e){this.setPropertyValue("allowRemoveRows",e),this.isLoadingFromJson||this.resetRenderedTable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canAddRow",{get:function(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRemoveRows",{get:function(){return this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount},enumerable:!1,configurable:!0}),t.prototype.canRemoveRow=function(e){return!this.survey||this.survey.matrixAllowRemoveRow(this,e.index,e)},t.prototype.addRow=function(){var e={question:this,canAddRow:this.canAddRow};this.survey&&this.survey.matrixBeforeRowAdded(e),e.canAddRow&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding())},t.prototype.hasRowsAsItems=function(){return!1},t.prototype.unbindValue=function(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,e.prototype.unbindValue.call(this)},t.prototype.addRowCore=function(){var e=this.rowCount;this.rowCount=this.rowCount+1;var t=this.getDefaultRowValue(!0),n=null;if(this.isValueEmpty(t)||(n=this.createNewValue()).length==this.rowCount&&(n[n.length-1]=t,this.value=n),this.data){this.runCellsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties());var r=this.visibleRows[this.rowCount-1];l.a.isValueEmpty(r.value)||(n||(n=this.createNewValue()),this.isEditingSurveyElement(n)||l.a.isTwoValueEquals(n[n.length-1],r.value)||(n[n.length-1]=r.value,this.value=n))}this.survey&&e+1==this.rowCount&&(this.survey.matrixRowAdded(this,this.visibleRows[this.visibleRows.length-1]),this.onRowsChanged())},t.prototype.getDefaultRowValue=function(e){for(var t=null,n=0;n<this.columns.length;n++){var r=this.columns[n].templateQuestion;r&&!this.isValueEmpty(r.getDefaultValue())&&((t=t||{})[this.columns[n].name]=r.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var o in this.defaultRowValue)(t=t||{})[o]=this.defaultRowValue[o];if(e&&this.defaultValueFromLastRow){var i=this.value;if(i&&Array.isArray(i)&&i.length>=this.rowCount-1){var a=i[this.rowCount-2];for(var o in a)(t=t||{})[o]=a[o]}}return t},t.prototype.removeRowUI=function(e){if(e&&e.rowName){var t=this.visibleRows.indexOf(e);if(t<0)return;e=t}this.isRequireConfirmOnRowDelete(e)&&!n.i(p.b)(this.confirmDeleteText)||this.removeRow(e)},t.prototype.isRequireConfirmOnRowDelete=function(e){if(!this.confirmDelete)return!1;if(e<0||e>=this.rowCount)return!1;var t=this.createNewValue();return!(l.a.isValueEmpty(t)||!Array.isArray(t)||e>=t.length||l.a.isValueEmpty(t[e]))},t.prototype.removeRow=function(e){if(this.canRemoveRows&&!(e<0||e>=this.rowCount)){var t=this.visibleRows&&e<this.visibleRows.length?this.visibleRows[e]:null;this.onStartRowAddingRemoving(),this.removeRowCore(e),this.onEndRowRemoving(t)}},t.prototype.removeRowCore=function(e){var t=this.generatedVisibleRows?this.generatedVisibleRows[e]:null;if(this.generatedVisibleRows&&e<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(e,1),this.rowCountValue--,this.value){var n=[];(n=Array.isArray(this.value)&&e<this.value.length?this.createValueCopy():this.createNewValue()).splice(e,1),n=this.deleteRowValue(n,null),this.isRowChanging=!0,this.value=n,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,e,t)},Object.defineProperty(t.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText",s.a.getString("confirmDelete"))},set:function(e){this.setLocalizableStringText("confirmDeleteText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addRowText",{get:function(){var e=this.isColumnLayoutHorizontal?"addRow":"addColumn";return this.getLocalizableStringText("addRowText",s.a.getString(e))},set:function(e){this.setLocalizableStringText("addRowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locAddRowText",{get:function(){return this.getLocalizableString("addRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addRowLocation",{get:function(){return this.getPropertyValue("addRowLocation")},set:function(e){this.setPropertyValue("addRowLocation",e)},enumerable:!1,configurable:!0}),t.prototype.getAddRowLocation=function(){return this.addRowLocation},Object.defineProperty(t.prototype,"hideColumnsIfEmpty",{get:function(){return this.getPropertyValue("hideColumnsIfEmpty")},set:function(e){this.setPropertyValue("hideColumnsIfEmpty",e)},enumerable:!1,configurable:!0}),t.prototype.getShowColumnsIfEmpty=function(){return this.hideColumnsIfEmpty},Object.defineProperty(t.prototype,"removeRowText",{get:function(){return this.getLocalizableStringText("removeRowText",s.a.getString("removeRow"))},set:function(e){this.setLocalizableStringText("removeRowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRemoveRowText",{get:function(){return this.getLocalizableString("removeRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emptyRowsText",{get:function(){return this.getLocalizableStringText("emptyRowsText",s.a.getString("emptyRowsText"))},set:function(e){this.setLocalizableStringText("emptyRowsText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locEmptyRowsText",{get:function(){return this.getLocalizableString("emptyRowsText")},enumerable:!1,configurable:!0}),t.prototype.getDisplayValueCore=function(e,t){var n=this.createValueCopy();if(!n||!Array.isArray(n))return n;for(var r=this.visibleRows,o=0;o<r.length&&o<n.length;o++){var i=n[o];i&&(n[o]=this.getRowDisplayValue(r[o],i))}return n},t.prototype.addConditionObjectsByContext=function(e,t){for(var n=!!t&&this.columns.indexOf(t)>-1,r=0;r<this.columns.length;r++){var o=this.columns[r];this.addColumnIntoaddConditionObjectsByContext(e,0,o),n&&o!=t&&this.addColumnIntoaddConditionObjectsByContext(e,-1,o);for(var i=1;i<Math.min(c.a.matrixMaxRowCountInCondition,this.rowCount);i++)this.addColumnIntoaddConditionObjectsByContext(e,i,o)}},t.prototype.addColumnIntoaddConditionObjectsByContext=function(e,t,n){var r=t>-1?"["+t.toString()+"].":"row.";e.push({name:(t>-1?this.getValueName()+r:r)+n.name,text:(t>-1?this.processedTitle+r:r)+n.fullTitle,question:this})},t.prototype.supportGoNextPageAutomatic=function(){return!1},Object.defineProperty(t.prototype,"hasRowText",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.onCheckForErrors=function(t,n){e.prototype.onCheckForErrors.call(this,t,n),!n&&this.hasErrorInMinRows()&&t.push(new u.j(this.minRowCount,this))},t.prototype.hasErrorInMinRows=function(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var e=0,t=0;t<this.generatedVisibleRows.length;t++)this.generatedVisibleRows[t].isEmpty||e++;return e<this.minRowCount},t.prototype.getUniqueColumns=function(){var t=e.prototype.getUniqueColumns.call(this);if(this.keyName){var n=this.getColumnByName(this.keyName);n&&t.indexOf(n)<0&&t.push(n)}return t},t.prototype.generateRows=function(){var e=new Array;if(0===this.rowCount)return e;for(var t=this.createNewValue(),n=0;n<this.rowCount;n++)e.push(this.createMatrixRow(this.getRowValueByIndex(t,n)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=t),e},t.prototype.createMatrixRow=function(e){return new d(this.rowCounter++,this,e)},t.prototype.onBeforeValueChanged=function(e){if(e&&Array.isArray(e)){var t=e.length;t!=this.rowCount&&(!this.setRowCountValueFromData&&t<this.initialRowCount||(this.setRowCountValueFromData=!0,this.rowCountValue=t,this.generatedVisibleRows&&(this.clearGeneratedRows(),this.generatedVisibleRows=this.visibleRows,this.onRowsChanged())))}},t.prototype.createNewValue=function(){var e=this.createValueCopy();e&&Array.isArray(e)||(e=[]),e.length>this.rowCount&&e.splice(this.rowCount);var t=this.getDefaultRowValue(!1);t=t||{};for(var n=e.length;n<this.rowCount;n++)e.push(this.getUnbindValue(t));return e},t.prototype.deleteRowValue=function(e,t){for(var n=!0,r=0;r<e.length;r++)if(this.isObject(e[r])&&Object.keys(e[r]).length>0){n=!1;break}return n?null:e},t.prototype.getRowValueByIndex=function(e,t){return Array.isArray(e)&&t>=0&&t<e.length?e[t]:null},t.prototype.getRowValueCore=function(e,t,n){if(void 0===n&&(n=!1),!this.generatedVisibleRows)return{};var r=this.getRowValueByIndex(t,this.generatedVisibleRows.indexOf(e));return!r&&n&&(r={}),r},t}(o.e);i.k.addClass("matrixdynamic",[{name:"rowsVisibleIf:condition",visible:!1},{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:c.a.matrixMaximumRowCount},{name:"keyName"},"defaultRowValue:rowvalue","defaultValueFromLastRow:boolean",{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(e){return!e||e.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"emptyRowsText:text",serializationProperty:"locEmptyRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(e){return!e||e.hideColumnsIfEmpty}}],(function(){return new h("")}),"matrixdropdownbase"),a.a.Instance.registerQuestion("matrixdynamic",(function(e){var t=new h(e);return t.choices=[1,2,3,4,5],o.e.addDefaultColumns(t),t}))},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(12),a=n(50),s=n(3),u=n(8),l=n(5);n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p}));var c=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.call(this)||this;return r.editorValue=r.createEditor(t),r.editor.questionTitleTemplateCallback=function(){return""},r.editor.titleLocation="left",n&&(r.title=n),r}return n.i(r.a)(t,e),t.prototype.getType=function(){return"multipletextitem"},Object.defineProperty(t.prototype,"id",{get:function(){return this.editor.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.editor.name},set:function(e){this.editor.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"question",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){return this.editorValue},enumerable:!1,configurable:!0}),t.prototype.createEditor=function(e){return new a.a(e)},t.prototype.addUsedLocales=function(t){e.prototype.addUsedLocales.call(this,t),this.editor.addUsedLocales(t)},t.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.editor.locStrsChanged()},t.prototype.setData=function(e){this.data=e,e&&(this.editor.defaultValue=e.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=e)},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.editor.isRequired},set:function(e){this.editor.isRequired=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this.editor.inputType},set:function(e){this.editor.inputType=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.editor.title},set:function(e){this.editor.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.editor.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullTitle",{get:function(){return this.editor.fullTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.editor.maxLength},set:function(e){this.editor.maxLength=e},enumerable:!1,configurable:!0}),t.prototype.getMaxLength=function(){var e=this.getSurvey();return l.a.getMaxLength(this.maxLength,e?e.maxTextLength:-1)},Object.defineProperty(t.prototype,"placeHolder",{get:function(){return this.editor.placeHolder},set:function(e){this.editor.placeHolder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceHolder",{get:function(){return this.editor.locPlaceHolder},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.editor.requiredErrorText},set:function(e){this.editor.requiredErrorText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.editor.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validators",{get:function(){return this.editor.validators},set:function(e){this.editor.validators=e},enumerable:!1,configurable:!0}),t.prototype.getValidators=function(){return this.validators},Object.defineProperty(t.prototype,"value",{get:function(){return this.data?this.data.getMultipleTextValue(this.name):null},set:function(e){null!=this.data&&this.data.setMultipleTextValue(this.name,e)},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return l.a.isValueEmpty(this.value)},t.prototype.onValueChanged=function(e){this.valueChangedCallback&&this.valueChangedCallback(e)},t.prototype.getSurveyData=function(){return this},t.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},t.prototype.getTextProcessor=function(){return this.data?this.data.getTextProcessor():null},t.prototype.getValue=function(e){return this.data?this.data.getMultipleTextValue(e):null},t.prototype.setValue=function(e,t){this.data&&this.data.setMultipleTextValue(e,t)},t.prototype.getVariable=function(e){},t.prototype.setVariable=function(e,t){},t.prototype.getComment=function(e){return null},t.prototype.setComment=function(e,t){},t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():this.value},t.prototype.getFilteredValues=function(){return this.getAllValues()},t.prototype.getFilteredProperties=function(){return{survey:this.getSurvey()}},t.prototype.getValidatorTitle=function(){return this.title},Object.defineProperty(t.prototype,"validatedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),t.prototype.getDataFilteredValues=function(){return this.getFilteredValues()},t.prototype.getDataFilteredProperties=function(){return this.getFilteredProperties()},t}(o.a),p=function(e){function t(t){var n=e.call(this,t)||this;n.isMultipleItemValueChanging=!1;var r=n;return n.createNewArray("items",(function(e){e.setData(r)})),n.registerFunctionOnPropertyValueChanged("items",(function(){r.fireCallback(r.colCountChangedCallback)})),n.registerFunctionOnPropertyValueChanged("colCount",(function(){r.fireCallback(r.colCountChangedCallback)})),n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"multipletext"},t.prototype.setSurveyImpl=function(t){e.prototype.setSurveyImpl.call(this,t);for(var n=0;n<this.items.length;n++)this.items[n].setData(this)},Object.defineProperty(t.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.onSurveyLoad=function(){this.editorsOnSurveyLoad(),e.prototype.onSurveyLoad.call(this),this.fireCallback(this.colCountChangedCallback)},t.prototype.setQuestionValue=function(t,n){void 0===n&&(n=!0),e.prototype.setQuestionValue.call(this,t,n);for(var r=0;r<this.items.length;r++){var o=this.items[r];o.editor&&o.editor.updateValueFromSurvey(o.value)}this.updateIsAnswered()},t.prototype.onSurveyValueChanged=function(t){e.prototype.onSurveyValueChanged.call(this,t);for(var n=0;n<this.items.length;n++){var r=this.items[n];r.editor&&r.editor.onSurveyValueChanged(r.value)}},t.prototype.editorsOnSurveyLoad=function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];t.editor&&t.editor.onSurveyLoad()}},Object.defineProperty(t.prototype,"items",{get:function(){return this.getPropertyValue("items")},set:function(e){this.setPropertyValue("items",e)},enumerable:!1,configurable:!0}),t.prototype.addItem=function(e,t){void 0===t&&(t=null);var n=this.createTextItem(e,t);return this.items.push(n),n},t.prototype.getItemByName=function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].name==e)return this.items[t];return null},t.prototype.addConditionObjectsByContext=function(e,t){for(var n=0;n<this.items.length;n++){var r=this.items[n];e.push({name:this.getValueName()+"."+r.name,text:this.processedTitle+"."+r.fullTitle,question:this})}},t.prototype.getConditionJson=function(t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),!n)return e.prototype.getConditionJson.call(this);var r=this.getItemByName(n);if(!r)return null;var o=(new s.g).toJsonObject(r);return o.type="text",o},t.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this);for(var t=0;t<this.items.length;t++)this.items[t].locStrsChanged()},t.prototype.supportGoNextPageAutomatic=function(){for(var e=0;e<this.items.length;e++)if(this.items[e].isEmpty())return!1;return!0},Object.defineProperty(t.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(e){e<1||e>5||this.setPropertyValue("colCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemSize",{get:function(){return this.getPropertyValue("itemSize")},set:function(e){this.setPropertyValue("itemSize",e)},enumerable:!1,configurable:!0}),t.prototype.getRows=function(){for(var e=this.colCount,t=this.items,n=[],r=0,o=0;o<t.length;o++)0==r&&n.push([]),n[n.length-1].push(t[o]),++r>=e&&(r=0);return n},t.prototype.onValueChanged=function(){e.prototype.onValueChanged.call(this),this.onItemValueChanged()},t.prototype.createTextItem=function(e,t){return new c(e,t)},t.prototype.onItemValueChanged=function(){if(!this.isMultipleItemValueChanging)for(var e=0;e<this.items.length;e++){var t=null;this.value&&this.items[e].name in this.value&&(t=this.value[this.items[e].name]),this.items[e].onValueChanged(t)}},t.prototype.getIsRunningValidators=function(){if(e.prototype.getIsRunningValidators.call(this))return!0;for(var t=0;t<this.items.length;t++)if(this.items[t].editor.isRunningValidators)return!0;return!1},t.prototype.hasErrors=function(t,n){var r=this;void 0===t&&(t=!0),void 0===n&&(n=null);for(var o=!1,i=0;i<this.items.length;i++)this.items[i].editor.onCompletedAsyncValidators=function(e){r.raiseOnCompletedAsyncValidators()},n&&!0===n.isOnValueChanged&&this.items[i].editor.isEmpty()||(o=this.items[i].editor.hasErrors(t,n)||o);return e.prototype.hasErrors.call(this,t)||o},t.prototype.getAllErrors=function(){for(var t=e.prototype.getAllErrors.call(this),n=0;n<this.items.length;n++){var r=this.items[n].editor.getAllErrors();r&&r.length>0&&(t=t.concat(r))}return t},t.prototype.clearErrors=function(){e.prototype.clearErrors.call(this);for(var t=0;t<this.items.length;t++)this.items[t].editor.clearErrors()},t.prototype.getContainsErrors=function(){var t=e.prototype.getContainsErrors.call(this);if(t)return t;for(var n=this.items,r=0;r<n.length;r++)if(n[r].editor.containsErrors)return!0;return!1},t.prototype.getIsAnswered=function(){if(!e.prototype.getIsAnswered.call(this))return!1;for(var t=0;t<this.items.length;t++){var n=this.items[t].editor;if(n.isVisible&&!n.isAnswered)return!1}return!0},t.prototype.getProgressInfo=function(){for(var e=[],t=0;t<this.items.length;t++)e.push(this.items[t].editor);return o.d.getProgressInfoByElements(e,this.isRequired)},t.prototype.getMultipleTextValue=function(e){return this.value?this.value[e]:null},t.prototype.setMultipleTextValue=function(e,t){this.isMultipleItemValueChanging=!0;var n=this.value;n||(n={}),n[e]=t,this.setNewValue(n),this.isMultipleItemValueChanging=!1},t.prototype.getItemDefaultValue=function(e){return this.defaultValue?this.defaultValue[e]:null},t.prototype.getTextProcessor=function(){return this.textProcessor},t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},t.prototype.getIsRequiredText=function(){return this.survey?this.survey.requiredText:""},t.prototype.addElement=function(e,t){},t.prototype.removeElement=function(e){return!1},t.prototype.getQuestionTitleLocation=function(){return"left"},t.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},t.prototype.getChildrenLayoutType=function(){return"row"},t.prototype.elementWidthChanged=function(e){},Object.defineProperty(t.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return-1},t.prototype.ensureRowsVisibility=function(){},t}(i.a);s.k.addClass("multipletextitem",["name","isRequired:boolean",{name:"placeHolder",serializationProperty:"locPlaceHolder"},{name:"inputType",default:"text",choices:["color","date","datetime","datetime-local","email","month","number","password","range","tel","text","time","url","week"]},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],(function(){return new c("")})),s.k.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem"},{name:"itemSize:number",default:25,minValue:0},{name:"colCount:number",default:1,choices:[1,2,3,4,5]}],(function(){return new p("")}),"question"),u.a.Instance.registerQuestion("multipletext",(function(e){var t=new p(e);return t.addItem("text1"),t.addItem("text2"),t}))},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(7),a=n(1),s=n(25),u=n(12),l=n(22),c=n(3),p=n(8),d=n(13),h=n(11),f=n(18);n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var m=function(e){function t(t,n,r){var o=e.call(this,r)||this;return o.data=t,o.panelItem=n,o.variableName=r,o}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"survey",{get:function(){return this.panelItem.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panel",{get:function(){return this.panelItem.panel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelIndex",{get:function(){return this.data?this.data.getItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.panelItem.getAllValues()},t.prototype.getQuestionByName=function(t){var n=e.prototype.getQuestionByName.call(this,t);if(n)return n;var r=this.panelIndex;return r>-1?this.data.getSharedQuestionFromArray(t,r):null},t.prototype.onCustomProcessText=function(e){if(e.name==g.IndexVariableName){var n=this.panelIndex;if(n>-1)return e.isExists=!0,e.value=n+1,!0}if(0==e.name.indexOf(g.ParentItemVariableName+".")){var r=this.data;if(r&&r.parentQuestion&&r.parent){var o=r.parent.data,i=new t(r.parentQuestion,o,g.ItemVariableName),a=e.name.replace(g.ParentItemVariableName,g.ItemVariableName),s=i.processValue(a,e.returnDisplayValue);e.isExists=s.isExists,e.value=s.value}return!0}return!1},t}(s.b),g=function(){function e(t,n){this.data=t,this.panelValue=n,this.textPreProcessor=new m(t,this,e.ItemVariableName),this.setSurveyImpl()}return Object.defineProperty(e.prototype,"panel",{get:function(){return this.panelValue},enumerable:!1,configurable:!0}),e.prototype.setSurveyImpl=function(){this.panel.setSurveyImpl(this)},e.prototype.getValue=function(e){return this.getAllValues()[e]},e.prototype.setValue=function(e,t){this.data.setPanelItemData(this,e,t)},e.prototype.getVariable=function(e){},e.prototype.setVariable=function(e,t){},e.prototype.getComment=function(e){var t=this.getValue(e+h.a.commentPrefix);return t||""},e.prototype.setComment=function(e,t,n){this.setValue(e+h.a.commentPrefix,t)},e.prototype.getAllValues=function(){return this.data.getPanelItemData(this)},e.prototype.getFilteredValues=function(){var t={},n=this.data&&this.data.getRootData()?this.data.getRootData().getFilteredValues():{};for(var r in n)t[r]=n[r];return t[e.ItemVariableName]=this.getAllValues(),t},e.prototype.getFilteredProperties=function(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}},e.prototype.getSurveyData=function(){return this},e.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},e.prototype.getTextProcessor=function(){return this.textPreProcessor},e.ItemVariableName="panel",e.ParentItemVariableName="parentPanel",e.IndexVariableName="panelIndex",e}(),v=function(){function e(e){this.data=e}return e.prototype.getSurveyData=function(){return null},e.prototype.getSurvey=function(){return this.data.getSurvey()},e.prototype.getTextProcessor=function(){return null},e}(),y=function(e){function t(t){var n=e.call(this,t)||this;n.loadingPanelCount=0,n.currentIndexValue=-1,n.isAddingNewPanels=!1,n.createNewArray("panels"),n.templateValue=n.createAndSetupNewPanelObject(),n.template.renderWidth="100%",n.template.selectedElementInDesign=n;var r=n;return n.template.addElementCallback=function(e){r.addOnPropertyChangedCallback(e),r.rebuildPanels()},n.template.removeElementCallback=function(e){r.rebuildPanels()},n.createLocalizableString("confirmDeleteText",n),n.createLocalizableString("keyDuplicationError",n),n.createLocalizableString("panelAddText",n),n.createLocalizableString("panelRemoveText",n),n.createLocalizableString("panelPrevText",n),n.createLocalizableString("panelNextText",n),n.registerFunctionOnPropertyValueChanged("panelsState",(function(){r.setPanelsState()})),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.setSurveyImpl=function(t){e.prototype.setSurveyImpl.call(this,t),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()},t.prototype.assignOnPropertyChangedToTemplate=function(){for(var e=this.template.elements,t=0;t<e.length;t++)this.addOnPropertyChangedCallback(e[t])},t.prototype.addOnPropertyChangedCallback=function(e){var t=this;e.onPropertyChanged.add((function(e,n){t.onTemplateElementPropertyChanged(e,n)})),e.isPanel&&(e.addElementCallback=function(e){t.addOnPropertyChangedCallback(e)})},t.prototype.onTemplateElementPropertyChanged=function(e,t){if(!this.isLoadingFromJson&&!this.isDesignMode&&0!=this.panels.length&&c.k.findProperty(e.getType(),t.name))for(var n=this.panels,r=0;r<n.length;r++){var o=n[r].getQuestionByName(e.name);o&&o[t.name]!==t.newValue&&(o[t.name]=t.newValue)}},t.prototype.getType=function(){return"paneldynamic"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.clearOnDeletingContainer=function(){this.panels.forEach((function(e){e.clearOnDeletingContainer()}))},Object.defineProperty(t.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.removeElement=function(e){return this.template.removeElement(e)},Object.defineProperty(t.prototype,"template",{get:function(){return this.templateValue},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return this.template},Object.defineProperty(t.prototype,"templateElements",{get:function(){return this.template.elements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateTitle",{get:function(){return this.template.title},set:function(e){this.template.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTemplateTitle",{get:function(){return this.template.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateDescription",{get:function(){return this.template.description},set:function(e){this.template.description=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTemplateDescription",{get:function(){return this.template.locDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){for(var e=[],t=0;t<this.panels.length;t++)e.push(this.panels[t].data);return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panels",{get:function(){return this.getPropertyValue("panels")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this.isRenderModeList?-1:this.isDesignMode?0:(this.currentIndexValue<0&&this.panelCount>0&&(this.currentIndexValue=0),this.currentIndexValue>=this.panelCount&&(this.currentIndexValue=this.panelCount-1),this.currentIndexValue)},set:function(e){this.currentIndexValue!==e&&(e>=this.panelCount&&(e=this.panelCount-1),this.currentIndexValue=e,this.fireCallback(this.currentIndexChangedCallback))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPanel",{get:function(){var e=this.currentIndex;return e<0||e>=this.panels.length?null:this.panels[e]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete",!1)},set:function(e){this.setPropertyValue("confirmDelete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(e){this.setPropertyValue("keyName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText",a.a.getString("confirmDelete"))},set:function(e){this.setLocalizableStringText("confirmDeleteText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError",a.a.getString("keyDuplicationError"))},set:function(e){this.setLocalizableStringText("keyDuplicationError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelPrevText",{get:function(){return this.getLocalizableStringText("panelPrevText",a.a.getString("pagePrevText"))},set:function(e){this.setLocalizableStringText("panelPrevText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelPrevText",{get:function(){return this.getLocalizableString("panelPrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelNextText",{get:function(){return this.getLocalizableStringText("panelNextText",a.a.getString("pageNextText"))},set:function(e){this.setLocalizableStringText("panelNextText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelNextText",{get:function(){return this.getLocalizableString("panelNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelAddText",{get:function(){return this.getLocalizableStringText("panelAddText",a.a.getString("addPanel"))},set:function(e){this.setLocalizableStringText("panelAddText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelAddText",{get:function(){return this.getLocalizableString("panelAddText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelRemoveText",{get:function(){return this.getLocalizableStringText("panelRemoveText",a.a.getString("removePanel"))},set:function(e){this.setLocalizableStringText("panelRemoveText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelRemoveText",{get:function(){return this.getLocalizableString("panelRemoveText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProgressTopShowing",{get:function(){return"progressTop"==this.renderMode||"progressTopBottom"==this.renderMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProgressBottomShowing",{get:function(){return"progressBottom"==this.renderMode||"progressTopBottom"==this.renderMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPrevButtonShowing",{get:function(){return this.currentIndex>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNextButtonShowing",{get:function(){return this.currentIndex>=0&&this.currentIndex<this.panelCount-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRangeShowing",{get:function(){return this.showRangeInProgress&&this.currentIndex>=0&&this.panelCount>1},enumerable:!1,configurable:!0}),t.prototype.getElementsInDesign=function(e){return void 0===e&&(e=!1),e?[this.template]:this.templateElements},t.prototype.prepareValueForPanelCreating=function(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1},t.prototype.setValueAfterPanelsCreating=function(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)},t.prototype.getValueCore=function(){return this.isAddingNewPanels?this.addingNewPanelsValue:e.prototype.getValueCore.call(this)},t.prototype.setValueCore=function(t){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=t):e.prototype.setValueCore.call(this,t)},Object.defineProperty(t.prototype,"panelCount",{get:function(){return this.isLoadingFromJson||this.isDesignMode?this.loadingPanelCount:this.panels.length},set:function(e){if(!(e<0))if(this.isLoadingFromJson||this.isDesignMode)this.loadingPanelCount=e;else if(e!=this.panels.length&&!this.isDesignMode){this.updateBindings("panelCount",e),this.prepareValueForPanelCreating();for(var t=this.panelCount;t<e;t++){var n=this.createNewPanel();this.panels.push(n),"list"==this.renderMode&&"default"!=this.panelsState&&("expand"===this.panelsState?n.expand():n.title&&n.collapse())}e<this.panelCount&&this.panels.splice(e,this.panelCount-e),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.fireCallback(this.panelCountChangedCallback)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelsState",{get:function(){return this.getPropertyValue("panelsState")},set:function(e){this.setPropertyValue("panelsState",e)},enumerable:!1,configurable:!0}),t.prototype.setTemplatePanelSurveyImpl=function(){this.template.setSurveyImpl(this.isDesignMode?this.surveyImpl:new v(this))},t.prototype.setPanelsSurveyImpl=function(){for(var e=0;e<this.panels.length;e++){var t=this.panels[e];t!=this.template&&t.setSurveyImpl(t.data)}},t.prototype.setPanelsState=function(){if(!this.isDesignMode&&"list"==this.renderMode&&this.templateTitle)for(var e=0;e<this.panels.length;e++){var t=this.panelsState;"firstExpanded"===t&&(t=0===e?"expanded":"collapsed"),this.panels[e].state=t}},t.prototype.setValueBasedOnPanelCount=function(){var e=this.value;if(e&&Array.isArray(e)||(e=[]),e.length!=this.panelCount){for(var t=e.length;t<this.panelCount;t++)e.push({});e.length>this.panelCount&&e.splice(this.panelCount,e.length-this.panelCount),this.isValueChangingInternally=!0,this.value=e,this.isValueChangingInternally=!1}},Object.defineProperty(t.prototype,"minPanelCount",{get:function(){return this.getPropertyValue("minPanelCount",0)},set:function(e){e<0&&(e=0),e!=this.minPanelCount&&(this.setPropertyValue("minPanelCount",e),e>this.maxPanelCount&&(this.maxPanelCount=e),this.panelCount<e&&(this.panelCount=e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxPanelCount",{get:function(){return this.getPropertyValue("maxPanelCount",h.a.panelMaximumPanelCount)},set:function(e){e<=0||(e>h.a.panelMaximumPanelCount&&(e=h.a.panelMaximumPanelCount),e!=this.maxPanelCount&&(this.setPropertyValue("maxPanelCount",e),e<this.minPanelCount&&(this.minPanelCount=e),this.panelCount>e&&(this.panelCount=e)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowAddPanel",{get:function(){return this.getPropertyValue("allowAddPanel")},set:function(e){this.setPropertyValue("allowAddPanel",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowRemovePanel",{get:function(){return this.getPropertyValue("allowRemovePanel")},set:function(e){this.setPropertyValue("allowRemovePanel",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateTitleLocation",{get:function(){return this.getPropertyValue("templateTitleLocation")},set:function(e){this.setPropertyValue("templateTitleLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){this.setPropertyValue("showQuestionNumbers",e),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRangeInProgress",{get:function(){return this.getPropertyValue("showRangeInProgress",!0)},set:function(e){this.setPropertyValue("showRangeInProgress",e),this.fireCallback(this.currentIndexChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderMode",{get:function(){return this.getPropertyValue("renderMode")},set:function(e){this.setPropertyValue("renderMode",e),this.fireCallback(this.renderModeChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRenderModeList",{get:function(){return"list"==this.renderMode},enumerable:!1,configurable:!0}),t.prototype.setVisibleIndex=function(t){if(!this.isVisible)return 0;for(var n="onSurvey"==this.showQuestionNumbers?t:0,r=0;r<this.panels.length;r++){var o=this.setPanelVisibleIndex(this.panels[r],n,"off"!=this.showQuestionNumbers);"onSurvey"==this.showQuestionNumbers&&(n+=o)}return e.prototype.setVisibleIndex.call(this,"onSurvey"!=this.showQuestionNumbers?t:-1),"onSurvey"!=this.showQuestionNumbers?1:n-t},t.prototype.setPanelVisibleIndex=function(e,t,n){return n?e.setVisibleIndex(t):(e.setVisibleIndex(-1),0)},Object.defineProperty(t.prototype,"canAddPanel",{get:function(){return(!this.survey||!this.survey.isDesignMode)&&this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRemovePanel",{get:function(){return(!this.survey||!this.survey.isDesignMode)&&this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount},enumerable:!1,configurable:!0}),t.prototype.rebuildPanels=function(){var e;if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var t=[];if(this.isDesignMode)new g(this,this.template),t.push(this.template);else for(var o=0;o<this.panelCount;o++)t.push(this.createNewPanel());(e=this.panels).splice.apply(e,n.i(r.e)([0,this.panels.length],t)),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.fireCallback(this.panelCountChangedCallback)}},Object.defineProperty(t.prototype,"defaultPanelValue",{get:function(){return this.getPropertyValue("defaultPanelValue")},set:function(e){this.setPropertyValue("defaultPanelValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueFromLastPanel",{get:function(){return this.getPropertyValue("defaultValueFromLastPanel",!1)},set:function(e){this.setPropertyValue("defaultValueFromLastPanel",e)},enumerable:!1,configurable:!0}),t.prototype.isDefaultValueEmpty=function(){return e.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultPanelValue)},t.prototype.setDefaultValue=function(){if(!this.isValueEmpty(this.defaultPanelValue)&&this.isValueEmpty(this.defaultValue)){if(this.isEmpty()&&0!=this.panelCount){for(var t=[],n=0;n<this.panelCount;n++)t.push(this.defaultPanelValue);this.value=t}}else e.prototype.setDefaultValue.call(this)},t.prototype.isEmpty=function(){var e=this.value;if(!e||!Array.isArray(e))return!0;for(var t=0;t<e.length;t++)if(!this.isRowEmpty(e[t]))return!1;return!0},t.prototype.getProgressInfo=function(){return i.d.getProgressInfoByElements(this.panels,this.isRequired)},t.prototype.isRowEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},t.prototype.addPanelUI=function(){if(!this.canAddPanel)return null;var e=this.addPanel();return"list"===this.renderMode&&"default"!==this.panelsState&&e.expand(),e},t.prototype.addPanel=function(){this.panelCount++,this.isRenderModeList||(this.currentIndex=this.panelCount-1);var e=this.value,t=!1;return this.isValueEmpty(this.defaultPanelValue)||e&&Array.isArray(e)&&e.length==this.panelCount&&(t=!0,this.copyValue(e[e.length-1],this.defaultPanelValue)),this.defaultValueFromLastPanel&&e&&Array.isArray(e)&&e.length>1&&e.length==this.panelCount&&(t=!0,this.copyValue(e[e.length-1],e[e.length-2])),t&&(this.value=e),this.survey&&this.survey.dynamicPanelAdded(this),this.panels[this.panelCount-1]},t.prototype.copyValue=function(e,t){for(var n in t)e[n]=t[n]},t.prototype.removePanelUI=function(e){this.canRemovePanel&&(this.confirmDelete&&!n.i(f.b)(this.confirmDeleteText)||this.removePanel(e))},t.prototype.goToNextPanel=function(){"list"!==this.renderMode&&this.currentPanel.hasErrors()||this.currentIndex++},t.prototype.goToPrevPanel=function(){this.currentIndex--},t.prototype.removePanel=function(e){var t=this.getPanelIndex(e);if(!(t<0||t>=this.panelCount)){var n=this.panels[t];this.panels.splice(t,1),this.updateBindings("panelCount",this.panelCount),!(e=this.value)||!Array.isArray(e)||t>=e.length||(this.isValueChangingInternally=!0,e.splice(t,1),this.value=e,this.fireCallback(this.panelCountChangedCallback),this.survey&&this.survey.dynamicPanelRemoved(this,t,n),this.isValueChangingInternally=!1)}},t.prototype.getPanelIndex=function(e){if(o.a.isNumber(e))return e;for(var t=this.items,n=0;n<this.panels.length;n++)if(this.panels[n]===e||t[n]===e)return n;return-1},t.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this);for(var t=this.panels,n=0;n<t.length;n++)t[n].locStrsChanged()},t.prototype.clearIncorrectValues=function(){for(var e=0;e<this.panels.length;e++)this.clearIncorrectValuesInPanel(e)},t.prototype.clearErrors=function(){e.prototype.clearErrors.call(this);for(var t=0;t<this.panels.length;t++)this.panels[t].clearErrors()},t.prototype.getQuestionFromArray=function(e,t){return t>=this.panelCount?null:this.panels[t].getQuestionByName(e)},t.prototype.clearIncorrectValuesInPanel=function(e){var t=this.panels[e];t.clearIncorrectValues();var n=this.value,r=n&&e<n.length?n[e]:null;if(r){var o=!1;for(var i in r)this.getSharedQuestionFromArray(i,e)||t.getQuestionByName(i)||this.iscorrectValueWithPostPrefix(t,i,h.a.commentPrefix)||this.iscorrectValueWithPostPrefix(t,i,h.a.matrixTotalValuePostFix)||(delete r[i],o=!0);o&&(n[e]=r,this.value=n)}},t.prototype.iscorrectValueWithPostPrefix=function(e,t,n){return t.indexOf(n)===t.length-n.length&&!!e.getQuestionByName(t.substr(0,t.indexOf(n)))},t.prototype.getSharedQuestionFromArray=function(e,t){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,e,t):null},t.prototype.addConditionObjectsByContext=function(e,t){for(var n=!!t&&this.template.questions.indexOf(t)>-1,r=this.getValueName()+"[0].",o=this.processedTitle+"[0].",i=new Array,a=this.template.questions,s=0;s<a.length;s++)a[s].addConditionObjectsByContext(i,t);for(s=0;s<i.length;s++)e.push({name:r+i[s].name,text:o+i[s].text,question:i[s].question});if(n)for(s=0;s<i.length;s++)i[s].question!=t&&e.push({name:"panel."+i[s].name,text:"panel."+i[s].text,question:i[s].question})},t.prototype.getConditionJson=function(t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),!n)return e.prototype.getConditionJson.call(this,t,n);var r=n,o=n.indexOf(".");o>-1&&(r=n.substr(0,o),n=n.substr(o+1));var i=this.template.getQuestionByName(r);return i?i.getConditionJson(t,n):null},t.prototype.onReadOnlyChanged=function(){var t=this.isReadOnly;this.template.readOnly=t;for(var n=0;n<this.panels.length;n++)this.panels[n].readOnly=t;e.prototype.onReadOnlyChanged.call(this)},t.prototype.onSurveyLoad=function(){this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.loadingPanelCount>0&&(this.panelCount=this.loadingPanelCount),this.isDesignMode&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),e.prototype.onSurveyLoad.call(this)},t.prototype.onFirstRendering=function(){this.template.onFirstRendering();for(var t=0;t<this.panels.length;t++)this.panels[t].onFirstRendering();e.prototype.onFirstRendering.call(this)},t.prototype.runCondition=function(t,n){e.prototype.runCondition.call(this,t,n),this.runPanelsCondition(t,n)},t.prototype.reRunCondition=function(){this.data&&this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},t.prototype.runPanelsCondition=function(e,t){var n={};e&&e instanceof Object&&(n=JSON.parse(JSON.stringify(e)));for(var r=0;r<this.panels.length;r++){var i=this.getPanelItemData(this.panels[r].data),a=o.a.createCopy(n);a[g.ItemVariableName.toLowerCase()]=i,a[g.IndexVariableName.toLowerCase()]=r,this.panels[r].runCondition(a,t)}},t.prototype.onAnyValueChanged=function(t){e.prototype.onAnyValueChanged.call(this,t);for(var n=0;n<this.panels.length;n++)this.panels[n].onAnyValueChanged(t),this.panels[n].onAnyValueChanged(g.ItemVariableName)},t.prototype.hasKeysDuplicated=function(e,t){void 0===t&&(t=null);for(var n,r=[],o=0;o<this.panels.length;o++)n=this.isValueDuplicated(this.panels[o],r,t,e)||n;return n},t.prototype.updatePanelsContainsErrors=function(){for(var e=this.changingValueQuestion.parent;e;)e.updateContainsErrors(),e=e.parent;this.updateContainsErrors()},t.prototype.hasErrors=function(t,n){if(void 0===t&&(t=!0),void 0===n&&(n=null),this.isValueChangingInternally)return!1;var r=!1;if(this.changingValueQuestion)return r=this.changingValueQuestion.hasErrors(t,n),r=this.hasKeysDuplicated(t,n)||r,this.updatePanelsContainsErrors(),r;var o=this.hasErrorInPanels(t,n);return e.prototype.hasErrors.call(this,t)||o},t.prototype.getContainsErrors=function(){var t=e.prototype.getContainsErrors.call(this);if(t)return t;for(var n=this.panels,r=0;r<n.length;r++)if(n[r].containsErrors)return!0;return!1},t.prototype.getIsAnswered=function(){if(!e.prototype.getIsAnswered.call(this))return!1;for(var t=this.panels,n=0;n<t.length;n++){var r=[];t[n].addQuestionsToList(r,!0);for(var o=0;o<r.length;o++)if(!r[o].isAnswered)return!1}return!0},t.prototype.clearValueIfInvisible=function(){for(var t=0;t<this.panels.length;t++)for(var n=this.panels[t].questions,r=0;r<n.length;r++)n[r].clearValueIfInvisible();e.prototype.clearValueIfInvisible.call(this)},t.prototype.getIsRunningValidators=function(){if(e.prototype.getIsRunningValidators.call(this))return!0;for(var t=0;t<this.panels.length;t++)for(var n=this.panels[t].questions,r=0;r<n.length;r++)if(n[r].isRunningValidators)return!0;return!1},t.prototype.getAllErrors=function(){for(var t=e.prototype.getAllErrors.call(this),n=0;n<this.panels.length;n++)for(var r=this.panels[n].questions,o=0;o<r.length;o++){var i=r[o].getAllErrors();i&&i.length>0&&(t=t.concat(i))}return t},t.prototype.getDisplayValueCore=function(e,t){var n=this.createValueCopy();if(!n||!Array.isArray(n))return n;for(var r=0;r<this.panels.length&&r<n.length;r++){var o=n[r];o&&(n[r]=this.getPanelDisplayValue(r,o,e))}return n},t.prototype.getPanelDisplayValue=function(e,t,n){if(!t)return t;var r=this.panels[e];for(var o in t){var i=r.getQuestionByValueName(o);i||(i=this.getSharedQuestionFromArray(o,e)),i&&(t[o]=i.getDisplayValue(n))}return t},t.prototype.hasErrorInPanels=function(e,t){for(var n=!1,r=this.panels,o=[],i=0;i<r.length;i++)this.setOnCompleteAsyncInPanel(r[i]);for(i=0;i<r.length;i++){var a=r[i].hasErrors(e,!!t&&t.focuseOnFirstError,t);a=this.isValueDuplicated(r[i],o,t)||a,this.isRenderModeList||!a||n||(this.currentIndex=i),n=a||n}return n},t.prototype.setOnCompleteAsyncInPanel=function(e){for(var t=this,n=e.questions,r=0;r<n.length;r++)n[r].onCompletedAsyncValidators=function(e){t.raiseOnCompletedAsyncValidators()}},t.prototype.isValueDuplicated=function(e,t,n,r){if(!this.keyName)return!1;var o=e.getQuestionByValueName(this.keyName);if(!o||o.isEmpty())return!1;var i=o.value;this.changingValueQuestion&&o!=this.changingValueQuestion&&o.hasErrors(r,n);for(var a=0;a<t.length;a++)if(i==t[a])return o.addError(new d.f(this.keyDuplicationError,this)),n&&!n.firstErrorQuestion&&(n.firstErrorQuestion=o),!0;return t.push(i),!1},t.prototype.createNewPanel=function(){var e=this.createAndSetupNewPanelObject(),t=this.template.toJSON();(new c.g).toObject(t,e),e.renderWidth="100%",e.updateCustomWidgets(),new g(this,e),e.onFirstRendering();for(var n=e.questions,r=0;r<n.length;r++)n[r].setParentQuestion(this);return e},t.prototype.createAndSetupNewPanelObject=function(){var e=this.createNewPanelObject(),t=this;return e.onGetQuestionTitleLocation=function(){return t.getTemplateQuestionTitleLocation()},e},t.prototype.getTemplateQuestionTitleLocation=function(){return"default"!=this.templateTitleLocation?this.templateTitleLocation:this.getTitleLocationCore()},t.prototype.createNewPanelObject=function(){return new l.a},t.prototype.setPanelCountBasedOnValue=function(){if(!this.isValueChangingInternally&&!this.isDesignMode){var e=this.value,t=e&&Array.isArray(e)?e.length:0;0==t&&this.loadingPanelCount>0&&(t=this.loadingPanelCount),this.panelCount=t}},t.prototype.setQuestionValue=function(t){e.prototype.setQuestionValue.call(this,t,!1),this.setPanelCountBasedOnValue();for(var n=0;n<this.panels.length;n++)this.panelUpdateValueFromSurvey(this.panels[n]);this.updateIsAnswered()},t.prototype.onSurveyValueChanged=function(t){e.prototype.onSurveyValueChanged.call(this,t);for(var n=0;n<this.panels.length;n++)this.panelSurveyValueChanged(this.panels[n]);void 0===t&&this.setValueBasedOnPanelCount()},t.prototype.panelUpdateValueFromSurvey=function(e){for(var t=e.questions,n=this.getPanelItemData(e.data),r=0;r<t.length;r++){var o=t[r];o.updateValueFromSurvey(n[o.getValueName()]),o.updateCommentFromSurvey(n[o.getValueName()+h.a.commentPrefix])}},t.prototype.panelSurveyValueChanged=function(e){for(var t=e.questions,n=this.getPanelItemData(e.data),r=0;r<t.length;r++){var o=t[r];o.onSurveyValueChanged(n[o.getValueName()])}},t.prototype.onSetData=function(){e.prototype.onSetData.call(this),this.isDesignMode&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())},t.prototype.getItemIndex=function(e){return this.items.indexOf(e)},t.prototype.getPanelItemData=function(e){var t=this.items,n=t.indexOf(e),r=this.value;return n<0&&Array.isArray(r)&&r.length>t.length&&(n=t.length),n<0||!r||!Array.isArray(r)||r.length<=n?{}:r[n]},t.prototype.setPanelItemData=function(e,t,n){var r=this.items,o=r.indexOf(e);o<0&&(o=r.length);var i=this.getUnbindValue(this.value);if(i&&Array.isArray(i)||(i=[]),i.length<=o)for(var a=i.length;a<=o;a++)i.push({});if(i[o]||(i[o]={}),this.isValueEmpty(n)?delete i[o][t]:i[o][t]=n,o>=0&&o<this.panels.length&&(this.changingValueQuestion=this.panels[o].getQuestionByValueName(t)),this.value=i,this.changingValueQuestion=null,this.survey){var s={question:this,panel:e.panel,name:t,itemIndex:o,itemValue:i[o],value:n};this.survey.dynamicPanelItemValueChanged(this,s)}},t.prototype.getRootData=function(){return this.data},t.prototype.getPlainData=function(t){void 0===t&&(t={includeEmpty:!0});var n=e.prototype.getPlainData.call(this,t);return n&&(n.isNode=!0,n.data=this.panels.map((function(e,n){var r={name:e.name||n,title:e.title||"Panel",value:e.getValue(),displayValue:e.getValue(),getString:function(e){return"object"==typeof e?JSON.stringify(e):e},isNode:!0,data:e.questions.map((function(e){return e.getPlainData(t)})).filter((function(e){return!!e}))};return(t.calculations||[]).forEach((function(t){r[t.propertyName]=e[t.propertyName]})),r}))),n},t.prototype.updateElementCss=function(){e.prototype.updateElementCss.call(this);for(var t=0;t<this.panels.length;t++)this.panels[t].updateElementCss()},Object.defineProperty(t.prototype,"progressText",{get:function(){var e=this.panelCount;return a.a.getString("panelDynamicProgressText").format(this.currentIndex+1,e)},enumerable:!1,configurable:!0}),t}(u.a);c.k.addClass("paneldynamic",[{name:"templateElements",alternativeName:"questions",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",default:h.a.panelMaximumPanelCount},"defaultPanelValue:panelvalue","defaultValueFromLastPanel:boolean",{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"]},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText"},{name:"panelAddText",serializationProperty:"locPanelAddText"},{name:"panelRemoveText",serializationProperty:"locPanelRemoveText"},{name:"panelPrevText",serializationProperty:"locPanelPrevText"},{name:"panelNextText",serializationProperty:"locPanelNextText"},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"showRangeInProgress:boolean",default:!0},{name:"renderMode",default:"list",choices:["list","progressTop","progressBottom","progressTopBottom"]},{name:"templateTitleLocation",default:"default",choices:["default","top","bottom","left"]}],(function(){return new y("")}),"question"),p.a.Instance.registerQuestion("paneldynamic",(function(e){return new y(e)}))},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(8),a=n(23),s=n(1),u=n(15);n.d(t,"a",(function(){return l}));var l=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.getType=function(){return"radiogroup"},t.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this.isEmpty()?null:u.a.getItemByValue(this.visibleChoices,this.value)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showClearButton",{get:function(){return this.getPropertyValue("showClearButton",!1)},set:function(e){this.setPropertyValue("showClearButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShowClearButton",{get:function(){return this.showClearButton&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearButtonCaption",{get:function(){return s.a.getString("clearCaption")},enumerable:!1,configurable:!0}),t.prototype.supportGoNextPageAutomatic=function(){return!0},t.prototype.getItemClass=function(e){var t=this.cssClasses.item,n=this.isReadOnly||!e.isEnabled,r=e.value===this.value||this.isOtherSelected&&this.otherItem.value===e.value,o=!n&&!r;return this.hasColumns||(t+=0===this.colCount?" "+this.cssClasses.itemInline:" sv-q-col-"+this.colCount),n&&this.cssClasses.itemDisabled&&(t+=" "+this.cssClasses.itemDisabled),r&&this.cssClasses.itemChecked&&(t+=" "+this.cssClasses.itemChecked),o&&this.cssClasses.itemHover&&(t+=" "+this.cssClasses.itemHover),t},t}(a.a);o.k.addClass("radiogroup",[{name:"showClearButton:boolean",default:!1}],(function(){return new l("")}),"checkboxbase"),i.a.Instance.registerQuestion("radiogroup",(function(e){var t=new l(e);return t.choices=i.a.DefaultChoices,t}))},function(e,t,n){"use strict";var r=n(0),o=n(37),i=n(3),a=n(8),s=n(47),u=n(71);n.d(t,"a",(function(){return c}));var l=o.a,c=function(e){function t(t){var n=e.call(this,t)||this;return n.domNode=null,n.sortableInst=null,n.handleKeydown=function(e){var t=e.key,r=n.domNode.querySelectorAll("."+n.cssClasses.item),o=[].indexOf.call(r,e.target);"ArrowUp"===t&&o&&n.handleArrowUp(o),"ArrowDown"===t&&o!==r.length-1&&n.handleArrowDown(o)},n.handleArrowUp=function(e){var t=n.sortableInst.toArray();n.moveArrayItemBack(t,e),n.sortableInst.sort(t),n.syncNumbers(),n.setValueFromUI(),n.focusItem(e-1)},n.handleArrowDown=function(e){var t=n.sortableInst.toArray();n.moveArrayItemForward(t,e),n.sortableInst.sort(t),n.syncNumbers(),n.setValueFromUI(),n.focusItem(e+1)},n.moveArrayItemBack=function(e,t){var n=e[t];e[t]=e[t-1],e[t-1]=n},n.moveArrayItemForward=function(e,t){var n=e[t];e[t]=e[t+1],e[t+1]=n},n.focusItem=function(e){n.domNode.querySelectorAll("."+n.cssClasses.item)[e].focus()},n.setValueFromUI=function(){var e=[];n.domNode.querySelectorAll("."+n.cssClasses.itemText).forEach((function(t,r){var o=t.innerText;n.visibleChoices.forEach((function(t){o===t.text&&e.push(t.value)}))})),n.value=e},n.syncNumbers=function(){n.domNode&&n.domNode.querySelectorAll("."+n.cssClasses.itemIndex).forEach((function(e,t){e.innerText=n.getNumberByIndex(t)}))},n.setGhostText=function(e){var t=n.domNode.querySelectorAll("."+n.cssClasses.itemIndex);t[t.length-1].innerText=e},n}return n.i(r.a)(t,e),t.prototype.getType=function(){return"ranking"},Object.defineProperty(t.prototype,"isIndeterminate",{get:function(){return!this.value||0===this.value.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rootClass",{get:function(){var e=this.cssClasses;return u.a?e.root+" "+e.rootMobileMod:e.root},enumerable:!1,configurable:!0}),t.prototype.getNumberByIndex=function(e){return this.isIndeterminate?"–":e+1+""},Object.defineProperty(t.prototype,"rankingChoices",{get:function(){var e=this.value,t=this.visibleChoices;return this.isIndeterminate?t:this.mergeValueAndVisibleChoices(e,t)},enumerable:!1,configurable:!0}),t.prototype.afterRenderQuestionElement=function(t){t&&this.initSortable(t),e.prototype.afterRenderQuestionElement.call(this,t)},t.prototype.beforeDestroyQuestionElement=function(t){this.sortableInst&&this.sortableInst.destroy(),e.prototype.beforeDestroyQuestionElement.call(this,t)},t.prototype.onVisibleChoicesChanged=function(){e.prototype.onVisibleChoicesChanged.call(this);var t=this.otherQuestionActiveChoices;!this.isIndeterminate&&t&&(0===t.length?this.value=[]:this.value=this.rankingChoices.map((function(e){return e.text})))},t.prototype.mergeValueAndVisibleChoices=function(e,t){var n=t.length,r=[];r.length=n;for(var o=0;o<n;o++){var i=t[o],a=e.indexOf(i.text);-1!==a?r.splice(a,1,i):r.splice(r.length-1,0,i)}return r=r.filter((function(e){return!!e}))},t.prototype.initSortable=function(e){if(e&&!this.isReadOnly){var t=this;t.domNode=e,t.sortableInst=new l(e,{animation:100,forceFallback:!0,delay:200,delayOnTouchOnly:!0,handle:u.a?"."+t.cssClasses.itemIconContainer:"."+t.cssClasses.itemContent,ghostClass:t.cssClasses.itemGhostMod,dragClass:t.cssClasses.itemDragMod,onStart:function(n){l.ghost.style.opacity=1,e.className+=" "+t.cssClasses.rootDragMod,t.isIndeterminate&&t.setGhostText(n.oldIndex+1)},onEnd:function(){e.className=e.className.replace(" "+t.cssClasses.rootDragMod,""),t.setValueFromUI()},onChange:function(e){t.isIndeterminate||t.syncNumbers(),t.setGhostText(e.newIndex+1)}})}},t}(s.a);i.k.addClass("ranking",[{name:"hasNone",visible:!1},{name:"noneText",visible:!1},{name:"hasSelectAll",visible:!1},{name:"selectAllText",visible:!1},{name:"colCount:number",visible:!1}],(function(){return new c("")}),"checkbox"),a.a.Instance.registerQuestion("ranking",(function(e){var t=new c(e);return t.choices=a.a.DefaultChoices,t}))},function(e,t,n){"use strict";var r=n(0),o=n(15),i=n(12),a=n(3),s=n(8),u=n(11);n.d(t,"a",(function(){return l}));var l=function(e){function t(t){var n=e.call(this,t)||this;n.createItemValues("rates");var r=n;n.registerFunctionOnPropertyValueChanged("rates",(function(){r.fireCallback(r.rateValuesChangedCallback)})),n.onPropertyChanged.add((function(e,t){"rateMin"!=t.name&&"rateMax"!=t.name&&"rateStep"!=t.name||r.fireCallback(r.rateValuesChangedCallback)}));var o=n.createLocalizableString("minRateDescription",n,!0),i=n.createLocalizableString("maxRateDescription",n,!0);return o.onGetTextCallback=function(e){return e?e+" ":e},i.onGetTextCallback=function(e){return e?" "+e:e},n}return n.i(r.a)(t,e),t.prototype.onSurveyLoad=function(){e.prototype.onSurveyLoad.call(this),this.fireCallback(this.rateValuesChangedCallback)},Object.defineProperty(t.prototype,"rateValues",{get:function(){return this.getPropertyValue("rates")},set:function(e){this.setPropertyValue("rates",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateMin",{get:function(){return this.getPropertyValue("rateMin")},set:function(e){!this.isLoadingFromJson&&e>this.rateMax-this.rateStep&&(e=this.rateMax-this.rateStep),this.setPropertyValue("rateMin",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateMax",{get:function(){return this.getPropertyValue("rateMax")},set:function(e){!this.isLoadingFromJson&&e<this.rateMin+this.rateStep&&(e=this.rateMin+this.rateStep),this.setPropertyValue("rateMax",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateStep",{get:function(){return this.getPropertyValue("rateStep")},set:function(e){e<=0&&(e=1),!this.isLoadingFromJson&&e>this.rateMax-this.rateMin&&(e=this.rateMax-this.rateMin),this.setPropertyValue("rateStep",e)},enumerable:!1,configurable:!0}),t.prototype.getDisplayValueCore=function(e,t){var n=o.a.getTextOrHtmlByValue(this.visibleRateValues,t);return n||t},Object.defineProperty(t.prototype,"visibleRateValues",{get:function(){if(this.rateValues.length>0)return this.rateValues;for(var e=[],t=this.rateMin,n=this.rateStep;t<=this.rateMax&&e.length<u.a.ratingMaximumRateValueCount;)e.push(new o.a(t)),t=this.correctValue(t+n,n);return e},enumerable:!1,configurable:!0}),t.prototype.correctValue=function(e,t){if(!e)return e;if(Math.round(e)==e)return e;for(var n=0;Math.round(t)!=t;)t*=10,n++;return parseFloat(e.toFixed(n))},t.prototype.getType=function(){return"rating"},t.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},t.prototype.supportGoNextPageAutomatic=function(){return!0},t.prototype.supportComment=function(){return!0},t.prototype.supportOther=function(){return!0},Object.defineProperty(t.prototype,"minRateDescription",{get:function(){return this.getLocalizableStringText("minRateDescription")},set:function(e){this.setLocalizableStringText("minRateDescription",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMinRateDescription",{get:function(){return this.getLocalizableString("minRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxRateDescription",{get:function(){return this.getLocalizableStringText("maxRateDescription")},set:function(e){this.setLocalizableStringText("maxRateDescription",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMaxRateDescription",{get:function(){return this.getLocalizableString("maxRateDescription")},enumerable:!1,configurable:!0}),t.prototype.valueToData=function(e){if(this.rateValues.length>0){var t=o.a.getItemByValue(this.rateValues,e);return t?t.value:e}return isNaN(e)?e:parseFloat(e)},t}(i.a);a.k.addClass("rating",[{name:"hasComment:switch",layout:"row"},{name:"commentText",dependsOn:"hasComment",visibleIf:function(e){return e.hasComment},serializationProperty:"locCommentText",layout:"row"},{name:"rateValues:itemvalue[]"},{name:"rateMin:number",default:1},{name:"rateMax:number",default:5},{name:"rateStep:number",default:1,minValue:.1},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription"},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription"}],(function(){return new l("")}),"question"),s.a.Instance.registerQuestion("rating",(function(e){return new l(e)}))},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(12),a=n(1),s=n(75),u=n(8);n.d(t,"a",(function(){return l}));var l=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.getCssRoot=function(t){var n=e.prototype.getCssRoot.call(this,t);return""+this.width=="300"&&(n+=" "+t.small),n},t.prototype.updateValue=function(){if(this.signaturePad){var e=this.signaturePad.toDataURL(this.dataFormat);this.value=e}},t.prototype.getType=function(){return"signaturepad"},t.prototype.afterRenderQuestionElement=function(t){t&&this.initSignaturePad(t),e.prototype.afterRenderQuestionElement.call(this,t)},t.prototype.beforeDestroyQuestionElement=function(e){e&&this.destroySignaturePad(e)},t.prototype.initSignaturePad=function(e){var t=this,n=e.getElementsByTagName("canvas")[0],r=e.getElementsByTagName("button")[0],o=new s.a(n,{backgroundColor:"#ffffff"});this.isReadOnly&&o.off(),r.onclick=function(){t.value=void 0},this.readOnlyChangedCallback=function(){!t.allowClear||t.isReadOnly?(o.off(),r.style.display="none"):(o.on(),r.style.display="block")},o.penColor=this.penColor,o.onBegin=function(){n.focus()},o.onEnd=function(){t.updateValue()};var i=function(){var e=t.value;n.width=t.width||300,n.height=t.height||200,function(e){var t=e.getContext("2d"),n=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),r=e.width,o=e.height;e.width=r*n,e.height=o*n,e.style.width=r+"px",e.style.height=o+"px",t.scale(n,n)}(n),e?o.fromDataURL(e):o.clear()};this.valueChangedCallback=i,i(),this.readOnlyChangedCallback(),this.signaturePad=o;var a=function(e,t){"width"!==t.name&&"height"!==t.name||i()};this.onPropertyChanged.add(a),this.signaturePad.propertyChangedHandler=a},t.prototype.destroySignaturePad=function(e){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null},Object.defineProperty(t.prototype,"dataFormat",{get:function(){return this.getPropertyValue("dataFormat","")},set:function(e){this.setPropertyValue("dataFormat",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width",300)},set:function(e){this.setPropertyValue("width",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.getPropertyValue("height",200)},set:function(e){this.setPropertyValue("height",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowClear",{get:function(){return this.getPropertyValue("allowClear",!0)},set:function(e){this.setPropertyValue("allowClear",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"penColor",{get:function(){return this.getPropertyValue("penColor","#1ab394")},set:function(e){this.setPropertyValue("penColor",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearButtonCaption",{get:function(){return a.a.getString("clearCaption")},enumerable:!1,configurable:!0}),t}(i.a);o.k.addClass("signaturepad",[{name:"width:number",category:"general",default:300},{name:"height:number",category:"general",default:200},{name:"allowClear:boolean",category:"general",default:!0},{name:"penColor:color",category:"general",default:"#1ab394"},{name:"dataFormat",category:"general",default:"",choices:[{value:"",text:"PNG"},{value:"image/jpeg",text:"JPEG"},{value:"image/svg+xml",text:"SVG"}]},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1}],(function(){return new l("")}),"question"),u.a.Instance.registerQuestion("signaturepad",(function(e){return new l(e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(6)),a=n(51),s=n(10);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.renderElement=function(){var e=this.question.cssClasses,t=this.getItemClass();return o.createElement("div",{className:e.root},o.createElement("label",{className:t,onClick:this.handleOnClick},o.createElement("input",{ref:this.checkRef,type:"checkbox",value:null===this.question.checkedValue?"":this.question.checkedValue,id:this.question.inputId,className:e.control,disabled:this.isDisplayMode,checked:this.question.checkedValue||!1,onChange:this.handleOnChange,"aria-label":this.question.locTitle.renderedHtml,"aria-invalid":this.question.errors.length>0,"aria-describedby":this.question.errors.length>0?this.question.id+"_errors":null}),o.createElement("span",{className:e.materialDecorator},o.createElement("svg",{viewBox:"0 0 24 24",className:e.itemDecorator},o.createElement("rect",{className:e.uncheckedPath,x:"5",y:"10",width:"14",height:"4"}),o.createElement("polygon",{className:e.checkedPath,points:"19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "}),o.createElement("path",{className:e.indeterminatePath,d:"M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"})),o.createElement("span",{className:"check"})),"hidden"===this.question.titleLocation&&o.createElement("span",{className:e.label},this.question.locDisplayLabel.text)))},t}(a.a);i.a.Instance.registerQuestion("sv-boolean-checkbox",(function(e){return o.createElement(u,e)})),s._94.Instance.registerRenderer("boolean","checkbox","sv-boolean-checkbox")},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n.n(o),a=n(9),s=n(55),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.i(r.a)(t,e),t.prototype.renderButtonContent=function(){var t=e.prototype.renderButtonContent.call(this);return i.a.createElement(i.a.Fragment,null,t,i.a.createElement(s.a,{model:this.item.popupModel}))},t}(n(52).a);a.a.Instance.registerElement("sv-action-bar-item-dropdown",(function(e){return i.a.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n.n(o),a=n(9),s=n(57);n.d(t,"a",(function(){return u}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isNeedFocus=!1,t}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.props.element},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this,t=null;if(this.element.isCollapsed||this.element.isExpanded){var n=this.cssClasses.icon;this.element.isCollapsed||(n+=" "+this.cssClasses.iconExpanded);var r=this.element.isExpanded,o=this.element.isExpanded?this.element.contentId:null;t=i.a.createElement("span",{className:n,tabIndex:0,onKeyUp:function(t){var n;13==t.keyCode&&((n=e.element).isExpanded||n.isCollapsed)&&(n.toggleState(),e.isNeedFocus=n.isCollapsed)},"aria-expanded":r,"aria-controls":o})}return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{element:this.element,cssClasses:this.cssClasses}),t)},t.prototype.componentDidMount=function(){this.doAfterRender()},t.prototype.doAfterRender=function(){this.isNeedFocus&&(this.element.clickTitleFunction(),this.isNeedFocus=!1)},t}(i.a.Component);a.a.Instance.registerElement("sv-default-title",(function(e){return i.a.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n.n(o),a=n(9),s=n(4),u=n(31);n.d(t,"a",(function(){return l}));var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.props.model},enumerable:!1,configurable:!0}),t.prototype.getStateElement=function(){return this.model},t.prototype.render=function(){var e=this.renderItems();return i.a.createElement("ul",{className:"sv-list",onMouseDown:function(e){e.preventDefault()}},e)},t.prototype.renderItems=function(){var e=this;if(!this.model)return null;var t=this.model.items;return t?t.map((function(t,n){var r=e.model.getItemClass(t),o=t.iconName?i.a.createElement(u.a,{className:"sv-list__item-icon",iconName:t.iconName,size:24}):null;return i.a.createElement("li",{key:n,className:r,onClick:function(){e.model.selectItem(t)}},o,i.a.createElement("span",null,t.title))})):null},t}(s.a);a.a.Instance.registerElement("sv-list",(function(e){var t={model:e};return i.a.createElement(l,t)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4));n.d(t,"a",(function(){return a}));var a=function(e){function t(t){var n=e.call(this,t)||this;return n.widgetRef=o.createRef(),n}return n.i(r.a)(t,e),t.prototype._afterRender=function(){if(this.questionBase.customWidget){var e=this.widgetRef.current;e&&(this.questionBase.customWidget.afterRender(this.questionBase,e),this.questionBase.customWidgetData.isNeedRender=!1)}},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.questionBase&&this._afterRender()},t.prototype.componentDidUpdate=function(t,n){e.prototype.componentDidUpdate.call(this,t,n);var r=!!this.questionBase.customWidget&&this.questionBase.customWidget.isDefaultRender;this.questionBase&&!r&&this._afterRender()},t.prototype.componentWillUnmount=function(){if(e.prototype.componentWillUnmount.call(this),this.questionBase.customWidget){var t=this.widgetRef.current;t&&this.questionBase.customWidget.willUnmount(this.questionBase,t)}},t.prototype.canRender=function(){return e.prototype.canRender.call(this)&&this.questionBase.visible},t.prototype.renderElement=function(){var e=this.questionBase.customWidget;if(e.isDefaultRender)return o.createElement("div",{ref:this.widgetRef},this.creator.createQuestionElement(this.questionBase));var t=null;if(e.widgetJson.render)t=e.widgetJson.render(this.questionBase);else if(e.htmlTemplate){var n={__html:e.htmlTemplate};return o.createElement("div",{ref:this.widgetRef,dangerouslySetInnerHTML:n})}return o.createElement("div",{ref:this.widgetRef},t)},t}(i.b)},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(20)),a=n(9),s=n(24);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"flowPanel",{get:function(){return this.panel},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.flowPanel&&(this.flowPanel.onCustomHtmlProducing=function(){return""},this.flowPanel.onGetHtmlForQuestion=this.renderQuestion)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.flowPanel&&(this.flowPanel.onCustomHtmlProducing=null,this.flowPanel.onGetHtmlForQuestion=null)},t.prototype.getQuestion=function(e){return this.flowPanel.getQuestionByName(e)},t.prototype.renderQuestion=function(e){return"<question>"+e.name+"</question>"},t.prototype.renderRows=function(){return[this.renderHtml()]},t.prototype.getNodeIndex=function(){return this.renderedIndex++},t.prototype.renderHtml=function(){if(!this.flowPanel)return null;var e="<span>"+this.flowPanel.produceHtml()+"</span>";if(!DOMParser){var t={__html:e};return o.createElement("div",{dangerouslySetInnerHTML:t})}var n=(new DOMParser).parseFromString(e,"text/xml");return this.renderedIndex=0,this.renderParentNode(n)},t.prototype.renderNodes=function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.renderNode(e[n]));return t},t.prototype.getStyle=function(e){var t={};return"b"===e.toLowerCase()&&(t.fontWeight="bold"),"i"===e.toLowerCase()&&(t.fontStyle="italic"),"u"===e.toLowerCase()&&(t.textDecoration="underline"),t},t.prototype.renderParentNode=function(e){var t=e.nodeName.toLowerCase(),n=this.renderNodes(this.getChildDomNodes(e));return"div"==t?o.createElement("div",{key:this.getNodeIndex()},n):o.createElement("span",{key:this.getNodeIndex(),style:this.getStyle(t)},n)},t.prototype.renderNode=function(e){if(!this.hasTextChildNodesOnly(e))return this.renderParentNode(e);var t=e.nodeName.toLowerCase();if("question"===t){var n=this.flowPanel.getQuestionByName(e.textContent);if(!n)return null;var r=o.createElement(i.a,{key:n.name,element:n,creator:this.creator,css:this.css});return o.createElement("span",{key:this.getNodeIndex()},r)}return"div"===t?o.createElement("div",{key:this.getNodeIndex()},e.textContent):o.createElement("span",{key:this.getNodeIndex(),style:this.getStyle(t)},e.textContent)},t.prototype.getChildDomNodes=function(e){for(var t=[],n=0;n<e.childNodes.length;n++)t.push(e.childNodes[n]);return t},t.prototype.hasTextChildNodesOnly=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if("#text"!==t[n].nodeName.toLowerCase())return!1;return!0},t.prototype.renderContent=function(e,t){return o.createElement("f-panel",{style:e},t)},t}(s.a);a.a.Instance.registerElement("flowpanel",(function(e){return o.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(6);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.canRender=function(){return e.prototype.canRender.call(this)&&!!this.question.imageLink},t.prototype.renderElement=function(){var e=this.question.cssClasses,t={objectFit:this.question.imageFit},n=null;return"image"===this.question.contentMode&&(n=o.createElement("img",{className:e.image,src:this.question.imageLink,alt:this.question.text||this.question.title,width:this.question.imageWidth?this.question.imageWidth+"px":void 0,height:this.question.imageHeight?this.question.imageHeight+"px":void 0,style:t})),"video"===this.question.contentMode&&(n=o.createElement("embed",{className:e.image,src:this.question.imageLink,width:this.question.imageWidth?this.question.imageWidth+"px":void 0,height:this.question.imageHeight?this.question.imageHeight+"px":void 0,style:t})),o.createElement("div",{className:this.question.cssClasses.root},n)},t}(i.b);a.a.Instance.registerQuestion("image",(function(e){return o.createElement(s,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(6);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnChange=n.handleOnChange.bind(n),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.handleOnChange=function(e){if(this.question.multiSelect)if(e.target.checked)this.question.value=this.question.value.concat(e.target.value);else{var t=this.question.value;t.splice(this.question.value.indexOf(e.target.value),1),this.question.value=t}else this.question.value=e.target.value;this.setState({value:this.question.value})},t.prototype.renderElement=function(){var e=this.question.cssClasses;return o.createElement("fieldset",{className:e.root},o.createElement("legend",{"aria-label":this.question.locTitle.renderedHtml}),this.getItems(e))},t.prototype.getItems=function(e){for(var t=[],n=0;n<this.question.visibleChoices.length;n++){var r=this.question.visibleChoices[n],o="item"+n;t.push(this.renderItem(o,r,e))}return t},Object.defineProperty(t.prototype,"textStyle",{get:function(){return{marginLeft:"3px",display:"inline",position:"static"}},enumerable:!1,configurable:!0}),t.prototype.renderItem=function(e,t,n){var r=this.question.isItemSelected(t),i=this.question.inputId+"_"+t.value,a=this.question.getItemClass(t),s=null;this.question.showLabel&&(s=o.createElement("span",{title:t.text||t.value,className:this.question.cssClasses.itemText},t.text||t.value));var u={objectFit:this.question.imageFit},l=null;return"image"===this.question.contentMode&&(l=o.createElement("img",{className:n.image,src:t.imageLink,width:this.question.imageWidth?this.question.imageWidth+"px":void 0,height:this.question.imageHeight?this.question.imageHeight+"px":void 0,alt:t.text||t.value,style:u})),"video"===this.question.contentMode&&(l=o.createElement("embed",{className:n.image,src:t.imageLink,width:this.question.imageWidth?this.question.imageWidth+"px":void 0,height:this.question.imageHeight?this.question.imageHeight+"px":void 0,style:u})),o.createElement("div",{key:e,className:a},o.createElement("label",{className:n.label},o.createElement("input",{style:{display:"none"},className:n.itemControl,id:i,type:this.question.multiSelect?"checkbox":"radio",name:this.question.name+"_"+this.questionBase.id,checked:r,value:t.value,disabled:this.isDisplayMode||!t.isEnabled,onChange:this.handleOnChange,"aria-label":this.question.locTitle.renderedHtml,"aria-invalid":this.question.errors.length>0,"aria-describedby":this.question.errors.length>0?this.question.id+"_errors":null}),o.createElement("div",null,l,s)))},t}(i.b);a.a.Instance.registerQuestion("imagepicker",(function(e){return o.createElement(s,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(26)),a=n(9);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"isTop",{get:function(){return this.props.isTop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return this.survey.progressValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressText",{get:function(){return this.survey.progressText},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.isTop?{}:{marginTop:"1em"},t={width:this.progress+"%"};return o.createElement("div",{className:this.css.progress,style:e},o.createElement("div",{style:t,className:this.css.progressBar,role:"progressbar","aria-valuemin":0,"aria-valuemax":100},o.createElement("span",{className:this.css.progressText+" "+this.css.progressTextInBar},this.progressText)),o.createElement("span",{className:this.css.progressText+" "+this.css.progressTextUnderBar},this.progressText))},t}(i.a);a.a.Instance.registerElement("sv-progress-pages",(function(e){return o.createElement(s,e)})),a.a.Instance.registerElement("sv-progress-questions",(function(e){return o.createElement(s,e)})),a.a.Instance.registerElement("sv-progress-correctquestions",(function(e){return o.createElement(s,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(26)),a=n(9),s=n(10);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.updateScroller=void 0,n.progressButtonsModel=new s._53(n.survey),n.listContainerRef=o.createRef(),n}return n.i(r.a)(t,e),t.prototype.render=function(){var e=this;return o.createElement("div",{className:this.css.progressButtonsContainerCenter},o.createElement("div",{className:this.css.progressButtonsContainer},o.createElement("div",{className:this.getScrollButtonCss(!0),role:"button",onClick:function(){return e.clickScrollButton(e.listContainerRef.current,!0)}}),o.createElement("div",{className:this.css.progressButtonsListContainer,ref:this.listContainerRef},o.createElement("ul",{className:this.css.progressButtonsList},this.getListElements())),o.createElement("div",{className:this.getScrollButtonCss(!1),role:"button",onClick:function(){return e.clickScrollButton(e.listContainerRef.current,!1)}})))},t.prototype.getListElements=function(){var e=this,t=[];return this.survey.visiblePages.forEach((function(n,r){t.push(e.renderListElement(n,r))})),t},t.prototype.renderListElement=function(e,t){var n=this;return o.createElement("li",{key:"listelement"+t,className:this.getListElementCss(t),onClick:this.isListElementClickable(t)?function(){return n.clickListElement(t)}:void 0},o.createElement("div",{className:this.css.progressButtonsPageTitle,title:e.navigationTitle||e.name},e.navigationTitle||e.name),o.createElement("div",{className:this.css.progressButtonsPageDescription,title:e.navigationDescription},e.navigationDescription))},t.prototype.isListElementClickable=function(e){return this.progressButtonsModel.isListElementClickable(e)},t.prototype.getListElementCss=function(e){return this.progressButtonsModel.getListElementCss(e)},t.prototype.clickListElement=function(e){this.progressButtonsModel.clickListElement(e)},t.prototype.getScrollButtonCss=function(e){var t=e?this.survey.css.progressButtonsImageButtonLeft:this.survey.css.progressButtonsImageButtonRight;return this.state.hasScroller||(t+=" "+this.survey.css.progressButtonsImageButtonHidden),t},t.prototype.clickScrollButton=function(e,t){e.scrollLeft+=70*(t?-1:1)},t.prototype.componentDidMount=function(){var e=this;this.updateScroller=setInterval((function(){e.setState({hasScroller:e.listContainerRef.current.scrollWidth>e.listContainerRef.current.offsetWidth})}),100)},t.prototype.componentWillUnmount=function(){void 0!==this.updateScroller&&(clearInterval(this.updateScroller),this.updateScroller=void 0)},t}(i.a);a.a.Instance.registerElement("sv-progress-buttons",(function(e){return o.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(61)),a=n(33),s=n(4);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnExpanded=n.handleOnExpanded.bind(n),n}return n.i(r.a)(t,e),t.prototype.getStateElements=function(){return[this.window,this.window.survey]},t.prototype.handleOnExpanded=function(e){this.window.isExpanded=!this.window.isExpanded},t.prototype.canRender=function(){return e.prototype.canRender.call(this)&&this.window.isShowing},t.prototype.renderElement=function(){var e=this.renderWindowHeader(),t=this.window.isExpanded?this.renderBody():null;return o.createElement("div",{className:this.css.window.root,style:{position:"fixed",bottom:3,right:10,maxWidth:"60%"}},e,t)},t.prototype.renderWindowHeader=function(){var e={paddingRight:"10px"},t=this.window.isExpanded?this.css.window.header.buttonCollapsed:this.css.window.header.buttonExpanded;t="glyphicon pull-right "+t;var n=s.a.renderLocString(this.survey.locTitle);return o.createElement("div",{className:this.css.window.header.root},o.createElement("span",{onClick:this.handleOnExpanded,style:{width:"100%",cursor:"pointer"}},o.createElement("span",{className:this.css.window.header.title,style:e},n),o.createElement("span",{className:t,"aria-hidden":"true"})),this.window.isExpanded?o.createElement("span",{onClick:this.handleOnExpanded,style:{float:"right",cursor:"pointer"}},o.createElement("span",{className:this.css.window.header.title,style:e},"X")):null)},t.prototype.renderBody=function(){return o.createElement("div",{className:this.css.window.body},this.doRender())},t.prototype.createSurvey=function(t){t||(t={}),e.prototype.createSurvey.call(this,t),this.window=new a.b(null,this.survey),t.closeOnCompleteTimeout&&(this.window.closeOnCompleteTimeout=t.closeOnCompleteTimeout),this.window.isShowing=!0,this.window.isExpanded||!t.expanded&&!t.isExpanded||this.window.expand();var n=this;this.window.closeWindowOnCompleteCallback=function(){n.window.hide()}},t}(i.a)},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(20),s=n(6),u=n(24);n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var l=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.renderElement=function(){return a.a.renderQuestionBody(this.creator,this.question.contentQuestion)},t}(i.c),c=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.canRender=function(){return!!this.question.contentPanel},t.prototype.renderElement=function(){return o.createElement(u.a,{element:this.question.contentPanel,creator:this.creator,survey:this.question.survey})},t}(i.c);s.a.Instance.registerQuestion("custom",(function(e){return o.createElement(l,e)})),s.a.Instance.registerQuestion("composite",(function(e){return o.createElement(c,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(21),s=n(6);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.renderElement=function(){var e=this.question.cssClasses,t=this.question.isOtherSelected?this.renderOther(e):null,n=this.renderSelect(e);return o.createElement("div",{className:e.root},n,t)},t.prototype.renderSelect=function(e){var t=this;if(this.isDisplayMode){var n=this.question.isOtherSelected;return o.createElement("div",{id:this.question.inputId,className:e.control,disabled:!0},n?this.question.otherText:this.question.displayValue)}for(var r=[],i=0;i<this.question.visibleChoices.length;i++){var a=this.question.visibleChoices[i],s="item"+i,u=o.createElement(l,{key:s,item:a});r.push(u)}var c=this.question.showOptionsCaption?o.createElement("option",{value:""},this.question.optionsCaption):null;return o.createElement("div",{className:e.selectWrapper},o.createElement("select",{id:this.question.inputId,className:e.control,ref:function(e){return t.control=e},onChange:this.updateValueOnEvent,onInput:this.updateValueOnEvent,"aria-label":this.question.locTitle.renderedHtml,"aria-invalid":this.question.errors.length>0,"aria-describedby":this.question.errors.length>0?this.question.id+"_errors":null},c,r))},t.prototype.renderOther=function(e){return o.createElement("div",{className:"form-group"},o.createElement(a.a,{question:this.question,otherCss:e.other,cssClasses:e,isDisplayMode:this.isDisplayMode}))},t}(i.c),l=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t.prototype.getStateElement=function(){return this.item},Object.defineProperty(t.prototype,"item",{get:function(){return this.props.item},enumerable:!1,configurable:!0}),t.prototype.canRender=function(){return!!this.item},t.prototype.renderElement=function(){return o.createElement("option",{value:this.item.value,disabled:!this.item.isEnabled},this.item.text)},t}(i.d);s.a.Instance.registerQuestion("dropdown",(function(e){return o.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(6);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:n.question.value},n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.renderElement=function(){return o.createElement("div",null)},t}(i.b);a.a.Instance.registerQuestion("empty",(function(e){return o.createElement(s,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(6);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.renderElement=function(){var e=this,t=this.question.cssClasses;return o.createElement("div",{id:this.question.inputId,className:t.root,ref:function(t){return e.control=t}},this.question.displayValue)},t}(i.b);a.a.Instance.registerQuestion("expression",(function(e){return o.createElement(s,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(6),s=n(10);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){var r=e.call(this,t)||this;return r.handleOnDragOver=function(e){if(r.question.isReadOnly)return e.returnValue=!1,!1;e.dataTransfer.dropEffect="copy",e.preventDefault()},r.handleOnDrop=function(e){e.preventDefault();var t=e.dataTransfer;r.onChange(t)},r.handleOnChange=function(e){var t=e.target||e.srcElement;r.onChange(t)},r.handleOnClean=function(e){var t=r.question,o=e.target||e.srcElement;t.needConfirmRemoveFile&&!n.i(s._82)(t.confirmRemoveAllMessage)||(t.clear(),o.parentElement.querySelectorAll("input")[0].value="",r.setState({fileLoaded:r.state.fileLoaded+1}))},r.handleOnRemoveFile=function(e){var t=r.question;t.needConfirmRemoveFile&&!n.i(s._82)(t.getConfirmRemoveMessage(e.name))||(t.removeFile(e),r.setState({fileLoaded:r.state.fileLoaded+1}))},r.handleOnDownloadFile=function(e,t){n.i(s._83)()&&(e.preventDefault(),n.i(s._84)(t.content,t.name))},r.onChange=function(e){if(window.FileReader&&e&&e.files&&!(e.files.length<1)){for(var t=[],n=r.question.allowMultiple?e.files.length:1,o=0;o<n;o++)t.push(e.files[o]);e.value="",r.question.loadFiles(t),r.setState({fileLoaded:r.state.fileLoaded+1})}},r.state={fileLoaded:0,state:"empty",rootClass:r.question.cssClasses.root},r.handleOnChange=r.handleOnChange.bind(r),r.question.onStateChanged.add((function(e){return r.setState({fileLoaded:r.state.fileLoaded+1,state:e})})),r}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.renderElement=function(){var e,t=this,n=this.renderPreview(),r=this.renderFileDecorator(),i=this.renderClearButton(this.question.cssClasses.removeButton),a=this.renderClearButton(this.question.cssClasses.removeButtonBottom);return e=o.createElement("input",{disabled:this.isDisplayMode,className:this.question.cssClasses.fileInput,id:this.question.inputId,ref:function(e){return t.control=e},type:"file",onChange:this.isDisplayMode?null:this.handleOnChange,"aria-required":this.question.isRequired,"aria-label":this.question.locTitle.renderedHtml,"aria-invalid":this.question.errors.length>0,"aria-describedby":this.question.errors.length>0?this.question.id+"_errors":null,multiple:this.question.allowMultiple,title:this.question.inputTitle,accept:this.question.acceptedTypes}),o.createElement("div",{className:this.state.rootClass},e,r,i,n,a)},t.prototype.renderFileDecorator=function(){var e,t=null,n=this.question.cssClasses.chooseFile+(this.isDisplayMode?" "+this.question.cssClasses.disabled:"");return e=o.createElement("label",{role:"button",className:n,htmlFor:this.question.inputId,"aria-label":this.question.chooseButtonCaption},this.question.chooseButtonCaption),this.question.isEmpty()&&(t=o.createElement("span",{className:this.question.cssClasses.noFileChosen},this.question.noFileChosenCaption)),o.createElement("div",{className:this.question.cssClasses.fileDecorator,onDrop:this.handleOnDrop,onDragOver:this.handleOnDragOver},o.createElement("div",{className:this.question.cssClasses.wrapper},e,t))},t.prototype.renderClearButton=function(e){return this.question.isEmpty()||this.isDisplayMode?null:o.createElement("button",{type:"button",onClick:this.handleOnClean,className:e},this.question.cleanButtonCaption)},t.prototype.renderPreview=function(){var e=this;if(!this.question.previewValue)return null;var t=this.question.previewValue.map((function(t,n){if(!t)return null;var r=o.createElement("a",{href:t.content,onClick:function(n){e.handleOnDownloadFile(n,t)},title:t.name,download:t.name,style:{width:e.question.imageWidth+"px"}},t.name);return o.createElement("span",{key:e.question.inputId+"_"+n,className:e.question.cssClasses.preview},t.name?o.createElement("div",{className:e.question.cssClasses.fileSign},r):null,e.question.canPreviewImage(t)?o.createElement("img",{src:t.content,height:e.question.imageHeight,width:e.question.imageWidth,alt:"File preview"}):null,t.name&&!e.question.isReadOnly?o.createElement("div",null,o.createElement("span",{className:e.question.cssClasses.removeFile,onClick:function(n){return e.handleOnRemoveFile(t)}},e.question.removeFileCaption),o.createElement("svg",{className:e.question.cssClasses.removeFileSvg,onClick:function(n){return e.handleOnRemoveFile(t)},viewBox:"0 0 16 16"},o.createElement("path",{d:"M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"}))):null,o.createElement("div",{className:e.question.cssClasses.fileSignBottom},r))}));return o.createElement("div",null,t)},t}(i.b);a.a.Instance.registerQuestion("file",(function(e){return o.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(6);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.canRender=function(){return e.prototype.canRender.call(this)&&!!this.question.html},t.prototype.renderElement=function(){var e={__html:this.question.locHtml.renderedHtml};return o.createElement("div",{className:this.question.cssClasses.root,dangerouslySetInnerHTML:e})},t}(i.b);a.a.Instance.registerQuestion("html",(function(e){return o.createElement(s,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(6),s=n(58);n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={rowsChanged:0},n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){if(e.prototype.componentDidMount.call(this),this.question){var t=this;this.question.visibleRowsChangedCallback=function(){t.setState({rowsChanged:t.state.rowsChanged+1})}}},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.question&&(this.question.visibleRowsChangedCallback=null)},t.prototype.renderElement=function(){for(var e=this,t=this.question.cssClasses,n=this.question.allowRowsDragAndDrop?o.createElement("td",null):null,r=this.question.hasRows?o.createElement("td",null):null,i=[],a=0;a<this.question.visibleColumns.length;a++){var s=this.question.visibleColumns[a],u="column"+a,c=this.renderLocString(s.locText);i.push(o.createElement("th",{className:this.question.cssClasses.headerCell,key:u},c))}var p=[],d=this.question.visibleRows;for(a=0;a<d.length;a++){var h=d[a];u="row-"+h.name+"-"+a,p.push(o.createElement(l,{key:u,question:this.question,cssClasses:t,isDisplayMode:this.isDisplayMode,row:h,isFirst:0==a}))}var f=this.question.showHeader?o.createElement("thead",null,o.createElement("tr",null,n,r,i)):null;return o.createElement("div",{className:t.tableWrapper,ref:function(t){return e.control=t}},o.createElement("fieldset",null,o.createElement("legend",{"aria-label":this.question.locTitle.renderedHtml}),o.createElement("table",{className:t.root},f,o.createElement("tbody",null,p))))},t}(i.b),l=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnChange=n.handleOnChange.bind(n),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this.props.row},enumerable:!1,configurable:!0}),t.prototype.handleOnChange=function(e){this.row.value=e.target.value,this.setState({value:this.row.value})},t.prototype.canRender=function(){return!!this.row},t.prototype.renderElement=function(){var e=null,t=null;if(this.question.allowRowsDragAndDrop&&(e=n.i(s.a)(this.question)),this.question.hasRows){var r=this.renderLocString(this.row.locText);t=o.createElement("td",{className:this.question.cssClasses.cell},r)}var i=this.generateTds();return o.createElement("tr",{className:this.row.rowClasses},e,t,i)},t.prototype.generateTds=function(){for(var e=this,t=[],n=this.row,r=0;r<this.question.visibleColumns.length;r++){var i=null,a=this.question.visibleColumns[r],s="value"+r,u=n.value==a.value,l=this.question.getItemClass(n,a),c=this.question.inputId+"_"+n.name+"_"+r;if(this.question.hasCellText){var p=this.question.isReadOnly?null:function(t){return function(){return e.cellClick(n,t)}};i=o.createElement("td",{key:s,className:l,onClick:p?p(a):null},this.renderLocString(this.question.getCellDisplayLocText(n.name,a)))}else i=o.createElement("td",{key:s,headers:a.locText.renderedHtml,className:this.question.cssClasses.cell},o.createElement("label",{className:l},o.createElement("input",{id:c,type:"radio",className:this.cssClasses.itemValue,name:n.fullName,value:a.value,disabled:this.isDisplayMode,checked:u,onChange:this.handleOnChange,"aria-required":this.question.isRequired,"aria-label":this.question.locTitle.renderedHtml}),o.createElement("span",{className:this.question.cssClasses.materialDecorator},o.createElement("svg",{className:this.question.cssClasses.itemDecorator,viewBox:"-12 -12 24 24"},o.createElement("circle",{r:"6",cx:"0",cy:"0"}),"s")),o.createElement("span",{className:"circle"}),o.createElement("span",{className:"check"}),o.createElement("span",{style:{display:"none"}},this.question.locTitle.renderedHtml)));t.push(i)}return t},t.prototype.cellClick=function(e,t){e.value=t.value},t}(i.d);a.a.Instance.registerQuestion("matrix",(function(e){return o.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(32)),a=n(6);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),t}(i.b);a.a.Instance.registerQuestion("matrixdropdown",(function(e){return o.createElement(s,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(6),s=n(32);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnRowAddClick=n.handleOnRowAddClick.bind(n),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"matrix",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.handleOnRowAddClick=function(e){this.matrix.addRow()},t.prototype.renderElement=function(){var e=this.question.cssClasses,t=this.question.renderedTable.showTable?this.renderTableDiv():this.renderNoRowsContent(e);return o.createElement("div",null,this.renderAddRowButtonOnTop(e),t,this.renderAddRowButtonOnBottom(e))},t.prototype.renderAddRowButtonOnTop=function(e){return this.matrix.renderedTable.showAddRowOnTop?this.renderAddRowButton(e):null},t.prototype.renderAddRowButtonOnBottom=function(e){return this.matrix.renderedTable.showAddRowOnBottom?this.renderAddRowButton(e):null},t.prototype.renderNoRowsContent=function(e){var t=this.renderLocString(this.matrix.locEmptyRowsText),n=o.createElement("div",{className:e.emptyRowsText},t),r=this.renderAddRowButton(e,!0);return o.createElement("div",{className:e.emptyRowsSection},n,r)},t.prototype.renderAddRowButton=function(e,t){return void 0===t&&(t=!1),e.button,e.buttonAdd,t&&e.emptyRowsButton,o.createElement("div",{className:e.footer},o.createElement("button",{className:e.button+" "+e.buttonAdd,type:"button",onClick:this.handleOnRowAddClick},o.createElement("span",null,this.matrix.addRowText),o.createElement("span",{className:e.iconAdd})))},t.prototype.renderRemoveButton=function(e){return o.createElement(l,{question:this.question,row:e,cssClasses:this.question.cssClasses})},t}(s.b),l=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnRowRemoveClick=n.handleOnRowRemoveClick.bind(n),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this.props.row},enumerable:!1,configurable:!0}),t.prototype.handleOnRowRemoveClick=function(e){this.question.removeRowUI(this.row)},t.prototype.renderElement=function(){return o.createElement("button",{className:this.cssClasses.button+" "+this.cssClasses.buttonRemove,type:"button",onClick:this.handleOnRowRemoveClick},o.createElement("span",null,this.question.removeRowText),o.createElement("span",{className:this.cssClasses.iconRemove}))},t}(i.d);a.a.Instance.registerQuestion("matrixdynamic",(function(e){return o.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(20),s=n(6);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){return e.call(this,t)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.renderElement=function(){for(var e=this.question.cssClasses,t=this.question.getRows(),n=[],r=0;r<t.length;r++)n.push(this.renderRow(r,t[r],e));return o.createElement("table",{className:e.root},o.createElement("tbody",null,n))},t.prototype.renderRow=function(e,t,n){for(var r="item"+e,i=[],s=0;s<t.length;s++){var u=t[s],l=this.renderLocString(u.locTitle),c=[],p=u.editor;(p.isRequireTextOnStart||p.isRequireTextBeforeTitle)&&(c.push(o.createElement("span",{key:"requiredTextBefore"+s,className:n.requiredText},p.requiredText)),c.push(o.createElement("span",{key:"spaceBefore"+s}," "))),c.push(o.createElement("span",{key:"itemTitle"+s,className:n.itemTitle},l)),p.isRequireTextAfterTitle&&(c.push(o.createElement("span",{key:"spaceB"+s}," ")),c.push(o.createElement("span",{key:"requiredTextAfter"+s,className:n.requiredText},p.requiredText))),i.push(o.createElement("td",{key:"label"+s,className:n.cell},c)),i.push(o.createElement(a.c,{key:"value"+s,cssClasses:n,question:u.editor,creator:this.creator}))}return o.createElement("tr",{key:r,className:n.row},i)},t}(i.b);s.a.Instance.registerQuestion("multipletext",(function(e){return o.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(24),s=n(6);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnPanelAddClick=n.handleOnPanelAddClick.bind(n),n.handleOnPanelPrevClick=n.handleOnPanelPrevClick.bind(n),n.handleOnPanelNextClick=n.handleOnPanelNextClick.bind(n),n.handleOnRangeChange=n.handleOnRangeChange.bind(n),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.setState({panelCounter:0});var t=this;this.question.panelCountChangedCallback=function(){t.updateQuestionRendering()},this.question.currentIndexChangedCallback=function(){t.updateQuestionRendering()},this.question.renderModeChangedCallback=function(){t.updateQuestionRendering()}},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.question.panelCountChangedCallback=null,this.question.currentIndexChangedCallback=null,this.question.renderModeChangedCallback=null},t.prototype.updateQuestionRendering=function(){this.setState({panelCounter:this.state?this.state.panelCounter+1:1})},t.prototype.handleOnPanelAddClick=function(e){this.question.addPanelUI()},t.prototype.handleOnPanelPrevClick=function(e){this.question.goToPrevPanel()},t.prototype.handleOnPanelNextClick=function(e){this.question.goToNextPanel()},t.prototype.handleOnRangeChange=function(e){this.question.currentIndex=e.target.value},t.prototype.renderElement=function(){var e=[];if(this.question.isRenderModeList)for(var t=0;t<this.question.panels.length;t++){var n=this.question.panels[t];e.push(o.createElement(l,{key:n.id,element:n,question:this.question,index:t,cssClasses:this.question.cssClasses,isDisplayMode:this.isDisplayMode,creator:this.creator}))}else null!=this.question.currentPanel&&(n=this.question.currentPanel,e.push(o.createElement(l,{key:this.question.currentIndex,element:n,question:this.question,index:this.question.currentIndex,cssClasses:this.question.cssClasses,isDisplayMode:this.isDisplayMode,creator:this.creator})));var r=this.question.isRenderModeList?this.renderAddRowButton():null,i=this.question.isProgressTopShowing?this.renderNavigator():null,a=this.question.isProgressBottomShowing?this.renderNavigator():null,s={};return this.question.horizontalScroll&&(s.overflowX="scroll"),o.createElement("div",{className:this.question.cssClasses.root},i,o.createElement("div",{style:s},e),a,r)},t.prototype.renderNavigator=function(){var e=this.question.isRangeShowing?this.renderRange():null,t=this.rendrerPrevButton(),n=this.rendrerNextButton(),r=this.renderAddRowButton(),i=this.question.isProgressTopShowing?this.question.cssClasses.progressTop:this.question.cssClasses.progressBottom;return o.createElement("div",{style:{clear:"both"},className:i},o.createElement("div",{className:this.question.cssClasses.progressContainer},t,e,n),r,o.createElement("div",{className:this.question.cssClasses.progressText},this.question.progressText))},t.prototype.rendrerPrevButton=function(){var e,t;return o.createElement("div",{title:this.question.panelPrevText},o.createElement("svg",{viewBox:"0 0 10 10",className:(e=this.question,t=e.cssClasses.buttonPrev,e.isPrevButtonShowing||(t+=" "+e.cssClasses.buttonPrev+"--disabled"),t),onClick:this.handleOnPanelPrevClick},o.createElement("polygon",{points:"2,2 0,4 5,9 10,4 8,2 5,5 "})))},t.prototype.rendrerNextButton=function(){var e,t;return o.createElement("div",{title:this.question.panelNextText},o.createElement("svg",{viewBox:"0 0 10 10",className:(e=this.question,t=e.cssClasses.buttonNext,e.isNextButtonShowing||(t+=" "+e.cssClasses.buttonNext+"--disabled"),t),onClick:this.handleOnPanelNextClick},o.createElement("polygon",{points:"2,2 0,4 5,9 10,4 8,2 5,5 "})))},t.prototype.renderRange=function(){var e,t=this;return o.createElement("div",{className:this.question.cssClasses.progress},o.createElement("div",{className:this.question.cssClasses.progressBar,style:{width:(e=t.question.panelCount-1,t.question.currentIndex/e*100+"%")},role:"progressbar"}))},t.prototype.renderAddRowButton=function(){if(!this.question.canAddPanel)return null;var e=this.question.cssClasses.button+" "+this.question.cssClasses.buttonAdd;return"list"===this.question.renderMode&&(e+=" "+this.question.cssClasses.buttonAdd+"--list-mode"),o.createElement("input",{className:e,type:"button",onClick:this.handleOnPanelAddClick,value:this.question.panelAddText})},t}(i.b),l=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnPanelRemoveClick=n.handleOnPanelRemoveClick.bind(n),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.props.question},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),t.prototype.getSurvey=function(){return this.question?this.question.survey:null},t.prototype.getCss=function(){var e=this.getSurvey();return e?e.getCss():{}},t.prototype.handleOnPanelRemoveClick=function(e){this.question.removePanelUI(this.index)},t.prototype.renderBottom=function(){if(!this.question)return null;var e=this.question.isRenderModeList&&this.index<this.question.panelCount-1?o.createElement("hr",{className:this.question.cssClasses.separator}):null,t=this.renderButton();return o.createElement("div",null,t,e)},t.prototype.renderButton=function(){return!this.question.canRemovePanel||this.question.isRenderModeList&&this.panel.isCollapsed?null:o.createElement("input",{className:this.question.cssClasses.button+" "+this.question.cssClasses.buttonRemove,style:{marginTop:"5px"},type:"button",onClick:this.handleOnPanelRemoveClick,value:this.question.panelRemoveText})},t}(a.a);s.a.Instance.registerQuestion("paneldynamic",(function(e){return o.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(6);n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.renderElement=function(){var e=this;return o.createElement("div",{className:this.question.rootClass,ref:function(t){return e.control=t}},this.getItems())},t.prototype.getItems=function(){for(var e=[],t=this.question.rankingChoices,n=0;n<t.length;n++){var r=t[n],o=r.value+"-"+n+"-item",i=this.renderLocString(r.locText),a=this.question.getNumberByIndex(n);e.push(this.renderItem(o,i,a,this.question.handleKeydown,this.question.cssClasses,this.question.getItemClass(r)))}return e},t.prototype.renderItem=function(e,t,n,r,i,a){return o.createElement(u,{key:e,text:t,index:n,handleKeydown:r,cssClasses:i,itemClass:a})},t}(i.b),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.props.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.props.index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handleKeydown",{get:function(){return this.props.handleKeydown},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssClasses",{get:function(){return this.props.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemClass",{get:function(){return this.props.itemClass},enumerable:!1,configurable:!0}),t.prototype.renderElement=function(){return o.createElement("div",{tabIndex:0,className:this.itemClass,onKeyDown:this.handleKeydown},o.createElement("div",{tabIndex:-1,style:{outline:"none"}},o.createElement("div",{className:this.cssClasses.itemGhostNode}),o.createElement("div",{className:this.cssClasses.itemContent},o.createElement("div",{className:this.cssClasses.itemIconContainer},o.createElement("svg",{width:"10",height:"16",viewBox:"0 0 10 16",className:this.cssClasses.itemIcon+" "+this.cssClasses.itemIconHoverMod,xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M6 2C6 0.9 6.9 0 8 0C9.1 0 10 0.9 10 2C10 3.1 9.1 4 8 4C6.9 4 6 3.1 6 2ZM2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0ZM8 6C6.9 6 6 6.9 6 8C6 9.1 6.9 10 8 10C9.1 10 10 9.1 10 8C10 6.9 9.1 6 8 6ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM8 12C6.9 12 6 12.9 6 14C6 15.1 6.9 16 8 16C9.1 16 10 15.1 10 14C10 12.9 9.1 12 8 12ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z"})),o.createElement("svg",{width:"10",height:"24",viewBox:"0 0 10 24",className:this.cssClasses.itemIcon+" "+this.cssClasses.itemIconFocusMod,xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M10 5L5 0L0 5H4V9H6V5H10Z"}),o.createElement("path",{d:"M6 19V15H4V19H0L5 24L10 19H6Z"}))),o.createElement("div",{className:this.cssClasses.itemIndex},this.index),o.createElement("div",{className:this.cssClasses.itemText},this.text))))},t}(i.d);a.a.Instance.registerQuestion("ranking",(function(e){return o.createElement(s,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(21),s=n(6);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOnChange=n.handleOnChange.bind(n),n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.handleOnChange=function(e){this.question.value=e.target.value,this.setState({value:this.question.value})},t.prototype.renderElement=function(){for(var e=this,t=this.question.cssClasses,n=[],r=this.question.minRateDescription?this.renderLocString(this.question.locMinRateDescription):null,i=this.question.maxRateDescription?this.renderLocString(this.question.locMaxRateDescription):null,a=0;a<this.question.visibleRateValues.length;a++){var s=0==a?r:null,u=a==this.question.visibleRateValues.length-1?i:null;n.push(this.renderItem("value"+a,this.question.visibleRateValues[a],a,s,u,t))}var l=this.question.hasOther?this.renderOther(t):null;return o.createElement("div",{className:t.root,ref:function(t){return e.control=t}},o.createElement("fieldset",{role:"radiogroup"},o.createElement("legend",{"aria-label":this.question.locTitle.renderedHtml}),n),l)},t.prototype.renderItem=function(e,t,n,r,i,a){var s=this.question.value==t.value,u=a.item;s&&(u+=" "+a.selected),this.isDisplayMode&&(u+=" "+a.disabled);var l=this.renderLocString(t.locText),c=r?o.createElement("span",{className:a.minText},r):null,p=i?o.createElement("span",{className:a.maxText},i):null;return o.createElement("label",{key:e,className:u},o.createElement("input",{type:"radio",className:"sv-visuallyhidden",name:this.question.name,id:this.question.inputId+"_"+n,value:t.value,disabled:this.isDisplayMode,checked:this.question.value==t.value,onChange:this.handleOnChange,"aria-required":this.question.isRequired,"aria-label":t.locText.text,"aria-invalid":this.question.errors.length>0,"aria-describedby":this.question.errors.length>0?this.question.id+"_errors":null}),c,o.createElement("span",{className:a.itemText},l),p)},t.prototype.renderOther=function(e){return o.createElement("div",{className:e.other},o.createElement(a.a,{question:this.question,cssClasses:e,isDisplayMode:this.isDisplayMode}))},t}(i.b);s.a.Instance.registerQuestion("rating",(function(e){return o.createElement(u,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(6);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){var n=e.call(this,t)||this;return n._isWaitingForEnter=!1,n}return n.i(r.a)(t,e),t.prototype.renderElement=function(){var e=this,t=this.question.cssClasses,n=null,r=null,i=null;this.question.isInputTextUpdate&&(n=function(t){return e._isWaitingForEnter=229===t.keyCode},r=function(t){e._isWaitingForEnter&&13!==t.keyCode||(e.updateValueOnEvent(t),e._isWaitingForEnter=!1)},i=function(t){t.persist(),setTimeout((function(){e.updateValueOnEvent(t)}),1)});var a="range"===this.question.inputType||this.question.isReadOnly?"":this.question.placeHolder,s=this.renderDataList();return o.createElement(o.Fragment,null,o.createElement("input",{id:this.question.inputId,disabled:this.isDisplayMode,className:t.root,type:this.question.inputType,ref:function(t){return e.control=t},maxLength:this.question.getMaxLength(),min:this.question.renderedMin,max:this.question.renderedMax,step:this.question.renderedStep,size:this.question.size,placeholder:a,list:this.question.dataListId,autoComplete:this.question.autoComplete,onBlur:this.updateValueOnEvent,onKeyUp:r,onKeyDown:n,onCompositionUpdate:i,"aria-required":this.question.isRequired,"aria-label":this.question.locTitle.renderedHtml,"aria-invalid":this.question.errors.length>0,"aria-describedby":this.question.errors.length>0?this.question.id+"_errors":null}),s)},t.prototype.renderDataList=function(){if(!this.question.dataListId)return null;var e=this.question.dataList;if(0==e.length)return null;for(var t=[],n=0;n<e.length;n++)t.push(o.createElement("option",{value:e[n]}));return o.createElement("datalist",{id:this.question.dataListId},t)},t}(i.c);a.a.Instance.registerQuestion("text",(function(e){return o.createElement(s,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=(n.n(o),n(4)),a=n(6);n.d(t,"a",(function(){return s}));var s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:n.question.value},n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.questionBase},enumerable:!1,configurable:!0}),t.prototype.renderElement=function(){var e=this,t=this.question.cssClasses;return o.createElement("div",{className:t.root,ref:function(t){return e.control=t}},o.createElement("div",null,o.createElement("canvas",{tabIndex:0})),o.createElement("div",{className:t.controls},o.createElement("button",{type:"button",className:t.clearButton,title:this.question.clearButtonCaption},"✖")))},t}(i.b);a.a.Instance.registerQuestion("signaturepad",(function(e){return o.createElement(s,e)}))},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n.n(o),a=n(10),s=n(9);n.d(t,"a",(function(){return u}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.onInput=function(e){n.locStr.text=e.target.innerText},n.onClick=function(e){e.preventDefault(),e.stopPropagation()},n.state={changed:0},n}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"locStr",{get:function(){return this.props.locStr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this.props.style},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){if(this.locStr){var e=this;this.locStr.onChanged=function(){e.setState({changed:e.state.changed+1})}}},t.prototype.componentWillUnmount=function(){this.locStr&&(this.locStr.onChanged=function(){})},t.prototype.render=function(){if(!this.locStr)return null;if(this.locStr.hasHtml){var e={__html:this.locStr.renderedHtml};return i.a.createElement("span",{className:"sv-string-editor",contentEditable:"true",suppressContentEditableWarning:!0,style:this.style,dangerouslySetInnerHTML:e,onBlur:this.onInput,onClick:this.onClick})}return i.a.createElement("span",{className:"sv-string-editor",contentEditable:"true",suppressContentEditableWarning:!0,style:this.style,onBlur:this.onInput,onClick:this.onClick},this.locStr.renderedHtml)},t}(i.a.Component);s.a.Instance.registerElement(a.D.editableRenderer,(function(e){return i.a.createElement(u,e)}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){this.survey=e}return e.prototype.isListElementClickable=function(e){return!(this.survey.onServerValidateQuestions&&!this.survey.onServerValidateQuestions.isEmpty&&"onComplete"!==this.survey.checkErrorsMode)||e<=this.survey.currentPageNo+1},e.prototype.getListElementCss=function(e){if(!(e>=this.survey.visiblePages.length)){var t=this.survey.visiblePages[e].passed?this.survey.css.progressButtonsListElementPassed:"";return this.survey.currentPageNo===e&&(t+=""!==t?" ":"",t+=this.survey.css.progressButtonsListElementCurrent),this.isListElementClickable(e)||(t+=""!==t?" ":"",t+=this.survey.css.progressButtonsListElementNonClickable),t}},e.prototype.clickListElement=function(e){if(!this.survey.isDesignMode)if(e<this.survey.currentPageNo)this.survey.currentPageNo=e;else if(e>this.survey.currentPageNo)for(var t=this.survey.currentPageNo;t<e&&this.survey.nextPage();t++);},e}()},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(69);n.d(t,"a",(function(){return a}));var a=function(e){function t(t,n){void 0===n&&(n=null);var r=e.call(this)||this;r.closeOnCompleteTimeout=0,r.surveyValue=n||r.createSurvey(t),r.surveyValue.showTitle=!1,"undefined"!=typeof document&&(r.windowElement=document.createElement("div"));var o=r;return r.survey.onComplete.add((function(e,t){o.onSurveyComplete()})),r}return n.i(r.a)(t,e),t.prototype.getType=function(){return"window"},Object.defineProperty(t.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowing",{get:function(){return this.getPropertyValue("isShowing",!1)},set:function(e){this.isShowing!=e&&(this.setPropertyValue("isShowing",e),this.showingChangedCallback&&this.showingChangedCallback())},enumerable:!1,configurable:!0}),t.prototype.show=function(){this.isShowing=!0},t.prototype.hide=function(){this.isShowing=!1},Object.defineProperty(t.prototype,"isExpanded",{get:function(){return this.getPropertyValue("isExpanded",!1)},set:function(e){this.setPropertyValue("isExpanded",e),!this.isLoadingFromJson&&this.expandedChangedCallback&&this.expandedChangedCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.survey.title},set:function(e){this.survey.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.survey.locTitle},enumerable:!1,configurable:!0}),t.prototype.expand=function(){this.expandcollapse(!0)},t.prototype.collapse=function(){this.expandcollapse(!1)},t.prototype.createSurvey=function(e){return new i.a(e)},t.prototype.expandcollapse=function(e){this.isExpanded=e},t.prototype.onSurveyComplete=function(){if(!(this.closeOnCompleteTimeout<0))if(0==this.closeOnCompleteTimeout)this.closeWindowOnComplete();else{var e=this,t=null;t="undefined"!=typeof window?window.setInterval((function(){e.closeWindowOnComplete(),"undefined"!=typeof window&&window.clearInterval(t)}),1e3*this.closeOnCompleteTimeout):0}},t.prototype.closeWindowOnComplete=function(){this.closeWindowOnCompleteCallback&&this.closeWindowOnCompleteCallback()},t.surveyElementName="windowSurveyJS",t}(o.a)},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(7),a=n(3),s=n(14),u=n(27),l=n(19),c=n(11);n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return y}));var p=function(e){function t(){var t=e.call(this)||this;t.usedNames=[];var n=t;return t.registerFunctionOnPropertiesValueChanged(["operator","value","name"],(function(){n.oldPropertiesChanged()})),t.registerFunctionOnPropertyValueChanged("expression",(function(){n.onExpressionChanged()})),t}return n.i(r.a)(t,e),Object.defineProperty(t,"operators",{get:function(){return null!=t.operatorsValue||(t.operatorsValue={empty:function(e,t){return!e},notempty:function(e,t){return!!e},equal:function(e,t){return e==t},notequal:function(e,t){return e!=t},contains:function(e,t){return e&&e.indexOf&&e.indexOf(t)>-1},notcontains:function(e,t){return!e||!e.indexOf||-1==e.indexOf(t)},greater:function(e,t){return e>t},less:function(e,t){return e<t},greaterorequal:function(e,t){return e>=t},lessorequal:function(e,t){return e<=t}}),t.operatorsValue},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"triggerbase"},t.prototype.toString=function(){var e=this.getType().replace("trigger",""),t=this.expression?this.expression:this.buildExpression();return t&&(e+=", "+t),e},Object.defineProperty(t.prototype,"operator",{get:function(){return this.getPropertyValue("operator","equal")},set:function(e){e&&(e=e.toLowerCase(),t.operators[e]&&this.setPropertyValue("operator",e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getPropertyValue("value",null)},set:function(e){this.setPropertyValue("value",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(e){this.setPropertyValue("name",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),t.prototype.checkExpression=function(e,t,n){void 0===n&&(n=null),this.isCheckRequired(e)&&this.conditionRunner&&this.perform(t,n)},t.prototype.check=function(e){t.operators[this.operator](e,this.value)?this.onSuccess({},null):this.onFailure()},t.prototype.perform=function(e,t){var n=this;this.conditionRunner.onRunComplete=function(r){n.triggerResult(r,e,t)},this.conditionRunner.run(e,t)},t.prototype.triggerResult=function(e,t,n){e?this.onSuccess(t,n):this.onFailure()},t.prototype.onSuccess=function(e,t){},t.prototype.onFailure=function(){},t.prototype.endLoadingFromJson=function(){e.prototype.endLoadingFromJson.call(this),this.oldPropertiesChanged()},t.prototype.oldPropertiesChanged=function(){this.onExpressionChanged()},t.prototype.onExpressionChanged=function(){this.usedNames=[],this.hasFunction=!1,this.conditionRunner=null},t.prototype.buildExpression=function(){return this.name?o.a.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+u.g.toOperandString(this.value):""},t.prototype.isCheckRequired=function(e){if(!e)return!1;if(this.buildUsedNames(),!0===this.hasFunction)return!0;for(var t=new l.a,n=0;n<this.usedNames.length;n++){var r=this.usedNames[n];if(e.hasOwnProperty(r))return!0;var i=t.getFirstName(r);if(e.hasOwnProperty(i)){if(r==i)return!0;var a=e[i];if(!a.hasOwnProperty("oldValue")||!a.hasOwnProperty("newValue"))return!0;var s={};s[i]=a.oldValue;var u=t.getValue(r,s);s[i]=a.newValue;var c=t.getValue(r,s);return!o.a.isTwoValueEquals(u,c)}}return!1},t.prototype.buildUsedNames=function(){if(!this.conditionRunner){var e=this.expression;e||(e=this.buildExpression()),e&&(this.conditionRunner=new s.a(e),this.hasFunction=this.conditionRunner.hasFunction(),this.usedNames=this.conditionRunner.getVariables())}},Object.defineProperty(t.prototype,"isRequireValue",{get:function(){return"empty"!==this.operator&&"notempty"!=this.operator},enumerable:!1,configurable:!0}),t.operatorsValue=null,t}(i.a),d=function(e){function t(){var t=e.call(this)||this;return t.ownerValue=null,t}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this.ownerValue},enumerable:!1,configurable:!0}),t.prototype.setOwner=function(e){this.ownerValue=e},t.prototype.getSurvey=function(){return this.owner&&this.owner.getSurvey?this.owner.getSurvey():null},Object.defineProperty(t.prototype,"isOnNextPage",{get:function(){return!1},enumerable:!1,configurable:!0}),t}(p),h=function(e){function t(){var t=e.call(this)||this;return t.pages=[],t.questions=[],t}return n.i(r.a)(t,e),t.prototype.getType=function(){return"visibletrigger"},t.prototype.onSuccess=function(e,t){this.onTrigger(this.onItemSuccess)},t.prototype.onFailure=function(){this.onTrigger(this.onItemFailure)},t.prototype.onTrigger=function(e){if(this.owner)for(var t=this.owner.getObjects(this.pages,this.questions),n=0;n<t.length;n++)e(t[n])},t.prototype.onItemSuccess=function(e){e.visible=!0},t.prototype.onItemFailure=function(e){e.visible=!1},t}(d),f=function(e){function t(){return e.call(this)||this}return n.i(r.a)(t,e),t.prototype.getType=function(){return"completetrigger"},Object.defineProperty(t.prototype,"isOnNextPage",{get:function(){return!c.a.executeCompleteTriggerOnValueChanged},enumerable:!1,configurable:!0}),t.prototype.onSuccess=function(e,t){this.owner&&this.owner.setCompleted()},t}(d),m=function(e){function t(){return e.call(this)||this}return n.i(r.a)(t,e),t.prototype.getType=function(){return"setvaluetrigger"},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValue",{get:function(){return this.getPropertyValue("setValue")},set:function(e){this.setPropertyValue("setValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVariable",{get:function(){return this.getPropertyValue("isVariable",!1)},set:function(e){this.setPropertyValue("isVariable",e)},enumerable:!1,configurable:!0}),t.prototype.onSuccess=function(e,t){this.setToName&&this.owner&&this.owner.setTriggerValue(this.setToName,this.setValue,this.isVariable)},t}(d),g=function(e){function t(){return e.call(this)||this}return n.i(r.a)(t,e),t.prototype.getType=function(){return"skiptrigger"},Object.defineProperty(t.prototype,"gotoName",{get:function(){return this.getPropertyValue("gotoName","")},set:function(e){this.setPropertyValue("gotoName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOnNextPage",{get:function(){return!c.a.executeSkipTriggerOnValueChanged},enumerable:!1,configurable:!0}),t.prototype.onSuccess=function(e,t){this.gotoName&&this.owner&&this.owner.focusQuestion(this.gotoName)},t}(d),v=function(e){function t(){return e.call(this)||this}return n.i(r.a)(t,e),t.prototype.getType=function(){return"runexpressiontrigger"},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runExpression",{get:function(){return this.getPropertyValue("runExpression","")},set:function(e){this.setPropertyValue("runExpression",e)},enumerable:!1,configurable:!0}),t.prototype.onSuccess=function(e,t){var n=this;if(this.owner&&this.runExpression){var r=new s.b(this.runExpression);r.canRun&&(r.onRunComplete=function(e){n.onCompleteRunExpression(e)},r.run(e,t))}},t.prototype.onCompleteRunExpression=function(e){this.setToName&&void 0!==e&&this.owner.setTriggerValue(this.setToName,e,!1)},t}(d),y=function(e){function t(){return e.call(this)||this}return n.i(r.a)(t,e),Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fromName",{get:function(){return this.getPropertyValue("fromName","")},set:function(e){this.setPropertyValue("fromName",e)},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"copyvaluetrigger"},t.prototype.onSuccess=function(e,t){this.setToName&&this.owner&&this.owner.copyTriggerValue(this.setToName,this.fromName)},t}(d);a.k.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]),a.k.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger"),a.k.addClass("visibletrigger",["pages:pages","questions:questions"],(function(){return new h}),"surveytrigger"),a.k.addClass("completetrigger",[],(function(){return new f}),"surveytrigger"),a.k.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(e){return!!e&&!!e.setToName}},{name:"isVariable:boolean",visible:!1}],(function(){return new m}),"surveytrigger"),a.k.addClass("copyvaluetrigger",[{name:"!setToName:questionvalue"},{name:"!fromName:questionvalue"}],(function(){return new y}),"surveytrigger"),a.k.addClass("skiptrigger",[{name:"!gotoName:question"}],(function(){return new g}),"surveytrigger"),a.k.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],(function(){return new v}),"surveytrigger")},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){}return e.calculatePosition=function(e,t,n,r,o,i){if("center"==o)var a=(e.left+e.right-n)/2;else a="left"==o?e.left-n:e.right;if("middle"==r)var s=(e.top+e.bottom-t)/2;else s="top"==r?e.top-t:e.bottom;return i&&"center"!=o&&"middle"!=r&&("top"==r?s+=e.height:s-=e.height),{left:Math.round(a),top:Math.round(s)}},e.calculatePopupDirection=function(e,t){var n;return"center"==t&&"middle"!=e?n=e:"center"!=t&&(n=t),n},e.calculatePointerTarget=function(e,t,n,r,o){var i={};return"center"!=o?(i.top=e.top+e.height/2,i.left=e[o]):"middle"!=r&&(i.top=e[r],i.left=e.left+e.width/2),i.left=Math.round(i.left-n),i.top=Math.round(i.top-t),i},e}()},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);n.d(t,"defaultStandardCss",(function(){return r.a})),n.d(t,"defaultBootstrapCss",(function(){return r.b})),n.d(t,"defaultBootstrapMaterialCss",(function(){return r.c})),n.d(t,"modernCss",(function(){return r.d})),n.d(t,"unwrap",(function(){return r.e})),n.d(t,"Version",(function(){return r.f})),n.d(t,"settings",(function(){return r.g})),n.d(t,"Helpers",(function(){return r.h})),n.d(t,"AnswerCountValidator",(function(){return r.i})),n.d(t,"EmailValidator",(function(){return r.j})),n.d(t,"NumericValidator",(function(){return r.k})),n.d(t,"RegexValidator",(function(){return r.l})),n.d(t,"SurveyValidator",(function(){return r.m})),n.d(t,"TextValidator",(function(){return r.n})),n.d(t,"ValidatorResult",(function(){return r.o})),n.d(t,"ExpressionValidator",(function(){return r.p})),n.d(t,"ValidatorRunner",(function(){return r.q})),n.d(t,"ItemValue",(function(){return r.r})),n.d(t,"Base",(function(){return r.s})),n.d(t,"Event",(function(){return r.t})),n.d(t,"SurveyError",(function(){return r.u})),n.d(t,"SurveyElement",(function(){return r.v})),n.d(t,"ArrayChanges",(function(){return r.w})),n.d(t,"CalculatedValue",(function(){return r.x})),n.d(t,"CustomError",(function(){return r.y})),n.d(t,"AnswerRequiredError",(function(){return r.z})),n.d(t,"OneAnswerRequiredError",(function(){return r.A})),n.d(t,"RequreNumericError",(function(){return r.B})),n.d(t,"ExceedSizeError",(function(){return r.C})),n.d(t,"LocalizableString",(function(){return r.D})),n.d(t,"LocalizableStrings",(function(){return r.E})),n.d(t,"HtmlConditionItem",(function(){return r.F})),n.d(t,"UrlConditionItem",(function(){return r.G})),n.d(t,"ChoicesRestfull",(function(){return r.H})),n.d(t,"FunctionFactory",(function(){return r.I})),n.d(t,"registerFunction",(function(){return r.J})),n.d(t,"ConditionRunner",(function(){return r.K})),n.d(t,"ExpressionRunner",(function(){return r.L})),n.d(t,"Operand",(function(){return r.M})),n.d(t,"Const",(function(){return r.N})),n.d(t,"BinaryOperand",(function(){return r.O})),n.d(t,"Variable",(function(){return r.P})),n.d(t,"FunctionOperand",(function(){return r.Q})),n.d(t,"ArrayOperand",(function(){return r.R})),n.d(t,"ConditionsParser",(function(){return r.S})),n.d(t,"ProcessValue",(function(){return r.T})),n.d(t,"JsonError",(function(){return r.U})),n.d(t,"JsonIncorrectTypeError",(function(){return r.V})),n.d(t,"JsonMetadata",(function(){return r.W})),n.d(t,"JsonMetadataClass",(function(){return r.X})),n.d(t,"JsonMissingTypeError",(function(){return r.Y})),n.d(t,"JsonMissingTypeErrorBase",(function(){return r.Z})),n.d(t,"JsonObject",(function(){return r._0})),n.d(t,"JsonObjectProperty",(function(){return r._1})),n.d(t,"JsonRequiredPropertyError",(function(){return r._2})),n.d(t,"JsonUnknownPropertyError",(function(){return r._3})),n.d(t,"Serializer",(function(){return r._4})),n.d(t,"property",(function(){return r._5})),n.d(t,"propertyArray",(function(){return r._6})),n.d(t,"MatrixDropdownCell",(function(){return r._7})),n.d(t,"MatrixDropdownColumn",(function(){return r._8})),n.d(t,"matrixDropdownColumnTypes",(function(){return r._9})),n.d(t,"MatrixDropdownRowModelBase",(function(){return r._10})),n.d(t,"QuestionMatrixDropdownModelBase",(function(){return r._11})),n.d(t,"QuestionMatrixDropdownRenderedCell",(function(){return r._12})),n.d(t,"QuestionMatrixDropdownRenderedRow",(function(){return r._13})),n.d(t,"QuestionMatrixDropdownRenderedTable",(function(){return r._14})),n.d(t,"MatrixDropdownRowModel",(function(){return r._15})),n.d(t,"QuestionMatrixDropdownModel",(function(){return r._16})),n.d(t,"MatrixDynamicRowModel",(function(){return r._17})),n.d(t,"QuestionMatrixDynamicModel",(function(){return r._18})),n.d(t,"MatrixRowModel",(function(){return r._19})),n.d(t,"MartrixCells",(function(){return r._20})),n.d(t,"QuestionMatrixModel",(function(){return r._21})),n.d(t,"MultipleTextItemModel",(function(){return r._22})),n.d(t,"QuestionMultipleTextModel",(function(){return r._23})),n.d(t,"PanelModel",(function(){return r._24})),n.d(t,"PanelModelBase",(function(){return r._25})),n.d(t,"QuestionRowModel",(function(){return r._26})),n.d(t,"FlowPanelModel",(function(){return r._27})),n.d(t,"PageModel",(function(){return r._28})),n.d(t,"Question",(function(){return r._29})),n.d(t,"QuestionNonValue",(function(){return r._30})),n.d(t,"QuestionEmptyModel",(function(){return r._31})),n.d(t,"QuestionCheckboxBase",(function(){return r._32})),n.d(t,"QuestionSelectBase",(function(){return r._33})),n.d(t,"QuestionCheckboxModel",(function(){return r._34})),n.d(t,"QuestionRankingModel",(function(){return r._35})),n.d(t,"QuestionCommentModel",(function(){return r._36})),n.d(t,"QuestionDropdownModel",(function(){return r._37})),n.d(t,"QuestionFactory",(function(){return r._38})),n.d(t,"ElementFactory",(function(){return r._39})),n.d(t,"QuestionFileModel",(function(){return r._40})),n.d(t,"QuestionHtmlModel",(function(){return r._41})),n.d(t,"QuestionRadiogroupModel",(function(){return r._42})),n.d(t,"QuestionRatingModel",(function(){return r._43})),n.d(t,"QuestionExpressionModel",(function(){return r._44})),n.d(t,"QuestionTextModel",(function(){return r._45})),n.d(t,"QuestionBooleanModel",(function(){return r._46})),n.d(t,"QuestionImagePickerModel",(function(){return r._47})),n.d(t,"QuestionImageModel",(function(){return r._48})),n.d(t,"QuestionSignaturePadModel",(function(){return r._49})),n.d(t,"QuestionPanelDynamicModel",(function(){return r._50})),n.d(t,"QuestionPanelDynamicItem",(function(){return r._51})),n.d(t,"SurveyTimer",(function(){return r._52})),n.d(t,"SurveyProgressButtonsModel",(function(){return r._53})),n.d(t,"SurveyModel",(function(){return r._54})),n.d(t,"SurveyTrigger",(function(){return r._55})),n.d(t,"SurveyTriggerComplete",(function(){return r._56})),n.d(t,"SurveyTriggerSetValue",(function(){return r._57})),n.d(t,"SurveyTriggerVisible",(function(){return r._58})),n.d(t,"SurveyTriggerCopyValue",(function(){return r._59})),n.d(t,"SurveyTriggerRunExpression",(function(){return r._60})),n.d(t,"Trigger",(function(){return r._61})),n.d(t,"SurveyWindowModel",(function(){return r._62})),n.d(t,"TextPreProcessor",(function(){return r._63})),n.d(t,"dxSurveyService",(function(){return r._64})),n.d(t,"englishStrings",(function(){return r._65})),n.d(t,"surveyLocalization",(function(){return r._66})),n.d(t,"surveyStrings",(function(){return r._67})),n.d(t,"QuestionCustomWidget",(function(){return r._68})),n.d(t,"CustomWidgetCollection",(function(){return r._69})),n.d(t,"QuestionCustomModel",(function(){return r._70})),n.d(t,"QuestionCompositeModel",(function(){return r._71})),n.d(t,"ComponentQuestionJSON",(function(){return r._72})),n.d(t,"ComponentCollection",(function(){return r._73})),n.d(t,"StylesManager",(function(){return r._74})),n.d(t,"ActionBarItem",(function(){return r._75})),n.d(t,"AdaptiveActionBarItemWrapper",(function(){return r._76})),n.d(t,"AdaptiveElement",(function(){return r._77})),n.d(t,"ListModel",(function(){return r._78})),n.d(t,"PopupModel",(function(){return r._79})),n.d(t,"PopupViewModel",(function(){return r._80})),n.d(t,"IsMobile",(function(){return r._81})),n.d(t,"confirmAction",(function(){return r._82})),n.d(t,"detectIEOrEdge",(function(){return r._83})),n.d(t,"loadFileFromBase64",(function(){return r._84})),n.d(t,"createSvg",(function(){return r._85})),n.d(t,"surveyCss",(function(){return r._86})),n.d(t,"__assign",(function(){return r._87})),n.d(t,"__extends",(function(){return r._88})),n.d(t,"__decorate",(function(){return r._89})),n.d(t,"__spreadArrays",(function(){return r._90})),n.d(t,"__spreadArray",(function(){return r._91})),n.d(t,"ResponsibilityManager",(function(){return r._92})),n.d(t,"VerticalResponsibilityManager",(function(){return r._93})),n.d(t,"RendererFactory",(function(){return r._94}));var o=n(73);n.d(t,"Survey",(function(){return o.a})),n.d(t,"Model",(function(){return o.b})),n.d(t,"WindowModel",(function(){return o.c})),n.d(t,"SurveyNavigationBase",(function(){return o.d})),n.d(t,"SurveyTimerPanel",(function(){return o.e})),n.d(t,"SurveyNavigation",(function(){return o.f})),n.d(t,"SurveyPage",(function(){return o.g})),n.d(t,"SurveyRow",(function(){return o.h})),n.d(t,"SurveyPanel",(function(){return o.i})),n.d(t,"SurveyFlowPanel",(function(){return o.j})),n.d(t,"SurveyQuestion",(function(){return o.k})),n.d(t,"SurveyElementErrors",(function(){return o.l})),n.d(t,"SurveyQuestionAndErrorsCell",(function(){return o.m})),n.d(t,"SurveyElementBase",(function(){return o.n})),n.d(t,"SurveyQuestionElementBase",(function(){return o.o})),n.d(t,"SurveyQuestionCommentItem",(function(){return o.p})),n.d(t,"SurveyQuestionComment",(function(){return o.q})),n.d(t,"SurveyQuestionCheckbox",(function(){return o.r})),n.d(t,"SurveyQuestionCheckboxItem",(function(){return o.s})),n.d(t,"SurveyQuestionRanking",(function(){return o.t})),n.d(t,"SurveyQuestionRankingItem",(function(){return o.u})),n.d(t,"SurveyQuestionDropdown",(function(){return o.v})),n.d(t,"SurveyQuestionMatrix",(function(){return o.w})),n.d(t,"SurveyQuestionMatrixRow",(function(){return o.x})),n.d(t,"SurveyQuestionHtml",(function(){return o.y})),n.d(t,"SurveyQuestionFile",(function(){return o.z})),n.d(t,"SurveyQuestionMultipleText",(function(){return o.A})),n.d(t,"SurveyQuestionRadiogroup",(function(){return o.B})),n.d(t,"SurveyQuestionText",(function(){return o.C})),n.d(t,"SurveyQuestionBoolean",(function(){return o.D})),n.d(t,"SurveyQuestionBooleanCheckbox",(function(){return o.E})),n.d(t,"SurveyQuestionEmpty",(function(){return o.F})),n.d(t,"SurveyQuestionMatrixDropdownCell",(function(){return o.G})),n.d(t,"SurveyQuestionMatrixDropdown",(function(){return o.H})),n.d(t,"SurveyQuestionMatrixDynamic",(function(){return o.I})),n.d(t,"SurveyQuestionPanelDynamic",(function(){return o.J})),n.d(t,"SurveyProgress",(function(){return o.K})),n.d(t,"SurveyProgressButtons",(function(){return o.L})),n.d(t,"SurveyQuestionRating",(function(){return o.M})),n.d(t,"SurveyQuestionExpression",(function(){return o.N})),n.d(t,"SurveyWindow",(function(){return o.O})),n.d(t,"ReactQuestionFactory",(function(){return o.P})),n.d(t,"ReactElementFactory",(function(){return o.Q})),n.d(t,"SurveyQuestionImagePicker",(function(){return o.R})),n.d(t,"SurveyQuestionImage",(function(){return o.S})),n.d(t,"SurveyQuestionSignaturePad",(function(){return o.T})),n.d(t,"SurveyQuestionCustom",(function(){return o.U})),n.d(t,"SurveyQuestionComposite",(function(){return o.V})),n.d(t,"DefaultTitle",(function(){return o.W})),n.d(t,"Popup",(function(){return o.X})),n.d(t,"List",(function(){return o.Y})),n.d(t,"TitleActions",(function(){return o.Z})),n.d(t,"ActionBar",(function(){return o._0})),n.d(t,"SvgIcon",(function(){return o._1})),n.d(t,"SurveyLocStringViewer",(function(){return o._2})),n.d(t,"SurveyLocStringEditor",(function(){return o._3}));var i=n(36);n.n(i)}])},e.exports=r(n(1),n(24))},function(e,t,n){var r=n(43),o=n(44),i=n(20),a=n(45);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(38);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(82).default,o=n(4);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(83)},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var r,o=n(99),i=n(62),a=n(101),s=n(102),u=n(103);"undefined"!=typeof ArrayBuffer&&(r=n(104));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),c="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=l||c;t.protocol=3;var d=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=o(d),f={type:"error",data:"parser error"},m=n(105);function g(e,t,n){for(var r=new Array(e.length),o=s(e.length,n),i=function(e,n,o){t(n,(function(t,n){r[e]=n,o(t,r)}))},a=0;a<e.length;a++)i(a,e[a],o)}t.encodePacket=function(e,n,r,o){"function"==typeof n&&(o=n,n=!1),"function"==typeof r&&(o=r,r=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=d[e.type];for(var s=0;s<i.length;s++)a[s+1]=i[s];return r(a.buffer)}(e,n,o);if(void 0!==m&&i instanceof m)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(p)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){t.encodePacket({type:e.type,data:o.result},n,!0,r)},o.readAsArrayBuffer(e.data)}(e,n,r);var o=new Uint8Array(1);o[0]=d[e.type];var i=new m([o.buffer,e.data]);return r(i)}(e,n,o);if(i&&i.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,o);var a=d[e.type];return void 0!==e.data&&(a+=r?u.encode(String(e.data),{strict:!1}):String(e.data)),o(""+a)},t.encodeBase64Packet=function(e,n){var r,o="b"+t.packets[e.type];if(void 0!==m&&e.data instanceof m){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];n(o+e)},i.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var a=new Uint8Array(e.data),s=new Array(a.length),u=0;u<a.length;u++)s[u]=a[u];r=String.fromCharCode.apply(null,s)}return o+=btoa(r),n(o)},t.decodePacket=function(e,n,r){if(void 0===e)return f;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=u.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return f;var o=e.charAt(0);return Number(o)==o&&h[o]?e.length>1?{type:h[o],data:e.substring(1)}:{type:h[o]}:f}o=new Uint8Array(e)[0];var i=a(e,1);return m&&"blob"===n&&(i=new m([i])),{type:h[o],data:i}},t.decodeBase64Packet=function(e,t){var n=h[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var o=r.decode(e.substr(1));return"blob"===t&&m&&(o=new m([o])),{type:n,data:o}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var o=i(e);if(n&&o)return m&&!p?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");g(e,(function(e,r){t.encodePacket(e,!!o&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var o;if("function"==typeof n&&(r=n,n=null),""===e)return r(f,0,1);for(var i,a,s="",u=0,l=e.length;u<l;u++){var c=e.charAt(u);if(":"===c){if(""===s||s!=(i=Number(s)))return r(f,0,1);if(s!=(a=e.substr(u+1,i)).length)return r(f,0,1);if(a.length){if(o=t.decodePacket(a,n,!1),f.type===o.type&&f.data===o.data)return r(f,0,1);if(!1===r(o,u+i,l))return}u+=i,s=""}else s+=c}return""!==s?r(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),o=new Uint8Array(r),i=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}o[i++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)o[i++]=parseInt(s[a]);o[i++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)o[i++]=r[a]})),n(o.buffer)}))},t.encodePayloadAsBlob=function(e,n){g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(i.length+1);for(o=0;o<i.length;o++)a[o]=parseInt(i[o]);if(a[i.length]=255,m){var s=new m([t.buffer,a.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new m(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var o=e,i=[];o.byteLength>0;){for(var s=new Uint8Array(o),u=0===s[0],l="",c=1;255!==s[c];c++){if(l.length>310)return r(f,0,1);l+=s[c]}o=a(o,2+l.length),l=parseInt(l);var p=a(o,0,l);if(u)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var d=new Uint8Array(p);p="";for(c=0;c<d.length;c++)p+=String.fromCharCode(d[c])}i.push(p),o=a(o,l)}var h=i.length;i.forEach((function(e,o){r(t.decodePacket(e,n,!0),o,h)}))}},function(e,t,n){var r=n(53);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(92),o=n(34),i=n(59),a=n(23)("socket.io-client");e.exports=t=u;var s=t.managers={};function u(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o=r(e),u=o.source,l=o.id,c=o.path,p=s[l]&&c in s[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||p?(a("ignoring socket cache for %s",u),n=i(u,t)):(s[l]||(a("new io instance for %s",u),s[l]=i(u,t)),n=s[l]),o.query&&!t.query&&(t.query=o.query),n.socket(o.path,t)}t.protocol=o.protocol,t.connect=u,t.Manager=n(59),t.Socket=n(65)},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,p=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):p=-1,l.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(u=l,l=[];++p<t;)u&&u[p].run();p=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){(function(r){function o(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(93)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(this,n(22))},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(75)},function(e,t,n){var r=n(40),o=n(41),i=n(20),a=n(42);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(84),o=n(85),i=n(86);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var c=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===u)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var p=!0,d=0;d<u;d++)if(l(e,i+d)!==l(t,d)){p=!1;break}if(p)return i}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function x(e,t,n,r){return z(j(t,e.length-n),e,n,r)}function w(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return w(e,t,n,r)}function _(e,t,n,r){return z(B(t),e,n,r)}function P(e,t,n,r){return z(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,l=e[o],c=null,p=l>239?4:l>223?3:l>191?2:1;if(o+p<=n)switch(p){case 1:l<128&&(c=l);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&l)<<6|63&i)>127&&(c=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&l)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,p=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=p}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return p(null,e)},u.allocUnsafeSlow=function(e){return p(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=f,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),l=this.slice(r,o),c=e.slice(t,n),p=0;p<s;++p)if(l[p]!==c[p]){i=l[p],a=c[p];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=q(e[i]);return o}function O(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function V(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function A(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||N(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return i||N(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||V(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||V(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);V(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);V(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||V(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=u.isBuffer(e)?e:j(new u(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(12))},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(r){function o(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(106)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(this,n(22))},function(e,t,n){"use strict";var r=n(39),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var o=h(n);o&&o!==f&&e(t,o,r)}var a=c(n);p&&(a=a.concat(p(n)));for(var s=u(t),m=u(n),g=0;g<a.length;++g){var v=a[g];if(!(i[v]||r&&r[v]||m&&m[v]||s&&s[v])){var y=d(n,v);try{l(t,v,y)}catch(e){}}}}return t}},function(e,t,n){"use strict";function r(e){var t="";if(!e)try{e=n(!function(){var e=new Error("Cannot find module 'fs'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){t=e.toString()}return{readFile:e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){return e?r(e):n(t)}))}))}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)}}}n.d(t,"a",(function(){return r}))},function(e,t){function n(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,u,"next",e)}function u(e){n(a,o,i,s,u,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},,function(e,t,n){var r=n(23)("socket.io-parser"),o=n(18),i=n(94),a=n(57),s=n(58);function u(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=u,t.Decoder=p;var l=t.ERROR+'"encode error"';function c(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var o=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===o)return l;n+=o}return r("encoded %j as %s",e,n),n}function p(){this.reconstructor=null}function d(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:"parser error: "+e}}u.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){i.removeBlobs(e,(function(e){var n=i.deconstructPacket(e),r=c(n.packet),o=n.buffers;o.unshift(r),t(o)}))}(e,n):n([c(e)])},o(p.prototype),p.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n=0,o={type:Number(e.charAt(0))};if(null==t.types[o.type])return h("unknown packet type "+o.type);if(t.BINARY_EVENT===o.type||t.BINARY_ACK===o.type){for(var i=n+1;"-"!==e.charAt(++n)&&n!=e.length;);var s=e.substring(i,n);if(s!=Number(s)||"-"!==e.charAt(n))throw new Error("Illegal attachments");o.attachments=Number(s)}if("/"===e.charAt(n+1)){for(i=n+1;++n;){if(","===(l=e.charAt(n)))break;if(n===e.length)break}o.nsp=e.substring(i,n)}else o.nsp="/";var u=e.charAt(n+1);if(""!==u&&Number(u)==u){for(i=n+1;++n;){var l;if(null==(l=e.charAt(n))||Number(l)!=l){--n;break}if(n===e.length)break}o.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){var c=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(n));if(!(!1!==c&&(o.type===t.ERROR||a(c))))return h("invalid payload");o.data=c}return r("decoded %s as %j",e,o),o}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new d(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){var r=n(97),o=n(36);e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(e){}if(!t)try{return new(o[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},function(e,t){e.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(e,t,n){var r=n(19),o=n(18);function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=i,o(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";e.exports=n(80)},function(e,t,n){var r=n(53);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";(function(e,r){var o,i=n(68);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(12),n(81)(e))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(2),o=n(31);function i(){var t=e.Canvas||e.HTMLCanvasElement,n=e.Image||e.HTMLImageElement,i=e.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},a=Object(o.a)();return Object(r.a)({Canvas:t||function(){},CanvasRenderingContext2D:e.CanvasRenderingContext2D||function(){},Image:n||function(){},ImageData:e.ImageData||function(){},Video:e.HTMLVideoElement||function(){},createCanvasElement:function(){if(t)return new t;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},createImageElement:function(){if(n)return new n;throw new Error("createImageElement - missing Image implementation for nodejs environment")},fetch:i},a)}}).call(this,n(12))},function(e,t,n){"use strict";(function(r,o){function i(){return"object"==typeof r&&void 0!==e&&void 0!==o&&!!o.version}n.d(t,"a",(function(){return i}))}).call(this,n(12),n(22))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(1)),i=s(n(112)),a=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;u(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={elementId:r.props.elementId||(0,i.default)()},r.clickInput=function(){var e=document.getElementById(r.state.elementId);e.value="",e.click()},r.handleFiles=function(e){r.props.base64?r.convertFilesToBase64(e.target.files):r.props.handleFiles(e.target.files)},r.convertFilesToBase64=function(e){var t=e;if(r.props.multipleFiles){var n,o;!function(){var e={base64:[],fileList:t},i=function(){var o=new FileReader,i=t[n];o.onloadend=function(n){e.base64.push(o.result),e.base64.length===t.length&&r.props.handleFiles(e)},o.readAsDataURL(i)};for(n=0,o=t.length;n<o;n++)i()}()}else{var i={base64:"",fileList:t},a=t[0],s=new FileReader;s.onloadend=function(e){i.base64=s.result,r.props.handleFiles(i)},s.readAsDataURL(a)}},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return o.default.createElement("div",{className:"react-file-reader"},o.default.createElement("input",{type:"file",onChange:this.handleFiles,accept:Array.isArray(this.props.fileTypes)?this.props.fileTypes.join(","):this.props.fileTypes,className:"react-file-reader-input",id:this.state.elementId,multiple:this.props.multipleFiles,style:{width:"0px",opacity:"0",position:"fixed"},disabled:this.props.disabled}),o.default.createElement("div",{className:"react-file-reader-button",onClick:this.clickInput},this.props.children))}}]),t}(o.default.Component);t.default=c,c.defaultProps={fileTypes:"image/*",multipleFiles:!1,base64:!1,disabled:!1},c.propTypes={multipleFiles:a.default.bool,handleFiles:a.default.func.isRequired,fileTypes:a.default.oneOfType([a.default.string,a.default.array]),base64:a.default.bool,children:a.default.element.isRequired,disabled:a.default.bool}},,,function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))o.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var p=0;p<s.length;p++)i.call(n,s[p])&&(u[s[p]]=n[s[p]])}}return u}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){(function(n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,n,a){var s=i.URL||i.webkitURL,u=document.createElement("a");n=n||e.name||"download",u.download=n,u.rel="noopener","string"==typeof e?(u.href=e,u.origin===location.origin?o(u):r(u.href)?t(e,n,a):o(u,u.target="_blank")):(u.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(u.href)}),4e4),setTimeout((function(){o(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,i),n);else if(r(e))t(e,n,i);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){o(a)}))}}:function(e,n,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var s="application/octet-stream"===e.type,u=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&u||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},c.readAsDataURL(e)}else{var p=i.URL||i.webkitURL,d=p.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout((function(){p.revokeObjectURL(d)}),4e4)}});i.saveAs=s.saveAs=s,e.exports=s})?r.apply(t,o):r)||(e.exports=i)}).call(this,n(12))},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,o=e.indexOf("["),i=e.indexOf("]");-1!=o&&-1!=i&&(e=e.substring(0,o)+e.substring(o,i).replace(/:/g,";")+e.substring(i,e.length));for(var a,s,u=n.exec(e||""),l={},c=14;c--;)l[r[c]]=u[c]||"";return-1!=o&&-1!=i&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=function(e,t){var n=t.replace(/\/{2,9}/g,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1);"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1);return n}(0,l.path),l.queryKey=(a=l.query,s={},a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(s[t]=n)})),s),l}},function(e,t){var n=1e3,r=6e4,o=60*r,i=24*o;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var s,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?a(s=e,i,"day")||a(s,o,"hour")||a(s,r,"minute")||a(s,n,"second")||s+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(t){e.exports=function(e){return n&&t.isBuffer(e)||r&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var n="function"==typeof t&&"function"==typeof t.isBuffer,r="function"==typeof ArrayBuffer}).call(this,n(26).Buffer)},function(e,t,n){var r=n(95),o=n(65),i=n(18),a=n(34),s=n(66),u=n(67),l=n(23)("socket.io-client:manager"),c=n(64),p=n(111),d=Object.prototype.hasOwnProperty;function h(e,t){if(!(this instanceof h))return new h(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=h,h.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},h.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},h.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},i(h.prototype),h.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},h.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},h.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},h.prototype.open=h.prototype.connect=function(e,t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var i=s(n,"open",(function(){o.onopen(),e&&e()})),a=s(n,"error",(function(t){if(l("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else o.maybeReconnectOnOpen()}));if(!1!==this._timeout){var u=this._timeout;l("connect attempt will timeout after %d",u),0===u&&i.destroy();var c=setTimeout((function(){l("connect attempt timed out after %d",u),i.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",u)}),u);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(i),this.subs.push(a),this},h.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",u(this,"ondata"))),this.subs.push(s(e,"ping",u(this,"onping"))),this.subs.push(s(e,"pong",u(this,"onpong"))),this.subs.push(s(e,"error",u(this,"onerror"))),this.subs.push(s(e,"close",u(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",u(this,"ondecoded")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},h.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},h.prototype.ondata=function(e){this.decoder.add(e)},h.prototype.ondecoded=function(e){this.emit("packet",e)},h.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},h.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new o(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",i),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&i()}function i(){~c(r.connecting,n)||r.connecting.push(n)}return n},h.prototype.destroy=function(e){var t=c(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},h.prototype.packet=function(e){l("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},h.prototype.cleanup=function(){l("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},h.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},h.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){var r=n(35),o=n(98),i=n(107),a=n(108);t.polling=function(e){var t=!1,n=!1,a=!1!==e.jsonp;if("undefined"!=typeof location){var s="https:"===location.protocol,u=location.port;u||(u=s?443:80),t=e.hostname!==location.hostname||u!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new o(e);if(!a)throw new Error("JSONP disabled");return new i(e)},t.websocket=a},function(e,t,n){var r=n(37),o=n(27),i=n(19),a=n(28),s=n(63),u=n(29)("engine.io-client:polling");e.exports=c;var l=null!=new(n(35))({xdomain:!1}).responseType;function c(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),r.call(this,e)}a(c,r),c.prototype.name="polling",c.prototype.doOpen=function(){this.poll()},c.prototype.pause=function(e){var t=this;function n(){u("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){u("pre-pause polling complete"),--r||n()}))),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){u("pre-pause writing complete"),--r||n()})))}else n()},c.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},c.prototype.onData=function(e){var t=this;u("polling got data %s",e);i.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},c.prototype.doClose=function(){var e=this;function t(){u("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},c.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};i.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},c.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){(function(t){var r=n(100),o=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);e.exports=function e(n){if(!n||"object"!=typeof n)return!1;if(r(n)){for(var o=0,s=n.length;o<s;o++)if(e(n[o]))return!0;return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||i&&n instanceof Blob||a&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0);for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)&&e(n[u]))return!0;return!1}}).call(this,n(26).Buffer)},function(e,t,n){"use strict";var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i={},a=0,s=0;function u(e){var t="";do{t=o[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function l(){var e=u(+new Date);return e!==r?(a=0,r=e):e+"."+u(a++)}for(;s<64;s++)i[o[s]]=s;l.encode=u,l.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+i[e.charAt(s)];return t},e.exports=l},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(34),o=n(18),i=n(110),a=n(66),s=n(67),u=n(23)("socket.io-client:socket"),l=n(27),c=n(62);e.exports=h;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=o.prototype.emit;function h(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",s(this,"onopen")),a(e,"packet",s(this,"onpacket")),a(e,"close",s(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},h.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(p.hasOwnProperty(e))return d.apply(this,arguments),this;var t=i(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:c(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?l.encode(this.query):this.query;u("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},h.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},h.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},h.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var o=i(arguments);u("sending ack %j",o),t.packet({type:c(o)?r.BINARY_ACK:r.ACK,id:e,data:o})}}},h.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(e){return this.flags.compress=e,this},h.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(118);e.exports=h,e.exports.parse=i,e.exports.compile=function(e,t){return s(i(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=o.exec(e));){var p=n[0],d=n[1],h=n.index;if(s+=e.slice(a,h),a=h+p.length,d)s+=d[1];else{var f=e[a],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],x=n[7];s&&(r.push(s),s="");var w=null!=m&&null!=f&&f!==m,C="+"===b||"*"===b,_="?"===b||"*"===b,P=n[2]||c,E=v||y;r.push({name:g||i++,prefix:m||"",delimiter:P,optional:_,repeat:C,partial:w,asterisk:!!x,pattern:E?l(E):x?".*":"[^"+u(P)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",p(t)));return function(t,o){for(var i="",s=t||{},u=(o||{}).pretty?a:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!=typeof c){var p,d=s[c.name];if(null==d){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(p=u(d[h]),!n[l].test(p))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(p)+"`");i+=(0===h?c.prefix:c.delimiter)+p}}else{if(p=c.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(d),!n[l].test(p))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+p+'"');i+=c.prefix+p}}else i+=c}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)a+=u(l);else{var d=u(l.prefix),h="(?:"+l.pattern+")";t.push(l),l.repeat&&(h+="(?:"+d+h+")*"),a+=h=l.optional?l.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var f=u(n.delimiter||"/"),m=a.slice(-f.length)===f;return o||(a=(m?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=i?"$":o&&m?"":"(?="+f+"|$)",c(new RegExp("^"+a,p(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(h(e[o],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return d(i(e,n),t,n)}(e,t,n)}},,,function(e,t,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(52),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,p=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,f=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function w(){}function C(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=x.prototype;var _=C.prototype=new w;_.constructor=C,r(_,x.prototype),_.isPureReactComponent=!0;var P={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:P.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var R=/\/+/g,O=[];function I(e,t,n,r){if(O.length){var o=O.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function V(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function A(e,t,n){return null==e?0:function e(t,n,r,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case a:u=!0}}if(u)return r(o,t,""===n?"."+D(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=n+D(s=t[l],l);u+=e(s,c,r,o)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=e(s=s.value,c=n+D(s,l++),r,o);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return u}(e,"",t,n)}function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(T(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(R,"$&/")+"/"),A(e,L,t=I(t,i,r,o)),V(t)}var M={current:null};function q(){var e=M.current;if(null===e)throw Error(v(321));return e}var j={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:P,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;A(e,N,t=I(null,null,t,n)),V(t)},count:function(e){return A(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!T(e))throw Error(v(143));return e}},t.Component=x,t.Fragment=s,t.Profiler=l,t.PureComponent=C,t.StrictMode=u,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,n){if(null==e)throw Error(v(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=P.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var p=0;p<c;p++)l[p]=arguments[p+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return q().useCallback(e,t)},t.useContext=function(e,t){return q().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return q().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return q().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return q().useLayoutEffect(e,t)},t.useMemo=function(e,t){return q().useMemo(e,t)},t.useReducer=function(e,t,n){return q().useReducer(e,t,n)},t.useRef=function(e){return q().useRef(e)},t.useState=function(e){return q().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";
/** @license React v17.0.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(1),o=n(52),i=n(76);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var p=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,f={},m={};function g(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var o=v.hasOwnProperty(t)?v[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!h.call(m,e)||!h.call(f,e)&&(d.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=60103,_=60106,P=60107,E=60108,S=60114,k=60109,T=60110,R=60112,O=60113,I=60120,V=60115,A=60116,D=60121,N=60128,L=60129,F=60130,M=60131;if("function"==typeof Symbol&&Symbol.for){var q=Symbol.for;C=q("react.element"),_=q("react.portal"),P=q("react.fragment"),E=q("react.strict_mode"),S=q("react.profiler"),k=q("react.provider"),T=q("react.context"),R=q("react.forward_ref"),O=q("react.suspense"),I=q("react.suspense_list"),V=q("react.memo"),A=q("react.lazy"),D=q("react.block"),q("react.scope"),N=q("react.opaque.id"),L=q("react.debug_trace_mode"),F=q("react.offscreen"),M=q("react.legacy_hidden")}var j,B="function"==typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}function U(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var o=e.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s])return"\n"+o[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function Q(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case P:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case V:return G(e.type);case D:return G(e._render);case A:t=e._payload,e=e._init;try{return G(e(t))}catch(e){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function le(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var pe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ce=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Pe(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Te=null;function Re(e){if(e=Yr(e)){if("function"!=typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=eo(t),Se(e.stateNode,e.type,t))}}function Oe(e){ke?Te?Te.push(e):Te=[e]:ke=e}function Ie(){if(ke){var e=ke,t=Te;if(Te=ke=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Ve(e,t){return e(t)}function Ae(e,t,n,r,o){return e(t,n,r,o)}function De(){}var Ne=Ve,Le=!1,Fe=!1;function Me(){null===ke&&null===Te||(De(),Ie())}function qe(e,t){var n=e.stateNode;if(null===n)return null;var r=eo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var je=!1;if(p)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){je=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(e){je=!1}function ze(e,t,n,r,o,i,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Ue=!1,We=null,He=!1,Qe=null,Ge={onError:function(e){Ue=!0,We=e}};function $e(e,t,n,r,o,i,a,s,u){Ue=!1,We=null,ze.apply(Ge,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ke(e)!==e)throw Error(a(188))}function Ye(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Xe(o),e;if(i===r)return Xe(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,ot=!1,it=[],at=null,st=null,ut=null,lt=new Map,ct=new Map,pt=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function ft(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=ht(t,n,r,o,i),null!==t&&(null!==(t=Yr(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function gt(e){var t=Xr(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Yr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(ot=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=Yr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==at&&vt(at)&&(at=null),null!==st&&vt(st)&&(st=null),null!==ut&&vt(ut)&&(ut=null),lt.forEach(yt),ct.forEach(yt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bt)))}function wt(e){function t(t){return xt(t,e)}if(0<it.length){xt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&xt(at,e),null!==st&&xt(st,e),null!==ut&&xt(ut,e),lt.forEach(t),ct.forEach(t),n=0;n<pt.length;n++)(r=pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<pt.length&&null===(n=pt[0]).blockedOn;)gt(n),null===n.blockedOn&&pt.shift()}function Ct(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:Ct("Animation","AnimationEnd"),animationiteration:Ct("Animation","AnimationIteration"),animationstart:Ct("Animation","AnimationStart"),transitionend:Ct("Transition","TransitionEnd")},Pt={},Et={};function St(e){if(Pt[e])return Pt[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return Pt[e]=n[t];return e}p&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var kt=St("animationend"),Tt=St("animationiteration"),Rt=St("animationstart"),Ot=St("transitionend"),It=new Map,Vt=new Map,At=["abort","abort",kt,"animationEnd",Tt,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Vt.set(r,t),It.set(r,o),l(o,[r])}}(0,i.unstable_now)();var Nt=8;function Lt(e){if(0!=(1&e))return Nt=15,1;if(0!=(2&e))return Nt=14,2;if(0!=(4&e))return Nt=13,4;var t=24&e;return 0!==t?(Nt=12,t):0!=(32&e)?(Nt=11,32):0!==(t=192&e)?(Nt=10,t):0!=(256&e)?(Nt=9,256):0!==(t=3584&e)?(Nt=8,t):0!=(4096&e)?(Nt=7,4096):0!==(t=4186112&e)?(Nt=6,t):0!==(t=62914560&e)?(Nt=5,t):67108864&e?(Nt=4,67108864):0!=(134217728&e)?(Nt=3,134217728):0!==(t=805306368&e)?(Nt=2,t):0!=(1073741824&e)?(Nt=1,1073741824):(Nt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Nt=0;var r=0,o=0,i=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==i)r=i,o=Nt=15;else if(0!==(i=134217727&n)){var u=i&~a;0!==u?(r=Lt(u),o=Nt):0!==(s&=i)&&(r=Lt(s),o=Nt)}else 0!==(i=n&~a)?(r=Lt(i),o=Nt):0!==s&&(r=Lt(s),o=Nt);if(0===r)return 0;if(r=n&((0>(r=31-Ut(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Lt(t),o<=Nt)return t;Nt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-Ut(t)),r|=e[n],t&=~o;return r}function Mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function qt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?qt(10,t):e;case 10:return 0===(e=jt(192&~t))?qt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function jt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ut(t)]=n}var Ut=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Qt=i.unstable_UserBlockingPriority,Gt=i.unstable_runWithPriority,$t=!0;function Kt(e,t,n,r){Le||De();var o=Xt,i=Le;Le=!0;try{Ae(o,e,t,n,r)}finally{(Le=i)||Me()}}function Jt(e,t,n,r){Gt(Qt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var o;if($t)if((o=0==(4&t))&&0<it.length&&-1<dt.indexOf(e))e=ht(null,e,t,n,r),it.push(e);else{var i=Yt(e,t,n,r);if(null===i)o&&ft(e,r);else{if(o){if(-1<dt.indexOf(e))return e=ht(i,e,t,n,r),void it.push(e);if(function(e,t,n,r,o){switch(t){case"focusin":return at=mt(at,e,t,n,r,o),!0;case"dragenter":return st=mt(st,e,t,n,r,o),!0;case"mouseover":return ut=mt(ut,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return lt.set(i,mt(lt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,ct.set(i,mt(ct.get(i)||null,e,t,n,r,o)),!0}return!1}(i,e,t,n,r))return;ft(e,r)}Or(e,t,r,null,n)}}}function Yt(e,t,n,r){var o=Ee(r);if(null!==(o=Xr(o))){var i=Ke(o);if(null===i)o=null;else{var a=i.tag;if(13===a){if(null!==(o=Je(i)))return o;o=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return Or(e,t,r,o,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return tn=o.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?on:an,this.isPropagationStopped=an,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,ln,cn,pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(pn),hn=o({},pn,{view:0,detail:0}),fn=sn(hn),mn=o({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(un=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=un=0,cn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=sn(mn),vn=sn(o({},mn,{dataTransfer:0})),yn=sn(o({},hn,{relatedTarget:0})),bn=sn(o({},pn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=sn(o({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wn=sn(o({},pn,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pn[e])&&!!t[e]}function Sn(){return En}var kn=sn(o({},hn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Tn=sn(o({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(o({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),On=sn(o({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=sn(o({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Vn=[9,13,27,32],An=p&&"CompositionEvent"in window,Dn=null;p&&"documentMode"in document&&(Dn=document.documentMode);var Nn=p&&"TextEvent"in window&&!Dn,Ln=p&&(!An||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Mn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Vn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){Oe(r),0<(t=Vr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Qn=null;function Gn(e){Pr(e,0)}function $n(e){if(X(Zr(e)))return e}function Kn(e,t){if("change"===e)return t}var Jn=!1;if(p){var Xn;if(p){var Yn="oninput"in document;if(!Yn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Yn="function"==typeof Zn.oninput}Xn=Yn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Hn&&(Hn.detachEvent("onpropertychange",tr),Qn=Hn=null)}function tr(e){if("value"===e.propertyName&&$n(Qn)){var t=[];if(Wn(t,Qn,e,Ee(e)),e=Gn,Le)e(t);else{Le=!0;try{Ve(e,t)}finally{Le=!1,Me()}}}}function nr(e,t,n){"focusin"===e?(er(),Qn=n,(Hn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Qn)}function or(e,t){if("click"===e)return $n(t)}function ir(e,t){if("input"===e||"change"===e)return $n(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function ur(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function pr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hr=p&&"documentMode"in document&&11>=document.documentMode,fr=null,mr=null,gr=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==fr||fr!==Y(r)||("selectionStart"in(r=fr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Vr(mr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(At,2);for(var br="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<br.length;xr++)Vt.set(br[xr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,s,u,l){if($e.apply(this,arguments),Ue){if(!Ue)throw Error(a(198));var c=We;Ue=!1,We=null,He||(He=!0,Qe=c)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;_r(o,s,l),i=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;_r(o,s,l),i=u}}}if(He)throw e=Qe,He=!1,Qe=null,e}function Er(e,t){var n=to(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Sr="_reactListening"+Math.random().toString(36).slice(2);function kr(e){e[Sr]||(e[Sr]=!0,s.forEach((function(t){Cr.has(t)||Tr(t,!1,e,null),Tr(t,!0,e,null)})))}function Tr(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;o|=2,i=r}var a=to(i),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(o|=4),Rr(i,e,o,t),a.add(s))}function Rr(e,t,n,r){var o=Vt.get(t);switch(void 0===o?2:o){case 0:o=Kt;break;case 1:o=Jt;break;default:o=Xt}n=o.bind(null,t,n,e),o=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Or(e,t,n,r,o){var i=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=Xr(s)))return;if(5===(u=a.tag)||6===u){r=i=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Ne(e,t,n)}finally{Fe=!1,Me()}}((function(){var r=i,o=Ee(n),a=[];e:{var s=It.get(e);if(void 0!==s){var u=dn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=kn;break;case"focusin":l="focus",u=yn;break;case"focusout":l="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case kt:case Tt:case Rt:u=bn;break;case Ot:u=On;break;case"scroll":u=fn;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!=(4&t),p=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,f=r;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&(null!=(m=qe(f,d))&&c.push(Ir(f,m,h)))),p)break;f=f.return}0<c.length&&(s=new u(s,l,null,n,o),a.push({event:s,listeners:c}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!Xr(l)&&!l[Kr])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?Xr(l):null)&&(l!==(p=Ke(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=gn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",d="onPointerEnter",f="pointer"),p=null==u?s:Zr(u),h=null==l?s:Zr(l),(s=new c(m,f+"leave",u,n,o)).target=p,s.relatedTarget=h,m=null,Xr(o)===r&&((c=new c(d,f+"enter",l,n,o)).target=h,c.relatedTarget=p,m=c),p=m,u&&l)e:{for(d=l,f=0,h=c=u;h;h=Ar(h))f++;for(h=0,m=d;m;m=Ar(m))h++;for(;0<f-h;)c=Ar(c),f--;for(;0<h-f;)d=Ar(d),h--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break e;c=Ar(c),d=Ar(d)}c=null}else c=null;null!==u&&Dr(a,s,u,c,!1),null!==l&&null!==p&&Dr(a,p,l,c,!0)}if("select"===(u=(s=r?Zr(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Kn;else if(Un(s))if(Jn)g=ir;else{g=rr;var v=nr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(a,g,n,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&oe(s,"number",s.value)),v=r?Zr(r):window,e){case"focusin":(Un(v)||"true"===v.contentEditable)&&(fr=v,mr=r,gr=null);break;case"focusout":gr=mr=fr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(a,n,o);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":yr(a,n,o)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=nn()):(en="value"in(Zt=o)?Zt.value:Zt.textContent,Bn=!0)),0<(v=Vr(r,b)).length&&(b=new wn(b,e,null,n,o),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=jn(n))&&(b.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!An&&qn(e,t)?(e=nn(),tn=en=Zt=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}Pr(a,t)}))}function Ir(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=qe(e,n))&&r.unshift(Ir(e,i,o)),null!=(i=qe(e,t))&&r.push(Ir(e,i,o))),e=e.return}return r}function Ar(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Dr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,o?null!=(u=qe(n,i))&&a.unshift(Ir(n,u,s)):o||null!=(u=qe(n,i))&&a.push(Ir(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Nr(){}var Lr=null,Fr=null;function Mr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var jr="function"==typeof setTimeout?setTimeout:void 0,Br="function"==typeof clearTimeout?clearTimeout:void 0;function zr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Wr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hr=0;var Qr=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Qr,$r="__reactProps$"+Qr,Kr="__reactContainer$"+Qr,Jr="__reactEvents$"+Qr;function Xr(e){var t=e[Gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kr]||n[Gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Wr(e);null!==e;){if(n=e[Gr])return n;e=Wr(e)}return t}n=(e=n).parentNode}return null}function Yr(e){return!(e=e[Gr]||e[Kr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Zr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function eo(e){return e[$r]||null}function to(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var no=[],ro=-1;function oo(e){return{current:e}}function io(e){0>ro||(e.current=no[ro],no[ro]=null,ro--)}function ao(e,t){ro++,no[ro]=e.current,e.current=t}var so={},uo=oo(so),lo=oo(!1),co=so;function po(e,t){var n=e.type.contextTypes;if(!n)return so;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ho(e){return null!=(e=e.childContextTypes)}function fo(){io(lo),io(uo)}function mo(e,t,n){if(uo.current!==so)throw Error(a(168));ao(uo,t),ao(lo,n)}function go(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,G(t)||"Unknown",i));return o({},n,r)}function vo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||so,co=uo.current,ao(uo,e),ao(lo,lo.current),!0}function yo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=go(e,t,co),r.__reactInternalMemoizedMergedChildContext=e,io(lo),io(uo),ao(uo,e)):io(lo),ao(lo,n)}var bo=null,xo=null,wo=i.unstable_runWithPriority,Co=i.unstable_scheduleCallback,_o=i.unstable_cancelCallback,Po=i.unstable_shouldYield,Eo=i.unstable_requestPaint,So=i.unstable_now,ko=i.unstable_getCurrentPriorityLevel,To=i.unstable_ImmediatePriority,Ro=i.unstable_UserBlockingPriority,Oo=i.unstable_NormalPriority,Io=i.unstable_LowPriority,Vo=i.unstable_IdlePriority,Ao={},Do=void 0!==Eo?Eo:function(){},No=null,Lo=null,Fo=!1,Mo=So(),qo=1e4>Mo?So:function(){return So()-Mo};function jo(){switch(ko()){case To:return 99;case Ro:return 98;case Oo:return 97;case Io:return 96;case Vo:return 95;default:throw Error(a(332))}}function Bo(e){switch(e){case 99:return To;case 98:return Ro;case 97:return Oo;case 96:return Io;case 95:return Vo;default:throw Error(a(332))}}function zo(e,t){return e=Bo(e),wo(e,t)}function Uo(e,t,n){return e=Bo(e),Co(e,t,n)}function Wo(){if(null!==Lo){var e=Lo;Lo=null,_o(e)}Ho()}function Ho(){if(!Fo&&null!==No){Fo=!0;var e=0;try{var t=No;zo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),No=null}catch(t){throw null!==No&&(No=No.slice(e+1)),Co(To,Wo),t}finally{Fo=!1}}}var Qo=w.ReactCurrentBatchConfig;function Go(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $o=oo(null),Ko=null,Jo=null,Xo=null;function Yo(){Xo=Jo=Ko=null}function Zo(e){var t=$o.current;io($o),e.type._context._currentValue=t}function ei(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ti(e,t){Ko=e,Xo=Jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Va=!0),e.firstContext=null)}function ni(e,t){if(Xo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jo){if(null===Ko)throw Error(a(308));Jo=t,Ko.dependencies={lanes:0,firstContext:t,responders:null}}else Jo=Jo.next=t;return e._currentValue}var ri=!1;function oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ii(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function si(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function li(e,t,n,r){var i=e.updateQueue;ri=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var p=e.alternate;if(null!==p){var d=(p=p.updateQueue).lastBaseUpdate;d!==s&&(null===d?p.firstBaseUpdate=c:d.next=c,p.lastBaseUpdate=l)}}if(null!==a){for(d=i.baseState,s=0,p=c=l=null;;){u=a.lane;var h=a.eventTime;if((r&u)===u){null!==p&&(p=p.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(u=t,h=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(h,d,u);break e}d=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(u="function"==typeof(f=m.payload)?f.call(h,d,u):f))break e;d=o({},d,u);break e;case 2:ri=!0}}null!==a.callback&&(e.flags|=32,null===(u=i.effects)?i.effects=[a]:u.push(a))}else h={eventTime:h,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===p?(c=p=h,l=d):p=p.next=h,s|=u;if(null===(a=a.next)){if(null===(u=i.shared.pending))break;a=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}null===p&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=p,Ds|=s,e.lanes=s,e.memoizedState=d}}function ci(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(a(191,o));o.call(r)}}}var pi=(new r.Component).refs;function di(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var hi={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=iu(),o=au(e),i=ai(r,o);i.payload=t,null!=n&&(i.callback=n),si(e,i),su(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=iu(),o=au(e),i=ai(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),si(e,i),su(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=iu(),r=au(e),o=ai(n,r);o.tag=2,null!=t&&(o.callback=t),si(e,o),su(e,r,n)}};function fi(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(o,i))}function mi(e,t,n){var r=!1,o=so,i=t.contextType;return"object"==typeof i&&null!==i?i=ni(i):(o=ho(t)?co:uo.current,i=(r=null!=(r=t.contextTypes))?po(e,o):so),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=hi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function gi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hi.enqueueReplaceState(t,t.state,null)}function vi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=pi,oi(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=ni(i):(i=ho(t)?co:uo.current,o.context=po(e,i)),li(e,n,o,r),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(di(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&hi.enqueueReplaceState(o,o.state,null),li(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4)}var yi=Array.isArray;function bi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===pi&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xi(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function wi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=qu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Uu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=bi(e,t,n),r.return=e,r):((r=ju(n.type,n.key,n.props,null,e.mode,r)).ref=bi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function p(e,t,n,r,i){return null===t||7!==t.tag?((t=Bu(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Uu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case C:return(n=ju(t.type,t.key,t.props,null,e.mode,n)).ref=bi(e,null,t),n.return=e,n;case _:return(t=Wu(t,e.mode,n)).return=e,t}if(yi(t)||z(t))return(t=Bu(t,e.mode,n,null)).return=e,t;xi(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===o?n.type===P?p(e,t,n.props.children,r,o):l(e,t,n,r):null;case _:return n.key===o?c(e,t,n,r):null}if(yi(n)||z(n))return null!==o?null:p(e,t,n,r,null);xi(e,n)}return null}function f(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case C:return e=e.get(null===r.key?n:r.key)||null,r.type===P?p(t,e,r.props.children,o,r.key):l(t,e,r,o);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(yi(r)||z(r))return p(t,e=e.get(n)||null,r,o,null);xi(t,r)}return null}function m(o,a,s,u){for(var l=null,c=null,p=a,m=a=0,g=null;null!==p&&m<s.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var v=h(o,p,s[m],u);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(o,p),a=i(v,a,m),null===c?l=v:c.sibling=v,c=v,p=g}if(m===s.length)return n(o,p),l;if(null===p){for(;m<s.length;m++)null!==(p=d(o,s[m],u))&&(a=i(p,a,m),null===c?l=p:c.sibling=p,c=p);return l}for(p=r(o,p);m<s.length;m++)null!==(g=f(p,o,m,s[m],u))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),a=i(g,a,m),null===c?l=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(o,e)})),l}function g(o,s,u,l){var c=z(u);if("function"!=typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var p=c=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(o,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=i(b,s,g),null===p?c=b:p.sibling=b,p=b,m=v}if(y.done)return n(o,m),c;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=d(o,y.value,l))&&(s=i(y,s,g),null===p?c=y:p.sibling=y,p=y);return c}for(m=r(o,m);!y.done;g++,y=u.next())null!==(y=f(m,o,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===p?c=y:p.sibling=y,p=y);return e&&m.forEach((function(e){return t(o,e)})),c}return function(e,r,i,u){var l="object"==typeof i&&null!==i&&i.type===P&&null===i.key;l&&(i=i.props.children);var c="object"==typeof i&&null!==i;if(c)switch(i.$$typeof){case C:e:{for(c=i.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(i.type===P){n(e,l.sibling),(r=o(l,i.props.children)).return=e,e=r;break e}break;default:if(l.elementType===i.type){n(e,l.sibling),(r=o(l,i.props)).ref=bi(e,l,i),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}i.type===P?((r=Bu(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=ju(i.type,i.key,i.props,null,e.mode,u)).ref=bi(e,r,i),u.return=e,e=u)}return s(e);case _:e:{for(l=i.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Wu(i,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Uu(i,e.mode,u)).return=e,e=r),s(e);if(yi(i))return m(e,r,i,u);if(z(i))return g(e,r,i,u);if(c&&xi(e,i),void 0===i&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var Ci=wi(!0),_i=wi(!1),Pi={},Ei=oo(Pi),Si=oo(Pi),ki=oo(Pi);function Ti(e){if(e===Pi)throw Error(a(174));return e}function Ri(e,t){switch(ao(ki,t),ao(Si,e),ao(Ei,Pi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}io(Ei),ao(Ei,t)}function Oi(){io(Ei),io(Si),io(ki)}function Ii(e){Ti(ki.current);var t=Ti(Ei.current),n=fe(t,e.type);t!==n&&(ao(Si,e),ao(Ei,n))}function Vi(e){Si.current===e&&(io(Ei),io(Si))}var Ai=oo(0);function Di(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ni=null,Li=null,Fi=!1;function Mi(e,t){var n=Fu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ji(e){if(Fi){var t=Li;if(t){var n=t;if(!qi(e,t)){if(!(t=Ur(n.nextSibling))||!qi(e,t))return e.flags=-1025&e.flags|2,Fi=!1,void(Ni=e);Mi(Ni,n)}Ni=e,Li=Ur(t.firstChild)}else e.flags=-1025&e.flags|2,Fi=!1,Ni=e}}function Bi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ni=e}function zi(e){if(e!==Ni)return!1;if(!Fi)return Bi(e),Fi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Li;t;)Mi(e,t),t=Ur(t.nextSibling);if(Bi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Li=Ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Li=null}}else Li=Ni?Ur(e.stateNode.nextSibling):null;return!0}function Ui(){Li=Ni=null,Fi=!1}var Wi=[];function Hi(){for(var e=0;e<Wi.length;e++)Wi[e]._workInProgressVersionPrimary=null;Wi.length=0}var Qi=w.ReactCurrentDispatcher,Gi=w.ReactCurrentBatchConfig,$i=0,Ki=null,Ji=null,Xi=null,Yi=!1,Zi=!1;function ea(){throw Error(a(321))}function ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function na(e,t,n,r,o,i){if($i=i,Ki=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qi.current=null===e||null===e.memoizedState?Ta:Ra,e=n(r,o),Zi){i=0;do{if(Zi=!1,!(25>i))throw Error(a(301));i+=1,Xi=Ji=null,t.updateQueue=null,Qi.current=Oa,e=n(r,o)}while(Zi)}if(Qi.current=ka,t=null!==Ji&&null!==Ji.next,$i=0,Xi=Ji=Ki=null,Yi=!1,t)throw Error(a(300));return e}function ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xi?Ki.memoizedState=Xi=e:Xi=Xi.next=e,Xi}function oa(){if(null===Ji){var e=Ki.alternate;e=null!==e?e.memoizedState:null}else e=Ji.next;var t=null===Xi?Ki.memoizedState:Xi.next;if(null!==t)Xi=t,Ji=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Ji=e).memoizedState,baseState:Ji.baseState,baseQueue:Ji.baseQueue,queue:Ji.queue,next:null},null===Xi?Ki.memoizedState=Xi=e:Xi=Xi.next=e}return Xi}function ia(e,t){return"function"==typeof t?t(e):t}function aa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Ji,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var u=s=i=null,l=o;do{var c=l.lane;if(($i&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var p={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=p,i=r):u=u.next=p,Ki.lanes|=c,Ds|=c}l=l.next}while(null!==l&&l!==o);null===u?i=r:u.next=s,ar(r,t.memoizedState)||(Va=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);ar(i,t.memoizedState)||(Va=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ua(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=($i&e)===e)&&(t._workInProgressVersionPrimary=r,Wi.push(t))),e)return n(t._source);throw Wi.push(t),Error(a(350))}function la(e,t,n,r){var o=Ss;if(null===o)throw Error(a(349));var i=t._getVersion,s=i(t._source),u=Qi.current,l=u.useState((function(){return ua(o,t,n)})),c=l[1],p=l[0];l=Xi;var d=e.memoizedState,h=d.refs,f=h.getSnapshot,m=d.source;d=d.subscribe;var g=Ki;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=i(t._source);if(!ar(s,e)){e=n(t._source),ar(p,e)||(c(e),e=au(g),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,a=e;0<a;){var u=31-Ut(a),l=1<<u;r[u]|=e,a&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=au(g);o.mutableReadLanes|=r&o.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ar(f,n)&&ar(m,t)&&ar(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ia,lastRenderedState:p}).dispatch=c=Sa.bind(null,Ki,e),l.queue=e,l.baseQueue=null,p=ua(o,t,n),l.memoizedState=l.baseState=p),p}function ca(e,t,n){return la(oa(),e,t,n)}function pa(e){var t=ra();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e}).dispatch=Sa.bind(null,Ki,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ki.updateQueue)?(t={lastEffect:null},Ki.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ha(e){return e={current:e},ra().memoizedState=e}function fa(){return oa().memoizedState}function ma(e,t,n,r){var o=ra();Ki.flags|=e,o.memoizedState=da(1|t,n,void 0,void 0===r?null:r)}function ga(e,t,n,r){var o=oa();r=void 0===r?null:r;var i=void 0;if(null!==Ji){var a=Ji.memoizedState;if(i=a.destroy,null!==r&&ta(r,a.deps))return void da(t,n,i,r)}Ki.flags|=e,o.memoizedState=da(1|t,n,i,r)}function va(e,t){return ma(516,4,e,t)}function ya(e,t){return ga(516,4,e,t)}function ba(e,t){return ga(4,2,e,t)}function xa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function wa(e,t,n){return n=null!=n?n.concat([e]):null,ga(4,2,xa.bind(null,t,e),n)}function Ca(){}function _a(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pa(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ta(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ea(e,t){var n=jo();zo(98>n?98:n,(function(){e(!0)})),zo(97<n?97:n,(function(){var n=Gi.transition;Gi.transition=1;try{e(!1),t()}finally{Gi.transition=n}}))}function Sa(e,t,n){var r=iu(),o=au(e),i={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ki||null!==a&&a===Ki)Zi=Yi=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(i.eagerReducer=a,i.eagerState=u,ar(u,s))return}catch(e){}su(e,o,r)}}var ka={readContext:ni,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useMutableSource:ea,useOpaqueIdentifier:ea,unstable_isNewReconciler:!1},Ta={readContext:ni,useCallback:function(e,t){return ra().memoizedState=[e,void 0===t?null:t],e},useContext:ni,useEffect:va,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ma(4,2,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var n=ra();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ra();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Sa.bind(null,Ki,e),[r.memoizedState,e]},useRef:ha,useState:pa,useDebugValue:Ca,useDeferredValue:function(e){var t=pa(e),n=t[0],r=t[1];return va((function(){var t=Gi.transition;Gi.transition=1;try{r(e)}finally{Gi.transition=t}}),[e]),n},useTransition:function(){var e=pa(!1),t=e[0];return ha(e=Ea.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ra();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},la(r,e,t,n)},useOpaqueIdentifier:function(){if(Fi){var e=!1,t=function(e){return{$$typeof:N,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Hr++).toString(36))),Error(a(355))})),n=pa(t)[1];return 0==(2&Ki.mode)&&(Ki.flags|=516,da(5,(function(){n("r:"+(Hr++).toString(36))}),void 0,null)),t}return pa(t="r:"+(Hr++).toString(36)),t},unstable_isNewReconciler:!1},Ra={readContext:ni,useCallback:_a,useContext:ni,useEffect:ya,useImperativeHandle:wa,useLayoutEffect:ba,useMemo:Pa,useReducer:aa,useRef:fa,useState:function(){return aa(ia)},useDebugValue:Ca,useDeferredValue:function(e){var t=aa(ia),n=t[0],r=t[1];return ya((function(){var t=Gi.transition;Gi.transition=1;try{r(e)}finally{Gi.transition=t}}),[e]),n},useTransition:function(){var e=aa(ia)[0];return[fa().current,e]},useMutableSource:ca,useOpaqueIdentifier:function(){return aa(ia)[0]},unstable_isNewReconciler:!1},Oa={readContext:ni,useCallback:_a,useContext:ni,useEffect:ya,useImperativeHandle:wa,useLayoutEffect:ba,useMemo:Pa,useReducer:sa,useRef:fa,useState:function(){return sa(ia)},useDebugValue:Ca,useDeferredValue:function(e){var t=sa(ia),n=t[0],r=t[1];return ya((function(){var t=Gi.transition;Gi.transition=1;try{r(e)}finally{Gi.transition=t}}),[e]),n},useTransition:function(){var e=sa(ia)[0];return[fa().current,e]},useMutableSource:ca,useOpaqueIdentifier:function(){return sa(ia)[0]},unstable_isNewReconciler:!1},Ia=w.ReactCurrentOwner,Va=!1;function Aa(e,t,n,r){t.child=null===e?_i(t,null,n,r):Ci(t,e.child,n,r)}function Da(e,t,n,r,o){n=n.render;var i=t.ref;return ti(t,o),r=na(e,t,n,r,i,o),null===e||Va?(t.flags|=1,Aa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,es(e,t,o))}function Na(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!=typeof a||Mu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ju(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,La(e,t,a,r,o,i))}return a=e.child,0==(o&i)&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)?es(e,t,i):(t.flags|=1,(e=qu(a,r)).ref=t.ref,e.return=t,t.child=e)}function La(e,t,n,r,o,i){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Va=!1,0==(i&o))return t.lanes=e.lanes,es(e,t,i);0!=(16384&e.flags)&&(Va=!0)}return qa(e,t,n,r,i)}function Fa(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},mu(t,n);else{if(0==(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},mu(t,e),null;t.memoizedState={baseLanes:0},mu(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,mu(t,r);return Aa(e,t,o,n),t.child}function Ma(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qa(e,t,n,r,o){var i=ho(n)?co:uo.current;return i=po(t,i),ti(t,o),n=na(e,t,n,r,i,o),null===e||Va?(t.flags|=1,Aa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,es(e,t,o))}function ja(e,t,n,r,o){if(ho(n)){var i=!0;vo(t)}else i=!1;if(ti(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),mi(t,n,r),vi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=ni(l):l=po(t,l=ho(n)?co:uo.current);var c=n.getDerivedStateFromProps,p="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;p||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&gi(t,a,r,l),ri=!1;var d=t.memoizedState;a.state=d,li(t,r,a,o),u=t.memoizedState,s!==r||d!==u||lo.current||ri?("function"==typeof c&&(di(t,n,c,r),u=t.memoizedState),(s=ri||fi(t,n,s,r,d,u,l))?(p||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,ii(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Go(t.type,s),a.props=l,p=t.pendingProps,d=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=ni(u):u=po(t,u=ho(n)?co:uo.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==p||d!==u)&&gi(t,a,r,u),ri=!1,d=t.memoizedState,a.state=d,li(t,r,a,o);var f=t.memoizedState;s!==p||d!==f||lo.current||ri?("function"==typeof h&&(di(t,n,h,r),f=t.memoizedState),(l=ri||fi(t,n,l,r,d,f,u))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=u,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ba(e,t,n,r,i,o)}function Ba(e,t,n,r,o,i){Ma(e,t);var a=0!=(64&t.flags);if(!r&&!a)return o&&yo(t,n,!1),es(e,t,i);r=t.stateNode,Ia.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ci(t,e.child,null,i),t.child=Ci(t,null,s,i)):Aa(e,t,s,i),t.memoizedState=r.state,o&&yo(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?mo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mo(0,t.context,!1),Ri(e,t.containerInfo)}var Ua,Wa,Ha,Qa={dehydrated:null,retryLane:0};function Ga(e,t,n){var r,o=t.pendingProps,i=Ai.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&i)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(i|=1),ao(Ai,1&i),null===e?(void 0!==o.fallback&&ji(t),e=o.children,i=o.fallback,a?(e=$a(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,e):"number"==typeof o.unstable_expectedLoadTime?(e=$a(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,t.lanes=33554432,e):((n=zu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(o=Ja(e,t,o.children,o.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Qa,o):(n=Ka(e,t,o.children,n),t.memoizedState=null,n))}function $a(e,t,n,r){var o=e.mode,i=e.child;return t={mode:"hidden",children:t},0==(2&o)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=zu(t,o,0,null),n=Bu(n,o,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function Ka(e,t,n,r){var o=e.child;return e=o.sibling,n=qu(o,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ja(e,t,n,r,o){var i=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&i)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=qu(a,s),null!==e?r=qu(e,r):(r=Bu(r,i,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Xa(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ei(e.return,t)}function Ya(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.lastEffect=i)}function Za(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Aa(e,t,r.children,n),0!=(2&(r=Ai.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xa(e,n);else if(19===e.tag)Xa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ao(Ai,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Di(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ya(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Di(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ya(t,!0,n,null,i,t.lastEffect);break;case"together":Ya(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function es(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ds|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=qu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ts(e,t){if(!Fi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ns(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ho(t.type)&&fo(),null;case 3:return Oi(),io(lo),io(uo),Hi(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(zi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Vi(t);var i=Ti(ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Wa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ti(Ei.current),zi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Gr]=t,r[$r]=s,n){case"dialog":Er("cancel",r),Er("close",r);break;case"iframe":case"object":case"embed":Er("load",r);break;case"video":case"audio":for(e=0;e<wr.length;e++)Er(wr[e],r);break;case"source":Er("error",r);break;case"img":case"image":case"link":Er("error",r),Er("load",r);break;case"details":Er("toggle",r);break;case"input":ee(r,s),Er("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Er("invalid",r);break;case"textarea":ue(r,s),Er("invalid",r)}for(var l in _e(n,s),e=null,s)s.hasOwnProperty(l)&&(i=s[l],"children"===l?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):u.hasOwnProperty(l)&&null!=i&&"onScroll"===l&&Er("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),ce(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Nr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===i.nodeType?i:i.ownerDocument,e===pe&&(e=he(n)),e===pe?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Gr]=t,e[$r]=r,Ua(e,t),t.stateNode=e,l=Pe(n,r),n){case"dialog":Er("cancel",e),Er("close",e),i=r;break;case"iframe":case"object":case"embed":Er("load",e),i=r;break;case"video":case"audio":for(i=0;i<wr.length;i++)Er(wr[i],e);i=r;break;case"source":Er("error",e),i=r;break;case"img":case"image":case"link":Er("error",e),Er("load",e),i=r;break;case"details":Er("toggle",e),i=r;break;case"input":ee(e,r),i=Z(e,r),Er("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=o({},r,{value:void 0}),Er("invalid",e);break;case"textarea":ue(e,r),i=se(e,r),Er("invalid",e);break;default:i=r}_e(n,i);var c=i;for(s in c)if(c.hasOwnProperty(s)){var p=c[s];"style"===s?we(e,p):"dangerouslySetInnerHTML"===s?null!=(p=p?p.__html:void 0)&&ge(e,p):"children"===s?"string"==typeof p?("textarea"!==n||""!==p)&&ve(e,p):"number"==typeof p&&ve(e,""+p):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=p&&"onScroll"===s&&Er("scroll",e):null!=p&&x(e,s,p,l))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Nr)}Mr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ha(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Ti(ki.current),Ti(Ei.current),zi(t)?(r=t.stateNode,n=t.memoizedProps,r[Gr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Gr]=t,t.stateNode=r)}return null;case 13:return io(Ai),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&zi(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ai.current)?0===Is&&(Is=3):(0!==Is&&3!==Is||(Is=4),null===Ss||0==(134217727&Ds)&&0==(134217727&Ns)||pu(Ss,Ts))),(r||n)&&(t.flags|=4),null);case 4:return Oi(),null===e&&kr(t.stateNode.containerInfo),null;case 10:return Zo(t),null;case 17:return ho(t.type)&&fo(),null;case 19:if(io(Ai),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(l=r.rendering))if(s)ts(r,!1);else{if(0!==Is||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Di(e))){for(t.flags|=64,ts(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ao(Ai,1&Ai.current|2),t.child}e=e.sibling}null!==r.tail&&qo()>qs&&(t.flags|=64,s=!0,ts(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Di(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ts(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Fi)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qo()-r.renderingStartTime>qs&&1073741824!==n&&(t.flags|=64,s=!0,ts(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qo(),n.sibling=null,t=Ai.current,ao(Ai,s?1&t|2:1&t),n):null;case 23:case 24:return gu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function rs(e){switch(e.tag){case 1:ho(e.type)&&fo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Oi(),io(lo),io(uo),Hi(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Vi(e),null;case 13:return io(Ai),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return io(Ai),null;case 4:return Oi(),null;case 10:return Zo(e),null;case 23:case 24:return gu(),null;default:return null}}function os(e,t){try{var n="",r=t;do{n+=Q(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o}}function is(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ua=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ti(Ei.current);var a,s=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),s=[];break;case"option":i=ie(e,i),r=ie(e,r),s=[];break;case"select":i=o({},i,{value:void 0}),r=o({},r,{value:void 0}),s=[];break;case"textarea":i=se(e,i),r=se(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Nr)}for(p in _e(n,r),n=null,i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&null!=i[p])if("style"===p){var l=i[p];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==p&&"children"!==p&&"suppressContentEditableWarning"!==p&&"suppressHydrationWarning"!==p&&"autoFocus"!==p&&(u.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in r){var c=r[p];if(l=null!=i?i[p]:void 0,r.hasOwnProperty(p)&&c!==l&&(null!=c||null!=l))if("style"===p)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(p,n)),n=c;else"dangerouslySetInnerHTML"===p?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(p,c)):"children"===p?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(p,""+c):"suppressContentEditableWarning"!==p&&"suppressHydrationWarning"!==p&&(u.hasOwnProperty(p)?(null!=c&&"onScroll"===p&&Er("scroll",e),s||l===c||(s=[])):"object"==typeof c&&null!==c&&c.$$typeof===N?c.toString():(s=s||[]).push(p,c))}n&&(s=s||[]).push("style",n);var p=s;(t.updateQueue=p)&&(t.flags|=4)}},Ha=function(e,t,n,r){n!==r&&(t.flags|=4)};var as="function"==typeof WeakMap?WeakMap:Map;function ss(e,t,n){(n=ai(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Us||(Us=!0,Ws=r),is(0,t)},n}function us(e,t,n){(n=ai(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return is(0,t),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this),is(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ls="function"==typeof WeakSet?WeakSet:Set;function cs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Au(e,t)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Go(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&zr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ds(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;r=o.next,0!=(4&(o=o.tag))&&0!=(1&o)&&(Ou(n,e),Ru(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Go(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ci(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ci(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Mr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function hs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=null!=o&&o.hasOwnProperty("display")?o.display:null,r.style.display=xe("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function fs(e,t){if(xo&&"function"==typeof xo.onCommitFiberUnmount)try{xo.onCommitFiberUnmount(bo,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,void 0!==o)if(0!=(4&r))Ou(t,n);else{r=t;try{o()}catch(e){Au(r,e)}}n=n.next}while(n!==e)}break;case 1:if(cs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Au(t,e)}break;case 5:cs(t);break;case 4:ys(e,t)}}function ms(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function gs(e){return 5===e.tag||3===e.tag||4===e.tag}function vs(e){e:{for(var t=e.return;null!==t;){if(gs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||gs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Nr));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ys(e,t){for(var n,r,o=t,i=!1;;){if(!i){i=o.return;e:for(;;){if(null===i)throw Error(a(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===o.tag||6===o.tag){e:for(var s=e,u=o,l=u;;)if(fs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=o.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(fs(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(i=!1)}o.sibling.return=o.return,o=o.sibling}}function bs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Pe(e,o),t=Pe(e,r),o=0;o<i.length;o+=2){var s=i[o],u=i[o+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ve(n,u):x(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?ae(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Ms=qo(),hs(t.child,!0)),void xs(t);case 19:return void xs(t);case 17:return;case 23:case 24:return void hs(t,null!==t.memoizedState)}throw Error(a(163))}function xs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ls),t.forEach((function(t){var r=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ws(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cs=Math.ceil,_s=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Es=0,Ss=null,ks=null,Ts=0,Rs=0,Os=oo(0),Is=0,Vs=null,As=0,Ds=0,Ns=0,Ls=0,Fs=null,Ms=0,qs=1/0;function js(){qs=qo()+500}var Bs,zs=null,Us=!1,Ws=null,Hs=null,Qs=!1,Gs=null,$s=90,Ks=[],Js=[],Xs=null,Ys=0,Zs=null,eu=-1,tu=0,nu=0,ru=null,ou=!1;function iu(){return 0!=(48&Es)?qo():-1!==eu?eu:eu=qo()}function au(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===jo()?1:2;if(0===tu&&(tu=As),0!==Qo.transition){0!==nu&&(nu=null!==Fs?Fs.pendingLanes:0),e=tu;var t=4186112&~nu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=jo(),0!=(4&Es)&&98===e?e=qt(12,tu):e=qt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),tu),e}function su(e,t,n){if(50<Ys)throw Ys=0,Zs=null,Error(a(185));if(null===(e=uu(e,t)))return null;zt(e,t,n),e===Ss&&(Ns|=t,4===Is&&pu(e,Ts));var r=jo();1===t?0!=(8&Es)&&0==(48&Es)?du(e):(lu(e,n),0===Es&&(js(),Wo())):(0==(4&Es)||98!==r&&99!==r||(null===Xs?Xs=new Set([e]):Xs.add(e)),lu(e,n)),Fs=e}function uu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function lu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ut(s),l=1<<u,c=i[u];if(-1===c){if(0==(l&r)||0!=(l&o)){c=t,Lt(l);var p=Nt;i[u]=10<=p?c+250:6<=p?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Ft(e,e===Ss?Ts:0),t=Nt,0===r)null!==n&&(n!==Ao&&_o(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ao&&_o(n)}15===t?(n=du.bind(null,e),null===No?(No=[n],Lo=Co(To,Ho)):No.push(n),n=Ao):14===t?n=Uo(99,du.bind(null,e)):n=Uo(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),cu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function cu(e){if(eu=-1,nu=tu=0,0!=(48&Es))throw Error(a(327));var t=e.callbackNode;if(Tu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ss?Ts:0);if(0===n)return null;var r=n,o=Es;Es|=16;var i=bu();for(Ss===e&&Ts===r||(js(),vu(e,r));;)try{Cu();break}catch(t){yu(e,t)}if(Yo(),_s.current=i,Es=o,null!==ks?r=0:(Ss=null,Ts=0,r=Is),0!=(As&Ns))vu(e,0);else if(0!==r){if(2===r&&(Es|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(n=Mt(e))&&(r=xu(e,n))),1===r)throw t=Vs,vu(e,0),pu(e,n),lu(e,qo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Eu(e);break;case 3:if(pu(e,n),(62914560&n)===n&&10<(r=Ms+500-qo())){if(0!==Ft(e,0))break;if(((o=e.suspendedLanes)&n)!==n){iu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=jr(Eu.bind(null,e),r);break}Eu(e);break;case 4:if(pu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var s=31-Ut(n);i=1<<s,(s=r[s])>o&&(o=s),n&=~i}if(n=o,10<(n=(120>(n=qo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){e.timeoutHandle=jr(Eu.bind(null,e),n);break}Eu(e);break;case 5:Eu(e);break;default:throw Error(a(329))}}return lu(e,qo()),e.callbackNode===t?cu.bind(null,e):null}function pu(e,t){for(t&=~Ls,t&=~Ns,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!=(48&Es))throw Error(a(327));if(Tu(),e===Ss&&0!=(e.expiredLanes&Ts)){var t=Ts,n=xu(e,t);0!=(As&Ns)&&(n=xu(e,t=Ft(e,t)))}else n=xu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Es|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(t=Mt(e))&&(n=xu(e,t))),1===n)throw n=Vs,vu(e,0),pu(e,t),lu(e,qo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e),lu(e,qo()),null}function hu(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&(js(),Wo())}}function fu(e,t){var n=Es;Es&=-2,Es|=8;try{return e(t)}finally{0===(Es=n)&&(js(),Wo())}}function mu(e,t){ao(Os,Rs),Rs|=t,As|=t}function gu(){Rs=Os.current,io(Os)}function vu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Br(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&fo();break;case 3:Oi(),io(lo),io(uo),Hi();break;case 5:Vi(r);break;case 4:Oi();break;case 13:case 19:io(Ai);break;case 10:Zo(r);break;case 23:case 24:gu()}n=n.return}Ss=e,ks=qu(e.current,null),Ts=Rs=As=t,Is=0,Vs=null,Ls=Ns=Ds=0}function yu(e,t){for(;;){var n=ks;try{if(Yo(),Qi.current=ka,Yi){for(var r=Ki.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}Yi=!1}if($i=0,Xi=Ji=Ki=null,Zi=!1,Ps.current=null,null===n||null===n.return){Is=1,Vs=t,ks=null;break}e:{var i=e,a=n.return,s=n,u=t;if(t=Ts,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var l=u;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var p=0!=(1&Ai.current),d=a;do{var h;if(h=13===d.tag){var f=d.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var m=d.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!p)}}if(h){var g=d.updateQueue;if(null===g){var v=new Set;v.add(l),d.updateQueue=v}else g.add(l);if(0==(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ai(-1,1);y.tag=2,si(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new as,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var x=Du.bind(null,i,l,s);l.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Is&&(Is=2),u=os(u,s),d=a;do{switch(d.tag){case 3:i=u,d.flags|=4096,t&=-t,d.lanes|=t,ui(d,ss(0,i,t));break e;case 1:i=u;var w=d.type,C=d.stateNode;if(0==(64&d.flags)&&("function"==typeof w.getDerivedStateFromError||null!==C&&"function"==typeof C.componentDidCatch&&(null===Hs||!Hs.has(C)))){d.flags|=4096,t&=-t,d.lanes|=t,ui(d,us(d,i,t));break e}}d=d.return}while(null!==d)}Pu(n)}catch(e){t=e,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function bu(){var e=_s.current;return _s.current=ka,null===e?ka:e}function xu(e,t){var n=Es;Es|=16;var r=bu();for(Ss===e&&Ts===t||vu(e,t);;)try{wu();break}catch(t){yu(e,t)}if(Yo(),Es=n,_s.current=r,null!==ks)throw Error(a(261));return Ss=null,Ts=0,Is}function wu(){for(;null!==ks;)_u(ks)}function Cu(){for(;null!==ks&&!Po();)_u(ks)}function _u(e){var t=Bs(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?Pu(e):ks=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ns(n,t,Rs)))return void(ks=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Rs)||0==(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=rs(t)))return n.flags&=2047,void(ks=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===Is&&(Is=5)}function Eu(e){var t=jo();return zo(99,Su.bind(null,e,t)),null}function Su(e,t){do{Tu()}while(null!==Gs);if(0!=(48&Es))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<i;){var l=31-Ut(i),c=1<<l;o[l]=0,s[l]=-1,u[l]=-1,i&=~c}if(null!==Xs&&0==(24&r)&&Xs.has(e)&&Xs.delete(e),e===Ss&&(ks=Ss=null,Ts=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(o=Es,Es|=32,Ps.current=null,Lr=$t,dr(s=pr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,i=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(e){u=null;break e}var p=0,d=-1,h=-1,f=0,m=0,g=s,v=null;t:for(;;){for(var y;g!==u||0!==i&&3!==g.nodeType||(d=p+i),g!==l||0!==c&&3!==g.nodeType||(h=p+c),3===g.nodeType&&(p+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===s)break t;if(v===u&&++f===i&&(d=p),v===l&&++m===c&&(h=p),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}u=-1===d||-1===h?null:{start:d,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Fr={focusedElem:s,selectionRange:u},$t=!1,ru=null,ou=!1,zs=r;do{try{ku()}catch(e){if(null===zs)throw Error(a(330));Au(zs,e),zs=zs.nextEffect}}while(null!==zs);ru=null,zs=r;do{try{for(s=e;null!==zs;){var b=zs.flags;if(16&b&&ve(zs.stateNode,""),128&b){var x=zs.alternate;if(null!==x){var w=x.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:vs(zs),zs.flags&=-3;break;case 6:vs(zs),zs.flags&=-3,bs(zs.alternate,zs);break;case 1024:zs.flags&=-1025;break;case 1028:zs.flags&=-1025,bs(zs.alternate,zs);break;case 4:bs(zs.alternate,zs);break;case 8:ys(s,u=zs);var C=u.alternate;ms(u),null!==C&&ms(C)}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Au(zs,e),zs=zs.nextEffect}}while(null!==zs);if(w=Fr,x=pr(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,C=Math.min(s.start,u),s=void 0===s.end?C:Math.min(s.end,u),!w.extend&&C>s&&(u=s,s=C,C=u),u=cr(b,C),i=cr(b,s),u&&i&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==i.node||w.focusOffset!==i.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),C>s?(w.addRange(x),w.extend(i.node,i.offset)):(x.setEnd(i.node,i.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!Lr,Fr=Lr=null,e.current=n,zs=r;do{try{for(b=e;null!==zs;){var _=zs.flags;if(36&_&&ds(b,zs.alternate,zs),128&_){x=void 0;var P=zs.ref;if(null!==P){var E=zs.stateNode;switch(zs.tag){case 5:x=E;break;default:x=E}"function"==typeof P?P(x):P.current=x}}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Au(zs,e),zs=zs.nextEffect}}while(null!==zs);zs=null,Do(),Es=o}else e.current=n;if(Qs)Qs=!1,Gs=e,$s=t;else for(zs=r;null!==zs;)t=zs.nextEffect,zs.nextEffect=null,8&zs.flags&&((_=zs).sibling=null,_.stateNode=null),zs=t;if(0===(r=e.pendingLanes)&&(Hs=null),1===r?e===Zs?Ys++:(Ys=0,Zs=e):Ys=0,n=n.stateNode,xo&&"function"==typeof xo.onCommitFiberRoot)try{xo.onCommitFiberRoot(bo,n,void 0,64==(64&n.current.flags))}catch(e){}if(lu(e,qo()),Us)throw Us=!1,e=Ws,Ws=null,e;return 0!=(8&Es)||Wo(),null}function ku(){for(;null!==zs;){var e=zs.alternate;ou||null===ru||(0!=(8&zs.flags)?Ze(zs,ru)&&(ou=!0):13===zs.tag&&ws(e,zs)&&Ze(zs,ru)&&(ou=!0));var t=zs.flags;0!=(256&t)&&ps(e,zs),0==(512&t)||Qs||(Qs=!0,Uo(97,(function(){return Tu(),null}))),zs=zs.nextEffect}}function Tu(){if(90!==$s){var e=97<$s?97:$s;return $s=90,zo(e,Iu)}return!1}function Ru(e,t){Ks.push(t,e),Qs||(Qs=!0,Uo(97,(function(){return Tu(),null})))}function Ou(e,t){Js.push(t,e),Qs||(Qs=!0,Uo(97,(function(){return Tu(),null})))}function Iu(){if(null===Gs)return!1;var e=Gs;if(Gs=null,0!=(48&Es))throw Error(a(331));var t=Es;Es|=32;var n=Js;Js=[];for(var r=0;r<n.length;r+=2){var o=n[r],i=n[r+1],s=o.destroy;if(o.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===i)throw Error(a(330));Au(i,e)}}for(n=Ks,Ks=[],r=0;r<n.length;r+=2){o=n[r],i=n[r+1];try{var u=o.create;o.destroy=u()}catch(e){if(null===i)throw Error(a(330));Au(i,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Es=t,Wo(),!0}function Vu(e,t,n){si(e,t=ss(0,t=os(n,t),1)),t=iu(),null!==(e=uu(e,1))&&(zt(e,1,t),lu(e,t))}function Au(e,t){if(3===e.tag)Vu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){var o=us(n,e=os(t,e),1);if(si(n,o),o=iu(),null!==(n=uu(n,1)))zt(n,1,o),lu(n,o);else if("function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=iu(),e.pingedLanes|=e.suspendedLanes&n,Ss===e&&(Ts&n)===n&&(4===Is||3===Is&&(62914560&Ts)===Ts&&500>qo()-Ms?vu(e,0):Ls|=n),lu(e,t)}function Nu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===jo()?1:2:(0===tu&&(tu=As),0===(t=jt(62914560&~tu))&&(t=4194304))),n=iu(),null!==(e=uu(e,t))&&(zt(e,t,n),lu(e,n))}function Lu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Fu(e,t,n,r){return new Lu(e,t,n,r)}function Mu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qu(e,t){var n=e.alternate;return null===n?((n=Fu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ju(e,t,n,r,o,i){var s=2;if(r=e,"function"==typeof e)Mu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case P:return Bu(n.children,o,i,t);case L:s=8,o|=16;break;case E:s=8,o|=1;break;case S:return(e=Fu(12,n,t,8|o)).elementType=S,e.type=S,e.lanes=i,e;case O:return(e=Fu(13,n,t,o)).type=O,e.elementType=O,e.lanes=i,e;case I:return(e=Fu(19,n,t,o)).elementType=I,e.lanes=i,e;case F:return zu(n,o,i,t);case M:return(e=Fu(24,n,t,o)).elementType=M,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case T:s=9;break e;case R:s=11;break e;case V:s=14;break e;case A:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Fu(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Bu(e,t,n,r){return(e=Fu(7,e,r,t)).lanes=n,e}function zu(e,t,n,r){return(e=Fu(23,e,r,t)).elementType=F,e.lanes=n,e}function Uu(e,t,n){return(e=Fu(6,e,null,t)).lanes=n,e}function Wu(e,t,n){return(t=Fu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Qu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gu(e,t,n,r){var o=t.current,i=iu(),s=au(o);e:if(n){t:{if(Ke(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(ho(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(ho(l)){n=go(n,l,u);break e}}n=u}else n=so;return null===t.context?t.context=n:t.pendingContext=n,(t=ai(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),si(o,t),su(o,s,i),s}function $u(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ju(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}function Xu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Hu(e,t,null!=n&&!0===n.hydrate),t=Fu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,oi(t),e[Kr]=n.current,kr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(t=r[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=$u(a);s.call(e)}}Gu(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Xu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"==typeof o){var u=o;o=function(){var e=$u(a);u.call(e)}}fu((function(){Gu(t,a,e,o)}))}return $u(a)}function el(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(a(200));return Qu(e,t,null,n)}Bs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||lo.current)Va=!0;else{if(0==(n&r)){switch(Va=!1,t.tag){case 3:za(t),Ui();break;case 5:Ii(t);break;case 1:ho(t.type)&&vo(t);break;case 4:Ri(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;ao($o,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Ga(e,t,n):(ao(Ai,1&Ai.current),null!==(t=es(e,t,n))?t.sibling:null);ao(Ai,1&Ai.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Za(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),ao(Ai,Ai.current),r)break;return null;case 23:case 24:return t.lanes=0,Fa(e,t,n)}return es(e,t,n)}Va=0!=(16384&e.flags)}else Va=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=po(t,uo.current),ti(t,n),o=na(null,t,r,e,o,n),t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ho(r)){var i=!0;vo(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,oi(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&di(t,r,s,e),o.updater=hi,t.stateNode=o,o._reactInternals=t,vi(t,r,e,n),t=Ba(null,t,r,!0,i,n)}else t.tag=0,Aa(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(i=o._init)(o._payload),t.type=o,i=t.tag=function(e){if("function"==typeof e)return Mu(e)?1:0;if(null!=e){if((e=e.$$typeof)===R)return 11;if(e===V)return 14}return 2}(o),e=Go(o,e),i){case 0:t=qa(null,t,o,e,n);break e;case 1:t=ja(null,t,o,e,n);break e;case 11:t=Da(null,t,o,e,n);break e;case 14:t=Na(null,t,o,Go(o.type,e),r,n);break e}throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,qa(e,t,r,o=t.elementType===r?o:Go(r,o),n);case 1:return r=t.type,o=t.pendingProps,ja(e,t,r,o=t.elementType===r?o:Go(r,o),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,ii(e,t),li(t,r,null,n),(r=t.memoizedState.element)===o)Ui(),t=es(e,t,n);else{if((i=(o=t.stateNode).hydrate)&&(Li=Ur(t.stateNode.containerInfo.firstChild),Ni=t,i=Fi=!0),i){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(i=e[o])._workInProgressVersionPrimary=e[o+1],Wi.push(i);for(n=_i(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Aa(e,t,r,n),Ui();t=t.child}return t;case 5:return Ii(t),null===e&&ji(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,qr(r,o)?s=null:null!==i&&qr(r,i)&&(t.flags|=16),Ma(e,t),Aa(e,t,s,n),t.child;case 6:return null===e&&ji(t),null;case 13:return Ga(e,t,n);case 4:return Ri(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ci(t,null,r,n):Aa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Da(e,t,r,o=t.elementType===r?o:Go(r,o),n);case 7:return Aa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Aa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value;var u=t.type._context;if(ao($o,u._currentValue),u._currentValue=i,null!==s)if(u=s.value,0===(i=ar(u,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(s.children===o.children&&!lo.current){t=es(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&i)){1===u.tag&&((c=ai(-1,n&-n)).tag=2,si(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),ei(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Aa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,ti(t,n),r=r(o=ni(o,i.unstable_observedBits)),t.flags|=1,Aa(e,t,r,n),t.child;case 14:return i=Go(o=t.type,t.pendingProps),Na(e,t,o,i=Go(o.type,i),r,n);case 15:return La(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Go(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ho(r)?(e=!0,vo(t)):e=!1,ti(t,n),mi(t,r,o),vi(t,r,o,n),Ba(null,t,r,!0,e,n);case 19:return Za(e,t,n);case 23:case 24:return Fa(e,t,n)}throw Error(a(156,t.tag))},Xu.prototype.render=function(e){Gu(e,this._internalRoot,null,null)},Xu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Gu(null,e,null,(function(){t[Kr]=null}))},et=function(e){13===e.tag&&(su(e,4,iu()),Ju(e,4))},tt=function(e){13===e.tag&&(su(e,67108864,iu()),Ju(e,67108864))},nt=function(e){if(13===e.tag){var t=iu(),n=au(e);su(e,n,t),Ju(e,n)}},rt=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=eo(r);if(!o)throw Error(a(90));X(r),ne(r,o)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ve=hu,Ae=function(e,t,n,r,o){var i=Es;Es|=4;try{return zo(98,e.bind(null,t,n,r,o))}finally{0===(Es=i)&&(js(),Wo())}},De=function(){0==(49&Es)&&(function(){if(null!==Xs){var e=Xs;Xs=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,lu(e,qo())}))}Wo()}(),Tu())},Ne=function(e,t){var n=Es;Es|=2;try{return e(t)}finally{0===(Es=n)&&(js(),Wo())}};var tl={Events:[Yr,Zr,eo,Oe,Ie,Tu,{current:!1}]},nl={findFiberByHostInstance:Xr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{bo=ol.inject(rl),xo=ol}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=el,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Es;if(0!=(48&n))return e(t);Es|=1;try{if(e)return zo(99,e.bind(null,t))}finally{Es=n,Wo()}},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(a(200));return Zu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Yu(t))throw Error(a(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(a(40));return!!e._reactRootContainer&&(fu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Kr]=null}))})),!0)},t.unstable_batchedUpdates=hu,t.unstable_createPortal=function(e,t){return el(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zu(e,t,n,!1,r)},t.version="17.0.1"},function(e,t,n){"use strict";e.exports=n(77)},function(e,t,n){"use strict";
/** @license React v0.20.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,o,i,a;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,p=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(d,0),e}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(d,0))},o=function(e,t){p=setTimeout(e,t)},i=function(){clearTimeout(p)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,y=-1,b=5,x=0;t.unstable_shouldYield=function(){return t.unstable_now()>=x},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,C=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();x=e+b;try{v(!0,e)?C.postMessage(null):(g=!1,v=null)}catch(e){throw C.postMessage(null),e}}else g=!1},r=function(e){v=e,g||(g=!0,C.postMessage(null))},o=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){f(y),y=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<S(o,t)))break e;e[r]=t,e[n]=o,n=r}}function P(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,u=e[s];if(void 0!==a&&0>S(a,n))void 0!==u&&0>S(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],T=[],R=1,O=null,I=3,V=!1,A=!1,D=!1;function N(e){for(var t=P(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,_(k,t)}t=P(T)}}function L(e){if(D=!1,N(e),!A)if(null!==P(k))A=!0,r(F);else{var t=P(T);null!==t&&o(L,t.startTime-e)}}function F(e,n){A=!1,D&&(D=!1,i()),V=!0;var r=I;try{for(N(n),O=P(k);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=O.callback;if("function"==typeof a){O.callback=null,I=O.priorityLevel;var s=a(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?O.callback=s:O===P(k)&&E(k),N(n)}else E(k);O=P(k)}if(null!==O)var u=!0;else{var l=P(T);null!==l&&o(L,l.startTime-n),u=!1}return u}finally{O=null,I=r,V=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||V||(A=!0,r(F))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return P(k)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:R++,callback:n,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,_(T,e),null===P(k)&&e===P(T)&&(D?i():D=!0,o(L,a-s))):(e.sortIndex=u,_(k,e),A||V||(A=!0,r(F))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},function(e,t,n){"use strict";var r=n(79);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,x=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function C(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case p:case d:case a:case u:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case g:case l:return e;default:return t}}case i:return t}}}function _(e){return C(e)===d}t.AsyncMode=p,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=o,t.ForwardRef=h,t.Fragment=a,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||C(e)===p},t.isConcurrentMode=_,t.isContextConsumer=function(e){return C(e)===c},t.isContextProvider=function(e){return C(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return C(e)===h},t.isFragment=function(e){return C(e)===a},t.isLazy=function(e){return C(e)===v},t.isMemo=function(e){return C(e)===g},t.isPortal=function(e){return C(e)===i},t.isProfiler=function(e){return C(e)===u},t.isStrictMode=function(e){return C(e)===s},t.isSuspense=function(e){return C(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===u||e===s||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===x||e.$$typeof===w||e.$$typeof===y)},t.typeOf=C},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new _(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var c={};function p(){}function d(){}function h(){}var f={};f[o]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(P([])));g&&g!==t&&n.call(g,o)&&(f=g);var v=h.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,s){var u=l(e[o],e,i);if("throw"!==u.type){var c=u.arg,p=c.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(p).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=v.constructor=h,h.constructor=d,d.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[i]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),s(v,a,"Generator"),v[o]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),a=r[0],s=r[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,p=s>0?a-4:a;for(n=0;n<p;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(c(e,a,a+16383>s?s:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,p=n?o-1:0,d=n?-1:1,h=e[t+p];for(p+=d,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+e[t+p],p+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+p],p+=d,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,p=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+p>=1?d/u:d*Math.pow(2,1-p))*u>=2&&(a++,u/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(t*u-1)*Math.pow(2,o),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=f,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+h]=255&a,h+=f,a/=256,l-=8);e[n+h-f]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(88),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(12))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,s,u=1,l={},c=!1,p=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){f(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){i.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,r=function(e){var t=p.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(f,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return l[u]=o,r(u),u++},d.clearImmediate=h}function h(e){delete l[e]}function f(e){if(c)setTimeout(f,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(12),n(22))},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){var r=n(55),o=n(23)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),n=r(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,o=+new Date,i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var i=a[u];n=o.call(e,i),a.splice(u,1),u--}return n})),t.formatArgs.call(e,a);var l=r.log||t.log||console.log.bind(console);l.apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=o,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function o(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var i=t.instances[n];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(56),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){var r=n(57),o=n(58),i=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,i=e;return i.data=function e(t,n){if(!t)return t;if(o(t)){var i={_placeholder:!0,num:n.length};return n.push(t),i}if(r(t)){for(var a=new Array(t.length),s=0;s<t.length;s++)a[s]=e(t[s],n);return a}if("object"==typeof t&&!(t instanceof Date)){a={};for(var u in t)a[u]=e(t[u],n);return a}return t}(n,t),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(r(t))for(var o=0;o<t.length;o++)t[o]=e(t[o],n);else if("object"==typeof t)for(var i in t)t[i]=e(t[i],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,i=e;!function e(u,l,c){if(!u)return u;if(a&&u instanceof Blob||s&&u instanceof File){n++;var p=new FileReader;p.onload=function(){c?c[l]=this.result:i=this.result,--n||t(i)},p.readAsArrayBuffer(u)}else if(r(u))for(var d=0;d<u.length;d++)e(u[d],d,u);else if("object"==typeof u&&!o(u))for(var h in u)e(u[h],h,u)}(i),n||t(i)}},function(e,t,n){e.exports=n(96),e.exports.parser=n(19)},function(e,t,n){var r=n(60),o=n(18),i=n(29)("engine.io-client:socket"),a=n(64),s=n(19),u=n(55),l=n(27);function c(e,t){if(!(this instanceof c))return new c(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=u(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=u(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=c,c.priorWebsocketSuccess=!1,o(c.prototype),c.protocol=s.protocol,c.Socket=c,c.Transport=n(37),c.transports=n(60),c.parser=n(19),c.prototype.createTransport=function(e){i('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},c.prototype.open=function(){var e;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},c.prototype.setTransport=function(e){i("setting transport %s",e.name);var t=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},c.prototype.probe=function(e){i('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function o(){if(r.onlyBinaryUpgrades){var o=!this.supportsBinary&&r.transport.supportsBinary;n=n||o}n||(i('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(i('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;c.priorWebsocketSuccess="websocket"===t.name,i('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(i("changing transport and sending upgrade packet"),d(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{i('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name,r.emit("upgradeError",a)}})))}function a(){n||(n=!0,d(),t.close(),t=null)}function s(n){var o=new Error("probe error: "+n);o.transport=t.name,a(),i('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",o)}function u(){s("transport closed")}function l(){s("socket closed")}function p(e){t&&e.name!==t.name&&(i('"%s" works - aborting "%s"',e.name,t.name),a())}function d(){t.removeListener("open",o),t.removeListener("error",s),t.removeListener("close",u),r.removeListener("close",l),r.removeListener("upgrading",p)}c.priorWebsocketSuccess=!1,t.once("open",o),t.once("error",s),t.once("close",u),this.once("close",l),this.once("upgrading",p),t.open()},c.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",c.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},c.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else i('packet received with socket readyState "%s"',this.readyState)},c.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},c.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},c.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){i("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},c.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},c.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},c.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},c.prototype.write=c.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},c.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},c.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),i("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},c.prototype.onError=function(e){i("socket error %j",e),c.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},c.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){i('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},c.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){var r=n(35),o=n(61),i=n(18),a=n(28),s=n(29)("engine.io-client:polling-xhr"),u=n(36);function l(){}function c(e){if(o.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function p(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=c,e.exports.Request=p,a(c,o),c.prototype.supportsBinary=!0,c.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new p(e)},c.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",(function(e){o.onError("xhr post error",e)})),this.sendXhr=r},c.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},i(p.prototype),p.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof t.status?t.status:0)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){n.onError(e)}),0)}"undefined"!=typeof document&&(this.index=p.requestsCount++,p.requests[this.index]=this)},p.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},p.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},p.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},p.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete p.requests[this.index],this.xhr=null}},p.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},p.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},p.prototype.abort=function(){this.cleanup()},p.requestsCount=0,p.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",d);else if("function"==typeof addEventListener){addEventListener("onpagehide"in u?"pagehide":"unload",d,!1)}function d(){for(var e in p.requests)p.requests.hasOwnProperty(e)&&p.requests[e].abort()}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)i[s]=o[a];return i.buffer}},function(e,t){function n(){}e.exports=function(e,t,r){var o=!1;return r=r||n,i.count=e,0===e?t():i;function i(e,n){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,t(e),t=r):0!==i.count||o||t(null,n)}}},function(e,t){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var n,r,o,i=String.fromCharCode;function a(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function u(e,t){return i(e>>t&63|128)}function l(e,t){if(0==(4294967168&e))return i(e);var n="";return 0==(4294965248&e)?n=i(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=i(e>>12&15|224),n+=u(e,6)):0==(4292870144&e)&&(n=i(e>>18&7|240),n+=u(e,12),n+=u(e,6)),n+=i(63&e|128)}function c(){if(o>=r)throw Error("Invalid byte index");var e=255&n[o];if(o++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(e){var t,i;if(o>r)throw Error("Invalid byte index");if(o==r)return!1;if(t=255&n[o],o++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|c())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|c()<<6|c())>=2048)return s(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|c()<<12|c()<<6|c())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=a(e),o=r.length,i=-1,s="";++i<o;)s+=l(r[i],n);return s},decode:function(e,t){var s=!1!==(t=t||{}).strict;n=a(e),r=n.length,o=0;for(var u,l=[];!1!==(u=p(s));)l.push(u);return function(e){for(var t,n=e.length,r=-1,o="";++r<n;)(t=e[r])>65535&&(o+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=i(t);return o}(l)}}},function(e,t){!function(e){"use strict";t.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";for(n=0;n<o;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(t){var n,r,o,i,a,s=.75*t.length,u=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var c=new ArrayBuffer(s),p=new Uint8Array(c);for(n=0;n<u;n+=4)r=e.indexOf(t[n]),o=e.indexOf(t[n+1]),i=e.indexOf(t[n+2]),a=e.indexOf(t[n+3]),p[l++]=r<<2|o>>4,p[l++]=(15&o)<<4|i>>2,p[l++]=(3&i)<<6|63&a;return c}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(e,t){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),o=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=n&&n.prototype.append&&n.prototype.getBlob;function a(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function s(e,t){t=t||{};var r=new n;return a(e).forEach((function(e){r.append(e)})),t.type?r.getBlob(t.type):r.getBlob()}function u(e,t){return new Blob(a(e),t||{})}"undefined"!=typeof Blob&&(s.prototype=Blob.prototype,u.prototype=Blob.prototype),e.exports=r?o?Blob:u:i?s:void 0},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,o=+new Date,i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var i=a[u];n=o.call(e,i),a.splice(u,1),u--}return n})),t.formatArgs.call(e,a);var l=r.log||t.log||console.log.bind(console);l.apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=o,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function o(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var i=t.instances[n];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(56),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){var r=n(61),o=n(28),i=n(36);e.exports=c;var a,s=/\n/g,u=/\\n/g;function l(){}function c(e){r.call(this,e),this.query=this.query||{},a||(a=i.___eio=i.___eio||[]),this.index=a.length;var t=this;a.push((function(e){t.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=l)}),!1)}o(c,r),c.prototype.supportsBinary=!1,c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},c.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},c.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,o=document.createElement("form"),i=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=a,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}function l(){c(),t()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),c(),e=e.replace(u,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}},function(e,t,n){(function(t){var r,o,i=n(37),a=n(19),s=n(27),u=n(28),l=n(63),c=n(29)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{o=n(109)}catch(e){}var p=r||o;function d(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(p=o),i.call(this,e)}e.exports=d,u(d,i),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new p(e,t):new p(e):new p(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},d.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,o=0,i=r;o<i;o++)!function(e){a.encodePacket(e,n.supportsBinary,(function(o){if(!n.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),n.perMessageDeflate)("string"==typeof o?t.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(i.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,i)}catch(e){c("websocket closed before onclose event")}--r||s()}))}(e[o]);function s(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},d.prototype.onClose=function(){i.prototype.onClose.call(this)},d.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},d.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},d.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===d.prototype.name)}}).call(this,n(26).Buffer)},function(e,t){},function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){var r;!function(){function n(e){return(e=e.toString(16)).length<2&&(e="0"+e),e}function o(){var e=function(){try{return Array.from((window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16)))}catch(t){for(var e=[];e.length<16;)e.push(256*Math.random()&255);return e}}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,(e=e.map(n).join("").match(/(.{8})(.{4})(.{4})(.{4})(.{12})/)).shift(),e.join("-")}var i=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/;o.valid=function(e){return i.test(e)},window&&(window.uuid4=o),e.exports&&(e.exports=o),void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(114);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(116)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=n(115)(!1)).push([e.i,'body,\ninput,\nbutton {\n  font-size: 1.6vw;\n  margin: 0;\n  font-family: Sans-Serif;\n}\n@media (max-width: 1024px) {\n  body,\n  input,\n  button {\n    font-size: 1em;\n  }\n}\ninput:focus,\nbutton:focus {\n  outline: 0;\n}\ninput[type="text"] {\n  border: none;\n  border-bottom: solid 2px #4c4c4f;\n  font-size: 1em;\n  background-color: transparent;\n  color: #fff;\n  padding: 0.4em 0;\n  margin: 2ex 0;\n  width: 100%;\n  max-width: 18em;\n  display: block;\n}\n.home {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.call-exit-button,\n.hangup-button,\n.audio-button-true,\n.audio-button-false,\n.video-button-true,\n.video-button-false,\n.fullscreen-button {\n  width: 3em;\n  height: 3em;\n  border-radius: 50%;\n  background: rgba(44, 44, 44, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 0;\n  box-shadow: 0.2ex 0.2ex 1.5em #444;\n  transition: all 0.2s ease-out;\n  margin: 0 0.4em;\n  cursor: pointer;\n}\n.call-exit-button:hover,\n.hangup-button:hover,\n.audio-button-true:hover,\n.audio-button-false:hover,\n.video-button-true:hover,\n.video-button-false:hover,\n.fullscreen-button:hover {\n  box-shadow: 0.4ex 0.4ex 3em #666;\n  background: rgba(64, 124, 247, 1);\n}\n.you-left,\n.remote-left,\n.hangup-button,\n.audio-button-true .on,\n.video-button-true .on,\n.video-button-false .off,\n.fullscreen-button .on,\n.room-occupied {\n  display: none;\n}\n:-webkit-full-screen .fullscreen-button .on {\n  display: block;\n}\n:-moz-full-screen .fullscreen-button .on {\n  display: block;\n}\n:-ms-fullscreen .fullscreen-button .on {\n  display: block;\n}\n:fullscreen .fullscreen-button .on {\n  /* spec */\n  display: block;\n}\n:-webkit-full-screen .fullscreen-button .off {\n  display: none;\n}\n:-moz-full-screen .fullscreen-button .off {\n  display: none;\n}\n:-ms-fullscreen .fullscreen-button .off {\n  display: none;\n}\n:fullscreen .fullscreen-button .off {\n  /* spec */\n  display: none;\n}\n/* deeper elements */\n:-webkit-full-screen video {\n  width: 100%;\n  height: 100%;\n}\n.guest-hangup + .auth .you-left {\n  display: inline;\n}\n.full .room-occupied,\n.host-hangup + .auth .remote-left,\n.recent-room {\n  display: block;\n}\n.recent-room {\n  color: #4285f4;\n  margin: 1ex 1em;\n}\n.remote-video {\n  display: block;\n  max-height: 100%;\n  max-width: 100%;\n  object-fit: cover;\n}\n.local-video {\n  max-height: 100%;\n  max-width: 100%;\n  object-fit: cover;\n  transition: all 0.3s;\n}\n.established .local-video {\n  margin: 10px;\n  max-height: 17%;\n  max-width: 17%;\n  height: auto;\n  width: auto;\n  z-index: 20;\n}\n.canvas {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  z-index: 10;\n  /* background-color: transparent; */\n}\n.clock {\n  position: absolute;\n\n  z-index: 10;\n  right: 20px;\n  /* background-color: transparent; */\n}\n.media-bridge,\n.local-video,\n.remote-video {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n}\n.auth {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 99;\n}\n.toolBar {\n  z-index: 99;\n  position: absolute;\n}\n.sv_window {\n  position: fixed;\n  top: 20px;\n  right: 10px;\n  width: 25%;\n}\n.primary-button {\n  text-decoration: none;\n  display: inline-block;\n  cursor: pointer;\n  background-color: #4285f4;\n  border: none;\n  color: white;\n  font-size: 0.8em;\n  margin: 0 5px 20px 5px;\n  width: 8em;\n  line-height: 3ex;\n  padding: 1ex 0.7em;\n  text-align: center;\n  -webkit-box-shadow: 1px 1px 5px 0 rgba(0, 0, 0, 0.5);\n  -moz-box-shadow: 1px 1px 5px 0 rgba(0, 0, 0, 0.5);\n  box-shadow: 1px 1px 5px 0 rgba(0, 0, 0, 0.5);\n}\n.media-controls {\n  display: flex;\n  margin: 2ex 0;\n  justify-content: center;\n  left: 0;\n  right: 0;\n}\n.svg {\n  width: 1.4em;\n}\n.room-occupied,\n.request-access,\n.waiting,\n.request-access,\n.grant-access,\n.waiting {\n  overflow: hidden;\n  padding: 0 1em;\n  box-sizing: border-box;\n  width: 100%;\n  background: rgba(0, 0, 0, 0.8);\n  /* Initially we don\'t want any height, and we want the contents to be hidden */\n  max-height: 0;\n  transition: max-height 0.3s ease;\n}\n.full + .auth .room-occupied,\n.guest-hangup + .auth .request-access,\n.join + .auth .request-access,\n.approve + .auth .grant-access {\n  transition-delay: 0.3s;\n  /* Set the max-height to something large. In this case there\'s an obvious limit. */\n  max-height: 20ex;\n}\n.host-hangup + .auth .waiting,\n.create + .auth .waiting {\n  /* Set the max-height to something large. In this case there\'s an obvious limit. */\n  max-height: 20ex;\n}\n.established + .auth .hangup-button {\n  display: flex;\n}\n/* Switch component */\n.react-switch-checkbox {\n  height: 0;\n  width: 0;\n  visibility: hidden;\n}\n\n.react-switch-label {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  cursor: pointer;\n  width: 50px;\n  height: 25px;\n  background: grey;\n  border-radius: 100px;\n  position: relative;\n  transition: background-color 0.2s;\n}\n\n.react-switch-label .react-switch-button {\n  content: "";\n  position: absolute;\n  top: 2px;\n  left: 2px;\n  width: 20px;\n  height: 20px;\n  border-radius: 45px;\n  transition: 0.2s;\n  background: #fff;\n  box-shadow: 0 0 2px 0 rgba(10, 10, 10, 0.29);\n}\n\n.react-switch-checkbox:checked + .react-switch-label .react-switch-button {\n  left: calc(100% - 2px);\n  transform: translateX(-100%);\n}\n\n.react-switch-label:active .react-switch-button {\n  width: 30px;\n}\n',""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,u;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){return document.querySelector(e)},u=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=s.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,c=0,p=[],d=n(117);function h(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(b(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function m(e,t){var n=u(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=p[p.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),p.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=u(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=p.indexOf(e);t>=0&&p.splice(t,1)}function v(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),y(t,e.attrs),m(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function b(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=c++;n=l||(l=v(t)),r=C.bind(null,n,a,!1),o=C.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),m(e,t),t}(t),r=P.bind(null,n,t),o=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=_.bind(null,n),o=function(){g(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return h(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}e&&h(f(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete i[s.id]}}}};var x,w=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function C(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function _(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function P(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(24),a=n(38);function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}var u=n(3),l=n.n(u),c=l.a.shape({trySubscribe:l.a.func.isRequired,tryUnsubscribe:l.a.func.isRequired,notifyNestedSubs:l.a.func.isRequired,isSubscribed:l.a.func.isRequired}),p=l.a.shape({subscribe:l.a.func.isRequired,dispatch:l.a.func.isRequired,getState:l.a.func.isRequired});o.a.forwardRef;var d=function(e){var t;void 0===e&&(e="store");var n=e+"Subscription",o=function(t){s(i,t);var o=i.prototype;function i(n,r){var o;return(o=t.call(this,n,r)||this)[e]=n.store,o}return o.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},o.render=function(){return r.Children.only(this.props.children)},i}(r.Component);return o.propTypes={store:p.isRequired,children:l.a.element.isRequired},o.childContextTypes=((t={})[e]=p.isRequired,t[n]=c,t),o}();function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var g=n(30),v=n.n(g),y=n(6),b=n.n(y),x=n(39),w={notify:function(){}};var C=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=w}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=null,e=null},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&null!==e&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=w)},e}(),_=void 0!==o.a.forwardRef,P=0,E={};function S(){}function k(e,t){var n,o;void 0===t&&(t={});var i=t,a=i.getDisplayName,u=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,l=i.methodName,d=void 0===l?"connectAdvanced":l,g=i.renderCountProp,y=void 0===g?void 0:g,w=i.shouldHandleStateChanges,k=void 0===w||w,T=i.storeKey,R=void 0===T?"store":T,O=i.withRef,I=void 0!==O&&O,V=m(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),A=R+"Subscription",D=P++,N=((n={})[R]=p,n[A]=c,n),L=((o={})[A]=c,o);return function(t){b()(Object(x.isValidElementType)(t),"You must pass a component to the function returned by "+d+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",o=u(n),i=f({},V,{getDisplayName:u,methodName:d,renderCountProp:y,shouldHandleStateChanges:k,storeKey:R,withRef:I,displayName:o,wrappedComponentName:n,WrappedComponent:t}),a=function(n){function a(e,t){var r;return(r=n.call(this,e,t)||this).version=D,r.state={},r.renderCount=0,r.store=e[R]||t[R],r.propsMode=Boolean(e[R]),r.setWrappedInstance=r.setWrappedInstance.bind(h(h(r))),b()(r.store,'Could not find "'+R+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+R+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}s(a,n);var u=a.prototype;return u.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[A]=t||this.context[A],e},u.componentDidMount=function(){k&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},u.componentWillReceiveProps=function(e){this.selector.run(e)},u.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},u.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=S,this.store=null,this.selector.run=S,this.selector.shouldComponentUpdate=!1},u.getWrappedInstance=function(){return b()(I,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+d+"() call."),this.wrappedInstance},u.setWrappedInstance=function(e){this.wrappedInstance=e},u.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},u.initSubscription=function(){if(k){var e=(this.propsMode?this.props:this.context)[A];this.subscription=new C(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},u.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(E)):this.notifyNestedSubs()},u.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},u.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},u.addExtraProps=function(e){if(!(I||y||this.propsMode&&this.subscription))return e;var t=f({},e);return I&&(t.ref=this.setWrappedInstance),y&&(t[y]=this.renderCount++),this.propsMode&&this.subscription&&(t[A]=this.subscription),t},u.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(r.createElement)(t,this.addExtraProps(e.props))},a}(r.Component);return _&&(a.prototype.UNSAFE_componentWillReceiveProps=a.prototype.componentWillReceiveProps,delete a.prototype.componentWillReceiveProps),a.WrappedComponent=t,a.displayName=o,a.childContextTypes=L,a.contextTypes=N,a.propTypes=N,v()(a,t)}}var T=Object.prototype.hasOwnProperty;function R(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function O(e,t){if(R(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!T.call(t,n[o])||!R(e[n[o]],t[n[o]]))return!1;return!0}var I=n(46),V=function(){return Math.random().toString(36).substring(7).split("").join(".")},A={INIT:"@@redux/INIT"+V(),REPLACE:"@@redux/REPLACE"+V(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+V()}};function D(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function N(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function L(e,t){return function(){return t(e.apply(this,arguments))}}function F(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function M(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function q(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=M(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=M(o),o=r(t,n)),o},r}}var j=[function(e){return"function"==typeof e?q(e):void 0},function(e){return e?void 0:F((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?F((function(t){return function(e,t){if("function"==typeof e)return L(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=L(o,t))}return n}(e,t)})):void 0}];var B=[function(e){return"function"==typeof e?q(e):void 0},function(e){return e?void 0:F((function(){return{}}))}];function z(e,t,n){return f({},n,e,t)}var U=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?o&&i(u,r)||(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return z}}];function W(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function H(e,t,n,r,o){var i,a,s,u,l,c=o.areStatesEqual,p=o.areOwnPropsEqual,d=o.areStatePropsEqual,h=!1;function f(o,h){var f,m,g=!p(h,a),v=!c(o,i);return i=o,a=h,g&&v?(s=e(i,a),t.dependsOnOwnProps&&(u=t(r,a)),l=n(s,u,a)):g?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(u=t(r,a)),l=n(s,u,a)):v?(f=e(i,a),m=!d(f,s),s=f,m&&(l=n(s,u,a)),l):l}return function(o,c){return h?f(o,c):(s=e(i=o,a=c),u=t(r,a),l=n(s,u,a),h=!0,l)}}function Q(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=m(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),s=r(e,i),u=o(e,i);return(i.pure?H:W)(a,s,u,e,i)}function G(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function $(e,t){return e===t}var K,J,X,Y,Z,ee,te,ne,re,oe,ie,ae,se=(X=(J=void 0===K?{}:K).connectHOC,Y=void 0===X?k:X,Z=J.mapStateToPropsFactories,ee=void 0===Z?B:Z,te=J.mapDispatchToPropsFactories,ne=void 0===te?j:te,re=J.mergePropsFactories,oe=void 0===re?U:re,ie=J.selectorFactory,ae=void 0===ie?Q:ie,function(e,t,n,r){void 0===r&&(r={});var o=r,i=o.pure,a=void 0===i||i,s=o.areStatesEqual,u=void 0===s?$:s,l=o.areOwnPropsEqual,c=void 0===l?O:l,p=o.areStatePropsEqual,d=void 0===p?O:p,h=o.areMergedPropsEqual,g=void 0===h?O:h,v=m(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),y=G(e,ee,"mapStateToProps"),b=G(t,ne,"mapDispatchToProps"),x=G(n,oe,"mergeProps");return Y(ae,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:y,initMapDispatchToProps:b,initMergeProps:x,pure:a,areStatesEqual:u,areOwnPropsEqual:c,areStatePropsEqual:d,areMergedPropsEqual:g},v))}),ue=n(25),le=n.n(ue),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"ADD_ROOM"===t.type?le()(new Set([].concat(le()(e),[t.room]))):e},pe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_AUDIO"===t.type?t.audio:e},de=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_VIDEO"===t.type?t.video:e},he=n(5),fe=n.n(he);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve={occlusion_mask:!1,feature_show:{eyes:{toggle:!1,sliderIndex:0},mouth:{toggle:!1,sliderIndex:0},nose:{toggle:!1,sliderIndex:0},bar:{toggle:!1,direction:!1,sliderIndex:0,position:0}}},ye=function e(t,n,r){var o;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,a=n,s=[],u=s,l=!1;function c(){u===s&&(u=s.slice())}function p(){if(l)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function d(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(l)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return c(),u.push(e),function(){if(t){if(l)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,c();var n=u.indexOf(e);u.splice(n,1),s=null}}}function h(e){if(!D(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,a=i(a,e)}finally{l=!1}for(var t=s=u,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,h({type:A.REPLACE})}function m(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[I.a]=function(){return this},e}return h({type:A.INIT}),(o={dispatch:h,subscribe:d,getState:p,replaceReducer:f})[I.a]=m,o}(function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:A.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:A.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+A.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var u=a[s],l=n[u],c=e[u],p=l(c,t);if(void 0===p){var d=N(u,t);throw new Error(d)}o[u]=p,r=r||p!==c}return(r=r||a.length!==Object.keys(e).length)?o:e}}({controlParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ALL":return ge({},t.payload);case"UPDATE_MASK":return ge(ge({},e),{},{occlusion_mask:t.payload});case"UPDATE_EYE":return ge(ge({},e),{},{feature_show:ge(ge({},e.feature_show),{},{eyes:t.payload})});case"UPDATE_MOUTH":return ge(ge({},e),{},{feature_show:ge(ge({},e.feature_show),{},{mouth:t.payload})});case"UPDATE_NOSE":return ge(ge({},e),{},{feature_show:ge(ge({},e.feature_show),{},{nose:t.payload})});case"UPDATE_BAR":return ge(ge({},e),{},{feature_show:ge(ge({},e.feature_show),{},{bar:t.payload})});default:return e}},rooms:ce,video:de,audio:pe}),{rooms:[],video:!0,audio:!0,controlParams:{occlusion_mask:!1,feature_show:{eyes:{toggle:!1,sliderIndex:0},mouth:{toggle:!1,sliderIndex:0},nose:{toggle:!1,sliderIndex:0},bar:{toggle:!1,direction:!1,sliderIndex:0,position:0}}}});ye.subscribe((function(){return localStorage.setItem("reduxState",JSON.stringify(ye.getState()))}));var be=ye,xe=n(7),we=n.n(xe);function Ce(e){return"/"===e.charAt(0)}function _e(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var Pe=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&Ce(e),a=t&&Ce(t),s=i||a;if(e&&Ce(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var u=o[o.length-1];n="."===u||".."===u||""===u}else n=!1;for(var l=0,c=o.length;c>=0;c--){var p=o[c];"."===p?_e(o,c):".."===p?(_e(o,c),l++):l&&(_e(o,c),l--)}if(!s)for(;l--;l)o.unshift("..");!s||""===o[0]||o[0]&&Ce(o[0])||o.unshift("");var d=o.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};var Ee=function(e,t){if(!e)throw new Error("Invariant failed")};function Se(e){return"/"===e.charAt(0)?e:"/"+e}function ke(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Te(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Re(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function Oe(e,t,n,r){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=f({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=Pe(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function Ie(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Ve=!("undefined"==typeof window||!window.document||!window.document.createElement);function Ae(e,t){t(window.confirm(e))}function De(){try{return window.history.state||{}}catch(e){return{}}}function Ne(e){void 0===e&&(e={}),Ve||Ee(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,s=void 0!==a&&a,u=i.getUserConfirmation,l=void 0===u?Ae:u,c=i.keyLength,p=void 0===c?6:c,d=e.basename?Te(Se(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return d&&(i=ke(i,d)),Oe(i,r,n)}function m(){return Math.random().toString(36).substr(2,p)}var g=Ie();function v(e){f(R,e),R.length=n.length,g.notifyListeners(R.location,R.action)}function y(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(h(e.state))}function b(){w(h(De()))}var x=!1;function w(e){if(x)x=!1,v();else{g.confirmTransitionTo(e,"POP",l,(function(t){t?v({action:"POP",location:e}):function(e){var t=R.location,n=_.indexOf(t.key);-1===n&&(n=0);var r=_.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(x=!0,E(o))}(e)}))}}var C=h(De()),_=[C.key];function P(e){return d+Re(e)}function E(e){n.go(e)}var S=0;function k(e){1===(S+=e)&&1===e?(window.addEventListener("popstate",y),o&&window.addEventListener("hashchange",b)):0===S&&(window.removeEventListener("popstate",y),o&&window.removeEventListener("hashchange",b))}var T=!1;var R={length:n.length,action:"POP",location:C,createHref:P,push:function(e,t){var o=Oe(e,t,m(),R.location);g.confirmTransitionTo(o,"PUSH",l,(function(e){if(e){var t=P(o),i=o.key,a=o.state;if(r)if(n.pushState({key:i,state:a},null,t),s)window.location.href=t;else{var u=_.indexOf(R.location.key),l=_.slice(0,u+1);l.push(o.key),_=l,v({action:"PUSH",location:o})}else window.location.href=t}}))},replace:function(e,t){var o=Oe(e,t,m(),R.location);g.confirmTransitionTo(o,"REPLACE",l,(function(e){if(e){var t=P(o),i=o.key,a=o.state;if(r)if(n.replaceState({key:i,state:a},null,t),s)window.location.replace(t);else{var u=_.indexOf(R.location.key);-1!==u&&(_[u]=o.key),v({action:"REPLACE",location:o})}else window.location.replace(t)}}))},go:E,goBack:function(){E(-1)},goForward:function(){E(1)},block:function(e){void 0===e&&(e=!1);var t=g.setPrompt(e);return T||(k(1),T=!0),function(){return T&&(T=!1,k(-1)),t()}},listen:function(e){var t=g.appendListener(e);return k(1),function(){k(-1),t()}}};return R}var Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var qe=function(e){function t(){var n,r;Fe(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Me(this,e.call.apply(e,[this].concat(i))),r.state={match:r.computeMatch(r.props.history.location.pathname)},Me(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:Le({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;b()(null==n||1===o.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen((function(){e.setState({match:e.computeMatch(r.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){we()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?o.a.Children.only(e):null},t}(o.a.Component);qe.propTypes={history:l.a.object.isRequired,children:l.a.node},qe.contextTypes={router:l.a.object},qe.childContextTypes={router:l.a.object.isRequired};var je=qe;function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ue=function(e){function t(){var n,r;Be(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=ze(this,e.call.apply(e,[this].concat(i))),r.history=Ne(r.props),ze(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){we()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return o.a.createElement(je,{history:this.history,children:this.props.children})},t}(o.a.Component);Ue.propTypes={basename:l.a.string,forceRefresh:l.a.bool,getUserConfirmation:l.a.func,keyLength:l.a.number,children:l.a.node};var We=Ue,He=n(71),Qe=n.n(He),Ge={},$e=0,Ke=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Ge[n]||(Ge[n]={});if(r[e])return r[e];var o=[],i={re:Qe()(e,o,t),keys:o};return $e<1e4&&(r[e]=i,$e++),i},Je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof t&&(t={path:t});var r=t,o=r.path,i=r.exact,a=void 0!==i&&i,s=r.strict,u=void 0!==s&&s,l=r.sensitive,c=void 0!==l&&l;if(null==o)return n;var p=Ke(o,{end:a,strict:u,sensitive:c}),d=p.re,h=p.keys,f=d.exec(e);if(!f)return null;var m=f[0],g=f.slice(1),v=e===m;return a&&!v?null:{path:o,url:"/"===o&&""===m?"/":m,isExact:v,params:h.reduce((function(e,t,n){return e[t.name]=g[n],e}),{})}};function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ze=function(e){function t(){return Xe(this,t),Ye(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){b()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){we()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),we()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,i=void 0;return o.a.Children.forEach(t,(function(t){if(null==r&&o.a.isValidElement(t)){var a=t.props,s=a.path,u=a.exact,l=a.strict,c=a.sensitive,p=a.from,d=s||p;i=t,r=Je(n.pathname,{path:d,exact:u,strict:l,sensitive:c},e.match)}})),r?o.a.cloneElement(i,{location:n,computedMatch:r}):null},t}(o.a.Component);Ze.contextTypes={router:l.a.shape({route:l.a.object.isRequired}).isRequired},Ze.propTypes={children:l.a.node,location:l.a.object};var et=Ze,tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ot=function(e){return 0===o.a.Children.count(e)},it=function(e){function t(){var n,r;nt(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=rt(this,e.call.apply(e,[this].concat(i))),r.state={match:r.computeMatch(r.props,r.context.router)},rt(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:tt({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,o=e.path,i=e.strict,a=e.exact,s=e.sensitive;if(n)return n;b()(t,"You should not use <Route> or withRouter() outside a <Router>");var u=t.route,l=(r||u.location).pathname;return Je(l,{path:o,strict:i,exact:a,sensitive:s},u.match)},t.prototype.componentWillMount=function(){we()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),we()(!(this.props.component&&this.props.children&&!ot(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),we()(!(this.props.render&&this.props.children&&!ot(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){we()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),we()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,i=t.render,a=this.context.router,s=a.history,u=a.route,l=a.staticContext,c={match:e,location:this.props.location||u.location,history:s,staticContext:l};return r?e?o.a.createElement(r,c):null:i?e?i(c):null:"function"==typeof n?n(c):n&&!ot(n)?o.a.Children.only(n):null},t}(o.a.Component);it.propTypes={computedMatch:l.a.object,path:l.a.string,exact:l.a.bool,strict:l.a.bool,sensitive:l.a.bool,component:l.a.func,render:l.a.func,children:l.a.oneOfType([l.a.func,l.a.node]),location:l.a.object},it.contextTypes={router:l.a.shape({history:l.a.object.isRequired,route:l.a.object.isRequired,staticContext:l.a.object})},it.childContextTypes={router:l.a.object.isRequired};var at=it,st=n(13),ut=n.n(st),lt=n(14),ct=n.n(lt),pt=n(4),dt=n.n(pt),ht=n(15),ft=n.n(ht),mt=n(16),gt=n.n(mt),vt=n(8),yt=n.n(vt),bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ct=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},_t=function(e){function t(){var n,r;xt(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=wt(this,e.call.apply(e,[this].concat(i))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!Ct(e)){e.preventDefault();var t=r.context.router.history,n=r.props,o=n.replace,i=n.to;o?t.replace(i):t.push(i)}},wt(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);b()(this.context.router,"You should not use <Link> outside a <Router>"),b()(void 0!==t,'You must specify the "to" property');var i=this.context.router.history,a="string"==typeof t?Oe(t,null,null,i.location):t,s=i.createHref(a);return o.a.createElement("a",bt({},r,{onClick:this.handleClick,href:s,ref:n}))},t}(o.a.Component);_t.propTypes={onClick:l.a.func,target:l.a.string,replace:l.a.bool,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired,innerRef:l.a.oneOfType([l.a.string,l.a.func])},_t.defaultProps={replace:!1},_t.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired,createHref:l.a.func.isRequired}).isRequired}).isRequired};var Pt=_t,Et=function(e){return o.a.createElement("div",{className:"home"},o.a.createElement("div",null,o.a.createElement("h1",{itemProp:"headline"},"Webrtc Video Room"),o.a.createElement("p",null,"Please enter a room name."),o.a.createElement("input",{type:"text",name:"room",value:e.roomId,onChange:e.handleChange,pattern:"^\\w+$",maxLength:"10",required:!0,autoFocus:!0,title:"Room name should only contain letters or numbers."}),o.a.createElement(Pt,{className:"primary-button",to:"/r/"+e.roomId},"Join"),o.a.createElement(Pt,{className:"primary-button",to:"/control/"+e.roomId},"Control"),0!==e.rooms.length&&o.a.createElement("div",null,"Recently used rooms:"),e.rooms.map((function(e){return o.a.createElement(Pt,{key:e,className:"recent-room",to:"/r/"+e},e)}))))};Et.propTypes={handleChange:u.PropTypes.func.isRequired,defaultRoomId:u.PropTypes.string.isRequired,roomId:u.PropTypes.string.isRequired,rooms:u.PropTypes.array.isRequired};var St=se((function(e){return{rooms:e.rooms}}))(Et);function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt()(e);if(t){var o=yt()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gt()(this,n)}}var Tt=function(e){ft()(n,e);var t=kt(n);function n(e){var r;return ut()(this,n),(r=t.call(this,e)).defaultRoomId=String(new Date-(new Date).setHours(0,0,0,0)),r.state={roomId:r.defaultRoomId},r.handleChange=r.handleChange.bind(dt()(r)),r}return ct()(n,[{key:"handleChange",value:function(e){this.setState({roomId:e.target.value})}},{key:"render",value:function(){return o.a.createElement(St,{defaultRoomId:this.defaultRoomId,roomId:this.state.roomId,handleChange:this.handleChange})}}]),n}(r.Component);Tt.contextTypes={router:u.PropTypes.object};var Rt=Tt,Ot=n(32),It=n.n(Ot),Vt=n(17),At=n.n(Vt),Dt=n(0);function Nt(e,t,n){if(void 0===n&&(n=!1),e.beginPath(),t.slice(1).forEach((function(n,r){var o=n.x,i=n.y,a=t[r];e.moveTo(a.x,a.y),e.lineTo(o,i)})),n){var r=t[t.length-1],o=t[0];if(!r||!o)return;e.moveTo(r.x,r.y),e.lineTo(o.x,o.y)}e.stroke()}var Lt=n(2),Ft=function(){function e(e,t){if(!Qt(e)||!Qt(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:t}));this._width=e,this._height=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function Mt(e,t){return e instanceof Dt.a&&e.shape.length===t}function qt(e){return Mt(e,3)}function jt(e){return Mt(e,4)}function Bt(e){return e%2==0}function zt(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}function Ut(e){return e&&e.width&&e.height}function Wt(e){return e.reduce((function(e,t){return e.add(t)}),new $t(0,0)).div(new $t(e.length,e.length))}function Ht(e,t,n){return Array(e).fill(0).map((function(e,r){return t+r*n}))}function Qt(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||0===e}function Gt(e){return Qt(e)&&0<=e&&e<=1}var $t=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),Kt=function(){function e(t,n){void 0===n&&(n=!0);var r=t||{},o=[r.left,r.top,r.right,r.bottom].every(Qt),i=[r.x,r.y,r.width,r.height].every(Qt);if(!i&&!o)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var a=i?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=a[0],u=a[1],l=a[2],c=a[3];e.assertIsValidBox({x:s,y:u,width:l,height:c},"Box.constructor",n),this._x=s,this._y=u,this._width=l,this._height=c}return e.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(Qt)},e.assertIsValidBox=function(t,n,r){if(void 0===r&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new $t(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new $t(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new $t(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new $t(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map((function(e){return Math.round(e)}));return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map((function(e){return Math.floor(e)}));return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.toSquare=function(){var t=this.x,n=this.y,r=this.width,o=this.height,i=Math.abs(r-o);return r<o&&(t-=i/2,r+=i),o<r&&(n-=i/2,o+=i),new e({x:t,y:n,width:r,height:o})},e.prototype.rescale=function(t){var n=Ut(t)?t.width:t,r=Ut(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n];return new e({x:r[0],y:r[1],width:r[2],height:r[3]})},e.prototype.clipAtImageBorders=function(t,n){var r=this.x,o=this.y,i=this.right,a=this.bottom,s=Math.max(r,0),u=Math.max(o,0),l=i-s,c=a-u;return new e({x:s,y:u,width:Math.min(l,t-s),height:Math.min(c,n-u)}).floor()},e.prototype.shift=function(t,n){var r=this.width,o=this.height;return new e({x:this.x+t,y:this.y+n,width:r,height:o})},e.prototype.padAtBorders=function(e,t){var n=this.width+1,r=this.height+1,o=n,i=r,a=this.left,s=this.top,u=this.right,l=this.bottom;return u>t&&(o=-u+t+n,u=t),l>e&&(i=-l+e+r,l=e),a<1&&(i=2-a,a=1),s<1&&(i=2-s,s=1),{dy:1,edy:i,dx:1,edx:o,y:s,ey:l,x:a,ex:u,w:n,h:r}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),Jt=function(e){function t(t,n,r,o,i){return void 0===i&&(i=!1),e.call(this,{left:t,top:n,right:r,bottom:o},i)||this}return Object(Lt.c)(t,e),t}(Kt),Xt=function(){function e(e,t,n,r,o){this._imageDims=new Ft(o.width,o.height),this._score=e,this._classScore=t,this._className=n,this._box=new Kt(r).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new Kt(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),Yt=function(e){function t(t,n,r){return e.call(this,t,t,"",n,r)||this}return Object(Lt.c)(t,e),t.prototype.forSize=function(n,r){var o=e.prototype.forSize.call(this,n,r);return new t(o.score,o.relativeBox,o.imageDims)},t}(Xt);function Zt(e,t,n){void 0===n&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return n?r/(e.area+t.area-r):r/Math.min(e.area,t.area)}function en(e,t,n,r){void 0===r&&(r=!0);for(var o=t.map((function(e,t){return{score:e,boxIndex:t}})).sort((function(e,t){return e.score-t.score})).map((function(e){return e.boxIndex})),i=[],a=function(){var t=o.pop();i.push(t);for(var a=o,s=[],u=0;u<a.length;u++){var l=a[u],c=e[t],p=e[l];s.push(Zt(c,p,r))}o=o.filter((function(e,t){return s[t]<=n}))};o.length>0;)a();return i}function tn(e,t){return Dt.L((function(){var n=t[0],r=t[1],o=t[2],i=Dt.n(Object(Lt.e)(e.shape.slice(0,3),[1]),n),a=Dt.n(Object(Lt.e)(e.shape.slice(0,3),[1]),r),s=Dt.n(Object(Lt.e)(e.shape.slice(0,3),[1]),o),u=Dt.h([i,a,s],3);return Dt.F(e,u)}))}function nn(e){return 1/(1+Math.exp(-e))}var rn=function(e){function t(t,n,r,o,i){return void 0===i&&(i=!1),e.call(this,{x:t,y:n,width:r,height:o},i)||this}return Object(Lt.c)(t,e),t}(Kt),on=function(){function e(e,t,n){void 0===n&&(n=new $t(0,0));var r=t.width,o=t.height;this._imgDims=new Ft(r,o),this._shift=n,this._positions=e.map((function(e){return e.mul(new $t(r,o)).add(n)}))}return Object.defineProperty(e.prototype,"shift",{get:function(){return new $t(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map((function(t){return t.sub(e._shift).div(new $t(e.imageWidth,e.imageHeight))}))},enumerable:!0,configurable:!0}),e.prototype.forSize=function(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})},e.prototype.shiftBy=function(e,t){return new this.constructor(this.relativePositions,this._imgDims,new $t(e,t))},e.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},e.prototype.align=function(e,t){if(void 0===t&&(t={}),e){var n=e instanceof Yt?e.box.floor():new Kt(e);return this.shiftBy(n.x,n.y).align(null,t)}var r=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),o=r.useDlibAlignment,i=r.minBoxPadding;return o?this.alignDlib():this.alignMinBbox(i)},e.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),t=e[0],n=e[1],r=e[2],o=function(e){return r.sub(e).magnitude()},i=(o(t)+o(n))/2,a=Math.floor(i/.45),s=Wt(e),u=Math.floor(Math.max(0,s.x-.5*a)),l=Math.floor(Math.max(0,s.y-.43*a));return new rn(u,l,Math.min(a,this.imageWidth+u),Math.min(a,this.imageHeight+l))},e.prototype.alignMinBbox=function(e){var t,n,r,o,i,a,s,u=(t=this.positions,n=t.map((function(e){return e.x})),r=t.map((function(e){return e.y})),o=n.reduce((function(e,t){return t<e?t:e}),1/0),i=r.reduce((function(e,t){return t<e?t:e}),1/0),a=n.reduce((function(e,t){return e<t?t:e}),0),s=r.reduce((function(e,t){return e<t?t:e}),0),new Jt(o,i,a,s));return u.pad(u.width*e,u.height*e)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),an=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.getRefPointsForAlignment=function(){var e=this.positions;return[e[0],e[1],Wt([e[3],e[4]])]},t}(on),sn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(Wt)},t}(on),un=function(){function e(e,t){this._label=e,this._distance=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){return void 0===e&&(e=!0),this.label+(e?" ("+zt(this.distance)+")":"")},e}(),ln=function(e){function t(t,n){var r=e.call(this,t)||this;return r._label=n,r}return Object(Lt.c)(t,e),t.assertIsValidLabeledBox=function(e,t){if(Kt.assertIsValidBox(e,t),!Qt(e.label))throw new Error(t+" - expected property label ("+e.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(Kt),cn=function(){function e(e,t){if("string"!=typeof e)throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some((function(e){return!(e instanceof Float32Array)})))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map((function(e){return Array.from(e)}))}},e.fromJSON=function(t){var n=t.descriptors.map((function(e){return new Float32Array(e)}));return new e(t.label,n)},e}();!function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i._score=r,i._classScore=o,i}Object(Lt.c)(t,e),t.assertIsValidPredictedBox=function(e,t){if(ln.assertIsValidLabeledBox(e,t),!Gt(e.score)||!Gt(e.classScore))throw new Error(t+" - expected properties score ("+e.score+") and ("+e.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0})}(ln);function pn(e){return e.detection instanceof Yt}function dn(e,t){var n={detection:t};return Object.assign({},e,n)}function hn(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D:CanvasRenderingContext2D,Image:HTMLImageElement,ImageData:ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:function(){throw new Error("readFile - filesystem not available for browser environment")}}}var fn=n(31),mn=n(47);function gn(){return"object"==typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLImageElement&&"undefined"!=typeof HTMLCanvasElement&&"undefined"!=typeof HTMLVideoElement&&"undefined"!=typeof ImageData&&"undefined"!=typeof CanvasRenderingContext2D}var vn,yn=n(48);function bn(e){vn=e}function xn(){gn()&&bn(hn()),Object(yn.a)()&&bn(Object(mn.a)())}var wn,Cn={getEnv:function(){if(!vn)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return vn},setEnv:bn,initialize:xn,createBrowserEnv:hn,createFileSystem:fn.a,createNodejsEnv:mn.a,monkeyPatch:function(e){if(vn||xn(),!vn)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=void 0===t?vn.Canvas:t,r=e.Image,o=void 0===r?vn.Image:r;vn.Canvas=n,vn.Image=o,vn.createCanvasElement=e.createCanvasElement||function(){return new n},vn.createImageElement=e.createImageElement||function(){return new o},vn.ImageData=e.ImageData||vn.ImageData,vn.Video=e.Video||vn.Video,vn.fetch=e.fetch||vn.fetch,vn.readFile=e.readFile||vn.readFile},isBrowser:gn,isNodejs:yn.a};function _n(e){return Cn.isNodejs()||"string"!=typeof e?e:document.getElementById(e)}function Pn(e){var t=Cn.getEnv(),n=t.Canvas;if(e instanceof t.CanvasRenderingContext2D)return e;var r=_n(e);if(!(r instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var o=r.getContext("2d");if(!o)throw new Error("resolveContext2d - canvas 2d context is null");return o}xn(),function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"}(wn||(wn={}));var En=function(e){void 0===e&&(e={});var t=e.anchorPosition,n=e.backgroundColor,r=e.fontColor,o=e.fontSize,i=e.fontStyle,a=e.padding;this.anchorPosition=t||wn.TOP_LEFT,this.backgroundColor=n||"rgba(0, 0, 0, 0.5)",this.fontColor=r||"rgba(255, 255, 255, 1)",this.fontSize=o||14,this.fontStyle=i||"Georgia",this.padding=a||4},Sn=function(){function e(t,n,r){void 0===r&&(r={}),this.text="string"==typeof t?[t]:t instanceof e?t.text:t,this.anchor=n,this.options=new En(r)}return e.prototype.measureWidth=function(e){var t=this.options.padding;return this.text.map((function(t){return e.measureText(t).width})).reduce((function(e,t){return e<t?t:e}),0)+2*t},e.prototype.measureHeight=function(){var e=this.options,t=e.fontSize,n=e.padding;return this.text.length*t+2*n},e.prototype.getUpperLeft=function(e,t){var n=this.options.anchorPosition,r=n===wn.BOTTOM_RIGHT||n===wn.TOP_RIGHT,o=n===wn.BOTTOM_LEFT||n===wn.BOTTOM_RIGHT,i=this.measureWidth(e),a=this.measureHeight(),s=r?this.anchor.x-i:this.anchor.x,u=o?this.anchor.y-a:this.anchor.y;if(t){var l=t.width,c=t.height;return{x:Math.max(Math.min(s,l-i),0),y:Math.max(Math.min(u,c-a),0)}}return{x:s,y:u}},e.prototype.draw=function(e){var t=_n(e),n=Pn(t),r=this.options,o=r.backgroundColor,i=r.fontColor,a=r.fontSize,s=r.fontStyle,u=r.padding;n.font=a+"px "+s;var l=this.measureWidth(n),c=this.measureHeight();n.fillStyle=o;var p=this.getUpperLeft(n,t);n.fillRect(p.x,p.y,l,c),n.fillStyle=i,this.text.forEach((function(e,t){var r=u+p.x,o=u+p.y+(t+1)*a;n.fillText(e,r,o)}))},e}(),kn=function(e){void 0===e&&(e={});var t=e.boxColor,n=e.lineWidth,r=e.label,o=e.drawLabelOptions;this.boxColor=t||"rgba(0, 0, 255, 1)",this.lineWidth=n||2,this.label=r;var i={anchorPosition:wn.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new En(Object.assign({},i,o))};!function(){function e(e,t){void 0===t&&(t={}),this.box=new Kt(e),this.options=new kn(t)}e.prototype.draw=function(e){var t=Pn(e),n=this.options,r=n.boxColor,o=n.lineWidth,i=this.box,a=i.x,s=i.y,u=i.width,l=i.height;t.strokeStyle=r,t.lineWidth=o,t.strokeRect(a,s,u,l);var c=this.options.label;c&&new Sn([c],{x:a-o/2,y:s},this.options.drawLabelOptions).draw(e)}}();function Tn(e){var t=Cn.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function Rn(e){var t=Cn.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new Ft(e.naturalWidth,e.naturalHeight):e instanceof r?new Ft(e.videoWidth,e.videoHeight):new Ft(e.width,e.height)}function On(e){var t=e.width,n=e.height,r=(0,Cn.getEnv().createCanvasElement)();return r.width=t,r.height=n,r}function In(e,t){var n=Cn.getEnv().ImageData;if(!(e instanceof n||Tn(e)))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=t||Rn(e),o=r.width,i=r.height,a=On({width:o,height:i});return e instanceof n?Pn(a).putImageData(e,0,0):Pn(a).drawImage(e,0,0,o,i),a}function Vn(e,t){return Object(Lt.b)(this,void 0,void 0,(function(){var n,r,o,i,a,s;return Object(Lt.d)(this,(function(u){switch(u.label){case 0:return n=t||Cn.getEnv().createCanvasElement(),r=e.shape.slice(jt(e)?1:0),o=r[0],i=r[1],a=r[2],s=Dt.L((function(){return e.as3D(o,i,a).toInt()})),[4,Dt.f.toPixels(s,n)];case 1:return u.sent(),s.dispose(),[2,n]}}))}))}function An(e){var t=Cn.getEnv(),n=t.Image,r=t.Canvas,o=t.Video;return e instanceof n||e instanceof r||e instanceof o}var Dn=function(){function e(e,t){var n=this;if(void 0===t&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach((function(e,t){if(qt(e))return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape);if(jt(e)){var r=e.shape[0];if(1!==r)throw new Error("NetInput - tf.Tensor4D with batchSize "+r+" passed, but not supported in input array");return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape.slice(1))}var o=e instanceof Cn.getEnv().Canvas?e:In(e);n._canvases[t]=o,n._inputDimensions[t]=[o.height,o.width,3]}))}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var e=this;return Ht(this.batchSize,0,1).map((function(t,n){return e.getReshapedInputDimensions(n)}))},enumerable:!0,configurable:!0}),e.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},e.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},e.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},e.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},e.prototype.getReshapedInputDimensions=function(e){if("number"!=typeof this.inputSize)throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");return function(e,t){var n=e.width,r=e.height,o=t/Math.max(r,n);return new Ft(Math.round(n*o),Math.round(r*o))}({width:this.getInputWidth(e),height:this.getInputHeight(e)},this.inputSize)},e.prototype.toBatchTensor=function(e,t){var n=this;return void 0===t&&(t=!0),this._inputSize=e,Dt.L((function(){var r=Ht(n.batchSize,0,1).map((function(r){var o=n.getInput(r);if(o instanceof Dt.a){var i=jt(o)?o:o.expandDims();return(i=function(e,t){return void 0===t&&(t=!1),Dt.L((function(){var n=e.shape.slice(1),r=n[0],o=n[1];if(r===o)return e;var i=Math.abs(r-o),a=Math.round(i*(t?.5:1)),s=r>o?2:1,u=function(t){var n=e.shape.slice();return n[s]=t,Dt.n(n,0)},l=u(a),c=i-l.shape[s],p=[t&&c?u(c):null,e,l].filter((function(e){return!!e})).map((function(e){return e.toFloat()}));return Dt.h(p,s)}))}(i,t)).shape[1]===e&&i.shape[2]===e||(i=Dt.o.resizeBilinear(i,[e,e])),i.as3D(e,e,3)}if(o instanceof Cn.getEnv().Canvas)return Dt.f.fromPixels(function(e,t,n){void 0===n&&(n=!1);var r=Cn.getEnv(),o=r.Image,i=r.Canvas;if(!(e instanceof o||e instanceof i))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var a=Rn(e),s=t/Math.max(a.height,a.width),u=s*a.width,l=s*a.height,c=On({width:t,height:t}),p=e instanceof i?e:In(e),d=Math.abs(u-l)/2,h=n&&u<l?d:0,f=n&&l<u?d:0;return Pn(c).drawImage(p,h,f,u,l),c}(o,e,t));throw new Error("toBatchTensor - at batchIdx "+r+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+o)}));return Dt.E(r.map((function(e){return e.toFloat()}))).as4D(n.batchSize,e,e,3)}))},e}();function Nn(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t,n,r;return Object(Lt.d)(this,(function(o){switch(o.label){case 0:if(e instanceof Dn)return[2,e];if(!(t=Array.isArray(e)?e:[e]).length)throw new Error("toNetInput - empty array passed as input");return n=function(t){return Array.isArray(e)?" at input index "+t+":":""},(r=t.map(_n)).forEach((function(e,r){if(!An(e)&&!qt(e)&&!jt(e)){if("string"==typeof t[r])throw new Error("toNetInput -"+n(r)+" string passed, but could not resolve HTMLElement for element id "+t[r]);throw new Error("toNetInput -"+n(r)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id")}if(jt(e)){var o=e.shape[0];if(1!==o)throw new Error("toNetInput -"+n(r)+" tf.Tensor4D with batchSize "+o+" passed, but not supported in input array")}})),[4,Promise.all(r.map((function(e){return An(e)&&(t=e,new Promise((function(e,n){if(t instanceof Cn.getEnv().Canvas||Tn(t))return e();function r(t){t.currentTarget&&(t.currentTarget.removeEventListener("load",r),t.currentTarget.removeEventListener("error",o),e(t))}function o(e){e.currentTarget&&(e.currentTarget.removeEventListener("load",r),e.currentTarget.removeEventListener("error",o),n(e))}t.addEventListener("load",r),t.addEventListener("error",o)})));var t})))];case 1:return o.sent(),[2,new Dn(r,Array.isArray(e))]}}))}))}function Ln(e,t){return Object(Lt.b)(this,void 0,void 0,(function(){var n,r,o,i,a,s;return Object(Lt.d)(this,(function(u){switch(u.label){case 0:return n=Cn.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,Nn(e)];case 1:if((o=u.sent()).batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return(i=o.getInput(0))instanceof n?(a=i,[3,4]):[3,2];case 2:return[4,Vn(i)];case 3:a=u.sent(),u.label=4;case 4:r=a,u.label=5;case 5:return s=Pn(r),[2,t.map((function(e){return e instanceof Yt?e.forSize(r.width,r.height).box.floor():e})).map((function(e){return e.clipAtImageBorders(r.width,r.height)})).map((function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=On({width:r,height:o});return Pn(i).putImageData(s.getImageData(t,n,r,o),0,0),i}))]}}))}))}function Fn(e,t){return Object(Lt.b)(this,void 0,void 0,(function(){return Object(Lt.d)(this,(function(n){if(!qt(e)&&!jt(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(jt(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,Dt.L((function(){var n=e.shape.slice(jt(e)?1:0),r=n[0],o=n[1],i=n[2];return t.map((function(e){return e instanceof Yt?e.forSize(o,r).box:e})).map((function(e){return e.clipAtImageBorders(o,r)})).map((function(t){var n=t.x,a=t.y,s=t.width,u=t.height;return Dt.C(e.as3D(r,o,i),[a,n,0],[u,s,i])}))}))]}))}))}function Mn(e,t){return Object(Lt.b)(this,void 0,void 0,(function(){var n;return Object(Lt.d)(this,(function(r){switch(r.label){case 0:return[4,(0,Cn.getEnv().fetch)(e,t)];case 1:if(!((n=r.sent()).status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}}))}))}function qn(e){return Object(Lt.b)(this,void 0,void 0,(function(){return Object(Lt.d)(this,(function(t){switch(t.label){case 0:return[4,Mn(e)];case 1:return[2,t.sent().json()]}}))}))}function jn(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if("/"===e)return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"",o=(e=e.replace(r,"")).split("/").filter((function(e){return e})),i=e.endsWith(".json")?o[o.length-1]:n,a=r+(e.endsWith(".json")?o.slice(0,o.length-1):o).join("/");return{modelBaseUri:a=e.startsWith("/")?"/"+a:a,manifestUri:"/"===a?"/"+i:a+"/"+i}}function Bn(e,t){return Object(Lt.b)(this,void 0,void 0,(function(){var n,r,o,i;return Object(Lt.d)(this,(function(a){switch(a.label){case 0:return n=jn(e,t),r=n.manifestUri,o=n.modelBaseUri,[4,qn(r)];case 1:return i=a.sent(),[2,Dt.p.loadWeights(i,o)]}}))}))}var zn=function(){function e(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(e){var t=this.traversePropertyPath(e);return t.obj[t.objProp]},e.prototype.reassignParamFromPath=function(e,t){var n=this.traversePropertyPath(e),r=n.obj,o=n.objProp;r[o].dispose(),r[o]=t},e.prototype.getParamList=function(){var e=this;return this._paramMappings.map((function(t){var n=t.paramPath;return{path:n,tensor:e.getParamFromPath(n)}}))},e.prototype.getTrainableParams=function(){return this.getParamList().filter((function(e){return e.tensor instanceof Dt.b}))},e.prototype.getFrozenParams=function(){return this.getParamList().filter((function(e){return!(e.tensor instanceof Dt.b)}))},e.prototype.variable=function(){var e=this;this.getFrozenParams().forEach((function(t){var n=t.path,r=t.tensor;e.reassignParamFromPath(n,r.variable())}))},e.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach((function(t){var n=t.path,r=t.tensor,o=Dt.G(r.dataSync());r.dispose(),e.reassignParamFromPath(n,o)}))},e.prototype.dispose=function(e){void 0===e&&(e=!0),this.getParamList().forEach((function(t){if(e&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()})),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map((function(e){var t=e.tensor;return Array.from(t.dataSync())})).reduce((function(e,t){return e.concat(t)})))},e.prototype.load=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){return Object(Lt.d)(this,(function(t){switch(t.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.loadFromUri=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:if(e&&"string"!=typeof e)throw new Error(this._name+".loadFromUri - expected model uri");return[4,Bn(e,this.getDefaultModelName())];case 1:return t=n.sent(),this.loadFromWeightMap(t),[2]}}))}))},e.prototype.loadFromDisk=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,l,c;return Object(Lt.d)(this,(function(p){switch(p.label){case 0:if(e&&"string"!=typeof e)throw new Error(this._name+".loadFromDisk - expected model file path");return t=Cn.getEnv().readFile,n=jn(e,this.getDefaultModelName()),r=n.manifestUri,o=n.modelBaseUri,i=function(e){return Promise.all(e.map((function(e){return t(e).then((function(e){return e.buffer}))})))},a=Dt.p.weightsLoaderFactory(i),l=(u=JSON).parse,[4,t(r)];case 1:return s=l.apply(u,[p.sent().toString()]),[4,a(s,o)];case 2:return c=p.sent(),this.loadFromWeightMap(c),[2]}}))}))},e.prototype.loadFromWeightMap=function(e){var t=this.extractParamsFromWeigthMap(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.extractWeights=function(e){var t=this.extractParams(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=e.split("/").reduce((function(t,n){if(!t.nextObj.hasOwnProperty(n))throw new Error("traversePropertyPath - object does not have property "+n+", for path "+e);return{obj:t.nextObj,objProp:n,nextObj:t.nextObj[n]}}),{nextObj:this.params}),n=t.obj,r=t.objProp;if(!(n&&r&&n[r]instanceof Dt.a))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:n,objProp:r}},e}();function Un(e,t,n){return Dt.L((function(){var r=Dt.z(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=Dt.c(r,t.bias)}))}function Wn(e,t,n){return void 0===n&&(n=!1),Dt.L((function(){var r=Dt.w(n?Dt.c(Dt.i(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):Un(e,t.conv0,[2,2])),o=Un(r,t.conv1,[1,1]),i=Un(Dt.w(Dt.c(r,o)),t.conv2,[1,1]);return Dt.w(Dt.c(r,Dt.c(o,i)))}))}function Hn(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!0),Dt.L((function(){var o=Dt.w(n?Dt.c(Dt.i(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):Un(e,t.conv0,r?[2,2]:[1,1])),i=Un(o,t.conv1,[1,1]),a=Un(Dt.w(Dt.c(o,i)),t.conv2,[1,1]),s=Un(Dt.w(Dt.c(o,Dt.c(i,a))),t.conv3,[1,1]);return Dt.w(Dt.c(o,Dt.c(i,Dt.c(a,s))))}))}function Qn(e,t,n,r){return void 0===n&&(n="same"),void 0===r&&(r=!1),Dt.L((function(){var o=Dt.c(Dt.i(e,t.filters,[1,1],n),t.bias);return r?Dt.w(o):o}))}function Gn(e,t){Object.keys(e).forEach((function(n){t.some((function(e){return e.originalPath===n}))||e[n].dispose()}))}function $n(e,t){return function(n,r,o,i){var a=Dt.K(e(n*r*o*o),[o,o,n,r]),s=Dt.H(e(r));return t.push({paramPath:i+"/filters"},{paramPath:i+"/bias"}),{filters:a,bias:s}}}function Kn(e,t){return function(n,r,o){var i=Dt.I(e(n*r),[n,r]),a=Dt.H(e(r));return t.push({paramPath:o+"/weights"},{paramPath:o+"/bias"}),{weights:i,bias:a}}}var Jn=function(e,t,n){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=n};function Xn(e,t){return function(n,r,o){var i=Dt.K(e(9*n),[3,3,n,1]),a=Dt.K(e(n*r),[1,1,n,r]),s=Dt.H(e(r));return t.push({paramPath:o+"/depthwise_filter"},{paramPath:o+"/pointwise_filter"},{paramPath:o+"/bias"}),new Jn(i,a,s)}}function Yn(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),o=e(t+"/bias",1);return new Jn(n,r,o)}}function Zn(e,t){return function(n,r,o){var i=e[n];if(!Mt(i,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+i);return t.push({originalPath:n,paramPath:o||n}),i}}function er(e){var t=e;return{extractWeights:function(e){var n=t.slice(0,e);return t=t.slice(e),n},getRemainingWeights:function(){return t}}}function tr(e,t){var n=$n(e,t),r=Xn(e,t);function o(e,t,o,i){return void 0===i&&(i=!1),{conv0:i?n(e,t,3,o+"/conv0"):r(e,t,o+"/conv0"),conv1:r(t,t,o+"/conv1"),conv2:r(t,t,o+"/conv2")}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:function(e,t,n,i){void 0===i&&(i=!1);var a=o(e,t,n,i);return{conv0:a.conv0,conv1:a.conv1,conv2:a.conv2,conv3:r(t,t,n+"/conv3")}}}}function nr(e){return function(t){return{filters:e(t+"/filters",4),bias:e(t+"/bias",1)}}}function rr(e,t){var n=Zn(e,t),r=nr(n),o=Yn(n);return{extractDenseBlock3Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):o(e+"/conv0"),conv1:o(e+"/conv1"),conv2:o(e+"/conv2")}},extractDenseBlock4Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):o(e+"/conv0"),conv1:o(e+"/conv1"),conv2:o(e+"/conv2"),conv3:o(e+"/conv3")}}}}var or=function(e){function t(){return e.call(this,"FaceFeatureExtractor")||this}return Object(Lt.c)(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceFeatureExtractor - load model before inference");return Dt.L((function(){var n=Hn(tn(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(Dt.y(255)),t.dense0,!0);return n=Hn(n,t.dense1),n=Hn(n,t.dense2),n=Hn(n,t.dense3),n=Dt.d(n,[7,7],[2,2],"valid")}))},t.prototype.forward=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nn(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=rr(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return Gn(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=er(e),r=n.extractWeights,o=n.getRemainingWeights,i=tr(r,t).extractDenseBlock4Params,a=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2"),l=i(128,256,"dense3");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:a,dense1:s,dense2:u,dense3:l}}}(e)},t}(zn);function ir(e,t){return Dt.L((function(){return Dt.c(Dt.q(e,t.weights),t.bias)}))}function ar(e){var t={},n={};return Object.keys(e).forEach((function(r){(r.startsWith("fc")?n:t)[r]=e[r]})),{featureExtractorMap:t,classifierMap:n}}var sr=function(e){function t(t,n){var r=e.call(this,t)||this;return r._faceFeatureExtractor=n,r}return Object(Lt.c)(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return Dt.L((function(){var r=e instanceof Dn?t.faceFeatureExtractor.forwardInput(e):e;return ir(r.as2D(r.shape[0],-1),n.fc)}))},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e,t,n){var r=[],o=er(e),i=o.extractWeights,a=o.getRemainingWeights,s=Kn(i,r)(t,n,"fc");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:r,params:{fc:s}}}(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(e){var t=ar(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t,n=[],r=Zn(e,n),o={fc:(t="fc",{weights:r(t+"/weights",2),bias:r(t+"/bias",1)})};return Gn(e,n),{params:o,paramMappings:n}}(r)},t.prototype.extractParams=function(e){var t=this.getClassifierChannelsIn(),n=this.getClassifierChannelsOut(),r=n*t+n,o=e.slice(0,e.length-r),i=e.slice(e.length-r);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(i)},t}(zn),ur=["neutral","happy","sad","angry","fearful","disgusted","surprised"],lr=function(){function e(e){var t=this;if(7!==e.length)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);ur.forEach((function(n,r){t[n]=e[r]}))}return e.prototype.asSortedArray=function(){var e=this;return ur.map((function(t){return{expression:t,probability:e[t]}})).sort((function(e,t){return t.probability-e.probability}))},e}(),cr=function(e){function t(t){return void 0===t&&(t=new or),e.call(this,"FaceExpressionNet",t)||this}return Object(Lt.c)(t,e),t.prototype.forwardInput=function(e){var t=this;return Dt.L((function(){return Dt.D(t.runNet(e))}))},t.prototype.forward=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nn(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.predictExpressions=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t,n,r,o,i=this;return Object(Lt.d)(this,(function(a){switch(a.label){case 0:return[4,Nn(e)];case 1:return t=a.sent(),[4,this.forwardInput(t)];case 2:return n=a.sent(),[4,Promise.all(Dt.O(n).map((function(e){return Object(Lt.b)(i,void 0,void 0,(function(){var t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return[4,e.data()];case 1:return t=n.sent(),e.dispose(),[2,t]}}))}))})))];case 3:return r=a.sent(),n.dispose(),o=r.map((function(e){return new lr(e)})),[2,t.isBatchInput?o:o[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(sr);function pr(e,t){var n={expressions:t};return Object.assign({},e,n)}function dr(e){return pn(e)&&e.landmarks instanceof on&&e.unshiftedLandmarks instanceof on&&e.alignedRect instanceof Yt}function hr(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),o=r.align(),i=e.detection.imageDims,a={landmarks:r,unshiftedLandmarks:t,alignedRect:new Yt(e.detection.score,o.rescale(i.reverse()),i)};return Object.assign({},e,a)}var fr=function(e){void 0===e&&(e={});var t=e.drawLines,n=void 0===t||t,r=e.drawPoints,o=void 0===r||r,i=e.lineWidth,a=e.lineColor,s=e.pointSize,u=e.pointColor;this.drawLines=n,this.drawPoints=o,this.lineWidth=i||1,this.pointSize=s||2,this.lineColor=a||"rgba(0, 255, 255, 1)",this.pointColor=u||"rgba(255, 0, 255, 1)"};!function(){function e(e,t){void 0===t&&(t={}),this.faceLandmarks=e,this.options=new fr(t)}e.prototype.draw=function(e){var t=Pn(e),n=this.options,r=n.drawLines,o=n.drawPoints,i=n.lineWidth,a=n.lineColor,s=n.pointSize,u=n.pointColor;if(r&&this.faceLandmarks instanceof sn&&(t.strokeStyle=a,t.lineWidth=i,Nt(t,this.faceLandmarks.getJawOutline()),Nt(t,this.faceLandmarks.getLeftEyeBrow()),Nt(t,this.faceLandmarks.getRightEyeBrow()),Nt(t,this.faceLandmarks.getNose()),Nt(t,this.faceLandmarks.getLeftEye(),!0),Nt(t,this.faceLandmarks.getRightEye(),!0),Nt(t,this.faceLandmarks.getMouth(),!0)),o){t.strokeStyle=u,t.fillStyle=u;this.faceLandmarks.positions.forEach((function(e){t.beginPath(),t.arc(e.x,e.y,s,0,2*Math.PI),t.fill()}))}}}();function mr(e,t){var n=[],r=er(e),o=r.extractWeights,i=r.getRemainingWeights,a=function(e,t){var n=$n(e,t),r=Xn(e,t);return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:function(e,t,o){return{separable_conv0:r(e,t,o+"/separable_conv0"),separable_conv1:r(t,t,o+"/separable_conv1"),expansion_conv:n(e,t,1,o+"/expansion_conv")}},extractMainBlockParams:function(e,t){return{separable_conv0:r(e,e,t+"/separable_conv0"),separable_conv1:r(e,e,t+"/separable_conv1"),separable_conv2:r(e,e,t+"/separable_conv2")}}}}(o,n),s=a.extractConvParams,u=a.extractSeparableConvParams,l=a.extractReductionBlockParams,c=a.extractMainBlockParams,p={conv_in:s(3,32,3,"entry_flow/conv_in"),reduction_block_0:l(32,64,"entry_flow/reduction_block_0"),reduction_block_1:l(64,128,"entry_flow/reduction_block_1")},d={};Ht(t,0,1).forEach((function(e){d["main_block_"+e]=c(128,"middle_flow/main_block_"+e)}));var h={reduction_block:l(128,256,"exit_flow/reduction_block"),separable_conv:u(256,512,"exit_flow/separable_conv")};if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:n,params:{entry_flow:p,middle_flow:d,exit_flow:h}}}function gr(e,t){var n=[],r=function(e,t){var n=Zn(e,t),r=nr(n),o=Yn(n);return{extractConvParams:r,extractSeparableConvParams:o,extractReductionBlockParams:function(e){return{separable_conv0:o(e+"/separable_conv0"),separable_conv1:o(e+"/separable_conv1"),expansion_conv:r(e+"/expansion_conv")}},extractMainBlockParams:function(e){return{separable_conv0:o(e+"/separable_conv0"),separable_conv1:o(e+"/separable_conv1"),separable_conv2:o(e+"/separable_conv2")}}}}(e,n),o=r.extractConvParams,i=r.extractSeparableConvParams,a=r.extractReductionBlockParams,s=r.extractMainBlockParams,u={conv_in:o("entry_flow/conv_in"),reduction_block_0:a("entry_flow/reduction_block_0"),reduction_block_1:a("entry_flow/reduction_block_1")},l={};Ht(t,0,1).forEach((function(e){l["main_block_"+e]=s("middle_flow/main_block_"+e)}));var c={reduction_block:a("exit_flow/reduction_block"),separable_conv:i("exit_flow/separable_conv")};return Gn(e,n),{params:{entry_flow:u,middle_flow:l,exit_flow:c},paramMappings:n}}function vr(e,t,n){return Dt.c(Dt.i(e,t.filters,n,"same"),t.bias)}function yr(e,t,n){void 0===n&&(n=!0);var r=n?Dt.w(e):e;return r=Un(r,t.separable_conv0,[1,1]),r=Un(Dt.w(r),t.separable_conv1,[1,1]),r=Dt.s(r,[3,3],[2,2],"same"),r=Dt.c(r,vr(e,t.expansion_conv,[2,2]))}var br,xr=function(e){function t(t){var n=e.call(this,"TinyXception")||this;return n._numMainBlocks=t,n}return Object(Lt.c)(t,e),t.prototype.forwardInput=function(e){var t=this,n=this.params;if(!n)throw new Error("TinyXception - load model before inference");return Dt.L((function(){var r=tn(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(Dt.y(256)),o=Dt.w(vr(r,n.entry_flow.conv_in,[2,2]));return o=yr(o,n.entry_flow.reduction_block_0,!1),o=yr(o,n.entry_flow.reduction_block_1),Ht(t._numMainBlocks,0,1).forEach((function(e){o=function(e,t){var n=Un(Dt.w(e),t.separable_conv0,[1,1]);return n=Un(Dt.w(n),t.separable_conv1,[1,1]),n=Un(Dt.w(n),t.separable_conv2,[1,1]),n=Dt.c(n,e)}(o,n.middle_flow["main_block_"+e])})),o=yr(o,n.exit_flow.reduction_block),o=Dt.w(Un(o,n.exit_flow.separable_conv,[1,1]))}))},t.prototype.forward=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nn(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(e){return gr(e,this._numMainBlocks)},t.prototype.extractParams=function(e){return mr(e,this._numMainBlocks)},t}(zn);!function(e){e.FEMALE="female",e.MALE="male"}(br||(br={}));var wr=function(e){function t(t){void 0===t&&(t=new xr(2));var n=e.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=t,n}return Object(Lt.c)(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return Dt.L((function(){var r=e instanceof Dn?t.faceFeatureExtractor.forwardInput(e):e,o=Dt.d(r,[7,7],[2,2],"valid").as2D(r.shape[0],-1);return{age:ir(o,n.fc.age).as1D(),gender:ir(o,n.fc.gender)}}))},t.prototype.forwardInput=function(e){var t=this;return Dt.L((function(){var n=t.runNet(e),r=n.age,o=n.gender;return{age:r,gender:Dt.D(o)}}))},t.prototype.forward=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nn(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.predictAgeAndGender=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s=this;return Object(Lt.d)(this,(function(u){switch(u.label){case 0:return[4,Nn(e)];case 1:return t=u.sent(),[4,this.forwardInput(t)];case 2:return n=u.sent(),r=Dt.O(n.age),o=Dt.O(n.gender),i=r.map((function(e,t){return{ageTensor:e,genderTensor:o[t]}})),[4,Promise.all(i.map((function(e){var t=e.ageTensor,n=e.genderTensor;return Object(Lt.b)(s,void 0,void 0,(function(){var e,r,o,i,a;return Object(Lt.d)(this,(function(s){switch(s.label){case 0:return[4,t.data()];case 1:return e=s.sent()[0],[4,n.data()];case 2:return r=s.sent()[0],i=(o=r>.5)?br.MALE:br.FEMALE,a=o?r:1-r,t.dispose(),n.dispose(),[2,{age:e,gender:i,genderProbability:a}]}}))}))})))];case 3:return a=u.sent(),n.age.dispose(),n.gender.dispose(),[2,t.isBatchInput?a:a[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e){var t=[],n=er(e),r=n.extractWeights,o=n.getRemainingWeights,i=Kn(r,t),a=i(512,1,"fc/age"),s=i(512,2,"fc/gender");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{fc:{age:a,gender:s}}}}(e)},t.prototype.extractParamsFromWeigthMap=function(e){var t=ar(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=Zn(e,t);function r(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}var o={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Gn(e,t),{params:o,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=e.slice(0,e.length-1539),n=e.slice(e.length-1539);return this.faceFeatureExtractor.extractWeights(t),this.extractClassifierParams(n)},t}(zn),Cr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.postProcess=function(e,t,n){var r=n.map((function(e){var n=e.width,r=e.height,o=t/Math.max(r,n);return{width:n*o,height:r*o}})),o=r.length;return Dt.L((function(){var n=function(e,t){return Dt.E([Dt.n([68],e),Dt.n([68],t)],1).as2D(1,136).as1D()},i=function(e,t){var n=r[e],o=n.width,i=n.height;return t(o,i)?Math.abs(o-i)/2:0};return e.mul(Dt.n([o,136],t)).sub(Dt.E(Array.from(Array(o),(function(e,t){return n(function(e){return i(e,(function(e,t){return e<t}))}(t),function(e){return i(e,(function(e,t){return t<e}))}(t))})))).div(Dt.E(Array.from(Array(o),(function(e,t){return n(r[t].width,r[t].height)}))))}))},t.prototype.forwardInput=function(e){var t=this;return Dt.L((function(){var n=t.runNet(e);return t.postProcess(n,e.inputSize,e.inputDimensions.map((function(e){return{height:e[0],width:e[1]}})))}))},t.prototype.forward=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nn(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.detectLandmarks=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t,n,r,o=this;return Object(Lt.d)(this,(function(i){switch(i.label){case 0:return[4,Nn(e)];case 1:return t=i.sent(),n=Dt.L((function(){return Dt.O(o.forwardInput(t))})),[4,Promise.all(n.map((function(e,n){return Object(Lt.b)(o,void 0,void 0,(function(){var r,o,i,a,s;return Object(Lt.d)(this,(function(u){switch(u.label){case 0:return i=(o=Array).from,[4,e.data()];case 1:return r=i.apply(o,[u.sent()]),a=r.filter((function(e,t){return Bt(t)})),s=r.filter((function(e,t){return!Bt(t)})),[2,new sn(Array(68).fill(0).map((function(e,t){return new $t(a[t],s[t])})),{height:t.getInputHeight(n),width:t.getInputWidth(n)})]}}))}))})))];case 2:return r=i.sent(),n.forEach((function(e){return e.dispose()})),[2,t.isBatchInput?r:r[0]]}}))}))},t.prototype.getClassifierChannelsOut=function(){return 136},t}(sr),_r=function(e){function t(t){return void 0===t&&(t=new or),e.call(this,"FaceLandmark68Net",t)||this}return Object(Lt.c)(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(Cr);var Pr=function(e){function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return Object(Lt.c)(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("TinyFaceFeatureExtractor - load model before inference");return Dt.L((function(){var n=Wn(tn(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(Dt.y(255)),t.dense0,!0);return n=Wn(n,t.dense1),n=Wn(n,t.dense2),n=Dt.d(n,[14,14],[2,2],"valid")}))},t.prototype.forward=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nn(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=rr(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return Gn(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=er(e),r=n.extractWeights,o=n.getRemainingWeights,i=tr(r,t).extractDenseBlock3Params,a=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:a,dense1:s,dense2:u}}}(e)},t}(zn),Er=function(e){function t(t){return void 0===t&&(t=new Pr),e.call(this,"FaceLandmark68TinyNet",t)||this}return Object(Lt.c)(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(Cr);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(Lt.c)(t,e)}(_r);function Sr(e,t,n,r,o){void 0===o&&(o="same");var i=t.conv,a=i.filters,s=i.bias,u=Dt.i(e,a,n,o);return u=function(e,t){return Dt.c(Dt.t(e,t.weights),t.biases)}(u=Dt.c(u,s),t.scale),r?Dt.w(u):u}function kr(e,t){return Sr(e,t,[1,1],!1)}function Tr(e,t){return Sr(e,t,[2,2],!0,"valid")}function Rr(e,t){function n(n,r,o,i){var a=function(t,n,r){var o=e(t),i=o.length/(n*r*r);if(i%1!=0)throw new Error("depth has to be an integer: "+i+", weights.length: "+o.length+", numFilters: "+n+", filterSize: "+r);return Dt.L((function(){return Dt.N(Dt.K(o,[n,i,r,r]),[2,3,1,0])}))}(n,r,o),s=Dt.H(e(r));return t.push({paramPath:i+"/filters"},{paramPath:i+"/bias"}),{filters:a,bias:s}}function r(r,o,i,a){return{conv:n(r,o,i,a+"/conv"),scale:function(n,r){var o=Dt.H(e(n)),i=Dt.H(e(n));return t.push({paramPath:r+"/weights"},{paramPath:r+"/biases"}),{weights:o,biases:i}}(o,a+"/scale")}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e,t,n,o,i){return void 0===i&&(i=!1),{conv1:r((i?.5:1)*e,t,n,o+"/conv1"),conv2:r(e,t,n,o+"/conv2")}}}}function Or(e,t){var n=Zn(e,t);function r(e){return{conv:{filters:n(e+"/conv/filters",4),bias:n(e+"/conv/bias",1)},scale:function(e){return{weights:n(e+"/scale/weights",1),biases:n(e+"/scale/biases",1)}}(e)}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e){return{conv1:r(e+"/conv1"),conv2:r(e+"/conv2")}}}}function Ir(e){var t=[],n=Or(e,t),r=n.extractConvLayerParams,o=n.extractResidualLayerParams,i=r("conv32_down"),a=o("conv32_1"),s=o("conv32_2"),u=o("conv32_3"),l=o("conv64_down"),c=o("conv64_1"),p=o("conv64_2"),d=o("conv64_3"),h=o("conv128_down"),f=o("conv128_1"),m=o("conv128_2"),g=o("conv256_down"),v=o("conv256_1"),y=o("conv256_2"),b=o("conv256_down_out"),x=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!Mt(x,2))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+x);var w={conv32_down:i,conv32_1:a,conv32_2:s,conv32_3:u,conv64_down:l,conv64_1:c,conv64_2:p,conv64_3:d,conv128_down:h,conv128_1:f,conv128_2:m,conv256_down:g,conv256_1:v,conv256_2:y,conv256_down_out:b,fc:x};return Gn(e,t),{params:w,paramMappings:t}}function Vr(e,t){var n=function(e,t){return Sr(e,t,[1,1],!0)}(e,t.conv1);return n=kr(n,t.conv2),n=Dt.c(n,e),n=Dt.w(n)}function Ar(e,t){var n=Tr(e,t.conv1);n=kr(n,t.conv2);var r=Dt.d(e,2,2,"valid"),o=Dt.P(r.shape),i=r.shape[3]!==n.shape[3];if(r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2]){var a=Object(Lt.e)(n.shape);a[1]=1;var s=Dt.P(a);n=Dt.h([n,s],1);var u=Object(Lt.e)(n.shape);u[2]=1;var l=Dt.P(u);n=Dt.h([n,l],2)}return r=i?Dt.h([r,o],3):r,n=Dt.c(r,n),n=Dt.w(n)}var Dr=function(e){function t(){return e.call(this,"FaceRecognitionNet")||this}return Object(Lt.c)(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceRecognitionNet - load model before inference");return Dt.L((function(){var n=Tr(tn(e.toBatchTensor(150,!0).toFloat(),[122.782,117.001,104.298]).div(Dt.y(256)),t.conv32_down);n=Vr(n=Dt.s(n,3,2,"valid"),t.conv32_1),n=Vr(n,t.conv32_2),n=Vr(n,t.conv32_3),n=Vr(n=Ar(n,t.conv64_down),t.conv64_1),n=Vr(n,t.conv64_2),n=Vr(n,t.conv64_3),n=Vr(n=Ar(n,t.conv128_down),t.conv128_1),n=Vr(n,t.conv128_2),n=Vr(n=Ar(n,t.conv256_down),t.conv256_1);var r=(n=Ar(n=Vr(n,t.conv256_2),t.conv256_down_out)).mean([1,2]);return Dt.q(r,t.fc)}))},t.prototype.forward=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nn(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.computeFaceDescriptor=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t,n,r,o=this;return Object(Lt.d)(this,(function(i){switch(i.label){case 0:return[4,Nn(e)];case 1:return t=i.sent(),n=Dt.L((function(){return Dt.O(o.forwardInput(t))})),[4,Promise.all(n.map((function(e){return e.data()})))];case 2:return r=i.sent(),n.forEach((function(e){return e.dispose()})),[2,t.isBatchInput?r:r[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(e){return Ir(e)},t.prototype.extractParams=function(e){return function(e){var t=er(e),n=t.extractWeights,r=t.getRemainingWeights,o=[],i=Rr(n,o),a=i.extractConvLayerParams,s=i.extractResidualLayerParams,u=a(4704,32,7,"conv32_down"),l=s(9216,32,3,"conv32_1"),c=s(9216,32,3,"conv32_2"),p=s(9216,32,3,"conv32_3"),d=s(36864,64,3,"conv64_down",!0),h=s(36864,64,3,"conv64_1"),f=s(36864,64,3,"conv64_2"),m=s(36864,64,3,"conv64_3"),g=s(147456,128,3,"conv128_down",!0),v=s(147456,128,3,"conv128_1"),y=s(147456,128,3,"conv128_2"),b=s(589824,256,3,"conv256_down",!0),x=s(589824,256,3,"conv256_1"),w=s(589824,256,3,"conv256_2"),C=s(589824,256,3,"conv256_down_out"),_=Dt.L((function(){return Dt.N(Dt.I(n(32768),[128,256]),[1,0])}));if(o.push({paramPath:"fc"}),0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{conv32_down:u,conv32_1:l,conv32_2:c,conv32_3:p,conv64_down:d,conv64_1:h,conv64_2:f,conv64_3:m,conv128_down:g,conv128_1:v,conv128_2:y,conv256_down:b,conv256_1:x,conv256_2:w,conv256_down_out:C,fc:_},paramMappings:o}}(e)},t}(zn);function Nr(e,t){var n={descriptor:t};return Object.assign({},e,n)}function Lr(e,t){var n={age:t};return Object.assign({},e,n)}function Fr(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var Mr=function(){function e(e){var t=void 0===e?{}:e,n=t.minFaceSize,r=t.scaleFactor,o=t.maxNumScales,i=t.scoreThresholds,a=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=r||.709,this._maxNumScales=o||10,this._scoreThresholds=i||[.6,.7,.7],this._scaleSteps=a,"number"!=typeof this._minFaceSize||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if("number"!=typeof this._scaleFactor||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if("number"!=typeof this._maxNumScales||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||3!==this._scoreThresholds.length||this._scoreThresholds.some((function(e){return"number"!=typeof e})))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some((function(e){return"number"!=typeof e}))))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function qr(e,t){function n(n,r,o,i,a){var s=Dt.K(e(n*r*o*o),[o,o,n,r]),u=Dt.H(e(r));return t.push({paramPath:i+"/filters"},{paramPath:i+"/"+(a?"batch_norm_offset":"bias")}),{filters:s,bias:u}}function r(e,t,r,o){var i=n(e,t,r,o,!0);return{filters:i.filters,batch_norm_offset:i.bias}}function o(n,o,i){return{depthwise_conv:function(n,r){var o=Dt.K(e(9*n),[3,3,n,1]),i=Dt.H(e(n)),a=Dt.H(e(n)),s=Dt.H(e(n)),u=Dt.H(e(n));return t.push({paramPath:r+"/filters"},{paramPath:r+"/batch_norm_scale"},{paramPath:r+"/batch_norm_offset"},{paramPath:r+"/batch_norm_mean"},{paramPath:r+"/batch_norm_variance"}),{filters:o,batch_norm_scale:i,batch_norm_offset:a,batch_norm_mean:s,batch_norm_variance:u}}(n,i+"/depthwise_conv"),pointwise_conv:r(n,o,1,i+"/pointwise_conv")}}return{extractMobilenetV1Params:function(){return{conv_0:r(3,32,3,"mobilenetv1/conv_0"),conv_1:o(32,64,"mobilenetv1/conv_1"),conv_2:o(64,128,"mobilenetv1/conv_2"),conv_3:o(128,128,"mobilenetv1/conv_3"),conv_4:o(128,256,"mobilenetv1/conv_4"),conv_5:o(256,256,"mobilenetv1/conv_5"),conv_6:o(256,512,"mobilenetv1/conv_6"),conv_7:o(512,512,"mobilenetv1/conv_7"),conv_8:o(512,512,"mobilenetv1/conv_8"),conv_9:o(512,512,"mobilenetv1/conv_9"),conv_10:o(512,512,"mobilenetv1/conv_10"),conv_11:o(512,512,"mobilenetv1/conv_11"),conv_12:o(512,1024,"mobilenetv1/conv_12"),conv_13:o(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function(){return{conv_0:r(1024,256,1,"prediction_layer/conv_0"),conv_1:r(256,512,3,"prediction_layer/conv_1"),conv_2:r(512,128,1,"prediction_layer/conv_2"),conv_3:r(128,256,3,"prediction_layer/conv_3"),conv_4:r(256,128,1,"prediction_layer/conv_4"),conv_5:r(128,256,3,"prediction_layer/conv_5"),conv_6:r(256,64,1,"prediction_layer/conv_6"),conv_7:r(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:n(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:n(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:n(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}function jr(e){var t=[],n=function(e,t){var n=Zn(e,t);function r(e,t,r){return{filters:n(e+"/Conv2d_"+t+"_pointwise/weights",4,r+"/filters"),batch_norm_offset:n(e+"/Conv2d_"+t+"_pointwise/convolution_bn_offset",1,r+"/batch_norm_offset")}}function o(e){var t="mobilenetv1/conv_"+e,o="MobilenetV1/Conv2d_"+e+"_depthwise",i=t+"/depthwise_conv",a=t+"/pointwise_conv";return{depthwise_conv:{filters:n(o+"/depthwise_weights",4,i+"/filters"),batch_norm_scale:n(o+"/BatchNorm/gamma",1,i+"/batch_norm_scale"),batch_norm_offset:n(o+"/BatchNorm/beta",1,i+"/batch_norm_offset"),batch_norm_mean:n(o+"/BatchNorm/moving_mean",1,i+"/batch_norm_mean"),batch_norm_variance:n(o+"/BatchNorm/moving_variance",1,i+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",e,a)}}function i(e,t){return{filters:n(e+"/weights",4,t+"/filters"),bias:n(e+"/biases",1,t+"/bias")}}function a(e){return{box_encoding_predictor:i("Prediction/BoxPredictor_"+e+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+e+"/box_encoding_predictor"),class_predictor:i("Prediction/BoxPredictor_"+e+"/ClassPredictor","prediction_layer/box_predictor_"+e+"/class_predictor")}}return{extractMobilenetV1Params:function(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:o(1),conv_2:o(2),conv_3:o(3),conv_4:o(4),conv_5:o(5),conv_6:o(6),conv_7:o(7),conv_8:o(8),conv_9:o(9),conv_10:o(10),conv_11:o(11),conv_12:o(12),conv_13:o(13)}},extractPredictionLayerParams:function(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:a(0),box_predictor_1:a(1),box_predictor_2:a(2),box_predictor_3:a(3),box_predictor_4:a(4),box_predictor_5:a(5)}}}}(e,t),r=n.extractMobilenetV1Params,o=n.extractPredictionLayerParams,i=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!qt(i))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+i);var a={mobilenetv1:r(),prediction_layer:o(),output_layer:{extra_dim:i}};return Gn(e,t),{params:a,paramMappings:t}}function Br(e,t,n){return Dt.L((function(){var r=Dt.i(e,t.filters,n,"same");return r=Dt.c(r,t.batch_norm_offset),Dt.g(r,0,6)}))}function zr(e,t){return Dt.L((function(){var n=null,r=Br(e,t.conv_0,[2,2]);if([t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13].forEach((function(e,t){var o=t+1,i=function(e){return[2,4,6,12].some((function(t){return t===e}))?[2,2]:[1,1]}(o);r=Br(r=function(e,t,n){return Dt.L((function(){var r=Dt.j(e,t.filters,n,"same");return r=Dt.e(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,.0010000000474974513),Dt.g(r,0,6)}))}(r,e.depthwise_conv,i),e.pointwise_conv,[1,1]),11===o&&(n=r)})),null===n)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}}))}function Ur(e,t,n){var r=e.arraySync(),o=Math.min(r[t][0],r[t][2]),i=Math.min(r[t][1],r[t][3]),a=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),u=Math.min(r[n][0],r[n][2]),l=Math.min(r[n][1],r[n][3]),c=Math.max(r[n][0],r[n][2]),p=Math.max(r[n][1],r[n][3]),d=(a-o)*(s-i),h=(c-u)*(p-l);if(d<=0||h<=0)return 0;var f=Math.max(o,u),m=Math.max(i,l),g=Math.min(a,c),v=Math.min(s,p),y=Math.max(g-f,0)*Math.max(v-m,0);return y/(d+h-y)}function Wr(e,t){var n=function(e){var t=Dt.O(Dt.N(e,[1,0])),n=[Dt.F(t[2],t[0]),Dt.F(t[3],t[1])];return{sizes:n,centers:[Dt.c(t[0],Dt.k(n[0],Dt.y(2))),Dt.c(t[1],Dt.k(n[1],Dt.y(2)))]}}(e),r=n.sizes,o=n.centers,i=Dt.O(Dt.N(t,[1,0])),a=Dt.k(Dt.t(Dt.l(Dt.k(i[2],Dt.y(5))),r[0]),Dt.y(2)),s=Dt.c(Dt.t(Dt.k(i[0],Dt.y(10)),r[0]),o[0]),u=Dt.k(Dt.t(Dt.l(Dt.k(i[3],Dt.y(5))),r[1]),Dt.y(2)),l=Dt.c(Dt.t(Dt.k(i[1],Dt.y(10)),r[1]),o[1]);return Dt.N(Dt.E([Dt.F(s,a),Dt.F(l,u),Dt.c(s,a),Dt.c(l,u)]),[1,0])}function Hr(e,t){return Dt.L((function(){var n=e.shape[0];return{boxPredictionEncoding:Dt.x(Qn(e,t.box_encoding_predictor),[n,-1,1,4]),classPrediction:Dt.x(Qn(e,t.class_predictor),[n,-1,3])}}))}var Qr=function(){function e(e){var t=void 0===e?{}:e,n=t.minConfidence,r=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=r||100,"number"!=typeof this._minConfidence||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if("number"!=typeof this._maxResults)throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),Gr=function(e){function t(){return e.call(this,"SsdMobilenetv1")||this}return Object(Lt.c)(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("SsdMobilenetv1 - load model before inference");return Dt.L((function(){var n=e.toBatchTensor(512,!1).toFloat(),r=zr(Dt.F(Dt.t(n,Dt.y(.007843137718737125)),Dt.y(1)),t.mobilenetv1),o=function(e,t,n){return Dt.L((function(){var r=Br(e,n.conv_0,[1,1]),o=Br(r,n.conv_1,[2,2]),i=Br(o,n.conv_2,[1,1]),a=Br(i,n.conv_3,[2,2]),s=Br(a,n.conv_4,[1,1]),u=Br(s,n.conv_5,[2,2]),l=Br(u,n.conv_6,[1,1]),c=Br(l,n.conv_7,[2,2]),p=Hr(t,n.box_predictor_0),d=Hr(e,n.box_predictor_1),h=Hr(o,n.box_predictor_2),f=Hr(a,n.box_predictor_3),m=Hr(u,n.box_predictor_4),g=Hr(c,n.box_predictor_5);return{boxPredictions:Dt.h([p.boxPredictionEncoding,d.boxPredictionEncoding,h.boxPredictionEncoding,f.boxPredictionEncoding,m.boxPredictionEncoding,g.boxPredictionEncoding],1),classPredictions:Dt.h([p.classPrediction,d.classPrediction,h.classPrediction,f.classPrediction,m.classPrediction,g.classPrediction],1)}}))}(r.out,r.conv11,t.prediction_layer);return function(e,t,n){return Dt.L((function(){var r=e.shape[0],o=Wr(Dt.x(Dt.M(n.extra_dim,[r,1,1]),[-1,4]),Dt.x(e,[-1,4]));o=Dt.x(o,[r,o.shape[0]/r,4]);var i=Dt.A(Dt.B(t,[0,0,1],[-1,-1,-1])),a=Dt.B(i,[0,0,0],[-1,-1,1]);return a=Dt.x(a,[r,a.shape[1]]),{boxes:Dt.O(o),scores:Dt.O(a)}}))}(o.boxPredictions,o.classPredictions,t.output_layer)}))},t.prototype.forward=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,Nn(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.locateFaces=function(e,t){return void 0===t&&(t={}),Object(Lt.b)(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,l,c,p,d,h,f,m,g,v,y,b,x,w;return Object(Lt.d)(this,(function(C){switch(C.label){case 0:return n=new Qr(t),r=n.maxResults,o=n.minConfidence,[4,Nn(e)];case 1:for(i=C.sent(),a=this.forwardInput(i),s=a.boxes,u=a.scores,l=s[0],c=u[0],p=1;p<s.length;p++)s[p].dispose(),u[p].dispose();return f=(h=Array).from,[4,c.data()];case 2:return d=f.apply(h,[C.sent()]),.5,m=function(e,t,n,r,o){var i=e.shape[0],a=Math.min(n,i),s=t.map((function(e,t){return{score:e,boxIndex:t}})).filter((function(e){return e.score>o})).sort((function(e,t){return t.score-e.score})),u=[];return s.forEach((function(t){if(!(u.length>=a)){for(var n=t.score,i=u.length-1;i>=0;--i){var s=Ur(e,t.boxIndex,u[i]);if(0!==s&&(t.score*=s<=r?1:0,t.score<=o))break}n===t.score&&u.push(t.boxIndex)}})),u}(l,d,r,.5,o),g=i.getReshapedInputDimensions(0),v=i.inputSize,y=v/g.width,b=v/g.height,x=l.arraySync(),w=m.map((function(e){var t=[Math.max(0,x[e][0]),Math.min(1,x[e][2])].map((function(e){return e*b})),n=t[0],r=t[1],o=[Math.max(0,x[e][1]),Math.min(1,x[e][3])].map((function(e){return e*y})),a=o[0],s=o[1];return new Yt(d[e],new rn(a,n,s-a,r-n),{height:i.getInputHeight(0),width:i.getInputWidth(0)})})),l.dispose(),c.dispose(),[2,w]}}))}))},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(e){return jr(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=er(e),r=n.extractWeights,o=n.getRemainingWeights,i=qr(r,t),a=i.extractMobilenetV1Params,s=i.extractPredictionLayerParams,u=a(),l=s(),c={extra_dim:Dt.J(r(20472),[1,5118,4])};if(t.push({paramPath:"output_layer/extra_dim"}),0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{params:{mobilenetv1:u,prediction_layer:l,output_layer:c},paramMappings:t}}(e)},t}(zn);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(Lt.c)(t,e)}(Gr);var $r,Kr=[new $t(.738768,.874946),new $t(2.42204,2.65704),new $t(4.30971,7.04493),new $t(10.246,4.59428),new $t(12.6868,11.8741)],Jr=[new $t(1.603231,2.094468),new $t(6.041143,7.080126),new $t(2.882459,3.518061),new $t(4.266906,5.178857),new $t(9.041765,10.66308)],Xr=[117.001,114.697,97.404],Yr=function(e){return"number"==typeof e};function Zr(e){return Dt.L((function(){var t=Dt.t(e,Dt.y(.10000000149011612));return Dt.c(Dt.w(Dt.F(e,t)),t)}))}function eo(e,t){return Dt.L((function(){var n=Dt.v(e,[[0,0],[1,1],[1,1],[0,0]]);return n=Dt.i(n,t.conv.filters,[1,1],"valid"),n=Dt.F(n,t.bn.sub),n=Dt.t(n,t.bn.truediv),Zr(n=Dt.c(n,t.conv.bias))}))}function to(e,t){return Dt.L((function(){var n=Dt.v(e,[[0,0],[1,1],[1,1],[0,0]]);return n=Dt.z(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),Zr(n=Dt.c(n,t.bias))}))}function no(e,t){var n=$n(e,t);var r=Xn(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:function(r,o,i){return{conv:n(r,o,3,i+"/conv"),bn:function(n,r){var o=Dt.H(e(n)),i=Dt.H(e(n));return t.push({paramPath:r+"/sub"},{paramPath:r+"/truediv"}),{sub:o,truediv:i}}(o,i+"/bn")}},extractSeparableConvParams:r}}function ro(e,t){var n=Zn(e,t);function r(e){return{filters:n(e+"/filters",4),bias:n(e+"/bias",1)}}return{extractConvParams:r,extractConvWithBatchNormParams:function(e){return{conv:r(e+"/conv"),bn:function(e){return{sub:n(e+"/sub",1),truediv:n(e+"/truediv",1)}}(e+"/bn")}},extractSeparableConvParams:Yn(n)}}!function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"}($r||($r={}));var oo=function(){function e(e){var t=void 0===e?{}:e,n=t.inputSize,r=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=r||.5,"number"!=typeof this._inputSize||this._inputSize%32!=0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if("number"!=typeof this._scoreThreshold||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),io=function(e){function t(t){var n=e.call(this,"TinyYolov2")||this;return function(e){if(!e)throw new Error("invalid config: "+e);if("boolean"!=typeof e.withSeparableConvs)throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!Yr(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every((function(e){return"string"==typeof e})))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map((function(e){return e||{}})).every((function(e){return Yr(e.x)&&Yr(e.y)})))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||3!==e.meanRgb.length||!e.meanRgb.every(Yr)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}(t),n._config=t,n}return Object(Lt.c)(t,e),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(e,t){var n=eo(e,t.conv0);return n=eo(n=Dt.s(n,[2,2],[2,2],"same"),t.conv1),n=eo(n=Dt.s(n,[2,2],[2,2],"same"),t.conv2),n=eo(n=Dt.s(n,[2,2],[2,2],"same"),t.conv3),n=eo(n=Dt.s(n,[2,2],[2,2],"same"),t.conv4),n=eo(n=Dt.s(n,[2,2],[2,2],"same"),t.conv5),n=eo(n=Dt.s(n,[2,2],[1,1],"same"),t.conv6),Qn(n=eo(n,t.conv7),t.conv8,"valid",!1)},t.prototype.runMobilenet=function(e,t){var n=this.config.isFirstLayerConv2d?Zr(Qn(e,t.conv0,"valid",!1)):to(e,t.conv0);return n=to(n=Dt.s(n,[2,2],[2,2],"same"),t.conv1),n=to(n=Dt.s(n,[2,2],[2,2],"same"),t.conv2),n=to(n=Dt.s(n,[2,2],[2,2],"same"),t.conv3),n=to(n=Dt.s(n,[2,2],[2,2],"same"),t.conv4),n=to(n=Dt.s(n,[2,2],[2,2],"same"),t.conv5),n=Dt.s(n,[2,2],[1,1],"same"),n=t.conv6?to(n,t.conv6):n,Qn(n=t.conv7?to(n,t.conv7):n,t.conv8,"valid",!1)},t.prototype.forwardInput=function(e,t){var n=this,r=this.params;if(!r)throw new Error("TinyYolov2 - load model before inference");return Dt.L((function(){var o=e.toBatchTensor(t,!1).toFloat();return o=(o=n.config.meanRgb?tn(o,n.config.meanRgb):o).div(Dt.y(256)),n.config.withSeparableConvs?n.runMobilenet(o,r):n.runTinyYolov2(o,r)}))},t.prototype.forward=function(e,t){return Object(Lt.b)(this,void 0,void 0,(function(){var n;return Object(Lt.d)(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,Nn(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent()]}}))}))},t.prototype.detect=function(e,t){return void 0===t&&(t={}),Object(Lt.b)(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,l,c,p,d,h,f,m=this;return Object(Lt.d)(this,(function(g){switch(g.label){case 0:return n=new oo(t),r=n.inputSize,o=n.scoreThreshold,[4,Nn(e)];case 1:return i=g.sent(),[4,this.forwardInput(i,r)];case 2:return a=g.sent(),s=Dt.L((function(){return Dt.O(a)[0].expandDims()})),u={width:i.getInputWidth(0),height:i.getInputHeight(0)},[4,this.extractBoxes(s,i.getReshapedInputDimensions(0),o)];case 3:return l=g.sent(),a.dispose(),s.dispose(),c=l.map((function(e){return e.box})),p=l.map((function(e){return e.score})),d=l.map((function(e){return e.classScore})),h=l.map((function(e){return m.config.classes[e.label]})),f=en(c.map((function(e){return e.rescale(r)})),p,this.config.iouThreshold,!0),[2,f.map((function(e){return new Xt(p[e],d[e],h[e],c[e],u)}))]}}))}))},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(e){return function(e,t){var n,r=[],o=ro(e,r),i=o.extractConvParams,a=o.extractConvWithBatchNormParams,s=o.extractSeparableConvParams;if(t.withSeparableConvs){var u=t.filterSizes&&t.filterSizes.length||9;n={conv0:t.isFirstLayerConv2d?i("conv0"):s("conv0"),conv1:s("conv1"),conv2:s("conv2"),conv3:s("conv3"),conv4:s("conv4"),conv5:s("conv5"),conv6:u>7?s("conv6"):void 0,conv7:u>8?s("conv7"):void 0,conv8:i("conv8")}}else n={conv0:a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:a("conv6"),conv7:a("conv7"),conv8:i("conv8")};return Gn(e,r),{params:n,paramMappings:r}}(e,this.config)},t.prototype.extractParams=function(e){var n=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,r=n?n.length:void 0;if(7!==r&&8!==r&&9!==r)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+r+" filterSizes in config");return function(e,t,n,r){var o,i=er(e),a=i.extractWeights,s=i.getRemainingWeights,u=[],l=no(a,u),c=l.extractConvParams,p=l.extractConvWithBatchNormParams,d=l.extractSeparableConvParams;if(t.withSeparableConvs){var h=r[0],f=r[1],m=r[2],g=r[3],v=r[4],y=r[5],b=r[6],x=r[7],w=r[8];o={conv0:t.isFirstLayerConv2d?c(h,f,3,"conv0"):d(h,f,"conv0"),conv1:d(f,m,"conv1"),conv2:d(m,g,"conv2"),conv3:d(g,v,"conv3"),conv4:d(v,y,"conv4"),conv5:d(y,b,"conv5"),conv6:x?d(b,x,"conv6"):void 0,conv7:w?d(x,w,"conv7"):void 0,conv8:c(w||x||b,5*n,1,"conv8")}}else{h=r[0],f=r[1],m=r[2],g=r[3],v=r[4],y=r[5],b=r[6],x=r[7],w=r[8];o={conv0:p(h,f,"conv0"),conv1:p(f,m,"conv1"),conv2:p(m,g,"conv2"),conv3:p(g,v,"conv3"),conv4:p(v,y,"conv4"),conv5:p(y,b,"conv5"),conv6:p(b,x,"conv6"),conv7:p(x,w,"conv7"),conv8:c(w,5*n,1,"conv8")}}if(0!==s().length)throw new Error("weights remaing after extract: "+s().length);return{params:o,paramMappings:u}}(e,this.config,this.boxEncodingSize,n)},t.prototype.extractBoxes=function(e,t,n){return Object(Lt.b)(this,void 0,void 0,(function(){var r,o,i,a,s,u,l,c,p,d,h,f,m,g,v,y,b,x,w,C,_,P,E,S,k,T,R,O,I,V=this;return Object(Lt.d)(this,(function(A){switch(A.label){case 0:return r=t.width,o=t.height,i=Math.max(r,o),a=i/r,s=i/o,u=e.shape[1],l=this.config.anchors.length,c=Dt.L((function(){var t=e.reshape([u,u,l,V.boxEncodingSize]);return[t.slice([0,0,0,0],[u,u,l,4]),t.slice([0,0,0,4],[u,u,l,1]),V.withClassScores?Dt.D(t.slice([0,0,0,5],[u,u,l,V.config.classes.length]),3):Dt.y(0)]})),p=c[0],d=c[1],h=c[2],f=[],[4,d.array()];case 1:return m=A.sent(),[4,p.array()];case 2:g=A.sent(),v=0,A.label=3;case 3:if(!(v<u))return[3,12];y=0,A.label=4;case 4:if(!(y<u))return[3,11];b=0,A.label=5;case 5:return b<l?(x=nn(m[v][y][b][0]),!n||x>n?(w=(y+nn(g[v][y][b][0]))/u*a,C=(v+nn(g[v][y][b][1]))/u*s,_=Math.exp(g[v][y][b][2])*this.config.anchors[b].x/u*a,P=Math.exp(g[v][y][b][3])*this.config.anchors[b].y/u*s,E=w-_/2,S=C-P/2,k={row:v,col:y,anchor:b},this.withClassScores?[4,this.extractPredictedClass(h,k)]:[3,7]):[3,9]):[3,10];case 6:return I=A.sent(),[3,8];case 7:I={classScore:1,label:0},A.label=8;case 8:R=(T=I).classScore,O=T.label,f.push(Object(Lt.a)({box:new Jt(E,S,E+_,S+P),score:x,classScore:x*R,label:O},k)),A.label=9;case 9:return b++,[3,5];case 10:return y++,[3,4];case 11:return v++,[3,3];case 12:return p.dispose(),d.dispose(),h.dispose(),[2,f]}}))}))},t.prototype.extractPredictedClass=function(e,t){return Object(Lt.b)(this,void 0,void 0,(function(){var n,r,o,i;return Object(Lt.d)(this,(function(a){switch(a.label){case 0:return n=t.row,r=t.col,o=t.anchor,[4,e.array()];case 1:return i=a.sent(),[2,Array(this.config.classes.length).fill(0).map((function(e,t){return i[n][r][o][t]})).map((function(e,t){return{classScore:e,label:t}})).reduce((function(e,t){return e.classScore>t.classScore?e:t}))]}}))}))},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(zn),ao=function(e){function t(t){void 0===t&&(t=!0);var n=Object.assign({},{withSeparableConvs:t,iouThreshold:.4,classes:["face"]},t?{anchors:Jr,meanRgb:Xr}:{anchors:Kr,withClassScores:!0});return e.call(this,n)||this}return Object(Lt.c)(t,e),Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return Object(Lt.b)(this,void 0,void 0,(function(){return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map((function(e){return new Yt(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})}))]}}))}))},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?"tiny_yolov2_separable_conv_model":"tiny_yolov2_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(io);var so=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return Object(Lt.c)(t,e),t}(oo),uo=function(){function e(){}return e.prototype.then=function(e){return Object(Lt.b)(this,void 0,void 0,(function(){var t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return t=e,[4,this.run()];case 1:return[2,t.apply(void 0,[n.sent()])]}}))}))},e.prototype.run=function(){return Object(Lt.b)(this,void 0,void 0,(function(){return Object(Lt.d)(this,(function(e){throw new Error("ComposableTask - run is not implemented")}))}))},e}();function lo(e,t,n,r,o){return void 0===o&&(o=function(e){return e.alignedRect}),Object(Lt.b)(this,void 0,void 0,(function(){var i,a,s,u,l;return Object(Lt.d)(this,(function(c){switch(c.label){case 0:return i=e.map((function(e){return dr(e)?o(e):e.detection})),(s=r)?[3,5]:t instanceof Dt.a?[4,Fn(t,i)]:[3,2];case 1:return u=c.sent(),[3,4];case 2:return[4,Ln(t,i)];case 3:u=c.sent(),c.label=4;case 4:s=u,c.label=5;case 5:return[4,n(a=s)];case 6:return l=c.sent(),a.forEach((function(e){return e instanceof Dt.a&&e.dispose()})),[2,l]}}))}))}function co(e,t,n,r,o){return Object(Lt.b)(this,void 0,void 0,(function(){var i=this;return Object(Lt.d)(this,(function(a){return[2,lo([e],t,(function(e){return Object(Lt.b)(i,void 0,void 0,(function(){return Object(Lt.d)(this,(function(t){return[2,n(e[0])]}))}))}),r,o)]}))}))}function po(e){var t=er(e),n=t.extractWeights,r=t.getRemainingWeights,o=[],i=function(e,t){var n=$n(e,t),r=Kn(e,t);function o(n,r){var o=Dt.H(e(n));return t.push({paramPath:r}),o}function i(e,t,r){return void 0===r&&(r=!1),{conv1:n(e[0],e[1],3,t+"/conv1"),prelu1_alpha:o(e[1],t+"/prelu1_alpha"),conv2:n(e[1],e[2],3,t+"/conv2"),prelu2_alpha:o(e[2],t+"/prelu2_alpha"),conv3:n(e[2],e[3],r?2:3,t+"/conv3"),prelu3_alpha:o(e[3],t+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=i([3,10,16,32],"pnet"),t=n(32,2,1,"pnet/conv4_1"),r=n(32,4,1,"pnet/conv4_2");return Object(Lt.a)(Object(Lt.a)({},e),{conv4_1:t,conv4_2:r})},extractRNetParams:function(){var e=i([3,28,48,64],"rnet",!0),t=r(576,128,"rnet/fc1"),n=o(128,"rnet/prelu4_alpha"),a=r(128,2,"rnet/fc2_1"),s=r(128,4,"rnet/fc2_2");return Object(Lt.a)(Object(Lt.a)({},e),{fc1:t,prelu4_alpha:n,fc2_1:a,fc2_2:s})},extractONetParams:function(){var e=i([3,32,64,64],"onet"),t=n(64,128,2,"onet/conv4"),a=o(128,"onet/prelu4_alpha"),s=r(1152,256,"onet/fc1"),u=o(256,"onet/prelu5_alpha"),l=r(256,2,"onet/fc2_1"),c=r(256,4,"onet/fc2_2"),p=r(256,10,"onet/fc2_3");return Object(Lt.a)(Object(Lt.a)({},e),{conv4:t,prelu4_alpha:a,fc1:s,prelu5_alpha:u,fc2_1:l,fc2_2:c,fc2_3:p})}}}(n,o),a=i.extractPNetParams,s=i.extractRNetParams,u=i.extractONetParams,l=a(),c=s(),p=u();if(0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:l,rnet:c,onet:p},paramMappings:o}}function ho(e){var t=[],n=function(e,t){var n=Zn(e,t);function r(e){return{filters:n(e+"/weights",4,e+"/filters"),bias:n(e+"/bias",1)}}function o(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}function i(e){return n(e,1)}function a(e){return{conv1:r(e+"/conv1"),prelu1_alpha:i(e+"/prelu1_alpha"),conv2:r(e+"/conv2"),prelu2_alpha:i(e+"/prelu2_alpha"),conv3:r(e+"/conv3"),prelu3_alpha:i(e+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=a("pnet"),t=r("pnet/conv4_1"),n=r("pnet/conv4_2");return Object(Lt.a)(Object(Lt.a)({},e),{conv4_1:t,conv4_2:n})},extractRNetParams:function(){var e=a("rnet"),t=o("rnet/fc1"),n=i("rnet/prelu4_alpha"),r=o("rnet/fc2_1"),s=o("rnet/fc2_2");return Object(Lt.a)(Object(Lt.a)({},e),{fc1:t,prelu4_alpha:n,fc2_1:r,fc2_2:s})},extractONetParams:function(){var e=a("onet"),t=r("onet/conv4"),n=i("onet/prelu4_alpha"),s=o("onet/fc1"),u=i("onet/prelu5_alpha"),l=o("onet/fc2_1"),c=o("onet/fc2_2"),p=o("onet/fc2_3");return Object(Lt.a)(Object(Lt.a)({},e),{conv4:t,prelu4_alpha:n,fc1:s,prelu5_alpha:u,fc2_1:l,fc2_2:c,fc2_3:p})}}}(e,t),r=n.extractPNetParams,o=n.extractRNetParams,i=n.extractONetParams,a=r(),s=o(),u=i();return Gn(e,t),{params:{pnet:a,rnet:s,onet:u},paramMappings:t}}function fo(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}var mo=function(e){function t(t,n,r,o){return e.call(this,{left:t,top:n,right:r,bottom:o},!0)||this}return Object(Lt.c)(t,e),t}(Kt);function go(e){return Dt.L((function(){return Dt.t(Dt.F(e,Dt.y(127.5)),Dt.y(.0078125))}))}function vo(e,t){return Dt.L((function(){return Dt.c(Dt.w(e),Dt.t(t,Dt.u(Dt.w(Dt.u(e)))))}))}function yo(e,t,n){return void 0===n&&(n=!1),Dt.L((function(){var r=Qn(e,t.conv1,"valid");return r=vo(r,t.prelu1_alpha),r=vo(r=Qn(r=Dt.s(r,n?[2,2]:[3,3],[2,2],"same"),t.conv2,"valid"),t.prelu2_alpha),r=vo(r=Qn(r=n?r:Dt.s(r,[3,3],[2,2],"valid"),t.conv3,"valid"),t.prelu3_alpha)}))}function bo(e,t,n,r,o){o.stage1=[];var i=t.map((function(t){return Dt.L((function(){var n={scale:t},o=function(e,t){return Dt.L((function(){var n=fo(t,e.shape.slice(1)),r=n.height,o=n.width,i=go(Dt.o.resizeBilinear(e,[r,o]));return Dt.N(i,[0,2,1,3])}))}(e,t),i=Date.now(),a=function(e,t){return Dt.L((function(){var n=yo(e,t,!0),r=Qn(n,t.conv4_1,"valid"),o=Dt.m(Dt.r(r,3),3);return{prob:Dt.D(Dt.F(r,o),3),regions:Qn(n,t.conv4_2,"valid")}}))}(o,r),s=a.prob,u=a.regions;return n.pnet=Date.now()-i,{scoresTensor:Dt.O(Dt.O(s,3)[1])[0],regionsTensor:Dt.O(u)[0],scale:t,statsForScale:n}}))})).map((function(e){var t=e.scoresTensor,r=e.regionsTensor,i=e.scale,a=e.statsForScale,s=function(e,t,n,r){for(var o=[],i=e.arraySync(),a=0;a<e.shape[0];a++)for(var s=0;s<e.shape[1];s++)i[a][s]>=r&&o.push(new $t(s,a));return o.map((function(e){var r=new Jt(Math.round((2*e.y+1)/n),Math.round((2*e.x+1)/n),Math.round((2*e.y+12)/n),Math.round((2*e.x+12)/n)),o=i[e.y][e.x],a=t.arraySync();return{cell:r,score:o,region:new mo(a[e.y][e.x][0],a[e.y][e.x][1],a[e.y][e.x][2],a[e.y][e.x][3])}}))}(t,r,i,n);if(t.dispose(),r.dispose(),!s.length)return o.stage1.push(a),[];var u=Date.now(),l=en(s.map((function(e){return e.cell})),s.map((function(e){return e.score})),.5);return a.nms=Date.now()-u,a.numBoxes=l.length,o.stage1.push(a),l.map((function(e){return s[e]}))})).reduce((function(e,t){return e.concat(t)}),[]),a=[],s=[];if(i.length>0){var u=Date.now(),l=en(i.map((function(e){return e.cell})),i.map((function(e){return e.score})),.7);o.stage1_nms=Date.now()-u,s=l.map((function(e){return i[e].score})),a=l.map((function(e){return i[e]})).map((function(e){var t=e.cell,n=e.region;return new Jt(t.left+n.left*t.width,t.top+n.top*t.height,t.right+n.right*t.width,t.bottom+n.bottom*t.height).toSquare().round()}))}return{boxes:a,scores:s}}function xo(e,t,n){var r=n.width,o=n.height;return Object(Lt.b)(this,void 0,void 0,(function(){var n,i,a,s=this;return Object(Lt.d)(this,(function(u){switch(u.label){case 0:return n=Pn(e),[4,Promise.all(t.map((function(t){return Object(Lt.b)(s,void 0,void 0,(function(){var r,o,i,a,s,u,l,c;return Object(Lt.d)(this,(function(p){return r=t.padAtBorders(e.height,e.width),o=r.y,i=r.ey,a=r.x,s=r.ex,u=a-1,l=o-1,c=n.getImageData(u,l,s-u,i-l),[2,Cn.isNodejs()?In(c):createImageBitmap(c)]}))}))})))];case 1:return i=u.sent(),a=[],i.forEach((function(e){var t=Pn(On({width:r,height:o}));t.drawImage(e,0,0,r,o);for(var n=t.getImageData(0,0,r,o).data,i=[],s=0;s<n.length;s+=4)i.push(n[s+2]),i.push(n[s+1]),i.push(n[s]);a.push(i)})),[2,a.map((function(e){return Dt.L((function(){return go(Dt.N(Dt.K(e,[1,r,o,3]),[0,2,1,3]).toFloat())}))}))]}}))}))}function wo(e,t,n,r,o){return Object(Lt.b)(this,void 0,void 0,(function(){var i,a,s,u,l,c,p,d,h,f,m,g,v,y;return Object(Lt.d)(this,(function(b){switch(b.label){case 0:return i=Date.now(),[4,xo(e,t,{width:24,height:24})];case 1:return a=b.sent(),o.stage2_extractImagePatches=Date.now()-i,i=Date.now(),s=a.map((function(e){var t=function(e,t){return Dt.L((function(){var n=yo(e,t),r=vo(ir(Dt.x(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu4_alpha),o=ir(r,t.fc2_1),i=Dt.m(Dt.r(o,1),1),a=Dt.D(Dt.F(o,i),1),s=ir(r,t.fc2_2);return{scores:Dt.O(a,1)[1],regions:s}}))}(e,r);return e.dispose(),t})),o.stage2_rnet=Date.now()-i,u=s.length>1?Dt.h(s.map((function(e){return e.scores}))):s[0].scores,p=(c=Array).from,[4,u.data()];case 2:return l=p.apply(c,[b.sent()]),u.dispose(),d=l.map((function(e,t){return{score:e,idx:t}})).filter((function(e){return e.score>n})).map((function(e){return e.idx})),h=d.map((function(e){return t[e]})),f=d.map((function(e){return l[e]})),m=[],g=[],h.length>0&&(i=Date.now(),v=en(h,f,.7),o.stage2_nms=Date.now()-i,y=v.map((function(e){var t=s[d[e]].regions.arraySync();return new mo(t[0][0],t[0][1],t[0][2],t[0][3])})),g=v.map((function(e){return f[e]})),m=v.map((function(e,t){return h[e].calibrate(y[t])}))),s.forEach((function(e){e.regions.dispose(),e.scores.dispose()})),[2,{boxes:m,scores:g}]}}))}))}function Co(e,t,n,r,o){return Object(Lt.b)(this,void 0,void 0,(function(){var i,a,s,u,l,c,p,d,h,f,m,g,v,y,b;return Object(Lt.d)(this,(function(x){switch(x.label){case 0:return i=Date.now(),[4,xo(e,t,{width:48,height:48})];case 1:return a=x.sent(),o.stage3_extractImagePatches=Date.now()-i,i=Date.now(),s=a.map((function(e){var t=function(e,t){return Dt.L((function(){var n=yo(e,t);n=vo(n=Qn(n=Dt.s(n,[2,2],[2,2],"same"),t.conv4,"valid"),t.prelu4_alpha);var r=vo(ir(Dt.x(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu5_alpha),o=ir(r,t.fc2_1),i=Dt.m(Dt.r(o,1),1),a=Dt.D(Dt.F(o,i),1),s=ir(r,t.fc2_2),u=ir(r,t.fc2_3);return{scores:Dt.O(a,1)[1],regions:s,points:u}}))}(e,r);return e.dispose(),t})),o.stage3_onet=Date.now()-i,u=s.length>1?Dt.h(s.map((function(e){return e.scores}))):s[0].scores,p=(c=Array).from,[4,u.data()];case 2:return l=p.apply(c,[x.sent()]),u.dispose(),d=l.map((function(e,t){return{score:e,idx:t}})).filter((function(e){return e.score>n})).map((function(e){return e.idx})),h=d.map((function(e){var t=s[e].regions.arraySync();return new mo(t[0][0],t[0][1],t[0][2],t[0][3])})),f=d.map((function(e,n){return t[e].calibrate(h[n])})),m=d.map((function(e){return l[e]})),g=[],v=[],y=[],f.length>0&&(i=Date.now(),b=en(f,m,.7,!1),o.stage3_nms=Date.now()-i,g=b.map((function(e){return f[e]})),v=b.map((function(e){return m[e]})),y=b.map((function(e,t){return Array(5).fill(0).map((function(n,r){var o=s[e].points.arraySync();return new $t(o[0][r]*(g[t].width+1)+g[t].left,o[0][r+5]*(g[t].height+1)+g[t].top)}))}))),s.forEach((function(e){e.regions.dispose(),e.scores.dispose(),e.points.dispose()})),[2,{boxes:g,scores:v,points:y}]}}))}))}var _o=function(e){function t(){return e.call(this,"Mtcnn")||this}return Object(Lt.c)(t,e),t.prototype.load=function(t){return Object(Lt.b)(this,void 0,void 0,(function(){return Object(Lt.d)(this,(function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,t)]}))}))},t.prototype.loadFromDisk=function(t){return Object(Lt.b)(this,void 0,void 0,(function(){return Object(Lt.d)(this,(function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,t)]}))}))},t.prototype.forwardInput=function(e,t){return void 0===t&&(t={}),Object(Lt.b)(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,l,c,p,d,h,f,m,g,v,y,b,x,w,C;return Object(Lt.d)(this,(function(_){switch(_.label){case 0:if(!(n=this.params))throw new Error("Mtcnn - load model before inference");if(!(r=e.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return o={},i=Date.now(),a=Dt.L((function(){return e=Dt.m(Dt.f.fromPixels(r)).toFloat(),Dt.L((function(){return Dt.E(Dt.O(e,3).reverse(),3)}));var e})),s=function(e){return a.dispose(),o.total=Date.now()-i,e},u=a.shape.slice(1),l=u[0],c=u[1],p=new Mr(t),d=p.minFaceSize,h=p.scaleFactor,f=p.maxNumScales,m=p.scoreThresholds,g=p.scaleSteps,v=(g||function(e,t,n){for(var r=n[0],o=n[1],i=12/e,a=[],s=Math.min(r,o)*i,u=0;s>=12;)a.push(i*Math.pow(t,u)),s*=t,u+=1;return a}(d,h,[l,c])).filter((function(e){var t=fo(e,[l,c]);return Math.min(t.width,t.height)>12})).slice(0,f),o.scales=v,o.pyramid=v.map((function(e){return fo(e,[l,c])})),y=Date.now(),[4,bo(a,v,m[0],n.pnet,o)];case 1:return b=_.sent(),o.total_stage1=Date.now()-y,b.boxes.length?(o.stage2_numInputBoxes=b.boxes.length,y=Date.now(),[4,wo(r,b.boxes,m[1],n.rnet,o)]):[2,s({results:[],stats:o})];case 2:return x=_.sent(),o.total_stage2=Date.now()-y,x.boxes.length?(o.stage3_numInputBoxes=x.boxes.length,y=Date.now(),[4,Co(r,x.boxes,m[2],n.onet,o)]):[2,s({results:[],stats:o})];case 3:return w=_.sent(),o.total_stage3=Date.now()-y,C=w.boxes.map((function(e,t){return hr(dn({},new Yt(w.scores[t],new rn(e.left/c,e.top/l,e.width/c,e.height/l),{height:l,width:c})),new an(w.points[t].map((function(t){return t.sub(new $t(e.left,e.top)).div(new $t(e.width,e.height))})),{width:e.width,height:e.height}))})),[2,s({results:C,stats:o})]}}))}))},t.prototype.forward=function(e,t){return void 0===t&&(t={}),Object(Lt.b)(this,void 0,void 0,(function(){var n;return Object(Lt.d)(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,Nn(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent().results]}}))}))},t.prototype.forwardWithStats=function(e,t){return void 0===t&&(t={}),Object(Lt.b)(this,void 0,void 0,(function(){var n;return Object(Lt.d)(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,Nn(e)];case 1:return[2,n.apply(this,[r.sent(),t])]}}))}))},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(e){return ho(e)},t.prototype.extractParams=function(e){return po(e)},t}(zn),Po=[new $t(1.603231,2.094468),new $t(6.041143,7.080126),new $t(2.882459,3.518061),new $t(4.266906,5.178857),new $t(9.041765,10.66308)],Eo=[117.001,114.697,97.404],So=function(e){function t(){var t={withSeparableConvs:!0,iouThreshold:.4,classes:["face"],anchors:Po,meanRgb:Eo,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return e.call(this,t)||this}return Object(Lt.c)(t,e),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return Object(Lt.b)(this,void 0,void 0,(function(){return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map((function(e){return new Yt(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})}))]}}))}))},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(io),ko={ssdMobilenetv1:new Gr,tinyFaceDetector:new So,tinyYolov2:new ao,mtcnn:new _o,faceLandmark68Net:new _r,faceLandmark68TinyNet:new Er,faceRecognitionNet:new Dr,faceExpressionNet:new cr,ageGenderNet:new wr},To=function(e){return ko.faceLandmark68Net.load(e)},Ro=function(e){return ko.faceRecognitionNet.load(e)},Oo=function(e){return ko.faceExpressionNet.load(e)},Io=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=r,o}return Object(Lt.c)(t,e),t}(uo),Vo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.run=function(){return Object(Lt.b)(this,void 0,void 0,(function(){var e,t,n=this;return Object(Lt.d)(this,(function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,lo(e=r.sent(),this.input,(function(e){return Object(Lt.b)(n,void 0,void 0,(function(){return Object(Lt.d)(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return ko.faceExpressionNet.predictExpressions(e)})))];case 1:return[2,t.sent()]}}))}))}),this.extractedFaces)];case 2:return t=r.sent(),[2,e.map((function(e,n){return pr(e,t[n])}))]}}))}))},t.prototype.withAgeAndGender=function(){return new Fo(this,this.input)},t}(Io),Ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.run=function(){return Object(Lt.b)(this,void 0,void 0,(function(){var e,t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,co(e,this.input,(function(e){return ko.faceExpressionNet.predictExpressions(e)}),this.extractedFaces)]:[2];case 2:return t=n.sent(),[2,pr(e,t)]}}))}))},t.prototype.withAgeAndGender=function(){return new Mo(this,this.input)},t}(Io),Do=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.withAgeAndGender=function(){return new qo(this,this.input)},t.prototype.withFaceDescriptors=function(){return new zo(this,this.input)},t}(Vo),No=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.withAgeAndGender=function(){return new jo(this,this.input)},t.prototype.withFaceDescriptor=function(){return new Uo(this,this.input)},t}(Ao),Lo=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=r,o}return Object(Lt.c)(t,e),t}(uo),Fo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.run=function(){return Object(Lt.b)(this,void 0,void 0,(function(){var e,t,n=this;return Object(Lt.d)(this,(function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,lo(e=r.sent(),this.input,(function(e){return Object(Lt.b)(n,void 0,void 0,(function(){return Object(Lt.d)(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return ko.ageGenderNet.predictAgeAndGender(e)})))];case 1:return[2,t.sent()]}}))}))}),this.extractedFaces)];case 2:return t=r.sent(),[2,e.map((function(e,n){var r=t[n],o=r.age;return Lr(Fr(e,r.gender,r.genderProbability),o)}))]}}))}))},t.prototype.withFaceExpressions=function(){return new Vo(this,this.input)},t}(Lo),Mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.run=function(){return Object(Lt.b)(this,void 0,void 0,(function(){var e,t,n,r,o;return Object(Lt.d)(this,(function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return(e=i.sent())?[4,co(e,this.input,(function(e){return ko.ageGenderNet.predictAgeAndGender(e)}),this.extractedFaces)]:[2];case 2:return t=i.sent(),n=t.age,r=t.gender,o=t.genderProbability,[2,Lr(Fr(e,r,o),n)]}}))}))},t.prototype.withFaceExpressions=function(){return new Ao(this,this.input)},t}(Lo),qo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.withFaceExpressions=function(){return new Do(this,this.input)},t.prototype.withFaceDescriptors=function(){return new zo(this,this.input)},t}(Fo),jo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.withFaceExpressions=function(){return new No(this,this.input)},t.prototype.withFaceDescriptor=function(){return new Uo(this,this.input)},t}(Mo),Bo=function(e){function t(t,n){var r=e.call(this)||this;return r.parentTask=t,r.input=n,r}return Object(Lt.c)(t,e),t}(uo),zo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.run=function(){return Object(Lt.b)(this,void 0,void 0,(function(){var e;return Object(Lt.d)(this,(function(t){switch(t.label){case 0:return[4,this.parentTask];case 1:return[4,lo(e=t.sent(),this.input,(function(e){return Promise.all(e.map((function(e){return ko.faceRecognitionNet.computeFaceDescriptor(e)})))}),null,(function(e){return e.landmarks.align(null,{useDlibAlignment:!0})}))];case 2:return[2,t.sent().map((function(t,n){return Nr(e[n],t)}))]}}))}))},t.prototype.withFaceExpressions=function(){return new Do(this,this.input)},t.prototype.withAgeAndGender=function(){return new qo(this,this.input)},t}(Bo),Uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.run=function(){return Object(Lt.b)(this,void 0,void 0,(function(){var e,t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,co(e,this.input,(function(e){return ko.faceRecognitionNet.computeFaceDescriptor(e)}),null,(function(e){return e.landmarks.align(null,{useDlibAlignment:!0})}))]:[2];case 2:return t=n.sent(),[2,Nr(e,t)]}}))}))},t.prototype.withFaceExpressions=function(){return new No(this,this.input)},t.prototype.withAgeAndGender=function(){return new jo(this,this.input)},t}(Bo),Wo=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.useTinyLandmarkNet=r,o}return Object(Lt.c)(t,e),Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?ko.faceLandmark68TinyNet:ko.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(uo),Ho=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.run=function(){return Object(Lt.b)(this,void 0,void 0,(function(){var e,t,n,r,o,i=this;return Object(Lt.d)(this,(function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return e=a.sent(),t=e.map((function(e){return e.detection})),this.input instanceof Dt.a?[4,Fn(this.input,t)]:[3,3];case 2:return r=a.sent(),[3,5];case 3:return[4,Ln(this.input,t)];case 4:r=a.sent(),a.label=5;case 5:return n=r,[4,Promise.all(n.map((function(e){return i.landmarkNet.detectLandmarks(e)})))];case 6:return o=a.sent(),n.forEach((function(e){return e instanceof Dt.a&&e.dispose()})),[2,e.map((function(e,t){return hr(e,o[t])}))]}}))}))},t.prototype.withFaceExpressions=function(){return new Do(this,this.input)},t.prototype.withAgeAndGender=function(){return new qo(this,this.input)},t.prototype.withFaceDescriptors=function(){return new zo(this,this.input)},t}(Wo),Qo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.run=function(){return Object(Lt.b)(this,void 0,void 0,(function(){var e,t,n,r,o;return Object(Lt.d)(this,(function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return(e=i.sent())?(t=e.detection,this.input instanceof Dt.a?[4,Fn(this.input,[t])]:[3,3]):[2];case 2:return r=i.sent(),[3,5];case 3:return[4,Ln(this.input,[t])];case 4:r=i.sent(),i.label=5;case 5:return n=r,[4,this.landmarkNet.detectLandmarks(n[0])];case 6:return o=i.sent(),n.forEach((function(e){return e instanceof Dt.a&&e.dispose()})),[2,hr(e,o)]}}))}))},t.prototype.withFaceExpressions=function(){return new No(this,this.input)},t.prototype.withAgeAndGender=function(){return new jo(this,this.input)},t.prototype.withFaceDescriptor=function(){return new Uo(this,this.input)},t}(Wo),Go=function(e){function t(t,n){void 0===n&&(n=new Qr);var r=e.call(this)||this;return r.input=t,r.options=n,r}return Object(Lt.c)(t,e),t}(uo),$o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.run=function(){return Object(Lt.b)(this,void 0,void 0,(function(){var e,t,n,r;return Object(Lt.d)(this,(function(o){switch(o.label){case 0:return t=(e=this).input,(n=e.options)instanceof Mr?[4,ko.mtcnn.forward(t,n)]:[3,2];case 1:return[2,o.sent().map((function(e){return e.detection}))];case 2:if(!(r=n instanceof so?function(e){return ko.tinyFaceDetector.locateFaces(e,n)}:n instanceof Qr?function(e){return ko.ssdMobilenetv1.locateFaces(e,n)}:n instanceof oo?function(e){return ko.tinyYolov2.locateFaces(e,n)}:null))throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,r(t)]}}))}))},t.prototype.runAndExtendWithFaceDetections=function(){var e=this;return new Promise((function(t){return Object(Lt.b)(e,void 0,void 0,(function(){var e;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e.map((function(e){return dn({},e)})))]}}))}))}))},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new Ho(this.runAndExtendWithFaceDetections(),this.input,e)},t.prototype.withFaceExpressions=function(){return new Vo(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new Fo(this.runAndExtendWithFaceDetections(),this.input)},t}(Go),Ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Lt.c)(t,e),t.prototype.run=function(){return Object(Lt.b)(this,void 0,void 0,(function(){var e,t;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return[4,new $o(this.input,this.options)];case 1:return e=n.sent(),t=e[0],e.forEach((function(e){e.score>t.score&&(t=e)})),[2,t]}}))}))},t.prototype.runAndExtendWithFaceDetection=function(){var e=this;return new Promise((function(t){return Object(Lt.b)(e,void 0,void 0,(function(){var e;return Object(Lt.d)(this,(function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e?dn({},e):void 0)]}}))}))}))},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new Qo(this.runAndExtendWithFaceDetection(),this.input,e)},t.prototype.withFaceExpressions=function(){return new Ao(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new Mo(this.runAndExtendWithFaceDetection(),this.input)},t}(Go);!function(){function e(e,t){void 0===t&&(t=.6),this._distanceThreshold=t;var n=Array.isArray(e)?e:[e];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var r=1,o=function(){return"person "+r++};this._labeledDescriptors=n.map((function(e){if(e instanceof cn)return e;if(e instanceof Float32Array)return new cn(o(),[e]);if(e.descriptor&&e.descriptor instanceof Float32Array)return new cn(o(),[e.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")}))}Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(e,t){return t.map((function(t){return function(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map((function(e,t){return e-r[t]})).reduce((function(e,t){return e+Math.pow(t,2)}),0))}(t,e)})).reduce((function(e,t){return e+t}),0)/(t.length||1)},e.prototype.matchDescriptor=function(e){var t=this;return this.labeledDescriptors.map((function(n){var r=n.descriptors,o=n.label;return new un(o,t.computeMeanDistance(e,r))})).reduce((function(e,t){return e.distance<t.distance?e:t}))},e.prototype.findBestMatch=function(e){var t=this.matchDescriptor(e);return t.distance<this.distanceThreshold?t:new un("unknown",t.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map((function(e){return e.toJSON()}))}},e.fromJSON=function(t){return new e(t.labeledDescriptors.map((function(e){return cn.fromJSON(e)})),t.distanceThreshold)}}();var Jo=n(11),Xo=n.n(Jo),Yo=n(69);function Zo(e,t){if(null==e)return{};var n,r,o=Yo(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ti="object"===("undefined"==typeof window?"undefined":ei(window))&&"object"===("undefined"==typeof document?"undefined":ei(document))&&9===document.nodeType;function ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ri(e,t,n){return t&&ni(e.prototype,t),n&&ni(e,n),e}var oi={}.constructor;function ii(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(ii);if(e.constructor!==oi)return e;var t={};for(var n in e)t[n]=ii(e[n]);return t}function ai(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,o=ii(t),i=r.plugins.onCreateRule(e,o,n);return i||(e[0],null)}var si=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},ui=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=si(e[r]," ");else n=si(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function li(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function ci(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var o=n.indent,i=void 0===o?0:o,a=t.fallbacks;if(e&&i++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var u=a[s];for(var l in u){var c=u[l];null!=c&&(r&&(r+="\n"),r+=""+li(l+": "+ui(c)+";",i))}}else for(var p in a){var d=a[p];null!=d&&(r&&(r+="\n"),r+=""+li(p+": "+ui(d)+";",i))}for(var h in t){var f=t[h];null!=f&&"fallbacks"!==h&&(r&&(r+="\n"),r+=""+li(h+": "+ui(f)+";",i))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),li(e+" {"+r,--i)+li("}",i)):r}var pi=/([[\].#*$><+~=|^:(),"'`\s])/g,di="undefined"!=typeof CSS&&CSS.escape,hi=function(e){return di?di(e):e.replace(pi,"\\$1")},fi=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,o=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:o&&(this.renderer=new o)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var o=t;n&&!1===n.process||(o=this.options.jss.plugins.onChangeValue(t,e,this));var i=null==o||!1===o,a=e in this.style;if(i&&!a&&!r)return this;var s=i&&a;if(s?delete this.style[e]:this.style[e]=o,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,o),this;var u=this.options.sheet;return u&&u.attached,this},e}(),mi=function(e){function t(t,n,r){var o;(o=e.call(this,t,n,r)||this).selectorText=void 0,o.id=void 0,o.renderable=void 0;var i=r.selector,a=r.scoped,s=r.sheet,u=r.generateId;return i?o.selectorText=i:!1!==a&&(o.id=u(h(h(o)),s),o.selectorText="."+hi(o.id)),o}s(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=ui(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?f({},e,{allowEmpty:!0}):e;return ci(this.selectorText,this.style,n)},ri(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(fi),gi={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new mi(e,t,n)}},vi={indent:1,children:!0},yi=/@([\w-]+)/,bi=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var r=e.match(yi);for(var o in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new zi(f({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=vi),null==e.indent&&(e.indent=vi.indent),null==e.children&&(e.children=vi.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),xi=/@media|@supports\s+/,wi={onCreateRule:function(e,t,n){return xi.test(e)?new bi(e,t,n):null}},Ci={indent:1,children:!0},_i=/@keyframes\s+([\w-]+)/,Pi=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=e.match(_i);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,i=n.sheet,a=n.generateId;for(var s in this.id=!1===o?this.name:hi(a(this,i)),this.rules=new zi(f({},n,{parent:this})),t)this.rules.add(s,t[s],f({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=Ci),null==e.indent&&(e.indent=Ci.indent),null==e.children&&(e.children=Ci.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),Ei=/@keyframes\s+/,Si=/\$([\w-]+)/g,ki=function(e,t){return"string"==typeof e?e.replace(Si,(function(e,n){return n in t?t[n]:e})):e},Ti=function(e,t,n){var r=e[t],o=ki(r,n);o!==r&&(e[t]=o)},Ri={onCreateRule:function(e,t,n){return"string"==typeof e&&Ei.test(e)?new Pi(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Ti(e,"animation-name",n.keyframes),"animation"in e&&Ti(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return ki(e,r.keyframes);default:return e}}},Oi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return s(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?f({},e,{allowEmpty:!0}):e;return ci(this.key,this.style,n)},t}(fi),Ii={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Oi(e,t,n):null}},Vi=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=ci(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return ci(this.at,this.style,e)},e}(),Ai=/@font-face/,Di={onCreateRule:function(e,t,n){return Ai.test(e)?new Vi(e,t,n):null}},Ni=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return ci(this.key,this.style,e)},e}(),Li={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Ni(e,t,n):null}},Fi=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Mi={"@charset":!0,"@import":!0,"@namespace":!0},qi=[gi,wi,Ri,Ii,Di,Li,{onCreateRule:function(e,t,n){return e in Mi?new Fi(e,t,n):null}}],ji={process:!0},Bi={force:!0,process:!0},zi=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,o=r.parent,i=r.sheet,a=r.jss,s=r.Renderer,u=r.generateId,l=r.scoped,c=f({classes:this.classes,parent:o,sheet:i,jss:a,Renderer:s,generateId:u,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),p=e;e in this.raw&&(p=e+"-d"+this.counter++),this.raw[p]=t,p in this.classes&&(c.selector="."+hi(this.classes[p]));var d=ai(p,t,c);if(!d)return null;this.register(d);var h=void 0===c.index?this.index.length:c.index;return this.index.splice(h,0,d),d},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof mi?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Pi&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof mi?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Pi&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=ji);var o=this.options,i=o.jss.plugins,a=o.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t,u=s.style;if(i.onUpdate(n,t,a,r),r.process&&u&&u!==s.style){for(var l in i.onProcessStyle(s.style,s,a),s.style){var c=s.style[l];c!==u[l]&&s.prop(l,c,Bi)}for(var p in u){var d=s.style[p],h=u[p];null==d&&d!==h&&s.prop(p,null,Bi)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,o=0;o<this.index.length;o++){var i=this.index[o].toString(e);(i||r)&&(t&&(t+="\n"),t+=i)}return t},e}(),Ui=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=f({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new zi(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var o=this.rules.add(e,t,n);return o?(this.options.jss.plugins.onProcessRule(o),this.attached?this.deployed?(r?r.push(o):(this.insertRule(o),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),o):o:(this.deployed=!1,o)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var o=this.addRule(r,e[r],t);o&&n.push(o)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Wi=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var o=this.registry.onCreateRule[r](e,t,n);if(o)return o}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var o=0;o<this.registry.onUpdate.length;o++)this.registry.onUpdate[o](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,o=0;o<this.registry.onChangeValue.length;o++)r=this.registry.onChangeValue[o](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Hi=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=m(t,["attached"]),o="",i=0;i<this.registry.length;i++){var a=this.registry[i];null!=n&&a.attached!==n||(o&&(o+="\n"),o+=a.toString(r))}return o},ri(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),Qi="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),Gi="2f1acc6c3a606b082e5eef5e54414ffb";null==Qi[Gi]&&(Qi[Gi]=0);var $i=Qi[Gi]++,Ki=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var o="",i="";return r&&(r.options.classNamePrefix&&(i=r.options.classNamePrefix),null!=r.options.jss.id&&(o=String(r.options.jss.id))),e.minify?""+(i||"c")+$i+o+t:i+n.key+"-"+$i+(o?"-"+o:"")+"-"+t}},Ji=function(e){var t;return function(){return t||(t=e()),t}},Xi=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}},Yi=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=ui(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(e){return!1}return!0},Zi=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}},ea=function(e,t){return e.selectorText=t,e.selectorText===t},ta=Ji((function(){return document.querySelector("head")}));function na(e){var t=Hi.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"==typeof r){var o=function(e){for(var t=ta(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}var ra=Ji((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),oa=function(e,t,n){try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(e){return!1}return e.cssRules[n]},ia=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},aa=function(){function e(e){this.getPropertyValue=Xi,this.setProperty=Yi,this.removeProperty=Zi,this.setSelector=ea,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],e&&Hi.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,o=t.element;this.element=o||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var i=ra();i&&this.element.setAttribute("nonce",i)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=na(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"==typeof n.nodeType){var o=n,i=o.parentNode;i&&i.insertBefore(e,o.nextSibling)}else ta().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,o=n;if("conditional"===e.type||"keyframes"===e.type){var i=ia(n,t);if(!1===(o=oa(n,r.toString({children:!1}),i)))return!1;this.refCssRule(e,i,o)}return this.insertRules(r.rules,o),o}var a=e.toString();if(!a)return!1;var s=ia(n,t),u=oa(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Ui&&(this.cssRules[t]=n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),sa=0,ua=function(){function e(e){this.id=sa++,this.version="10.5.1",this.plugins=new Wi,this.options={id:{minify:!1},createGenerateId:Ki,Renderer:ti?aa:null,plugins:[]},this.generateId=Ki({minify:!1});for(var t=0;t<qi.length;t++)this.plugins.use(qi[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=f({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===Hi.index?0:Hi.index+1);var r=new Ui(e,f({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),Hi.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var r=f({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var o=ai(e,t,r);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();var la="object"==typeof CSS&&null!=CSS&&"number"in CSS,ca=function(e){return new ua(e)};
/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */ca();function pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=f({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var da={set:function(e,t,n,r){var o=e.get(t);o||(o=new Map,e.set(t,o)),o.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}};var ha=o.a.createContext(null);function fa(){return o.a.useContext(ha)}var ma="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",ga=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var va=Date.now(),ya="fnValues"+va,ba="fnStyle"+ ++va,xa=function(){return{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var r=ai(e,{},n);return r[ba]=t,r},onProcessStyle:function(e,t){if(ya in t||ba in t)return e;var n={};for(var r in e){var o=e[r];"function"==typeof o&&(delete e[r],n[r]=o)}return t[ya]=n,e},onUpdate:function(e,t,n,r){var o=t,i=o[ba];i&&(o.style=i(e)||{});var a=o[ya];if(a)for(var s in a)o.prop(s,a[s](e),r)}}},wa="@global",Ca=function(){function e(e,t,n){for(var r in this.type="global",this.at=wa,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new zi(f({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),_a=function(){function e(e,t,n){this.type="global",this.at=wa,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var r=e.substr("@global ".length);this.rule=n.jss.createRule(r,t,f({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Pa=/\s*,\s*/g;function Ea(e,t){for(var n=e.split(Pa),r="",o=0;o<n.length;o++)r+=t+" "+n[o].trim(),n[o+1]&&(r+=", ");return r}var Sa=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===wa)return new Ca(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new _a(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,o=r?r[wa]:null;if(o){for(var i in o)t.addRule(i,o[i],f({},n,{selector:Ea(i,e.selector)}));delete r[wa]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var o in r)if("@"===o[0]&&o.substr(0,wa.length)===wa){var i=Ea(o.substr(wa.length),e.selector);t.addRule(i,r[o],f({},n,{selector:i})),delete r[o]}}(e,t))}}},ka=/\s*,\s*/g,Ta=/&/g,Ra=/\$([\w-]+)/g;var Oa=function(){function e(e,t){return function(n,r){var o=e.getRule(r)||t&&t.getRule(r);return o?(o=o).selector:r}}function t(e,t){for(var n=t.split(ka),r=e.split(ka),o="",i=0;i<n.length;i++)for(var a=n[i],s=0;s<r.length;s++){var u=r[s];o&&(o+=", "),o+=-1!==u.indexOf("&")?u.replace(Ta,a):a+" "+u}return o}function n(e,t,n){if(n)return f({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var o=f({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(r,o,i){if("style"!==o.type)return r;var a,s,u=o,l=u.options.parent;for(var c in r){var p=-1!==c.indexOf("&"),d="@"===c[0];if(p||d){if(a=n(u,l,a),p){var h=t(c,u.selector);s||(s=e(l,i)),h=h.replace(Ra,s),l.addRule(h,r[c],f({},a,{selector:h}))}else d&&l.addRule(c,{},a).addRule(u.key,r[c],{selector:u.selector});delete r[c]}}return r}}},Ia=/[A-Z]/g,Va=/^ms-/,Aa={};function Da(e){return"-"+e.toLowerCase()}var Na=function(e){if(Aa.hasOwnProperty(e))return Aa[e];var t=e.replace(Ia,Da);return Aa[e]=Va.test(t)?"-"+t:t};function La(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Na(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(La):t.fallbacks=La(e.fallbacks)),t}var Fa=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=La(e[t]);return e}return La(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Na(t);return t===r?e:(n.prop(r,e),null)}}},Ma=la&&CSS?CSS.px:"px",qa=la&&CSS?CSS.ms:"ms",ja=la&&CSS?CSS.percent:"%";function Ba(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var o in e)r[o]=e[o],r[o.replace(t,n)]=e[o];return r}var za=Ba({"animation-delay":qa,"animation-duration":qa,"background-position":Ma,"background-position-x":Ma,"background-position-y":Ma,"background-size":Ma,border:Ma,"border-bottom":Ma,"border-bottom-left-radius":Ma,"border-bottom-right-radius":Ma,"border-bottom-width":Ma,"border-left":Ma,"border-left-width":Ma,"border-radius":Ma,"border-right":Ma,"border-right-width":Ma,"border-top":Ma,"border-top-left-radius":Ma,"border-top-right-radius":Ma,"border-top-width":Ma,"border-width":Ma,"border-block":Ma,"border-block-end":Ma,"border-block-end-width":Ma,"border-block-start":Ma,"border-block-start-width":Ma,"border-block-width":Ma,"border-inline":Ma,"border-inline-end":Ma,"border-inline-end-width":Ma,"border-inline-start":Ma,"border-inline-start-width":Ma,"border-inline-width":Ma,"border-start-start-radius":Ma,"border-start-end-radius":Ma,"border-end-start-radius":Ma,"border-end-end-radius":Ma,margin:Ma,"margin-bottom":Ma,"margin-left":Ma,"margin-right":Ma,"margin-top":Ma,"margin-block":Ma,"margin-block-end":Ma,"margin-block-start":Ma,"margin-inline":Ma,"margin-inline-end":Ma,"margin-inline-start":Ma,padding:Ma,"padding-bottom":Ma,"padding-left":Ma,"padding-right":Ma,"padding-top":Ma,"padding-block":Ma,"padding-block-end":Ma,"padding-block-start":Ma,"padding-inline":Ma,"padding-inline-end":Ma,"padding-inline-start":Ma,"mask-position-x":Ma,"mask-position-y":Ma,"mask-size":Ma,height:Ma,width:Ma,"min-height":Ma,"max-height":Ma,"min-width":Ma,"max-width":Ma,bottom:Ma,left:Ma,top:Ma,right:Ma,inset:Ma,"inset-block":Ma,"inset-block-end":Ma,"inset-block-start":Ma,"inset-inline":Ma,"inset-inline-end":Ma,"inset-inline-start":Ma,"box-shadow":Ma,"text-shadow":Ma,"column-gap":Ma,"column-rule":Ma,"column-rule-width":Ma,"column-width":Ma,"font-size":Ma,"font-size-delta":Ma,"letter-spacing":Ma,"text-decoration-thickness":Ma,"text-indent":Ma,"text-stroke":Ma,"text-stroke-width":Ma,"word-spacing":Ma,motion:Ma,"motion-offset":Ma,outline:Ma,"outline-offset":Ma,"outline-width":Ma,perspective:Ma,"perspective-origin-x":ja,"perspective-origin-y":ja,"transform-origin":ja,"transform-origin-x":ja,"transform-origin-y":ja,"transform-origin-z":ja,"transition-delay":qa,"transition-duration":qa,"vertical-align":Ma,"flex-basis":Ma,"shape-margin":Ma,size:Ma,gap:Ma,grid:Ma,"grid-gap":Ma,"row-gap":Ma,"grid-row-gap":Ma,"grid-column-gap":Ma,"grid-template-rows":Ma,"grid-template-columns":Ma,"grid-auto-rows":Ma,"grid-auto-columns":Ma,"box-shadow-x":Ma,"box-shadow-y":Ma,"box-shadow-blur":Ma,"box-shadow-spread":Ma,"font-line-height":Ma,"text-shadow-x":Ma,"text-shadow-y":Ma,"text-shadow-blur":Ma});function Ua(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Ua(e,t[r],n);else if("object"==typeof t)if("fallbacks"===e)for(var o in t)t[o]=Ua(o,t[o],n);else for(var i in t)t[i]=Ua(e+"-"+i,t[i],n);else if("number"==typeof t&&!Number.isNaN(t)){var a=n[e]||za[e];return!a||0===t&&a===Ma?t.toString():"function"==typeof a?a(t).toString():""+t+a}return t}var Wa=function(e){void 0===e&&(e={});var t=Ba(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Ua(r,e[r],t);return e},onChangeValue:function(e,n){return Ua(n,e,t)}}},Ha=n(40),Qa=n(41),Ga=n(20),$a=n(42);function Ka(e){return Ha(e)||Qa(e)||Ga(e)||$a()}var Ja="",Xa="",Ya="",Za="",es=ti&&"ontouchstart"in document.documentElement;if(ti){var ts={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ns=document.createElement("p").style;for(var rs in ts)if(rs+"Transform"in ns){Ja=rs,Xa=ts[rs];break}"Webkit"===Ja&&"msHyphens"in ns&&(Ja="ms",Xa=ts.ms,Za="edge"),"Webkit"===Ja&&"-apple-trailing-word"in ns&&(Ya="apple")}var os=Ja,is=Xa,as=Ya,ss=Za,us=es;var ls={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===os?"-webkit-"+e:is+e)}},cs={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===os?is+"print-"+e:e)}},ps=/[-\s]+(.)?/g;function ds(e,t){return t?t.toUpperCase():""}function hs(e){return e.replace(ps,ds)}function fs(e){return hs("-"+e)}var ms,gs={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===os){if(hs("mask-image")in t)return e;if(os+fs("mask-image")in t)return is+e}return e}},vs={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==as||us?e:is+e)}},ys={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:is+e)}},bs={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:is+e)}},xs={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===os||"ms"===os&&"edge"!==ss?is+e:e)}},ws={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===os||"ms"===os||"apple"===as?is+e:e)}},Cs={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===os?"WebkitColumn"+fs(e)in t&&is+"column-"+e:"Moz"===os&&("page"+fs(e)in t&&"page-"+e))}},_s={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===os)return e;var n=e.replace("-inline","");return os+fs(n)in t&&is+n}},Ps={supportedProperty:function(e,t){return hs(e)in t&&e}},Es={supportedProperty:function(e,t){var n=fs(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:os+n in t?is+e:"Webkit"!==os&&"Webkit"+n in t&&"-webkit-"+e}},Ss={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===os?""+is+e:e)}},ks={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===os?is+"scroll-chaining":e)}},Ts={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Rs={supportedProperty:function(e,t){var n=Ts[e];return!!n&&(os+fs(n)in t&&is+n)}},Os={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Is=Object.keys(Os),Vs=function(e){return is+e},As=[ls,cs,gs,vs,ys,bs,xs,ws,Cs,_s,Ps,Es,Ss,ks,Rs,{supportedProperty:function(e,t,n){var r=n.multiple;if(Is.indexOf(e)>-1){var o=Os[e];if(!Array.isArray(o))return os+fs(o)in t&&is+o;if(!r)return!1;for(var i=0;i<o.length;i++)if(!(os+fs(o[0])in t))return!1;return o.map(Vs)}return!1}}],Ds=As.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ns=As.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Ka(t.noPrefill)),e}),[]),Ls={};if(ti){ms=document.createElement("p");var Fs=window.getComputedStyle(document.documentElement,"");for(var Ms in Fs)isNaN(Ms)||(Ls[Fs[Ms]]=Fs[Ms]);Ns.forEach((function(e){return delete Ls[e]}))}function qs(e,t){if(void 0===t&&(t={}),!ms)return e;if(null!=Ls[e])return Ls[e];"transition"!==e&&"transform"!==e||(t[e]=e in ms.style);for(var n=0;n<Ds.length&&(Ls[e]=Ds[n](e,ms.style,t),!Ls[e]);n++);try{ms.style[e]=""}catch(e){return!1}return Ls[e]}var js,Bs={},zs={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Us=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Ws(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?qs(t):", "+qs(n);return r||(t||n)}function Hs(e,t){var n=t;if(!js||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Bs[r])return Bs[r];try{js.style[e]=n}catch(e){return Bs[r]=!1,!1}if(zs[e])n=n.replace(Us,Ws);else if(""===js.style[e]&&("-ms-flex"===(n=is+n)&&(js.style[e]="-ms-flexbox"),js.style[e]=n,""===js.style[e]))return Bs[r]=!1,!1;return js.style[e]="",Bs[r]=n,Bs[r]}ti&&(js=document.createElement("p"));var Qs=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var o=!1,i=qs(n);i&&i!==n&&(o=!0);var a=!1,s=Hs(i,ui(r));s&&s!==r&&(a=!0),(o||a)&&(o&&delete t[n],t[i||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===os?n:"@"+is+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Hs(t,ui(e))||e}}};var Gs=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},o=Object.keys(t).sort(e),i=0;i<o.length;i++)r[o[i]]=t[o[i]];return r}}};function $s(){return{plugins:[xa(),Sa(),Oa(),Fa(),Wa(),"undefined"==typeof window?null:Qs(),Gs()]}}var Ks=ca($s()),Js={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,o=void 0===r?"jss":r,i=e.seed,a=void 0===i?"":i,s=""===a?"":"".concat(a,"-"),u=0,l=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==ga.indexOf(e.key))return"Mui-".concat(e.key);var i="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[ma]&&""===a?"".concat(i,"-").concat(l()):i}return"".concat(s).concat(o).concat(l())}}(),jss:Ks,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Xs=o.a.createContext(Js);var Ys=-1e9;function Zs(){return Ys+=1}function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tu(e){return e&&"object"===eu(e)&&e.constructor===Object}function nu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?f({},e):e;return tu(e)&&tu(t)&&Object.keys(t).forEach((function(o){"__proto__"!==o&&(tu(t[o])&&o in e?r[o]=nu(e[o],t[o],n):r[o]=t[o])})),r}function ru(e){var t="function"==typeof e;return{create:function(n,r){var o;try{o=t?e(n):e}catch(e){throw e}if(!r||!n.overrides||!n.overrides[r])return o;var i=n.overrides[r],a=f({},o);return Object.keys(i).forEach((function(e){a[e]=nu(a[e],i[e])})),a},options:{}}}var ou={};function iu(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var o=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,o=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,o=!0),o&&(r.cacheClasses.value=pa({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function au(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,i=e.stylesCreator,a=e.name;if(!o.disableGeneration){var s=da.get(o.sheetsManager,i,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},da.set(o.sheetsManager,i,r,s));var u=f({},i.options,o,{theme:r,flip:"boolean"==typeof o.flip?o.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var l=o.sheetsRegistry;if(0===s.refs){var c;o.sheetsCache&&(c=da.get(o.sheetsCache,i,r));var p=i.create(r,a);c||((c=o.jss.createStyleSheet(p,f({link:!1},u))).attach(),o.sheetsCache&&da.set(o.sheetsCache,i,r,c)),l&&l.add(c),s.staticSheet=c,s.dynamicStyles=function e(t){var n=null;for(var r in t){var o=t[r],i=typeof o;if("function"===i)n||(n={}),n[r]=o;else if("object"===i&&null!==o&&!Array.isArray(o)){var a=e(o);a&&(n||(n={}),n[r]=a)}}return n}(p)}if(s.dynamicStyles){var d=o.jss.createStyleSheet(s.dynamicStyles,f({link:!0},u));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=pa({baseClasses:s.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=s.staticSheet.classes;s.refs+=1}}function su(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function uu(e){var t=e.state,n=e.theme,r=e.stylesOptions,o=e.stylesCreator;if(!r.disableGeneration){var i=da.get(r.sheetsManager,o,n);i.refs-=1;var a=r.sheetsRegistry;0===i.refs&&(da.delete(r.sheetsManager,o,n),r.jss.removeStyleSheet(i.staticSheet),a&&a.remove(i.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function lu(e,t){var n,r=o.a.useRef([]),i=o.a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.a.useEffect((function(){return function(){n&&n()}}),[i])}function cu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,i=t.Component,a=t.defaultTheme,s=void 0===a?ou:a,u=Zo(t,["name","classNamePrefix","Component","defaultTheme"]),l=ru(e),c=n||r||"makeStyles";l.options={index:Zs(),name:n,meta:c,classNamePrefix:c};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=fa()||s,r=f({},o.a.useContext(Xs),u),a=o.a.useRef(),c=o.a.useRef();lu((function(){var o={name:n,state:{},stylesCreator:l,stylesOptions:r,theme:t};return au(o,e),c.current=!1,a.current=o,function(){uu(o)}}),[t,l]),o.a.useEffect((function(){c.current&&su(a.current,e),c.current=!0}));var p=iu(a.current,e.classes,i);return p};return p}function pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var du=["xs","sm","md","lg","xl"];function hu(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,o=void 0===r?"px":r,i=e.step,a=void 0===i?5:i,s=Zo(e,["values","unit","step"]);function u(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function l(e,t){var r=du.indexOf(t);return r===du.length-1?u(e):"@media (min-width:".concat("number"==typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"==typeof n[du[r+1]]?n[du[r+1]]:t)-a/100).concat(o,")")}return f({keys:du,values:n,up:u,down:function(e){var t=du.indexOf(e)+1,r=n[du[t]];return t===du.length?u("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-a/100).concat(o,")")},between:l,only:function(e){return l(e,e)},width:function(e){return n[e]}},s)}function fu(e,t,n){var r;return f({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f({paddingLeft:t(2),paddingRight:t(2)},n,pu({},e.up("sm"),f({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},pu(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),pu(r,e.up("sm"),{minHeight:64}),r)},n)}function mu(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var gu={black:"#000",white:"#fff"},vu={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},yu={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},bu={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},xu={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},wu={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Cu={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},_u={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Pu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Eu(e){if(e.type)return e;if("#"===e.charAt(0))return Eu(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(mu(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Su(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function ku(e){var t="hsl"===(e=Eu(e)).type?Eu(function(e){var t=(e=Eu(e)).values,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),Su({type:s,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Tu(e,t){return e=Eu(e),t=Pu(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,Su(e)}function Ru(e,t){if(e=Eu(e),t=Pu(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Su(e)}function Ou(e,t){if(e=Eu(e),t=Pu(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Su(e)}var Iu={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:gu.white,default:vu[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Vu={text:{primary:gu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:vu[800],default:"#303030"},action:{active:gu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Au(e,t,n,r){var o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Ou(e.main,o):"dark"===t&&(e.dark=Ru(e.main,i)))}function Du(e){var t=e.primary,n=void 0===t?{light:yu[300],main:yu[500],dark:yu[700]}:t,r=e.secondary,o=void 0===r?{light:bu.A200,main:bu.A400,dark:bu.A700}:r,i=e.error,a=void 0===i?{light:xu[300],main:xu[500],dark:xu[700]}:i,s=e.warning,u=void 0===s?{light:wu[300],main:wu[500],dark:wu[700]}:s,l=e.info,c=void 0===l?{light:Cu[300],main:Cu[500],dark:Cu[700]}:l,p=e.success,d=void 0===p?{light:_u[300],main:_u[500],dark:_u[700]}:p,h=e.type,m=void 0===h?"light":h,g=e.contrastThreshold,v=void 0===g?3:g,y=e.tonalOffset,b=void 0===y?.2:y,x=Zo(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function w(e){return function(e,t){var n=ku(e),r=ku(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Vu.text.primary)>=v?Vu.text.primary:Iu.text.primary}var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=f({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(mu(4,t));if("string"!=typeof e.main)throw new Error(mu(5,JSON.stringify(e.main)));return Au(e,"light",n,b),Au(e,"dark",r,b),e.contrastText||(e.contrastText=w(e.main)),e},_={dark:Vu,light:Iu};return nu(f({common:gu,type:m,primary:C(n),secondary:C(o,"A400","A200","A700"),error:C(a),warning:C(u),info:C(c),success:C(d),grey:vu,contrastThreshold:v,getContrastText:w,augmentColor:C,tonalOffset:b},_[m]),x)}function Nu(e){return Math.round(1e5*e)/1e5}var Lu={textTransform:"uppercase"};function Fu(e,t){var n="function"==typeof t?t(e):t,r=n.fontFamily,o=void 0===r?'"Roboto", "Helvetica", "Arial", sans-serif':r,i=n.fontSize,a=void 0===i?14:i,s=n.fontWeightLight,u=void 0===s?300:s,l=n.fontWeightRegular,c=void 0===l?400:l,p=n.fontWeightMedium,d=void 0===p?500:p,h=n.fontWeightBold,m=void 0===h?700:h,g=n.htmlFontSize,v=void 0===g?16:g,y=n.allVariants,b=n.pxToRem,x=Zo(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var w=a/14,C=b||function(e){return"".concat(e/v*w,"rem")},_=function(e,t,n,r,i){return f({fontFamily:o,fontWeight:e,fontSize:C(t),lineHeight:n},'"Roboto", "Helvetica", "Arial", sans-serif'===o?{letterSpacing:"".concat(Nu(r/t),"em")}:{},i,y)},P={h1:_(u,96,1.167,-1.5),h2:_(u,60,1.2,-.5),h3:_(c,48,1.167,0),h4:_(c,34,1.235,.25),h5:_(c,24,1.334,0),h6:_(d,20,1.6,.15),subtitle1:_(c,16,1.75,.15),subtitle2:_(d,14,1.57,.1),body1:_(c,16,1.5,.15),body2:_(c,14,1.43,.15),button:_(d,14,1.75,.4,Lu),caption:_(c,12,1.66,.4),overline:_(c,12,2.66,1,Lu)};return nu(f({htmlFontSize:v,pxToRem:C,round:Nu,fontFamily:o,fontSize:a,fontWeightLight:u,fontWeightRegular:c,fontWeightMedium:d,fontWeightBold:m},P),x,{clone:!1})}function Mu(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var qu=["none",Mu(0,2,1,-1,0,1,1,0,0,1,3,0),Mu(0,3,1,-2,0,2,2,0,0,1,5,0),Mu(0,3,3,-2,0,3,4,0,0,1,8,0),Mu(0,2,4,-1,0,4,5,0,0,1,10,0),Mu(0,3,5,-1,0,5,8,0,0,1,14,0),Mu(0,3,5,-1,0,6,10,0,0,1,18,0),Mu(0,4,5,-2,0,7,10,1,0,2,16,1),Mu(0,5,5,-3,0,8,10,1,0,3,14,2),Mu(0,5,6,-3,0,9,12,1,0,3,16,2),Mu(0,6,6,-3,0,10,14,1,0,4,18,3),Mu(0,6,7,-4,0,11,15,1,0,4,20,3),Mu(0,7,8,-4,0,12,17,2,0,5,22,4),Mu(0,7,8,-4,0,13,19,2,0,5,24,4),Mu(0,7,9,-4,0,14,21,2,0,5,26,4),Mu(0,8,9,-5,0,15,22,2,0,6,28,5),Mu(0,8,10,-5,0,16,24,2,0,6,30,5),Mu(0,8,11,-5,0,17,26,2,0,6,32,5),Mu(0,9,11,-5,0,18,28,2,0,7,34,6),Mu(0,9,12,-6,0,19,29,2,0,7,36,6),Mu(0,10,13,-6,0,20,31,3,0,8,38,7),Mu(0,10,13,-6,0,21,33,3,0,8,40,7),Mu(0,10,14,-6,0,22,35,3,0,8,42,7),Mu(0,11,14,-7,0,23,36,3,0,9,44,8),Mu(0,11,15,-7,0,24,38,3,0,9,46,8)],ju={borderRadius:4},Bu=n(43),zu=n(44),Uu=n(45);function Wu(e,t){return Bu(e)||zu(e,t)||Ga(e,t)||Uu()}var Hu=function(e,t){return t?nu(e,t,{clone:!1}):e},Qu={xs:0,sm:600,md:960,lg:1280,xl:1920},Gu={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Qu[e],"px)")}};var $u,Ku,Ju={m:"margin",p:"padding"},Xu={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Yu={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Zu=($u=function(e){if(e.length>2){if(!Yu[e])return[e];e=Yu[e]}var t=Wu(e.split(""),2),n=t[0],r=t[1],o=Ju[n],i=Xu[r]||"";return Array.isArray(i)?i.map((function(e){return o+e})):[o+i]},Ku={},function(e){return void 0===Ku[e]&&(Ku[e]=$u(e)),Ku[e]}),el=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function tl(e){var t=e.spacing||8;return"number"==typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"==typeof t?t:function(){}}function nl(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"==typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"==typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function rl(e){var t=tl(e.theme);return Object.keys(e).map((function(n){if(-1===el.indexOf(n))return null;var r=nl(Zu(n),t),o=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||Gu;return t.reduce((function(e,o,i){return e[r.up(r.keys[i])]=n(t[i]),e}),{})}if("object"===eu(t)){var o=e.theme.breakpoints||Gu;return Object.keys(t).reduce((function(e,r){return e[o.up(r)]=n(t[r]),e}),{})}return n(t)}(e,o,r)})).reduce(Hu,{})}rl.propTypes={},rl.filterProps=el;function ol(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=tl({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"==typeof e)return e;var n=t(e);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var il={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},al={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function sl(e){return"".concat(Math.round(e),"ms")}var ul={easing:il,duration:al,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?al.standard:n,o=t.easing,i=void 0===o?il.easeInOut:o,a=t.delay,s=void 0===a?0:a;Zo(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof r?r:sl(r)," ").concat(i," ").concat("string"==typeof s?s:sl(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},ll={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var cl=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,i=e.palette,a=void 0===i?{}:i,s=e.spacing,u=e.typography,l=void 0===u?{}:u,c=Zo(e,["breakpoints","mixins","palette","spacing","typography"]),p=Du(a),d=hu(n),h=ol(s),f=nu({breakpoints:d,direction:"ltr",mixins:fu(d,h,o),overrides:{},palette:p,props:{},shadows:qu,typography:Fu(p,l),spacing:h,shape:ju,transitions:ul,zIndex:ll},c),m=arguments.length,g=new Array(m>1?m-1:0),v=1;v<m;v++)g[v-1]=arguments[v];return f=g.reduce((function(e,t){return nu(e,t)}),f)}();var pl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return cu(e,f({defaultTheme:cl},t))},dl=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{checked:e.isOn,onChange:e.handler,id:e.id,className:"react-switch-checkbox",type:"checkbox"}),o.a.createElement("label",{style:{backgroundColor:e.isOn&&"#06D6A0"},className:"react-switch-label",htmlFor:e.id},o.a.createElement("span",{className:"react-switch-button"})))};function hl(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=hl(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var fl=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=hl(e))&&(r&&(r+=" "),r+=t);return r};function ml(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var o,i=t.props[n];for(o in i)void 0===r[o]&&(r[o]=i[o]);return r}var gl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.defaultTheme,i=t.withTheme,a=void 0!==i&&i,s=t.name,u=Zo(t,["defaultTheme","withTheme","name"]);var l=s,c=cu(e,f({defaultTheme:r,Component:n,name:s||n.displayName,classNamePrefix:l},u)),p=o.a.forwardRef((function(e,t){e.classes;var i,u=e.innerRef,l=Zo(e,["classes","innerRef"]),p=c(f({},n.defaultProps,e)),d=l;return("string"==typeof s||a)&&(i=fa()||r,s&&(d=ml({theme:i,name:s,props:l})),a&&!d.theme&&(d.theme=i)),o.a.createElement(n,f({ref:u||t,classes:p},d))}));return v()(p,n),p}};var vl=function(e,t){return gl(e,f({defaultTheme:cl},t))};function yl(e){if("string"!=typeof e)throw new Error(mu(7));return e.charAt(0).toUpperCase()+e.slice(1)}var bl={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},xl=r.forwardRef((function(e,t){var n=e.align,o=void 0===n?"inherit":n,i=e.classes,a=e.className,s=e.color,u=void 0===s?"initial":s,l=e.component,c=e.display,p=void 0===c?"initial":c,d=e.gutterBottom,h=void 0!==d&&d,m=e.noWrap,g=void 0!==m&&m,v=e.paragraph,y=void 0!==v&&v,b=e.variant,x=void 0===b?"body1":b,w=e.variantMapping,C=void 0===w?bl:w,_=Zo(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),P=l||(y?"p":C[x]||bl[x])||"span";return r.createElement(P,f({className:fl(i.root,a,"inherit"!==x&&i[x],"initial"!==u&&i["color".concat(yl(u))],g&&i.noWrap,h&&i.gutterBottom,y&&i.paragraph,"inherit"!==o&&i["align".concat(yl(o))],"initial"!==p&&i["display".concat(yl(p))]),ref:t},_))})),wl=vl((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(xl);var Cl=!0,_l=!1,Pl=null,El={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Sl(e){e.metaKey||e.altKey||e.ctrlKey||(Cl=!0)}function kl(){Cl=!1}function Tl(){"hidden"===this.visibilityState&&_l&&(Cl=!0)}function Rl(e){var t,n,r,o=e.target;try{return o.matches(":focus-visible")}catch(e){}return Cl||(n=(t=o).type,!("INPUT"!==(r=t.tagName)||!El[n]||t.readOnly)||"TEXTAREA"===r&&!t.readOnly||!!t.isContentEditable)}function Ol(){_l=!0,window.clearTimeout(Pl),Pl=window.setTimeout((function(){_l=!1}),100)}function Il(){return{isFocusVisible:Rl,onBlurVisible:Ol,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",Sl,!0),t.addEventListener("mousedown",kl,!0),t.addEventListener("pointerdown",kl,!0),t.addEventListener("touchstart",kl,!0),t.addEventListener("visibilitychange",Tl,!0))}),[])}}function Vl(e){return e&&e.ownerDocument||document}var Al="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function Dl(e){var t=r.useRef(e);return Al((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}function Nl(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function Ll(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Nl(e,n),Nl(t,n)}}),[e,t])}var Fl=vl((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:f({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,n=e.classes,o=e.className,i=e.open,a=e.value,s=e.valueLabelDisplay;return"off"===s?t:r.cloneElement(t,{className:fl(t.props.className,(i||"on"===s)&&n.open,n.thumb)},r.createElement("span",{className:fl(n.offset,o)},r.createElement("span",{className:n.circle},r.createElement("span",{className:n.label},a))))}));function Ml(e,t){return e-t}function ql(e,t,n){return Math.min(Math.max(t,e),n)}function jl(e,t){return e.reduce((function(e,n,r){var o=Math.abs(t-n);return null===e||o<e.distance||o===e.distance?{distance:o,index:r}:e}),null).index}function Bl(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function zl(e,t,n){return 100*(e-t)/(n-t)}function Ul(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function Wl(e){var t=e.values,n=e.source,r=e.newValue,o=e.index;if(t[o]===r)return n;var i=t.slice();return i[o]=r,i}function Hl(e){var t=e.sliderRef,n=e.activeIndex,r=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[role="slider"][data-index="'.concat(n,'"]')).focus(),r&&r(n)}var Ql={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},Gl=function(e){return e},$l=r.forwardRef((function(e,t){var n=e["aria-label"],o=e["aria-labelledby"],i=e["aria-valuetext"],a=e.classes,s=e.className,u=e.color,l=void 0===u?"primary":u,c=e.component,p=void 0===c?"span":c,d=e.defaultValue,h=e.disabled,m=void 0!==h&&h,g=e.getAriaLabel,v=e.getAriaValueText,y=e.marks,b=void 0!==y&&y,x=e.max,w=void 0===x?100:x,C=e.min,_=void 0===C?0:C,P=e.name,E=e.onChange,S=e.onChangeCommitted,k=e.onMouseDown,T=e.orientation,R=void 0===T?"horizontal":T,O=e.scale,I=void 0===O?Gl:O,V=e.step,A=void 0===V?1:V,D=e.ThumbComponent,N=void 0===D?"span":D,L=e.track,F=void 0===L?"normal":L,M=e.value,q=e.ValueLabelComponent,j=void 0===q?Fl:q,B=e.valueLabelDisplay,z=void 0===B?"off":B,U=e.valueLabelFormat,W=void 0===U?Gl:U,H=Zo(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),Q=fa()||cl,G=r.useRef(),$=r.useState(-1),K=$[0],J=$[1],X=r.useState(-1),Y=X[0],Z=X[1],ee=Wu(function(e){var t=e.controlled,n=e.default,o=(e.name,e.state,r.useRef(void 0!==t).current),i=r.useState(n),a=i[0],s=i[1];return[o?t:a,r.useCallback((function(e){o||s(e)}),[])]}({controlled:M,default:d,name:"Slider"}),2),te=ee[0],ne=ee[1],re=Array.isArray(te),oe=re?te.slice().sort(Ml):[te];oe=oe.map((function(e){return ql(e,_,w)}));var ie=!0===b&&null!==A?Ka(Array(Math.floor((w-_)/A)+1)).map((function(e,t){return{value:_+A*t}})):b||[],ae=Il(),se=ae.isFocusVisible,ue=ae.onBlurVisible,le=ae.ref,ce=r.useState(-1),pe=ce[0],de=ce[1],he=r.useRef(),fe=Ll(le,he),me=Ll(t,fe),ge=Dl((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));se(e)&&de(t),Z(t)})),ve=Dl((function(){-1!==pe&&(de(-1),ue()),Z(-1)})),ye=Dl((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));Z(t)})),be=Dl((function(){Z(-1)})),xe="rtl"===Q.direction,we=Dl((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),r=oe[n],o=(w-_)/10,i=ie.map((function(e){return e.value})),a=i.indexOf(r),s=xe?"ArrowLeft":"ArrowRight",u=xe?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=_;break;case"End":t=w;break;case"PageUp":A&&(t=r+o);break;case"PageDown":A&&(t=r-o);break;case s:case"ArrowUp":t=A?r+A:i[a+1]||i[i.length-1];break;case u:case"ArrowDown":t=A?r-A:i[a-1]||i[0];break;default:return}if(e.preventDefault(),A&&(t=Ul(t,A,_)),t=ql(t,_,w),re){var l=t;t=Wl({values:oe,source:te,newValue:t,index:n}).sort(Ml),Hl({sliderRef:he,activeIndex:t.indexOf(l)})}ne(t),de(n),E&&E(e,t),S&&S(e,t)})),Ce=r.useRef(),_e=R;xe&&"vertical"!==R&&(_e+="-reverse");var Pe=function(e){var t,n,r=e.finger,o=e.move,i=void 0!==o&&o,a=e.values,s=e.source,u=he.current.getBoundingClientRect(),l=u.width,c=u.height,p=u.bottom,d=u.left;if(t=0===_e.indexOf("vertical")?(p-r.y)/c:(r.x-d)/l,-1!==_e.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,_,w),A)n=Ul(n,A,_);else{var h=ie.map((function(e){return e.value}));n=h[jl(h,n)]}n=ql(n,_,w);var f=0;if(re){var m=n;f=(n=Wl({values:a,source:s,newValue:n,index:f=i?Ce.current:jl(a,n)}).sort(Ml)).indexOf(m),Ce.current=f}return{newValue:n,activeIndex:f}},Ee=Dl((function(e){var t=Bl(e,G);if(t){var n=Pe({finger:t,move:!0,values:oe,source:te}),r=n.newValue,o=n.activeIndex;Hl({sliderRef:he,activeIndex:o,setActive:J}),ne(r),E&&E(e,r)}})),Se=Dl((function(e){var t=Bl(e,G);if(t){var n=Pe({finger:t,values:oe,source:te}).newValue;J(-1),"touchend"===e.type&&Z(-1),S&&S(e,n),G.current=void 0;var r=Vl(he.current);r.removeEventListener("mousemove",Ee),r.removeEventListener("mouseup",Se),r.removeEventListener("touchmove",Ee),r.removeEventListener("touchend",Se)}})),ke=Dl((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(G.current=t.identifier);var n=Bl(e,G),r=Pe({finger:n,values:oe,source:te}),o=r.newValue,i=r.activeIndex;Hl({sliderRef:he,activeIndex:i,setActive:J}),ne(o),E&&E(e,o);var a=Vl(he.current);a.addEventListener("touchmove",Ee),a.addEventListener("touchend",Se)}));r.useEffect((function(){var e=he.current;e.addEventListener("touchstart",ke);var t=Vl(e);return function(){e.removeEventListener("touchstart",ke),t.removeEventListener("mousemove",Ee),t.removeEventListener("mouseup",Se),t.removeEventListener("touchmove",Ee),t.removeEventListener("touchend",Se)}}),[Se,Ee,ke]);var Te=Dl((function(e){k&&k(e),e.preventDefault();var t=Bl(e,G),n=Pe({finger:t,values:oe,source:te}),r=n.newValue,o=n.activeIndex;Hl({sliderRef:he,activeIndex:o,setActive:J}),ne(r),E&&E(e,r);var i=Vl(he.current);i.addEventListener("mousemove",Ee),i.addEventListener("mouseup",Se)})),Re=zl(re?oe[0]:_,_,w),Oe=zl(oe[oe.length-1],_,w)-Re,Ie=f({},Ql[_e].offset(Re),Ql[_e].leap(Oe));return r.createElement(p,f({ref:me,className:fl(a.root,a["color".concat(yl(l))],s,m&&a.disabled,ie.length>0&&ie.some((function(e){return e.label}))&&a.marked,!1===F&&a.trackFalse,"vertical"===R&&a.vertical,"inverted"===F&&a.trackInverted),onMouseDown:Te},H),r.createElement("span",{className:a.rail}),r.createElement("span",{className:a.track,style:Ie}),r.createElement("input",{value:oe.join(","),name:P,type:"hidden"}),ie.map((function(e,t){var n,o=zl(e.value,_,w),i=Ql[_e].offset(o);return n=!1===F?-1!==oe.indexOf(e.value):"normal"===F&&(re?e.value>=oe[0]&&e.value<=oe[oe.length-1]:e.value<=oe[0])||"inverted"===F&&(re?e.value<=oe[0]||e.value>=oe[oe.length-1]:e.value>=oe[0]),r.createElement(r.Fragment,{key:e.value},r.createElement("span",{style:i,"data-index":t,className:fl(a.mark,n&&a.markActive)}),null!=e.label?r.createElement("span",{"aria-hidden":!0,"data-index":t,style:i,className:fl(a.markLabel,n&&a.markLabelActive)},e.label):null)})),oe.map((function(e,t){var s=zl(e,_,w),u=Ql[_e].offset(s);return r.createElement(j,{key:t,valueLabelFormat:W,valueLabelDisplay:z,className:a.valueLabel,value:"function"==typeof W?W(I(e),t):W,index:t,open:Y===t||K===t||"on"===z,disabled:m},r.createElement(N,{className:fl(a.thumb,a["thumbColor".concat(yl(l))],K===t&&a.active,m&&a.disabled,pe===t&&a.focusVisible),tabIndex:m?null:0,role:"slider",style:u,"data-index":t,"aria-label":g?g(t):n,"aria-labelledby":o,"aria-orientation":R,"aria-valuemax":I(w),"aria-valuemin":I(_),"aria-valuenow":I(e),"aria-valuetext":v?v(I(e),t):i,onKeyDown:we,onFocus:ge,onBlur:ve,onMouseOver:ye,onMouseLeave:be}))})))})),Kl=vl((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?Ou(e.palette.primary.main,.62):Ru(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Tu(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Tu(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Tu(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Tu(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:f({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})($l);function Jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yl=pl((function(e){return{toolBar:{zIndex:20,right:0,top:"50px",backgroundColor:"white",position:"absolute",flexDirection:"col"},toggleSwitch:{flexDirection:"row"}}})),Zl=(se((function(e){return{controlParams:e.controlParams}}),(function(e){return{updateMask:function(e){return be.dispatch({type:"UPDATE_MASK",payload:e})},updateEye:function(e){return be.dispatch({type:"UPDATE_EYE",payload:e})},updateMouth:function(e){return be.dispatch({type:"UPDATE_MOUTH",payload:e})},updateNose:function(e){return be.dispatch({type:"UPDATE_NOSE",payload:e})},updateBar:function(e){return be.dispatch({type:"UPDATE_BAR",payload:e})}}}))((function(e){var t=Yl(),n=e.controlParams,i=Object(r.useState)(n),a=Xo()(i,2),s=a[0],u=a[1];return o.a.createElement("div",{className:t.toolBar},o.a.createElement("div",{className:t.toggleSwitch},o.a.createElement(wl,{style:{color:"black"}},"Occlusion mask"),o.a.createElement(dl,{id:"mask",isOn:s.occlusion_mask,handler:function(){e.updateMask(!s.occlusion_mask),u(Xl(Xl({},s),{},{occlusion_mask:!s.occlusion_mask}))}})),o.a.createElement("div",{className:t.toggleSwitch},o.a.createElement(wl,{style:{color:"black"}},"Eyes"),o.a.createElement(dl,{id:"eyes",isOn:s.feature_show.eyes.toggle,handler:function(){var t={toggle:!s.feature_show.eyes.toggle,sliderIndex:s.feature_show.eyes.sliderIndex};e.updateEye(t),u(Xl(Xl({},s),{},{feature_show:Xl(Xl({},s.feature_show),{},{eyes:t})}))}}),o.a.createElement(Kl,{id:"eyeSlider",defaultValue:s.feature_show.eyes.sliderIndex,step:1,marks:!0,min:0,max:10,valueLabelDisplay:"auto",onChange:function(t,n){console.log("value change",n);var r={toggle:s.feature_show.eyes.toggle,sliderIndex:n};e.updateEye(r),u(Xl(Xl({},s),{},{feature_show:Xl(Xl({},s.feature_show),{},{eyes:r})}))}})),o.a.createElement("div",{className:t.toggleSwitch},o.a.createElement(wl,{style:{color:"black"}},"Mouth"),o.a.createElement(dl,{id:"mouth",isOn:s.feature_show.mouth.toggle,handler:function(){var t={toggle:!s.feature_show.mouth.toggle,sliderIndex:s.feature_show.mouth.sliderIndex};e.updateMouth(t),u(Xl(Xl({},s),{},{feature_show:Xl(Xl({},s.feature_show),{},{mouth:t})}))}}),o.a.createElement(Kl,{id:"mouthSlider",defaultValue:s.feature_show.mouth.sliderIndex,step:1,marks:!0,min:0,max:10,valueLabelDisplay:"auto",onChange:function(t,n){console.log("value change",n);var r={toggle:s.feature_show.mouth.toggle,sliderIndex:n};e.updateMouth(r),u(Xl(Xl({},s),{},{feature_show:Xl(Xl({},s.feature_show),{},{mouth:r})}))}})),o.a.createElement("div",{className:t.toggleSwitch},o.a.createElement(wl,{style:{color:"black"}},"Nose"),o.a.createElement(dl,{id:"nose",isOn:s.feature_show.nose.toggle,handler:function(){var t={toggle:!s.feature_show.nose.toggle,sliderIndex:s.feature_show.nose.sliderIndex};e.updateNose(t),u(Xl(Xl({},s),{},{feature_show:Xl(Xl({},s.feature_show),{},{nose:t})}))}}),o.a.createElement(Kl,{id:"noseSlider",defaultValue:s.feature_show.nose.sliderIndex,step:1,marks:!0,min:0,max:10,valueLabelDisplay:"auto",onChange:function(t,n){console.log("value change",n);var r={toggle:s.feature_show.nose.toggle,sliderIndex:n};e.updateNose(r),u(Xl(Xl({},s),{},{feature_show:Xl(Xl({},s.feature_show),{},{nose:r})}))}})),o.a.createElement("div",{className:t.toggleSwitch},o.a.createElement(wl,{style:{color:"black"}},"bar"),o.a.createElement(dl,{id:"bar",isOn:s.feature_show.bar.toggle,handler:function(){var t=Xl(Xl({},s.feature_show.bar),{},{toggle:!s.feature_show.bar.toggle});e.updateBar(t),u(Xl(Xl({},s),{},{feature_show:Xl(Xl({},s.feature_show),{},{bar:t})}))}}),o.a.createElement(wl,{style:{color:"black"}},"direction"),o.a.createElement(dl,{id:"barDirection",isOn:s.feature_show.bar.direction,handler:function(){var t=Xl(Xl({},s.feature_show.bar),{},{direction:!s.feature_show.bar.direction});e.updateBar(t),u(Xl(Xl({},s),{},{feature_show:Xl(Xl({},s.feature_show),{},{bar:t})}))}}),o.a.createElement(Kl,{id:"barSlider",defaultValue:s.feature_show.bar.sliderIndex,step:1,marks:!0,min:0,max:10,valueLabelDisplay:"auto",onChange:function(t,n){console.log("value change",n);var r=Xl(Xl({},s.feature_show.bar),{},{sliderIndex:n});e.updateBar(r),u(Xl(Xl({},s),{},{feature_show:Xl(Xl({},s.feature_show),{},{bar:r})}))}}),o.a.createElement(Kl,{id:"barPositionSlider",defaultValue:s.feature_show.bar.position,step:1,marks:!0,min:0,max:10,valueLabelDisplay:"auto",onChange:function(t,n){var r=Xl(Xl({},s.feature_show.bar),{},{position:n});e.updateBar(r),u(Xl(Xl({},s),{},{feature_show:Xl(Xl({},s.feature_show),{},{bar:r})}))}})))})),{pages:[{name:"page1",elements:[{type:"radiogroup",name:"question1",title:"What's your current emotion?",choices:[{value:"item1",text:"Neural"},{value:"item2",text:"Happy"},{value:"item3",text:"Sad"},{value:"item4",text:"Angry"},{value:"item5",text:"Suprised"}]},{type:"radiogroup",name:"question2",title:"What's your friend's current emotion?",choices:[{value:"item1",text:"Neural"},{value:"item2",text:"Happy"},{value:"item3",text:"Sad"},{value:"item4",text:"Angry"},{value:"item5",text:"Suprised"}]}],title:"Question!",description:""}]}),ec=n(10);function tc(e){var t=parseInt(e.time_diff/60),n=e.time_diff-60*t,r="0"+t.toString()+" : "+(n<10?"0"+n.toString():n.toString());return o.a.createElement("div",null,o.a.createElement("text",null," ",r," "))}function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt()(e);if(t){var o=yt()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gt()(this,n)}}var ic=n(54),ac=function(e){ft()(i,e);var t,n,r=oc(i);function i(e){var t;return ut()(this,i),(t=r.call(this,e)).state={bridge:"",user:"host",survey:!1,recording:!1,time_diff:0,process:!1,stage:0,process_cfg:null},t.record={user:t.state.user,record_count:0,record_detail:[]},t.controlParams=e.controlParams,t.detections=null,t.process_duration=10,t.onRemoteHangup=t.onRemoteHangup.bind(dt()(t)),t.onMessage=t.onMessage.bind(dt()(t)),t.sendData=t.sendData.bind(dt()(t)),t.setupDataHandlers=t.setupDataHandlers.bind(dt()(t)),t.setDescription=t.setDescription.bind(dt()(t)),t.sendDescription=t.sendDescription.bind(dt()(t)),t.hangup=t.hangup.bind(dt()(t)),t.init=t.init.bind(dt()(t)),t.setDescription=t.setDescription.bind(dt()(t)),t.showEmotion=t.showEmotion.bind(dt()(t)),t.detectFace=t.detectFace.bind(dt()(t)),t.loadModel=t.loadModel.bind(dt()(t)),t.drawCanvas=t.drawCanvas.bind(dt()(t)),t.onSurveyStart=t.onSurveyStart.bind(dt()(t)),t.onControl=t.onControl.bind(dt()(t)),t.sendDataToServer=t.sendDataToServer.bind(dt()(t)),t.startRecording=t.startRecording.bind(dt()(t)),t.stopRecording=t.stopRecording.bind(dt()(t)),t.saveVideo=t.saveVideo.bind(dt()(t)),t.onProcessStart=t.onProcessStart.bind(dt()(t)),t.onProcessControl=t.onProcessControl.bind(dt()(t)),t.mask_configuration=[],ec.StylesManager.applyTheme("winter"),t.model=new ec.Model(Zl),t}return ct()(i,[{key:"componentDidMount",value:function(){var e=this;this.loadModel(),this.props.media(this),this.props.getUserMedia.then((function(t){return e.localVideo.srcObject=e.localStream=t})),this.props.socket.on("process-start",this.onProcessStart),this.props.socket.on("process-control",this.onProcessControl),this.props.socket.on("message",this.onMessage),this.props.socket.on("hangup",this.onRemoteHangup),this.props.socket.on("survey-start",this.onSurveyStart),this.props.socket.on("control",this.onControl),this.props.socket.on("recording",this.startRecording),this.remoteVideo.addEventListener("play",(function(){e.showEmotion()})),this.localVideo.addEventListener("play",(function(){e.mediaRecorder=new MediaRecorder(e.localStream,{mimeType:"video/webm"}),e.chunks=[],e.mediaRecorder.ondataavailable=function(t){t.data&&t.data.size>0&&e.chunks.push(t.data)}}))}},{key:"componentWillUnmount",value:function(){this.props.media(null),void 0!==this.localStream&&this.localStream.getVideoTracks()[0].stop(),this.props.socket.emit("leave"),clearInterval(this.timmer)}},{key:"showEmotion",value:(n=It()(At.a.mark((function e(){return At.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.detections=this.detectFace();case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"loadModel",value:(t=It()(At.a.mark((function e(){var t;return At.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/models",e.next=3,n=t,ko.tinyFaceDetector.load(n);case 3:return e.next=5,To(t);case 5:return e.next=7,Ro(t);case 7:return e.next=9,Oo(t);case 9:case"end":return e.stop()}var n}),e)}))),function(){return t.apply(this,arguments)})},{key:"onProcessControl",value:function(e){var t=this;this.state.process?this.props.socket.emit("process-in-progress",{room:this.props.room,time_diff:this.state.time_diff}):this.setState(rc(rc({},this.state),{},{process_cfg:e.cfg}),(function(){console.log(t.state),t.onReady()}))}},{key:"onReady",value:function(){var e=this;window.confirm("Are you ready to start?")?(this.props.socket.emit("process-ready",{room:this.props.room,user:this.state.user}),console.log(this.state)):setTimeout((function(){e.onReady()}),1e4)}},{key:"onProcessStart",value:function(){var e=this;if(this.state.process)this.props.socket.emit("process-in-progress",{room:this.props.room,time_diff:this.state.time_diff});else{console.log("process start counting");var t=(new Date).getTime();this.process_duration=this.state.process_cfg[0].duration;var n=t+1e3*this.process_duration;this.timmer=setInterval((function(){var t=(new Date).getTime();e.setState(rc(rc({},e.state),{},{process:!0,time_diff:Math.round((n-t)/1e3)}));var r=Math.round((n-t)/1e3);r<=0&&e.onProcessStop(),r>2*e.process_duration/3?1!=e.state.stage&&(e.props.updateAll(e.state.process_cfg[1][e.state.user]),e.setState(rc(rc({},e.state),{},{stage:1}))):r<2*e.process_duration/3&&r>e.process_duration/3?2!=e.state.stage&&(e.setState(rc(rc({},e.state),{},{stage:2})),e.props.updateAll(e.state.process_cfg[2][e.state.user])):r<e.process_duration/3&&(3!=e.state.stage&&e.setState(rc(rc({},e.state),{},{stage:3})),e.props.updateAll(e.state.process_cfg[3][e.state.user]))}),1e3)}}},{key:"onProcessStop",value:function(){clearInterval(this.timmer),this.setState(rc(rc({},this.state),{},{process:!1,time_diff:this.process_duration,stage:0})),this.props.socket.emit("process-stop",{room:this.props.room}),this.onReady()}},{key:"onSurveyStart",value:function(){console.log("survey start"),this.record.user=this.state.user,this.setState(rc(rc({},this.state),{},{record_count:0,survey:!0}));var e=new Date,t="";t+=e.getHours()+"/"+e.getMinutes()+"/"+e.getSeconds(),this.record.record_detail.push(t)}},{key:"onControl",value:function(e){var t=e.user,n=e.controlData;t==this.state.user?(this.props.updateAll(n),0==n.video?this.localVideo.pause():this.localVideo.play(),1==n.recording&&0==this.state.recording&&this.startRecording(),0==n.recording&&1==this.state.recording&&this.stopRecording()):(0==n.video?this.remoteVideo.pause():this.remoteVideo.play(),0==n.audio?this.remoteVideo.muted=!0:this.remoteVideo.muted=!1)}},{key:"startRecording",value:function(){console.log("starting"),this.chunks=[],this.mediaRecorder.start(10),this.setState({recording:!0})}},{key:"stopRecording",value:function(){console.log("stopping recording"),this.mediaRecorder.stop(),this.setState({recording:!1}),this.saveVideo()}},{key:"saveVideo",value:function(){var e=new Blob(this.chunks,{type:"video/webm"});window.URL.createObjectURL(e);ic.saveAs(e,"recording.webm")}},{key:"detectFace",value:function(){var e=In(this.remoteVideo),t=In(this.localVideo);console.log("compare",e,t);var n={width:t.width,height:t.height};return function(e,t,n){void 0===n&&(n=!1);var r=n?Rn(t):t,o=r.width,i=r.height;e.width=o,e.height=i}(this.canvasRef,n),console.log(this.canvasRef.width,this.canvasRef.height),new Promise(function(e){var t=this;setInterval(It()(At.a.mark((function e(){return At.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(p=t.remoteVideo,d=new so,void 0===d&&(d=new Qr),new Ko(p,d)).withFaceLandmarks().withFaceExpressions();case 2:t.detections=e.sent;try{t.faceAttributes=(n=t.detections,r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,r=n.landmarks,o=r.getLeftEye(),i=r.getRightEye(),a=r.getNose(),s=r.getMouth(),u={x:o[0].x,y:Math.min(o[1].y,o[2].y),x_max:o[3].x,y_max:Math.max(o[4].y,o[5].y)},l={x:i[0].x,y:Math.min(i[1].y,i[2].y),x_max:i[3].x,y_max:Math.max(i[4].y,i[5].y)},c={x:Math.min(a[4].x,a[3].x),y:a[0].y,x_max:a[8].x,y_max:Math.max(a[4].y,a[5].y)},{leftEyeAttributes:u,rightEyeAttributes:l,mouthAttributes:{x:s[0].x,y:s[4].y,x_max:s[6].x,y_max:s[11].y},noseAttributes:c})}catch(e){console.log(e)}t.state.survey&&(t.record.record_detail.push(t.detections.expressions),t.record.record_count+=1),t.props.controlParams.occlusion_mask?t.drawCanvas(!0):t.drawCanvas(!1);case 6:case"end":return e.stop()}var n,r,o,i,a,s,u,l,c,p,d}),e)}))),1e3)}.bind(this))}},{key:"drawCanvas",value:function(e){var t=this.canvasRef.getContext("2d"),n=this.props.controlParams.feature_show,r=n.eyes,o=n.mouth,i=(n.nose,n.bar);if(e){t.fillStyle="black",t.fillRect(0,0,this.canvasRef.width,this.canvasRef.height);var a=this.faceAttributes,s=a.leftEyeAttributes,u=a.rightEyeAttributes,l=a.mouthAttributes;a.noseAttributes;if(r.toggle){var c={x:(s.x+s.x_max)/2,y:(s.y+s.y_max)/2},p=r.sliderIndex*(s.x_max-s.x)/2,d=r.sliderIndex*(s.y_max-s.y)/2;t.clearRect(c.x-p/2,c.y-d/2,p,d);var h={x:(u.x+u.x_max)/2,y:(u.y+u.y_max)/2},f=r.sliderIndex*(u.x_max-u.x)/2,m=r.sliderIndex*(u.y_max-u.y)/2;t.clearRect(h.x-f/2,h.y-m/2,f,m)}if(o.toggle){var g={x:(l.x+l.x_max)/2,y:(l.y+l.y_max)/2},v=o.sliderIndex*(l.x_max-l.x)/2,y=o.sliderIndex*(l.y_max-l.y)/2;t.clearRect(g.x-v/2,g.y-y/2,v,y)}if(i.toggle){var b=this.canvasRef.width/10,x=this.canvasRef.height/10;i.direction?t.clearRect(i.position*b,0,b*i.sliderIndex,this.canvasRef.height):t.clearRect(0,i.position*x,this.canvasRef.width,x*i.sliderIndex)}}else t.clearRect(0,0,this.canvasRef.width,this.canvasRef.height)}},{key:"onRemoteHangup",value:function(){this.setState(rc(rc({},this.state),{},{user:"host",bridge:"host-hangup"}))}},{key:"onMessage",value:function(e){var t=this;"offer"===e.type?this.pc.setRemoteDescription(new RTCSessionDescription(e)).then((function(){return t.pc.createAnswer()})).then(this.setDescription).then(this.sendDescription).catch(this.handleError):"answer"===e.type?this.pc.setRemoteDescription(new RTCSessionDescription(e)):"candidate"===e.type&&this.pc.addIceCandidate(e.candidate)}},{key:"sendData",value:function(e){this.dc.send(JSON.stringify(e))}},{key:"setupDataHandlers",value:function(){var e=this;this.dc.onmessage=function(e){var t=JSON.parse(e.data);console.log("received message over data channel:"+t)},this.dc.onclose=function(){e.remoteStream.getVideoTracks()[0].stop(),console.log("The Data Channel is Closed")}}},{key:"setDescription",value:function(e){return this.pc.setLocalDescription(e)}},{key:"sendDescription",value:function(){this.props.socket.send(this.pc.localDescription)}},{key:"hangup",value:function(){this.setState(rc(rc({},this.state),{},{user:"guest",bridge:"guest-hangup"})),this.pc.close(),this.props.socket.emit("leave")}},{key:"handleError",value:function(e){console.log(e)}},{key:"sendDataToServer",value:function(e){alert("The results are:"+JSON.stringify(e.data));var t=new Date,n="";n+=t.getHours()+"/"+t.getMinutes()+"/"+t.getSeconds();var r={user:this.state.user,submit_time:n,result:e.data};this.props.socket.emit("survey-end",{room:this.props.room,data:r}),this.setState(rc(rc({},this.state),{},{survey:!1})),this.props.socket.emit("emotion-send",{room:this.props.room,data:this.record}),this.record.record_detail=[],this.record.record_count=0,this.model=new ec.Model(Zl)}},{key:"init",value:function(){var e=this;this.pc=new RTCPeerConnection({iceServers:[{urls:"turn:139.180.183.4:3478",username:"hao",credential:"158131hh2232A"},{urls:"stun:stun.l.google.com:19302"}]}),this.pc.onicecandidate=function(t){console.log(t,"onicecandidate"),t.candidate&&e.props.socket.send({type:"candidate",candidate:t.candidate})},this.pc.onaddstream=function(t){console.log("onaddstream",t),e.remoteStream=t.stream,e.remoteVideo.srcObject=e.remoteStream=t.stream,e.setState(rc(rc({},e.state),{},{bridge:"established"}))},this.pc.ondatachannel=function(t){e.dc=t.channel,e.setupDataHandlers(),e.sendData({peerMediaStream:{video:e.localStream.getVideoTracks()[0].enabled}})},this.localStream.getTracks().forEach((function(t){return e.pc.addTrack(t,e.localStream)})),"host"===this.state.user&&this.props.getUserMedia.then((function(){e.dc=e.pc.createDataChannel("chat"),e.setupDataHandlers(),console.log("attachMediaIfReady"),e.pc.createOffer().then(e.setDescription).then(e.sendDescription).catch(e.handleError)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"media-bridge ".concat(this.state.bridge)},o.a.createElement("canvas",{className:"canvas",ref:function(t){return e.canvasRef=t}}),o.a.createElement("div",{className:"clock"},o.a.createElement(tc,{time_diff:this.state.time_diff})),o.a.createElement("video",{className:"remote-video",ref:function(t){return e.remoteVideo=t},autoPlay:!0}),o.a.createElement("video",{className:"local-video",ref:function(t){return e.localVideo=t},autoPlay:!0,muted:!0}),o.a.createElement("div",{style:{zIndex:100,position:"absolute"}},this.state.survey&&o.a.createElement(ec.SurveyWindow,{model:this.model,isExpanded:!0,onComplete:this.sendDataToServer})))}}]),i}(r.Component);ac.propTypes={socket:u.PropTypes.object.isRequired,getUserMedia:u.PropTypes.object.isRequired,media:u.PropTypes.func.isRequired};var sc=se((function(e){return{video:e.video,audio:e.audio,controlParams:e.controlParams}}),(function(e){return{updateAll:function(e){return be.dispatch({type:"UPDATE_ALL",payload:e})},setVideo:function(e){return be.dispatch({type:"SET_VIDEO",video:e})},setAudio:function(e){return be.dispatch({type:"SET_AUDIO",audio:e})}}}))(ac),uc=n(70),lc=n.n(uc),cc=document.documentElement;document.fullscreenEnabled=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled,document.exitFullscreen=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen,cc.requestFullscreen=cc.requestFullscreen||cc.webkitRequestFullscreen||cc.mozRequestFullScreen||cc.msRequestFullScreen;var pc=function(){document.fullscreenEnabled&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?document.exitFullscreen():cc.requestFullscreen())},dc=function(e){return o.a.createElement("div",{className:"auth"},o.a.createElement("div",{className:"media-controls"},o.a.createElement(Pt,{className:"call-exit-button",to:"/"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36",className:"svg"},o.a.createElement("path",{d:"M30 16.5h-18.26l8.38-8.38-2.12-2.12-12 12 12 12 2.12-2.12-8.38-8.38h18.26v-3z",fill:"white"}))),o.a.createElement("button",{onClick:e.toggleAudio,className:"audio-button-"+e.audio},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",className:"svg"},o.a.createElement("path",{className:"on",d:"M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z",fill:"white"}),o.a.createElement("path",{className:"off",d:"M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z",fill:"white"}))),o.a.createElement("button",{onClick:e.toggleVideo,className:"video-button-"+e.video},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",className:"svg"},o.a.createElement("path",{className:"on",d:"M40 8H15.64l8 8H28v4.36l1.13 1.13L36 16v12.36l7.97 7.97L44 36V12c0-2.21-1.79-4-4-4zM4.55 2L2 4.55l4.01 4.01C4.81 9.24 4 10.52 4 12v24c0 2.21 1.79 4 4 4h29.45l4 4L44 41.46 4.55 2zM12 16h1.45L28 30.55V32H12V16z",fill:"white"}),o.a.createElement("path",{className:"off",d:"M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm-4 24l-8-6.4V32H12V16h16v6.4l8-6.4v16z",fill:"white"}))),o.a.createElement("button",{onClick:pc,className:"fullscreen-button"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",className:"svg"},o.a.createElement("path",{className:"on",d:"M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z",fill:"white"}),o.a.createElement("path",{className:"off",d:"M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z",fill:"white"}))),o.a.createElement("button",{onClick:e.handleHangup,className:"hangup-button"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",className:"svg"},o.a.createElement("path",{d:"M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z",fill:"white"})))),o.a.createElement("div",{className:"request-access"},o.a.createElement("p",null,o.a.createElement("span",{className:"you-left"},"You hung up. "),"Send an invitation to join the room."),o.a.createElement("form",{onSubmit:e.send},o.a.createElement("input",{type:"text",autoFocus:!0,onChange:e.handleInput,"data-ref":"message",maxLength:"30",required:!0,placeholder:"Hi, I'm John Doe."}),o.a.createElement("button",{className:"primary-button"},"Send"))),o.a.createElement("div",{className:"grant-access"},o.a.createElement("p",null,"A peer has sent you a message to join the room:"),o.a.createElement("div",null,e.message),o.a.createElement("button",{onClick:e.handleInvitation,"data-ref":"reject",className:"primary-button"},"Reject"),o.a.createElement("button",{onClick:e.handleInvitation,"data-ref":"accept",className:"primary-button"},"Accept")),o.a.createElement("div",{className:"room-occupied"},o.a.createElement("p",null,"Please, try another room!"),o.a.createElement(Pt,{className:"primary-button",to:"/"},"OK")),o.a.createElement("div",{className:"waiting"},o.a.createElement("p",null,o.a.createElement("span",null,"Waiting for someone to join this room: "),o.a.createElement("a",{href:window.location.href},window.location.href),o.a.createElement("br",null),o.a.createElement("span",{className:"remote-left"},"The remote side hung up."))))};dc.propTypes={message:u.PropTypes.string.isRequired,audio:u.PropTypes.bool.isRequired,video:u.PropTypes.bool.isRequired,toggleVideo:u.PropTypes.func.isRequired,toggleAudio:u.PropTypes.func.isRequired,send:u.PropTypes.func.isRequired,handleHangup:u.PropTypes.func.isRequired,handleInput:u.PropTypes.func.isRequired,handleInvitation:u.PropTypes.func.isRequired};var hc=dc;function fc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt()(e);if(t){var o=yt()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gt()(this,n)}}var mc=function(e){ft()(n,e);var t=fc(n);function n(e){var r;return ut()(this,n),(r=t.call(this,e)).state={sid:"",message:"",audio:!0,video:!0},r.handleInvitation=r.handleInvitation.bind(dt()(r)),r.handleHangup=r.handleHangup.bind(dt()(r)),r.handleInput=r.handleInput.bind(dt()(r)),r.toggleVideo=r.toggleVideo.bind(dt()(r)),r.toggleAudio=r.toggleAudio.bind(dt()(r)),r.send=r.send.bind(dt()(r)),r}return ct()(n,[{key:"hideAuth",value:function(){this.props.media.setState({bridge:"connecting"})}},{key:"full",value:function(){this.props.media.setState({bridge:"full"})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.socket;this.setState({video:this.props.video,audio:this.props.audio}),t.on("create",(function(){return e.props.media.setState({user:"host",bridge:"create"})})),t.on("full",this.full),t.on("bridge",(function(t){return e.props.media.init()})),t.on("join",(function(){return e.props.media.setState({user:"guest",bridge:"join"})})),t.on("approve",(function(t){var n=t.message,r=t.sid;e.props.media.setState({bridge:"approve"}),e.setState({message:n,sid:r})})),t.emit("find"),this.props.getUserMedia.then((function(t){e.localStream=t,e.localStream.getVideoTracks()[0].enabled=e.state.video,e.localStream.getAudioTracks()[0].enabled=e.state.audio}))}},{key:"handleInput",value:function(e){this.setState(fe()({},e.target.dataset.ref,e.target.value))}},{key:"send",value:function(e){e.preventDefault(),this.props.socket.emit("auth",this.state),this.hideAuth()}},{key:"handleInvitation",value:function(e){e.preventDefault(),this.props.socket.emit([e.target.dataset.ref],this.state.sid),this.hideAuth()}},{key:"toggleVideo",value:function(){var e=this.localStream.getVideoTracks()[0].enabled=!this.state.video;this.setState({video:e}),this.props.setVideo(e)}},{key:"toggleAudio",value:function(){var e=this.localStream.getAudioTracks()[0].enabled=!this.state.audio;this.setState({audio:e}),this.props.setAudio(e)}},{key:"handleHangup",value:function(){this.props.media.hangup()}},{key:"render",value:function(){return o.a.createElement(hc,lc()({},this.state,{toggleVideo:this.toggleVideo,toggleAudio:this.toggleAudio,send:this.send,handleHangup:this.handleHangup,handleInput:this.handleInput,handleInvitation:this.handleInvitation}))}}]),n}(o.a.Component);mc.propTypes={socket:u.PropTypes.object.isRequired,getUserMedia:u.PropTypes.object.isRequired,audio:u.PropTypes.bool.isRequired,video:u.PropTypes.bool.isRequired,setVideo:u.PropTypes.func.isRequired,setAudio:u.PropTypes.func.isRequired,media:u.PropTypes.instanceOf(sc)};var gc=se((function(e){return{video:e.video,audio:e.audio}}),(function(e){return{setVideo:function(e){return be.dispatch({type:"SET_VIDEO",video:e})},setAudio:function(e){return be.dispatch({type:"SET_AUDIO",audio:e})}}}))(mc),vc=n(21),yc=n.n(vc);function bc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt()(e);if(t){var o=yt()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gt()(this,n)}}var xc=function(e){ft()(n,e);var t=bc(n);function n(e){var r;return ut()(this,n),(r=t.call(this,e)).getUserMedia=navigator.mediaDevices.getUserMedia({audio:!0,video:{width:{min:640,ideal:1280},height:{min:400,ideal:720}}}).catch((function(e){return alert("getUserMedia() error: "+e.name)})),r.state={survey:!1},r.socket=yc.a.connect(),console.log("socket create",r.socket),r}return ct()(n,[{key:"componentDidMount",value:function(){this.props.addRoom()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(sc,{room:this.props.match.params.room,media:function(t){return e.media=t},socket:this.socket,getUserMedia:this.getUserMedia}),o.a.createElement(gc,{socket:this.socket,media:this.media,getUserMedia:this.getUserMedia})))}}]),n}(r.Component),wc=se((function(e){return{rooms:new Set(le()(e.rooms))}}),(function(e,t){return{addRoom:function(){return be.dispatch({type:"ADD_ROOM",room:t.match.params.room})}}}))(xc);var Cc=n(49),_c=n.n(Cc);function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(n),!0).forEach((function(t){fe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sc=pl((function(e){return{toolBarContainer:{display:"flex",flexDirection:"row"},toolBar:{paddingRight:20,paddingLeft:20,width:"90%",top:"50px",backgroundColor:"#C7EDCC"},toggleSwitch:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",flex:"1 1"},controlText:{color:"black",flex:"1"}}})),kc={host:{occlusion_mask:!1,feature_show:{eyes:{toggle:!1,sliderIndex:0},mouth:{toggle:!1,sliderIndex:0},nose:{toggle:!1,sliderIndex:0},bar:{toggle:!1,direction:!1,sliderIndex:0,position:0}},video:!0,audio:!0,recording:!1},guest:{occlusion_mask:!1,feature_show:{eyes:{toggle:!1,sliderIndex:0},mouth:{toggle:!1,sliderIndex:0},nose:{toggle:!1,sliderIndex:0},bar:{toggle:!1,direction:!1,sliderIndex:0,position:0}},video:!0,audio:!0,recording:!1}},Tc=n(54);n(113);Object(i.render)(o.a.createElement(d,{store:be},o.a.createElement(We,null,o.a.createElement(et,null,o.a.createElement(at,{exact:!0,path:"/",component:Rt}),o.a.createElement(at,{exact:!0,path:"/r/:room",component:wc}),o.a.createElement(at,{exact:!0,path:"/dashboard",component:function(){return o.a.createElement("div",null,"DashBoard")}}),o.a.createElement(at,{exact:!0,path:"/control/:room",component:function(e){var t=Object(r.useState)(kc),n=Xo()(t,2),i=n[0],a=n[1],s=Object(r.useState)(0),u=Xo()(s,2),l=u[0],c=u[1],p=yc.a.connect(),d=Sc(),h=e.match.params.room;p.emit("control-room",{room:h}),p.on("process-in-progress",(function(e){console.log(e);var t=e.time_diff;alert("process in ongoing, ".concat(t," seconds left"))})),p.on("process-stop",(function(){alert("process stop")}));var f=function(e){var t=Object(r.useState)(!1),n=Xo()(t,2),s=n[0],u=n[1],l=e.user,c="video".concat(l),f="audio".concat(l),m="mask".concat(l),g="eyes".concat(l),v="eyes".concat(l),y="mouth".concat(l),b="mouthSlider".concat(l),x="nose".concat(l),w="noseSlider".concat(l),C="barId".concat(l),_="barDirection".concat(l),P="barSlider".concat(l),E="barPosition".concat(l),S="recording".concat(l);return Object(r.useEffect)((function(){!function(e){var t={room:h,data:{user:e,controlData:i[e]}};console.log(t),p.emit("control",t)}(l)}),[s]),o.a.createElement("div",{className:d.toolBar},o.a.createElement("div",{className:d.toggleSwitch},o.a.createElement("text",{className:d.controlText},"Freeze ",l,"'s Video"),o.a.createElement(dl,{style:{justifyContent:"right"},id:c,isOn:i[l].video,handler:function(){a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{video:!i[l].video}))))}})),o.a.createElement("div",{className:d.toggleSwitch},o.a.createElement("text",{className:d.controlText},"Mute ",l,"'s Audio"),o.a.createElement(dl,{id:f,isOn:i[l].audio,handler:function(){a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{audio:!i[l].audio}))))}})),o.a.createElement("div",{className:d.toggleSwitch},o.a.createElement("text",{className:d.controlText},"Recording ",l,"'s Video"),o.a.createElement(dl,{id:S,isOn:i[l].recording,handler:function(){a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{recording:!i[l].recording}))))}})),o.a.createElement("div",{className:d.toggleSwitch},o.a.createElement("text",{className:d.controlText},"Mask for ",l),o.a.createElement(dl,{id:m,isOn:i[l].occlusion_mask,handler:function(){a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{occlusion_mask:!i[l].occlusion_mask})))),u(!s)}})),o.a.createElement("div",{className:d.toggleSwitch},o.a.createElement("text",{className:d.controlText},"Eyes"),o.a.createElement(dl,{id:g,isOn:i[l].feature_show.eyes.toggle,handler:function(){var e={toggle:!i[l].feature_show.eyes.toggle,sliderIndex:i[l].feature_show.eyes.sliderIndex};a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{feature_show:Ec(Ec({},i[l].feature_show),{},{eyes:e})}))))}})),o.a.createElement(Kl,{id:v,defaultValue:i[l].feature_show.eyes.sliderIndex,step:1,marks:!0,min:0,max:10,valueLabelDisplay:"auto",onChange:function(e,t){var n={toggle:i[l].feature_show.eyes.toggle,sliderIndex:t};a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{feature_show:Ec(Ec({},i[l].feature_show),{},{eyes:n})}))))}}),o.a.createElement("div",{className:d.toggleSwitch},o.a.createElement("text",{className:d.controlText},"Mouth"),o.a.createElement(dl,{id:y,isOn:i[l].feature_show.mouth.toggle,handler:function(){var e={toggle:!i[l].feature_show.mouth.toggle,sliderIndex:i[l].feature_show.mouth.sliderIndex};a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{feature_show:Ec(Ec({},i[l].feature_show),{},{mouth:e})}))))}})),o.a.createElement(Kl,{id:b,defaultValue:i[l].feature_show.mouth.sliderIndex,step:1,marks:!0,min:0,max:10,valueLabelDisplay:"auto",onChange:function(e,t){var n={toggle:i[l].feature_show.mouth.toggle,sliderIndex:t};a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{feature_show:Ec(Ec({},i[l].feature_show),{},{mouth:n})}))))}}),o.a.createElement("div",{className:d.toggleSwitch},o.a.createElement("text",{className:d.controlText},"Nose"),o.a.createElement(dl,{id:x,isOn:i[l].feature_show.nose.toggle,handler:function(){var e={toggle:!i[l].feature_show.nose.toggle,sliderIndex:i[l].feature_show.nose.sliderIndex};a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{feature_show:Ec(Ec({},i[l].feature_show),{},{nose:e})}))))}})),o.a.createElement(Kl,{id:w,defaultValue:i[l].feature_show.nose.sliderIndex,step:1,marks:!0,min:0,max:10,valueLabelDisplay:"auto",onChange:function(e,t){var n={toggle:i[l].feature_show.nose.toggle,sliderIndex:t};a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{feature_show:Ec(Ec({},i[l].feature_show),{},{nose:n})}))))}}),o.a.createElement("div",{className:d.toggleSwitch},o.a.createElement("text",{className:d.controlText},"Bar Zone"),o.a.createElement(dl,{id:C,isOn:i[l].feature_show.bar.toggle,handler:function(){var e=Ec(Ec({},i[l].feature_show.bar),{},{toggle:!i[l].feature_show.bar.toggle});a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{feature_show:Ec(Ec({},i[l].feature_show),{},{bar:e})}))))}}),o.a.createElement("text",{className:d.controlText},"Horizontal/Vertical"),o.a.createElement(dl,{id:_,isOn:i[l].feature_show.bar.direction,handler:function(){var e=Ec(Ec({},i[l].feature_show.bar),{},{direction:!i[l].feature_show.bar.direction});a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{feature_show:Ec(Ec({},i[l].feature_show),{},{bar:e})}))))}})),o.a.createElement(Kl,{id:P,defaultValue:i[l].feature_show.bar.sliderIndex,step:1,marks:!0,min:0,max:10,valueLabelDisplay:"auto",onChange:function(e,t){var n=Ec(Ec({},i[l].feature_show.bar),{},{sliderIndex:t});a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{feature_show:Ec(Ec({},i[l].feature_show),{},{bar:n})}))))}}),o.a.createElement(Kl,{id:E,defaultValue:i[l].feature_show.bar.position,step:1,marks:!0,min:0,max:10,valueLabelDisplay:"auto",onChange:function(e,t){var n=Ec(Ec({},i[l].feature_show.bar),{},{position:t});a(Ec(Ec({},i),{},fe()({},l,Ec(Ec({},i[l]),{},{feature_show:Ec(Ec({},i[l].feature_show),{},{bar:n})}))))}}))};return o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyItems:"center",alignItems:"center",justifyContent:"center"}},o.a.createElement("div",{className:"primary-button"},o.a.createElement(_c.a,{handleFiles:function(e){return function(e){var t=new FileReader;t.onload=function(e){var n=JSON.parse(t.result);a(n)},t.readAsText(e[0])}(e)},fileTypes:".json"},"Loading Configuration")),o.a.createElement("button",{onClick:function(){return e=new Blob([JSON.stringify(i)],{type:"text/plain;charset=utf-8"}),void Tc.saveAs(e,"maskConfiguration.json");var e},className:"primary-button"},"Saving Configuration")),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"center"}},o.a.createElement("div",{style:{width:"45%",flexDirection:"col",marginRight:10}},o.a.createElement(f,{user:"host"})),o.a.createElement("div",{style:{width:"45%",flexDirection:"col"}},o.a.createElement(f,{user:"guest"}))),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return console.log(l),p.emit("survey-start",{room:h}),void c((function(e){return e+1}))},className:"primary-button"},"Survey Start No.",l)),o.a.createElement("div",{className:"primary-button"},o.a.createElement(_c.a,{handleFiles:function(e){return function(e){console.log("process start");var t=new FileReader;t.onload=function(e){var n=JSON.parse(t.result);p.emit("process-control",{room:h,cfg:n})},t.readAsText(e[0])}(e)},fileTypes:".json"},"Process Start")))}})))),document.getElementById("app"))}]);